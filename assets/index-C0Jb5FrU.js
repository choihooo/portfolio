function Qre(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function TE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nw={exports:{}},Th={},Ow={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function Xre(){if(uC)return ar;uC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function T(ve){return ve===null||typeof ve!="object"?null:(ve=w&&ve[w]||ve["@@iterator"],typeof ve=="function"?ve:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function R(ve,Le,dt){this.props=ve,this.context=Le,this.refs=P,this.updater=dt||M}R.prototype.isReactComponent={},R.prototype.setState=function(ve,Le){if(typeof ve!="object"&&typeof ve!="function"&&ve!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ve,Le,"setState")},R.prototype.forceUpdate=function(ve){this.updater.enqueueForceUpdate(this,ve,"forceUpdate")};function V(){}V.prototype=R.prototype;function ee(ve,Le,dt){this.props=ve,this.context=Le,this.refs=P,this.updater=dt||M}var te=ee.prototype=new V;te.constructor=ee,N(te,R.prototype),te.isPureReactComponent=!0;var ne=Array.isArray,pe=Object.prototype.hasOwnProperty,ue={current:null},be={key:!0,ref:!0,__self:!0,__source:!0};function Ne(ve,Le,dt){var mt,_t={},xe=null,Ce=null;if(Le!=null)for(mt in Le.ref!==void 0&&(Ce=Le.ref),Le.key!==void 0&&(xe=""+Le.key),Le)pe.call(Le,mt)&&!be.hasOwnProperty(mt)&&(_t[mt]=Le[mt]);var se=arguments.length-2;if(se===1)_t.children=dt;else if(1<se){for(var fe=Array(se),ce=0;ce<se;ce++)fe[ce]=arguments[ce+2];_t.children=fe}if(ve&&ve.defaultProps)for(mt in se=ve.defaultProps,se)_t[mt]===void 0&&(_t[mt]=se[mt]);return{$$typeof:t,type:ve,key:xe,ref:Ce,props:_t,_owner:ue.current}}function Ee(ve,Le){return{$$typeof:t,type:ve.type,key:Le,ref:ve.ref,props:ve.props,_owner:ve._owner}}function je(ve){return typeof ve=="object"&&ve!==null&&ve.$$typeof===t}function ct(ve){var Le={"=":"=0",":":"=2"};return"$"+ve.replace(/[=:]/g,function(dt){return Le[dt]})}var Ge=/\/+/g;function Ct(ve,Le){return typeof ve=="object"&&ve!==null&&ve.key!=null?ct(""+ve.key):Le.toString(36)}function Mt(ve,Le,dt,mt,_t){var xe=typeof ve;(xe==="undefined"||xe==="boolean")&&(ve=null);var Ce=!1;if(ve===null)Ce=!0;else switch(xe){case"string":case"number":Ce=!0;break;case"object":switch(ve.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=ve,_t=_t(Ce),ve=mt===""?"."+Ct(Ce,0):mt,ne(_t)?(dt="",ve!=null&&(dt=ve.replace(Ge,"$&/")+"/"),Mt(_t,Le,dt,"",function(ce){return ce})):_t!=null&&(je(_t)&&(_t=Ee(_t,dt+(!_t.key||Ce&&Ce.key===_t.key?"":(""+_t.key).replace(Ge,"$&/")+"/")+ve)),Le.push(_t)),1;if(Ce=0,mt=mt===""?".":mt+":",ne(ve))for(var se=0;se<ve.length;se++){xe=ve[se];var fe=mt+Ct(xe,se);Ce+=Mt(xe,Le,dt,fe,_t)}else if(fe=T(ve),typeof fe=="function")for(ve=fe.call(ve),se=0;!(xe=ve.next()).done;)xe=xe.value,fe=mt+Ct(xe,se++),Ce+=Mt(xe,Le,dt,fe,_t);else if(xe==="object")throw Le=String(ve),Error("Objects are not valid as a React child (found: "+(Le==="[object Object]"?"object with keys {"+Object.keys(ve).join(", ")+"}":Le)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Pt(ve,Le,dt){if(ve==null)return ve;var mt=[],_t=0;return Mt(ve,mt,"","",function(xe){return Le.call(dt,xe,_t++)}),mt}function Nt(ve){if(ve._status===-1){var Le=ve._result;Le=Le(),Le.then(function(dt){(ve._status===0||ve._status===-1)&&(ve._status=1,ve._result=dt)},function(dt){(ve._status===0||ve._status===-1)&&(ve._status=2,ve._result=dt)}),ve._status===-1&&(ve._status=0,ve._result=Le)}if(ve._status===1)return ve._result.default;throw ve._result}var It={current:null},Ke={transition:null},vt={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Ke,ReactCurrentOwner:ue};function He(){throw Error("act(...) is not supported in production builds of React.")}return ar.Children={map:Pt,forEach:function(ve,Le,dt){Pt(ve,function(){Le.apply(this,arguments)},dt)},count:function(ve){var Le=0;return Pt(ve,function(){Le++}),Le},toArray:function(ve){return Pt(ve,function(Le){return Le})||[]},only:function(ve){if(!je(ve))throw Error("React.Children.only expected to receive a single React element child.");return ve}},ar.Component=R,ar.Fragment=r,ar.Profiler=i,ar.PureComponent=ee,ar.StrictMode=n,ar.Suspense=c,ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vt,ar.act=He,ar.cloneElement=function(ve,Le,dt){if(ve==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ve+".");var mt=N({},ve.props),_t=ve.key,xe=ve.ref,Ce=ve._owner;if(Le!=null){if(Le.ref!==void 0&&(xe=Le.ref,Ce=ue.current),Le.key!==void 0&&(_t=""+Le.key),ve.type&&ve.type.defaultProps)var se=ve.type.defaultProps;for(fe in Le)pe.call(Le,fe)&&!be.hasOwnProperty(fe)&&(mt[fe]=Le[fe]===void 0&&se!==void 0?se[fe]:Le[fe])}var fe=arguments.length-2;if(fe===1)mt.children=dt;else if(1<fe){se=Array(fe);for(var ce=0;ce<fe;ce++)se[ce]=arguments[ce+2];mt.children=se}return{$$typeof:t,type:ve.type,key:_t,ref:xe,props:mt,_owner:Ce}},ar.createContext=function(ve){return ve={$$typeof:s,_currentValue:ve,_currentValue2:ve,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ve.Provider={$$typeof:a,_context:ve},ve.Consumer=ve},ar.createElement=Ne,ar.createFactory=function(ve){var Le=Ne.bind(null,ve);return Le.type=ve,Le},ar.createRef=function(){return{current:null}},ar.forwardRef=function(ve){return{$$typeof:u,render:ve}},ar.isValidElement=je,ar.lazy=function(ve){return{$$typeof:m,_payload:{_status:-1,_result:ve},_init:Nt}},ar.memo=function(ve,Le){return{$$typeof:d,type:ve,compare:Le===void 0?null:Le}},ar.startTransition=function(ve){var Le=Ke.transition;Ke.transition={};try{ve()}finally{Ke.transition=Le}},ar.unstable_act=He,ar.useCallback=function(ve,Le){return It.current.useCallback(ve,Le)},ar.useContext=function(ve){return It.current.useContext(ve)},ar.useDebugValue=function(){},ar.useDeferredValue=function(ve){return It.current.useDeferredValue(ve)},ar.useEffect=function(ve,Le){return It.current.useEffect(ve,Le)},ar.useId=function(){return It.current.useId()},ar.useImperativeHandle=function(ve,Le,dt){return It.current.useImperativeHandle(ve,Le,dt)},ar.useInsertionEffect=function(ve,Le){return It.current.useInsertionEffect(ve,Le)},ar.useLayoutEffect=function(ve,Le){return It.current.useLayoutEffect(ve,Le)},ar.useMemo=function(ve,Le){return It.current.useMemo(ve,Le)},ar.useReducer=function(ve,Le,dt){return It.current.useReducer(ve,Le,dt)},ar.useRef=function(ve){return It.current.useRef(ve)},ar.useState=function(ve){return It.current.useState(ve)},ar.useSyncExternalStore=function(ve,Le,dt){return It.current.useSyncExternalStore(ve,Le,dt)},ar.useTransition=function(){return It.current.useTransition()},ar.version="18.3.1",ar}var cC;function O0(){return cC||(cC=1,Ow.exports=Xre()),Ow.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC;function Yre(){if(fC)return Th;fC=1;var t=O0(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,d){var m,w={},T=null,M=null;d!==void 0&&(T=""+d),c.key!==void 0&&(T=""+c.key),c.ref!==void 0&&(M=c.ref);for(m in c)n.call(c,m)&&!a.hasOwnProperty(m)&&(w[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)w[m]===void 0&&(w[m]=c[m]);return{$$typeof:e,type:u,key:T,ref:M,props:w,_owner:i.current}}return Th.Fragment=r,Th.jsx=s,Th.jsxs=s,Th}var dC;function Zre(){return dC||(dC=1,Nw.exports=Yre()),Nw.exports}var Ye=Zre(),Ae=O0();const Fu=TE(Ae),ene=Qre({__proto__:null,default:Fu},[Ae]);var bm={},Aw={exports:{}},Qi={},Dw={exports:{}},Lw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function tne(){return hC||(hC=1,function(t){function e(Ke,vt){var He=Ke.length;Ke.push(vt);e:for(;0<He;){var ve=He-1>>>1,Le=Ke[ve];if(0<i(Le,vt))Ke[ve]=vt,Ke[He]=Le,He=ve;else break e}}function r(Ke){return Ke.length===0?null:Ke[0]}function n(Ke){if(Ke.length===0)return null;var vt=Ke[0],He=Ke.pop();if(He!==vt){Ke[0]=He;e:for(var ve=0,Le=Ke.length,dt=Le>>>1;ve<dt;){var mt=2*(ve+1)-1,_t=Ke[mt],xe=mt+1,Ce=Ke[xe];if(0>i(_t,He))xe<Le&&0>i(Ce,_t)?(Ke[ve]=Ce,Ke[xe]=He,ve=xe):(Ke[ve]=_t,Ke[mt]=He,ve=mt);else if(xe<Le&&0>i(Ce,He))Ke[ve]=Ce,Ke[xe]=He,ve=xe;else break e}}return vt}function i(Ke,vt){var He=Ke.sortIndex-vt.sortIndex;return He!==0?He:Ke.id-vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],m=1,w=null,T=3,M=!1,N=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(Ke){for(var vt=r(d);vt!==null;){if(vt.callback===null)n(d);else if(vt.startTime<=Ke)n(d),vt.sortIndex=vt.expirationTime,e(c,vt);else break;vt=r(d)}}function ne(Ke){if(P=!1,te(Ke),!N)if(r(c)!==null)N=!0,Nt(pe);else{var vt=r(d);vt!==null&&It(ne,vt.startTime-Ke)}}function pe(Ke,vt){N=!1,P&&(P=!1,V(Ne),Ne=-1),M=!0;var He=T;try{for(te(vt),w=r(c);w!==null&&(!(w.expirationTime>vt)||Ke&&!ct());){var ve=w.callback;if(typeof ve=="function"){w.callback=null,T=w.priorityLevel;var Le=ve(w.expirationTime<=vt);vt=t.unstable_now(),typeof Le=="function"?w.callback=Le:w===r(c)&&n(c),te(vt)}else n(c);w=r(c)}if(w!==null)var dt=!0;else{var mt=r(d);mt!==null&&It(ne,mt.startTime-vt),dt=!1}return dt}finally{w=null,T=He,M=!1}}var ue=!1,be=null,Ne=-1,Ee=5,je=-1;function ct(){return!(t.unstable_now()-je<Ee)}function Ge(){if(be!==null){var Ke=t.unstable_now();je=Ke;var vt=!0;try{vt=be(!0,Ke)}finally{vt?Ct():(ue=!1,be=null)}}else ue=!1}var Ct;if(typeof ee=="function")Ct=function(){ee(Ge)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,Pt=Mt.port2;Mt.port1.onmessage=Ge,Ct=function(){Pt.postMessage(null)}}else Ct=function(){R(Ge,0)};function Nt(Ke){be=Ke,ue||(ue=!0,Ct())}function It(Ke,vt){Ne=R(function(){Ke(t.unstable_now())},vt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Ke){Ke.callback=null},t.unstable_continueExecution=function(){N||M||(N=!0,Nt(pe))},t.unstable_forceFrameRate=function(Ke){0>Ke||125<Ke?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<Ke?Math.floor(1e3/Ke):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Ke){switch(T){case 1:case 2:case 3:var vt=3;break;default:vt=T}var He=T;T=vt;try{return Ke()}finally{T=He}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Ke,vt){switch(Ke){case 1:case 2:case 3:case 4:case 5:break;default:Ke=3}var He=T;T=Ke;try{return vt()}finally{T=He}},t.unstable_scheduleCallback=function(Ke,vt,He){var ve=t.unstable_now();switch(typeof He=="object"&&He!==null?(He=He.delay,He=typeof He=="number"&&0<He?ve+He:ve):He=ve,Ke){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=He+Le,Ke={id:m++,callback:vt,priorityLevel:Ke,startTime:He,expirationTime:Le,sortIndex:-1},He>ve?(Ke.sortIndex=He,e(d,Ke),r(c)===null&&Ke===r(d)&&(P?(V(Ne),Ne=-1):P=!0,It(ne,He-ve))):(Ke.sortIndex=Le,e(c,Ke),N||M||(N=!0,Nt(pe))),Ke},t.unstable_shouldYield=ct,t.unstable_wrapCallback=function(Ke){var vt=T;return function(){var He=T;T=vt;try{return Ke.apply(this,arguments)}finally{T=He}}}}(Lw)),Lw}var pC;function rne(){return pC||(pC=1,Dw.exports=tne()),Dw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function nne(){if(vC)return Qi;vC=1;var t=O0(),e=rne();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},w={};function T(o){return c.call(w,o)?!0:c.call(m,o)?!1:d.test(o)?w[o]=!0:(m[o]=!0,!1)}function M(o,l,f,y){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function N(o,l,f,y){if(l===null||typeof l>"u"||M(o,l,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function P(o,l,f,y,E,L,j){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=E,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=L,this.removeEmptyString=j}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){R[o]=new P(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];R[l]=new P(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){R[o]=new P(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){R[o]=new P(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){R[o]=new P(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){R[o]=new P(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){R[o]=new P(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){R[o]=new P(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){R[o]=new P(o,5,!1,o.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function ee(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(V,ee);R[l]=new P(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(V,ee);R[l]=new P(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(V,ee);R[l]=new P(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){R[o]=new P(o,1,!1,o.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){R[o]=new P(o,1,!1,o.toLowerCase(),null,!0,!0)});function te(o,l,f,y){var E=R.hasOwnProperty(l)?R[l]:null;(E!==null?E.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,f,E,y)&&(f=null),y||E===null?T(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):E.mustUseProperty?o[E.propertyName]=f===null?E.type===3?!1:"":f:(l=E.attributeName,y=E.attributeNamespace,f===null?o.removeAttribute(l):(E=E.type,f=E===3||E===4&&f===!0?"":""+f,y?o.setAttributeNS(y,l,f):o.setAttribute(l,f))))}var ne=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),ue=Symbol.for("react.portal"),be=Symbol.for("react.fragment"),Ne=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),ct=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),It=Symbol.for("react.offscreen"),Ke=Symbol.iterator;function vt(o){return o===null||typeof o!="object"?null:(o=Ke&&o[Ke]||o["@@iterator"],typeof o=="function"?o:null)}var He=Object.assign,ve;function Le(o){if(ve===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);ve=l&&l[1]||""}return`
`+ve+o}var dt=!1;function mt(o,l){if(!o||dt)return"";dt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Pe){var y=Pe}Reflect.construct(o,[],l)}else{try{l.call()}catch(Pe){y=Pe}o.call(l.prototype)}else{try{throw Error()}catch(Pe){y=Pe}o()}}catch(Pe){if(Pe&&y&&typeof Pe.stack=="string"){for(var E=Pe.stack.split(`
`),L=y.stack.split(`
`),j=E.length-1,oe=L.length-1;1<=j&&0<=oe&&E[j]!==L[oe];)oe--;for(;1<=j&&0<=oe;j--,oe--)if(E[j]!==L[oe]){if(j!==1||oe!==1)do if(j--,oe--,0>oe||E[j]!==L[oe]){var me=`
`+E[j].replace(" at new "," at ");return o.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",o.displayName)),me}while(1<=j&&0<=oe);break}}}finally{dt=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?Le(o):""}function _t(o){switch(o.tag){case 5:return Le(o.type);case 16:return Le("Lazy");case 13:return Le("Suspense");case 19:return Le("SuspenseList");case 0:case 2:case 15:return o=mt(o.type,!1),o;case 11:return o=mt(o.type.render,!1),o;case 1:return o=mt(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case be:return"Fragment";case ue:return"Portal";case Ee:return"Profiler";case Ne:return"StrictMode";case Ct:return"Suspense";case Mt:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ct:return(o.displayName||"Context")+".Consumer";case je:return(o._context.displayName||"Context")+".Provider";case Ge:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Pt:return l=o.displayName||null,l!==null?l:xe(o.type)||"Memo";case Nt:l=o._payload,o=o._init;try{return xe(o(l))}catch{}}return null}function Ce(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===Ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function se(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function fe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ce(o){var l=fe(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var E=f.get,L=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return E.call(this)},set:function(j){y=""+j,L.call(this,j)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(j){y=""+j},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function _e(o){o._valueTracker||(o._valueTracker=ce(o))}function Ve(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),y="";return o&&(y=fe(o)?o.checked?"true":"false":o.value),o=y,o!==f?(l.setValue(o),!0):!1}function at(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ut(o,l){var f=l.checked;return He({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function Kt(o,l){var f=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;f=se(l.value!=null?l.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function jt(o,l){l=l.checked,l!=null&&te(o,"checked",l,!1)}function Er(o,l){jt(o,l);var f=se(l.value),y=l.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?zr(o,l.type,f):l.hasOwnProperty("defaultValue")&&zr(o,l.type,se(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Yt(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function zr(o,l,f){(l!=="number"||at(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Sr=Array.isArray;function Or(o,l,f,y){if(o=o.options,l){l={};for(var E=0;E<f.length;E++)l["$"+f[E]]=!0;for(f=0;f<o.length;f++)E=l.hasOwnProperty("$"+o[f].value),o[f].selected!==E&&(o[f].selected=E),E&&y&&(o[f].defaultSelected=!0)}else{for(f=""+se(f),l=null,E=0;E<o.length;E++){if(o[E].value===f){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}l!==null||o[E].disabled||(l=o[E])}l!==null&&(l.selected=!0)}}function sr(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return He({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Gr(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Sr(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:se(f)}}function xi(o,l){var f=se(l.value),y=se(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function $n(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Hr(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Hr(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var pt,zt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,y,E){MSApp.execUnsafeLocalFunction(function(){return o(l,f,y,E)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=pt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Wt(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nn=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(o){nn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),rr[l]=rr[o]})});function wr(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||rr.hasOwnProperty(o)&&rr[o]?(""+l).trim():l+"px"}function Mr(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var y=f.indexOf("--")===0,E=wr(f,l[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,E):o[f]=E}}var Dn=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(o,l){if(l){if(Dn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Ir(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hn=null;function ai(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var jn=null,an=null,Zr=null;function Cn(o){if(o=uu(o)){if(typeof jn!="function")throw Error(r(280));var l=o.stateNode;l&&(l=Tc(l),jn(o.stateNode,o.type,l))}}function Vr(o){an?Zr?Zr.push(o):Zr=[o]:an=o}function Wn(){if(an){var o=an,l=Zr;if(Zr=an=null,Cn(o),l)for(o=0;o<l.length;o++)Cn(l[o])}}function kr(o,l){return o(l)}function Kr(){}var X=!1;function Z(o,l,f){if(X)return o(l,f);X=!0;try{return kr(o,l,f)}finally{X=!1,(an!==null||Zr!==null)&&(Kr(),Wn())}}function H(o,l){var f=o.stateNode;if(f===null)return null;var y=Tc(f);if(y===null)return null;f=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var q=!1;if(u)try{var U={};Object.defineProperty(U,"passive",{get:function(){q=!0}}),window.addEventListener("test",U,U),window.removeEventListener("test",U,U)}catch{q=!1}function G(o,l,f,y,E,L,j,oe,me){var Pe=Array.prototype.slice.call(arguments,3);try{l.apply(f,Pe)}catch(Xe){this.onError(Xe)}}var ie=!1,Oe=null,$e=!1,ge=null,ae={onError:function(o){ie=!0,Oe=o}};function Re(o,l,f,y,E,L,j,oe,me){ie=!1,Oe=null,G.apply(ae,arguments)}function Fe(o,l,f,y,E,L,j,oe,me){if(Re.apply(this,arguments),ie){if(ie){var Pe=Oe;ie=!1,Oe=null}else throw Error(r(198));$e||($e=!0,ge=Pe)}}function ot(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function Rt(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function $(o){if(ot(o)!==o)throw Error(r(188))}function I(o){var l=o.alternate;if(!l){if(l=ot(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,y=l;;){var E=f.return;if(E===null)break;var L=E.alternate;if(L===null){if(y=E.return,y!==null){f=y;continue}break}if(E.child===L.child){for(L=E.child;L;){if(L===f)return $(E),o;if(L===y)return $(E),l;L=L.sibling}throw Error(r(188))}if(f.return!==y.return)f=E,y=L;else{for(var j=!1,oe=E.child;oe;){if(oe===f){j=!0,f=E,y=L;break}if(oe===y){j=!0,y=E,f=L;break}oe=oe.sibling}if(!j){for(oe=L.child;oe;){if(oe===f){j=!0,f=L,y=E;break}if(oe===y){j=!0,y=L,f=E;break}oe=oe.sibling}if(!j)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function C(o){return o=I(o),o!==null?O(o):null}function O(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=O(o);if(l!==null)return l;o=o.sibling}return null}var _=e.unstable_scheduleCallback,K=e.unstable_cancelCallback,Y=e.unstable_shouldYield,le=e.unstable_requestPaint,we=e.unstable_now,Ie=e.unstable_getCurrentPriorityLevel,et=e.unstable_ImmediatePriority,rt=e.unstable_UserBlockingPriority,ut=e.unstable_NormalPriority,Ft=e.unstable_LowPriority,nr=e.unstable_IdlePriority,vr=null,Pr=null;function ia(o){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(vr,o,void 0,(o.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Fa,Qs=Math.log,ts=Math.LN2;function Fa(o){return o>>>=0,o===0?32:31-(Qs(o)/ts|0)|0}var Gn=64,Kn=4194304;function aa(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Sn(o,l){var f=o.pendingLanes;if(f===0)return 0;var y=0,E=o.suspendedLanes,L=o.pingedLanes,j=f&268435455;if(j!==0){var oe=j&~E;oe!==0?y=aa(oe):(L&=j,L!==0&&(y=aa(L)))}else j=f&~E,j!==0?y=aa(j):L!==0&&(y=aa(L));if(y===0)return 0;if(l!==0&&l!==y&&!(l&E)&&(E=y&-y,L=l&-l,E>=L||E===16&&(L&4194240)!==0))return l;if(y&4&&(y|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=y;0<l;)f=31-en(l),E=1<<f,y|=o[f],l&=~E;return y}function rs(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(o,l){for(var f=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,L=o.pendingLanes;0<L;){var j=31-en(L),oe=1<<j,me=E[j];me===-1?(!(oe&f)||oe&y)&&(E[j]=rs(oe,l)):me<=l&&(o.expiredLanes|=oe),L&=~oe}}function Ca(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function qa(){var o=Gn;return Gn<<=1,!(Gn&4194240)&&(Gn=64),o}function za(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Ln(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-en(l),o[l]=f}function Ha(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var E=31-en(f),L=1<<E;l[E]=0,y[E]=-1,o[E]=-1,f&=~L}}function Sa(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var y=31-en(f),E=1<<y;E&l|o[y]&l&&(o[y]|=l),f&=~E}}var Zt=0;function ns(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var is,zi,Ti,Ei,Va,oa=!1,Mi=[],tn=null,oi=null,Hi=null,pn=new Map,xa=new Map,Ni=[],mo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function as(o,l){switch(o){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":pn.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(l.pointerId)}}function si(o,l,f,y,E,L){return o===null||o.nativeEvent!==L?(o={blockedOn:l,domEventName:f,eventSystemFlags:y,nativeEvent:L,targetContainers:[E]},l!==null&&(l=uu(l),l!==null&&zi(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),o)}function li(o,l,f,y,E){switch(l){case"focusin":return tn=si(tn,o,l,f,y,E),!0;case"dragenter":return oi=si(oi,o,l,f,y,E),!0;case"mouseover":return Hi=si(Hi,o,l,f,y,E),!0;case"pointerover":var L=E.pointerId;return pn.set(L,si(pn.get(L)||null,o,l,f,y,E)),!0;case"gotpointercapture":return L=E.pointerId,xa.set(L,si(xa.get(L)||null,o,l,f,y,E)),!0}return!1}function go(o){var l=ws(o.target);if(l!==null){var f=ot(l);if(f!==null){if(l=f.tag,l===13){if(l=Rt(f),l!==null){o.blockedOn=l,Va(o.priority,function(){Ti(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $a(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Rn(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);hn=y,f.target.dispatchEvent(y),hn=null}else return l=uu(f),l!==null&&zi(l),o.blockedOn=f,!1;l.shift()}return!0}function ss(o,l,f){$a(o)&&f.delete(l)}function Wl(){oa=!1,tn!==null&&$a(tn)&&(tn=null),oi!==null&&$a(oi)&&(oi=null),Hi!==null&&$a(Hi)&&(Hi=null),pn.forEach(ss),xa.forEach(ss)}function Ot(o,l){o.blockedOn===l&&(o.blockedOn=null,oa||(oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wl)))}function Te(o){function l(E){return Ot(E,o)}if(0<Mi.length){Ot(Mi[0],o);for(var f=1;f<Mi.length;f++){var y=Mi[f];y.blockedOn===o&&(y.blockedOn=null)}}for(tn!==null&&Ot(tn,o),oi!==null&&Ot(oi,o),Hi!==null&&Ot(Hi,o),pn.forEach(l),xa.forEach(l),f=0;f<Ni.length;f++)y=Ni[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<Ni.length&&(f=Ni[0],f.blockedOn===null);)go(f),f.blockedOn===null&&Ni.shift()}var nt=ne.ReactCurrentBatchConfig,xt=!0;function cr(o,l,f,y){var E=Zt,L=nt.transition;nt.transition=null;try{Zt=1,Br(o,l,f,y)}finally{Zt=E,nt.transition=L}}function Jr(o,l,f,y){var E=Zt,L=nt.transition;nt.transition=null;try{Zt=4,Br(o,l,f,y)}finally{Zt=E,nt.transition=L}}function Br(o,l,f,y){if(xt){var E=Rn(o,l,f,y);if(E===null)Ue(o,l,y,Ar,f),as(o,y);else if(li(E,o,l,f,y))y.stopPropagation();else if(as(o,y),l&4&&-1<mo.indexOf(o)){for(;E!==null;){var L=uu(E);if(L!==null&&is(L),L=Rn(o,l,f,y),L===null&&Ue(o,l,y,Ar,f),L===E)break;E=L}E!==null&&y.stopPropagation()}else Ue(o,l,y,null,f)}}var Ar=null;function Rn(o,l,f,y){if(Ar=null,o=ai(y),o=ws(o),o!==null)if(l=ot(o),l===null)o=null;else if(f=l.tag,f===13){if(o=Rt(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Ar=o,null}function sa(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ie()){case et:return 1;case rt:return 4;case ut:case Ft:return 16;case nr:return 536870912;default:return 16}default:return 16}}var ui=null,yo=null,Ua=null;function rc(){if(Ua)return Ua;var o,l=yo,f=l.length,y,E="value"in ui?ui.value:ui.textContent,L=E.length;for(o=0;o<f&&l[o]===E[o];o++);var j=f-o;for(y=1;y<=j&&l[f-y]===E[L-y];y++);return Ua=E.slice(o,1<y?1-y:void 0)}function Xs(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ys(){return!0}function nc(){return!1}function br(o){function l(f,y,E,L,j){this._reactName=f,this._targetInst=E,this.type=y,this.nativeEvent=L,this.target=j,this.currentTarget=null;for(var oe in o)o.hasOwnProperty(oe)&&(f=o[oe],this[oe]=f?f(L):L[oe]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Ys:nc,this.isPropagationStopped=nc,this}return He(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),l}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=br($r),ls=He({},$r,{view:0,detail:0}),ed=br(ls),Vi,Kl,ja,wo=He({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ja&&(ja&&o.type==="mousemove"?(Vi=o.screenX-ja.screenX,Kl=o.screenY-ja.screenY):Kl=Vi=0,ja=o),Vi)},movementY:function(o){return"movementY"in o?o.movementY:Kl}}),ic=br(wo),td=He({},wo,{dataTransfer:0}),Zs=br(td),rd=He({},ls,{relatedTarget:0}),us=br(rd),ko=He({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),nd=br(ko),id=He({},$r,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ad=br(id),od=He({},$r,{data:0}),ac=br(od),sd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ld(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=oc[o])?!!l[o]:!1}function el(){return ld}var ud=He({},ls,{key:function(o){if(o.key){var l=sd[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Xs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Jl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(o){return o.type==="keypress"?Xs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Xs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),sc=br(ud),lc=He({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=br(lc),cd=He({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),cs=br(cd),fd=He({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),fs=br(fd),dd=He({},wo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),hd=br(dd),ds=[9,13,27,32],tl=u&&"CompositionEvent"in window,bo=null;u&&"documentMode"in document&&(bo=document.documentMode);var cc=u&&"TextEvent"in window&&!bo,Ql=u&&(!tl||bo&&8<bo&&11>=bo),Co=" ",Xl=!1;function So(o,l){switch(o){case"keyup":return ds.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ci=!1;function xo(o,l){switch(o){case"compositionend":return fc(l);case"keypress":return l.which!==32?null:(Xl=!0,Co);case"textInput":return o=l.data,o===Co&&Xl?null:o;default:return null}}function Wa(o,l){if(ci)return o==="compositionend"||!tl&&So(o,l)?(o=rc(),Ua=yo=ui=null,ci=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ql&&l.locale!=="ko"?null:l.data;default:return null}}var Oi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Oi[o.type]:l==="textarea"}function Yl(o,l,f,y){Vr(y),l=wt(l,"onChange"),0<l.length&&(f=new Gl("onChange","change",null,f,y),o.push({event:f,listeners:l}))}var hs=null,To=null;function pd(o){W(o,0)}function ps(o){var l=il(o);if(Ve(l))return o}function dc(o,l){if(o==="change")return l}var vs=!1;if(u){var la;if(u){var ms="oninput"in document;if(!ms){var Zl=document.createElement("div");Zl.setAttribute("oninput","return;"),ms=typeof Zl.oninput=="function"}la=ms}else la=!1;vs=la&&(!document.documentMode||9<document.documentMode)}function rl(){hs&&(hs.detachEvent("onpropertychange",hc),To=hs=null)}function hc(o){if(o.propertyName==="value"&&ps(To)){var l=[];Yl(l,To,o,ai(o)),Z(pd,l)}}function vd(o,l,f){o==="focusin"?(rl(),hs=l,To=f,hs.attachEvent("onpropertychange",hc)):o==="focusout"&&rl()}function md(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ps(To)}function gd(o,l){if(o==="click")return ps(l)}function pc(o,l){if(o==="input"||o==="change")return ps(l)}function vc(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Ai=typeof Object.is=="function"?Object.is:vc;function Eo(o,l){if(Ai(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),y=Object.keys(l);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var E=f[y];if(!c.call(l,E)||!Ai(o[E],l[E]))return!1}return!0}function mc(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function gc(o,l){var f=mc(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=l&&y>=l)return{node:f,offset:l-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=mc(f)}}function yc(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?yc(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function wc(){for(var o=window,l=at();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=at(o.document)}return l}function eu(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function yd(o){var l=wc(),f=o.focusedElem,y=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&yc(f.ownerDocument.documentElement,f)){if(y!==null&&eu(f)){if(l=y.start,o=y.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var E=f.textContent.length,L=Math.min(y.start,E);y=y.end===void 0?L:Math.min(y.end,E),!o.extend&&L>y&&(E=y,y=L,L=E),E=gc(f,L);var j=gc(f,y);E&&j&&(o.rangeCount!==1||o.anchorNode!==E.node||o.anchorOffset!==E.offset||o.focusNode!==j.node||o.focusOffset!==j.offset)&&(l=l.createRange(),l.setStart(E.node,E.offset),o.removeAllRanges(),L>y?(o.addRange(l),o.extend(j.node,j.offset)):(l.setEnd(j.node,j.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var kc=u&&"documentMode"in document&&11>=document.documentMode,Mo=null,tu=null,Ga=null,ru=!1;function nu(o,l,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ru||Mo==null||Mo!==at(y)||(y=Mo,"selectionStart"in y&&eu(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ga&&Eo(Ga,y)||(Ga=y,y=wt(tu,"onSelect"),0<y.length&&(l=new Gl("onSelect","select",null,l,f),o.push({event:l,listeners:y}),l.target=Mo)))}function nl(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var No={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},iu={},bc={};u&&(bc=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function gs(o){if(iu[o])return iu[o];if(!No[o])return o;var l=No[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in bc)return iu[o]=l[f];return o}var au=gs("animationend"),ou=gs("animationiteration"),Cc=gs("animationstart"),su=gs("transitionend"),Sc=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function h(o,l){Sc.set(o,l),a(l,[o])}for(var b=0;b<lu.length;b++){var p=lu[b],k=p.toLowerCase(),x=p[0].toUpperCase()+p.slice(1);h(k,"on"+x)}h(au,"onAnimationEnd"),h(ou,"onAnimationIteration"),h(Cc,"onAnimationStart"),h("dblclick","onDoubleClick"),h("focusin","onFocus"),h("focusout","onBlur"),h(su,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B=new Set("cancel close invalid load scroll toggle".split(" ").concat(A));function F(o,l,f){var y=o.type||"unknown-event";o.currentTarget=f,Fe(y,l,void 0,o),o.currentTarget=null}function W(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],E=y.event;y=y.listeners;e:{var L=void 0;if(l)for(var j=y.length-1;0<=j;j--){var oe=y[j],me=oe.instance,Pe=oe.currentTarget;if(oe=oe.listener,me!==L&&E.isPropagationStopped())break e;F(E,oe,Pe),L=me}else for(j=0;j<y.length;j++){if(oe=y[j],me=oe.instance,Pe=oe.currentTarget,oe=oe.listener,me!==L&&E.isPropagationStopped())break e;F(E,oe,Pe),L=me}}}if($e)throw o=ge,$e=!1,ge=null,o}function J(o,l){var f=l[wd];f===void 0&&(f=l[wd]=new Set);var y=o+"__bubble";f.has(y)||(Be(l,o,2,!1),f.add(y))}function de(o,l,f){var y=0;l&&(y|=4),Be(f,o,y,l)}var Se="_reactListening"+Math.random().toString(36).slice(2);function ye(o){if(!o[Se]){o[Se]=!0,n.forEach(function(f){f!=="selectionchange"&&(B.has(f)||de(f,!1,o),de(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Se]||(l[Se]=!0,de("selectionchange",!1,l))}}function Be(o,l,f,y){switch(sa(l)){case 1:var E=cr;break;case 4:E=Jr;break;default:E=Br}f=E.bind(null,l,f,o),E=void 0,!q||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(l,f,{capture:!0,passive:E}):o.addEventListener(l,f,!0):E!==void 0?o.addEventListener(l,f,{passive:E}):o.addEventListener(l,f,!1)}function Ue(o,l,f,y,E){var L=y;if(!(l&1)&&!(l&2)&&y!==null)e:for(;;){if(y===null)return;var j=y.tag;if(j===3||j===4){var oe=y.stateNode.containerInfo;if(oe===E||oe.nodeType===8&&oe.parentNode===E)break;if(j===4)for(j=y.return;j!==null;){var me=j.tag;if((me===3||me===4)&&(me=j.stateNode.containerInfo,me===E||me.nodeType===8&&me.parentNode===E))return;j=j.return}for(;oe!==null;){if(j=ws(oe),j===null)return;if(me=j.tag,me===5||me===6){y=L=j;continue e}oe=oe.parentNode}}y=y.return}Z(function(){var Pe=L,Xe=ai(f),tt=[];e:{var Je=Sc.get(o);if(Je!==void 0){var kt=Gl,Et=o;switch(o){case"keypress":if(Xs(f)===0)break e;case"keydown":case"keyup":kt=sc;break;case"focusin":Et="focus",kt=us;break;case"focusout":Et="blur",kt=us;break;case"beforeblur":case"afterblur":kt=us;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Zs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=cs;break;case au:case ou:case Cc:kt=nd;break;case su:kt=fs;break;case"scroll":kt=ed;break;case"wheel":kt=hd;break;case"copy":case"cut":case"paste":kt=ad;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=uc}var At=(l&4)!==0,Qr=!At&&o==="scroll",Me=At?Je!==null?Je+"Capture":null:Je;At=[];for(var ke=Pe,De;ke!==null;){De=ke;var it=De.stateNode;if(De.tag===5&&it!==null&&(De=it,Me!==null&&(it=H(ke,Me),it!=null&&At.push(lt(ke,it,De)))),Qr)break;ke=ke.return}0<At.length&&(Je=new kt(Je,Et,null,f,Xe),tt.push({event:Je,listeners:At}))}}if(!(l&7)){e:{if(Je=o==="mouseover"||o==="pointerover",kt=o==="mouseout"||o==="pointerout",Je&&f!==hn&&(Et=f.relatedTarget||f.fromElement)&&(ws(Et)||Et[$i]))break e;if((kt||Je)&&(Je=Xe.window===Xe?Xe:(Je=Xe.ownerDocument)?Je.defaultView||Je.parentWindow:window,kt?(Et=f.relatedTarget||f.toElement,kt=Pe,Et=Et?ws(Et):null,Et!==null&&(Qr=ot(Et),Et!==Qr||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(kt=null,Et=Pe),kt!==Et)){if(At=ic,it="onMouseLeave",Me="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(At=uc,it="onPointerLeave",Me="onPointerEnter",ke="pointer"),Qr=kt==null?Je:il(kt),De=Et==null?Je:il(Et),Je=new At(it,ke+"leave",kt,f,Xe),Je.target=Qr,Je.relatedTarget=De,it=null,ws(Xe)===Pe&&(At=new At(Me,ke+"enter",Et,f,Xe),At.target=De,At.relatedTarget=Qr,it=At),Qr=it,kt&&Et)t:{for(At=kt,Me=Et,ke=0,De=At;De;De=Qe(De))ke++;for(De=0,it=Me;it;it=Qe(it))De++;for(;0<ke-De;)At=Qe(At),ke--;for(;0<De-ke;)Me=Qe(Me),De--;for(;ke--;){if(At===Me||Me!==null&&At===Me.alternate)break t;At=Qe(At),Me=Qe(Me)}At=null}else At=null;kt!==null&&ir(tt,Je,kt,At,!1),Et!==null&&Qr!==null&&ir(tt,Qr,Et,At,!0)}}e:{if(Je=Pe?il(Pe):window,kt=Je.nodeName&&Je.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Je.type==="file")var Dt=dc;else if(on(Je))if(vs)Dt=pc;else{Dt=md;var Vt=vd}else(kt=Je.nodeName)&&kt.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Dt=gd);if(Dt&&(Dt=Dt(o,Pe))){Yl(tt,Dt,f,Xe);break e}Vt&&Vt(o,Je,Pe),o==="focusout"&&(Vt=Je._wrapperState)&&Vt.controlled&&Je.type==="number"&&zr(Je,"number",Je.value)}switch(Vt=Pe?il(Pe):window,o){case"focusin":(on(Vt)||Vt.contentEditable==="true")&&(Mo=Vt,tu=Pe,Ga=null);break;case"focusout":Ga=tu=Mo=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,nu(tt,f,Xe);break;case"selectionchange":if(kc)break;case"keydown":case"keyup":nu(tt,f,Xe)}var $t;if(tl)e:{switch(o){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else ci?So(o,f)&&(Gt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Gt="onCompositionStart");Gt&&(Ql&&f.locale!=="ko"&&(ci||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ci&&($t=rc()):(ui=Xe,yo="value"in ui?ui.value:ui.textContent,ci=!0)),Vt=wt(Pe,Gt),0<Vt.length&&(Gt=new ac(Gt,o,null,f,Xe),tt.push({event:Gt,listeners:Vt}),$t?Gt.data=$t:($t=fc(f),$t!==null&&(Gt.data=$t)))),($t=cc?xo(o,f):Wa(o,f))&&(Pe=wt(Pe,"onBeforeInput"),0<Pe.length&&(Xe=new ac("onBeforeInput","beforeinput",null,f,Xe),tt.push({event:Xe,listeners:Pe}),Xe.data=$t))}W(tt,l)})}function lt(o,l,f){return{instance:o,listener:l,currentTarget:f}}function wt(o,l){for(var f=l+"Capture",y=[];o!==null;){var E=o,L=E.stateNode;E.tag===5&&L!==null&&(E=L,L=H(o,f),L!=null&&y.unshift(lt(o,L,E)),L=H(o,l),L!=null&&y.push(lt(o,L,E))),o=o.return}return y}function Qe(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function ir(o,l,f,y,E){for(var L=l._reactName,j=[];f!==null&&f!==y;){var oe=f,me=oe.alternate,Pe=oe.stateNode;if(me!==null&&me===y)break;oe.tag===5&&Pe!==null&&(oe=Pe,E?(me=H(f,L),me!=null&&j.unshift(lt(f,me,oe))):E||(me=H(f,L),me!=null&&j.push(lt(f,me,oe)))),f=f.return}j.length!==0&&o.push({event:l,listeners:j})}var Jt=/\r\n?/g,Ht=/\u0000|\uFFFD/g;function er(o){return(typeof o=="string"?o:""+o).replace(Jt,`
`).replace(Ht,"")}function fr(o,l,f){if(l=er(l),er(o)!==l&&f)throw Error(r(425))}function Cr(){}var Jn=null,Ur=null;function vn(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var _r=typeof setTimeout=="function"?setTimeout:void 0,ys=typeof clearTimeout=="function"?clearTimeout:void 0,fi=typeof Promise=="function"?Promise:void 0,Oo=typeof queueMicrotask=="function"?queueMicrotask:typeof fi<"u"?function(o){return fi.resolve(null).then(o).catch(di)}:_r;function di(o){setTimeout(function(){throw o})}function Lr(o,l){var f=l,y=0;do{var E=f.nextSibling;if(o.removeChild(f),E&&E.nodeType===8)if(f=E.data,f==="/$"){if(y===0){o.removeChild(E),Te(l);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=E}while(f);Te(l)}function Ta(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function xc(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var ua=Math.random().toString(36).slice(2),mn="__reactFiber$"+ua,Ao="__reactProps$"+ua,$i="__reactContainer$"+ua,wd="__reactEvents$"+ua,vy="__reactListeners$"+ua,my="__reactHandles$"+ua;function ws(o){var l=o[mn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[$i]||f[mn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=xc(o);o!==null;){if(f=o[mn])return f;o=xc(o)}return l}o=f,f=o.parentNode}return null}function uu(o){return o=o[mn]||o[$i],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function il(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Tc(o){return o[Ao]||null}var kd=[],al=-1;function Do(o){return{current:o}}function Dr(o){0>al||(o.current=kd[al],kd[al]=null,al--)}function Nr(o,l){al++,kd[al]=o.current,o.current=l}var Lo={},In=Do(Lo),hi=Do(!1),ks=Lo;function ol(o,l){var f=o.type.contextTypes;if(!f)return Lo;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var E={},L;for(L in f)E[L]=l[L];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=E),E}function pi(o){return o=o.childContextTypes,o!=null}function Ec(){Dr(hi),Dr(In)}function Ap(o,l,f){if(In.current!==Lo)throw Error(r(168));Nr(In,l),Nr(hi,f)}function Dp(o,l,f){var y=o.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var E in y)if(!(E in l))throw Error(r(108,Ce(o)||"Unknown",E));return He({},f,y)}function Mc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Lo,ks=In.current,Nr(In,o),Nr(hi,hi.current),!0}function Lp(o,l,f){var y=o.stateNode;if(!y)throw Error(r(169));f?(o=Dp(o,l,ks),y.__reactInternalMemoizedMergedChildContext=o,Dr(hi),Dr(In),Nr(In,o)):Dr(hi),Nr(hi,f)}var Ka=null,Nc=!1,bd=!1;function Rp(o){Ka===null?Ka=[o]:Ka.push(o)}function gy(o){Nc=!0,Rp(o)}function Ro(){if(!bd&&Ka!==null){bd=!0;var o=0,l=Zt;try{var f=Ka;for(Zt=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}Ka=null,Nc=!1}catch(E){throw Ka!==null&&(Ka=Ka.slice(o+1)),_(et,Ro),E}finally{Zt=l,bd=!1}}return null}var sl=[],ll=0,Oc=null,Ac=0,Ui=[],ji=0,bs=null,Ja=1,Qa="";function Cs(o,l){sl[ll++]=Ac,sl[ll++]=Oc,Oc=o,Ac=l}function Ip(o,l,f){Ui[ji++]=Ja,Ui[ji++]=Qa,Ui[ji++]=bs,bs=o;var y=Ja;o=Qa;var E=32-en(y)-1;y&=~(1<<E),f+=1;var L=32-en(l)+E;if(30<L){var j=E-E%5;L=(y&(1<<j)-1).toString(32),y>>=j,E-=j,Ja=1<<32-en(l)+E|f<<E|y,Qa=L+o}else Ja=1<<L|f<<E|y,Qa=o}function Cd(o){o.return!==null&&(Cs(o,1),Ip(o,1,0))}function Sd(o){for(;o===Oc;)Oc=sl[--ll],sl[ll]=null,Ac=sl[--ll],sl[ll]=null;for(;o===bs;)bs=Ui[--ji],Ui[ji]=null,Qa=Ui[--ji],Ui[ji]=null,Ja=Ui[--ji],Ui[ji]=null}var Di=null,Li=null,Rr=!1,ca=null;function Pp(o,l){var f=Ji(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function Bp(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Di=o,Li=Ta(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Di=o,Li=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=bs!==null?{id:Ja,overflow:Qa}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Ji(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,Di=o,Li=null,!0):!1;default:return!1}}function xd(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Td(o){if(Rr){var l=Li;if(l){var f=l;if(!Bp(o,l)){if(xd(o))throw Error(r(418));l=Ta(f.nextSibling);var y=Di;l&&Bp(o,l)?Pp(y,f):(o.flags=o.flags&-4097|2,Rr=!1,Di=o)}}else{if(xd(o))throw Error(r(418));o.flags=o.flags&-4097|2,Rr=!1,Di=o}}}function _p(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Di=o}function Dc(o){if(o!==Di)return!1;if(!Rr)return _p(o),Rr=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!vn(o.type,o.memoizedProps)),l&&(l=Li)){if(xd(o))throw Fp(),Error(r(418));for(;l;)Pp(o,l),l=Ta(l.nextSibling)}if(_p(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){Li=Ta(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}Li=null}}else Li=Di?Ta(o.stateNode.nextSibling):null;return!0}function Fp(){for(var o=Li;o;)o=Ta(o.nextSibling)}function ul(){Li=Di=null,Rr=!1}function Ed(o){ca===null?ca=[o]:ca.push(o)}var yy=ne.ReactCurrentBatchConfig;function cu(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var y=f.stateNode}if(!y)throw Error(r(147,o));var E=y,L=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===L?l.ref:(l=function(j){var oe=E.refs;j===null?delete oe[L]:oe[L]=j},l._stringRef=L,l)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Lc(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function qp(o){var l=o._init;return l(o._payload)}function zp(o){function l(Me,ke){if(o){var De=Me.deletions;De===null?(Me.deletions=[ke],Me.flags|=16):De.push(ke)}}function f(Me,ke){if(!o)return null;for(;ke!==null;)l(Me,ke),ke=ke.sibling;return null}function y(Me,ke){for(Me=new Map;ke!==null;)ke.key!==null?Me.set(ke.key,ke):Me.set(ke.index,ke),ke=ke.sibling;return Me}function E(Me,ke){return Me=Ho(Me,ke),Me.index=0,Me.sibling=null,Me}function L(Me,ke,De){return Me.index=De,o?(De=Me.alternate,De!==null?(De=De.index,De<ke?(Me.flags|=2,ke):De):(Me.flags|=2,ke)):(Me.flags|=1048576,ke)}function j(Me){return o&&Me.alternate===null&&(Me.flags|=2),Me}function oe(Me,ke,De,it){return ke===null||ke.tag!==6?(ke=gh(De,Me.mode,it),ke.return=Me,ke):(ke=E(ke,De),ke.return=Me,ke)}function me(Me,ke,De,it){var Dt=De.type;return Dt===be?Xe(Me,ke,De.props.children,it,De.key):ke!==null&&(ke.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Nt&&qp(Dt)===ke.type)?(it=E(ke,De.props),it.ref=cu(Me,ke,De),it.return=Me,it):(it=rf(De.type,De.key,De.props,null,Me.mode,it),it.ref=cu(Me,ke,De),it.return=Me,it)}function Pe(Me,ke,De,it){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==De.containerInfo||ke.stateNode.implementation!==De.implementation?(ke=yh(De,Me.mode,it),ke.return=Me,ke):(ke=E(ke,De.children||[]),ke.return=Me,ke)}function Xe(Me,ke,De,it,Dt){return ke===null||ke.tag!==7?(ke=As(De,Me.mode,it,Dt),ke.return=Me,ke):(ke=E(ke,De),ke.return=Me,ke)}function tt(Me,ke,De){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=gh(""+ke,Me.mode,De),ke.return=Me,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case pe:return De=rf(ke.type,ke.key,ke.props,null,Me.mode,De),De.ref=cu(Me,null,ke),De.return=Me,De;case ue:return ke=yh(ke,Me.mode,De),ke.return=Me,ke;case Nt:var it=ke._init;return tt(Me,it(ke._payload),De)}if(Sr(ke)||vt(ke))return ke=As(ke,Me.mode,De,null),ke.return=Me,ke;Lc(Me,ke)}return null}function Je(Me,ke,De,it){var Dt=ke!==null?ke.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Dt!==null?null:oe(Me,ke,""+De,it);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case pe:return De.key===Dt?me(Me,ke,De,it):null;case ue:return De.key===Dt?Pe(Me,ke,De,it):null;case Nt:return Dt=De._init,Je(Me,ke,Dt(De._payload),it)}if(Sr(De)||vt(De))return Dt!==null?null:Xe(Me,ke,De,it,null);Lc(Me,De)}return null}function kt(Me,ke,De,it,Dt){if(typeof it=="string"&&it!==""||typeof it=="number")return Me=Me.get(De)||null,oe(ke,Me,""+it,Dt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case pe:return Me=Me.get(it.key===null?De:it.key)||null,me(ke,Me,it,Dt);case ue:return Me=Me.get(it.key===null?De:it.key)||null,Pe(ke,Me,it,Dt);case Nt:var Vt=it._init;return kt(Me,ke,De,Vt(it._payload),Dt)}if(Sr(it)||vt(it))return Me=Me.get(De)||null,Xe(ke,Me,it,Dt,null);Lc(ke,it)}return null}function Et(Me,ke,De,it){for(var Dt=null,Vt=null,$t=ke,Gt=ke=0,wn=null;$t!==null&&Gt<De.length;Gt++){$t.index>Gt?(wn=$t,$t=null):wn=$t.sibling;var hr=Je(Me,$t,De[Gt],it);if(hr===null){$t===null&&($t=wn);break}o&&$t&&hr.alternate===null&&l(Me,$t),ke=L(hr,ke,Gt),Vt===null?Dt=hr:Vt.sibling=hr,Vt=hr,$t=wn}if(Gt===De.length)return f(Me,$t),Rr&&Cs(Me,Gt),Dt;if($t===null){for(;Gt<De.length;Gt++)$t=tt(Me,De[Gt],it),$t!==null&&(ke=L($t,ke,Gt),Vt===null?Dt=$t:Vt.sibling=$t,Vt=$t);return Rr&&Cs(Me,Gt),Dt}for($t=y(Me,$t);Gt<De.length;Gt++)wn=kt($t,Me,Gt,De[Gt],it),wn!==null&&(o&&wn.alternate!==null&&$t.delete(wn.key===null?Gt:wn.key),ke=L(wn,ke,Gt),Vt===null?Dt=wn:Vt.sibling=wn,Vt=wn);return o&&$t.forEach(function(Vo){return l(Me,Vo)}),Rr&&Cs(Me,Gt),Dt}function At(Me,ke,De,it){var Dt=vt(De);if(typeof Dt!="function")throw Error(r(150));if(De=Dt.call(De),De==null)throw Error(r(151));for(var Vt=Dt=null,$t=ke,Gt=ke=0,wn=null,hr=De.next();$t!==null&&!hr.done;Gt++,hr=De.next()){$t.index>Gt?(wn=$t,$t=null):wn=$t.sibling;var Vo=Je(Me,$t,hr.value,it);if(Vo===null){$t===null&&($t=wn);break}o&&$t&&Vo.alternate===null&&l(Me,$t),ke=L(Vo,ke,Gt),Vt===null?Dt=Vo:Vt.sibling=Vo,Vt=Vo,$t=wn}if(hr.done)return f(Me,$t),Rr&&Cs(Me,Gt),Dt;if($t===null){for(;!hr.done;Gt++,hr=De.next())hr=tt(Me,hr.value,it),hr!==null&&(ke=L(hr,ke,Gt),Vt===null?Dt=hr:Vt.sibling=hr,Vt=hr);return Rr&&Cs(Me,Gt),Dt}for($t=y(Me,$t);!hr.done;Gt++,hr=De.next())hr=kt($t,Me,Gt,hr.value,it),hr!==null&&(o&&hr.alternate!==null&&$t.delete(hr.key===null?Gt:hr.key),ke=L(hr,ke,Gt),Vt===null?Dt=hr:Vt.sibling=hr,Vt=hr);return o&&$t.forEach(function(Qy){return l(Me,Qy)}),Rr&&Cs(Me,Gt),Dt}function Qr(Me,ke,De,it){if(typeof De=="object"&&De!==null&&De.type===be&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case pe:e:{for(var Dt=De.key,Vt=ke;Vt!==null;){if(Vt.key===Dt){if(Dt=De.type,Dt===be){if(Vt.tag===7){f(Me,Vt.sibling),ke=E(Vt,De.props.children),ke.return=Me,Me=ke;break e}}else if(Vt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Nt&&qp(Dt)===Vt.type){f(Me,Vt.sibling),ke=E(Vt,De.props),ke.ref=cu(Me,Vt,De),ke.return=Me,Me=ke;break e}f(Me,Vt);break}else l(Me,Vt);Vt=Vt.sibling}De.type===be?(ke=As(De.props.children,Me.mode,it,De.key),ke.return=Me,Me=ke):(it=rf(De.type,De.key,De.props,null,Me.mode,it),it.ref=cu(Me,ke,De),it.return=Me,Me=it)}return j(Me);case ue:e:{for(Vt=De.key;ke!==null;){if(ke.key===Vt)if(ke.tag===4&&ke.stateNode.containerInfo===De.containerInfo&&ke.stateNode.implementation===De.implementation){f(Me,ke.sibling),ke=E(ke,De.children||[]),ke.return=Me,Me=ke;break e}else{f(Me,ke);break}else l(Me,ke);ke=ke.sibling}ke=yh(De,Me.mode,it),ke.return=Me,Me=ke}return j(Me);case Nt:return Vt=De._init,Qr(Me,ke,Vt(De._payload),it)}if(Sr(De))return Et(Me,ke,De,it);if(vt(De))return At(Me,ke,De,it);Lc(Me,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,ke!==null&&ke.tag===6?(f(Me,ke.sibling),ke=E(ke,De),ke.return=Me,Me=ke):(f(Me,ke),ke=gh(De,Me.mode,it),ke.return=Me,Me=ke),j(Me)):f(Me,ke)}return Qr}var cl=zp(!0),Hp=zp(!1),Rc=Do(null),Ic=null,fl=null,Md=null;function Nd(){Md=fl=Ic=null}function Od(o){var l=Rc.current;Dr(Rc),o._currentValue=l}function Ad(o,l,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===f)break;o=o.return}}function dl(o,l){Ic=o,Md=fl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(vi=!0),o.firstContext=null)}function Wi(o){var l=o._currentValue;if(Md!==o)if(o={context:o,memoizedValue:l,next:null},fl===null){if(Ic===null)throw Error(r(308));fl=o,Ic.dependencies={lanes:0,firstContext:o}}else fl=fl.next=o;return l}var Ss=null;function Dd(o){Ss===null?Ss=[o]:Ss.push(o)}function Vp(o,l,f,y){var E=l.interleaved;return E===null?(f.next=f,Dd(l)):(f.next=E.next,E.next=f),l.interleaved=f,Xa(o,y)}function Xa(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Io=!1;function Ld(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ya(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Po(o,l,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,dr&2){var E=y.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),y.pending=l,Xa(o,f)}return E=y.interleaved,E===null?(l.next=l,Dd(y)):(l.next=E.next,E.next=l),y.interleaved=l,Xa(o,f)}function Pc(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,Sa(o,f)}}function Up(o,l){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var E=null,L=null;if(f=f.firstBaseUpdate,f!==null){do{var j={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};L===null?E=L=j:L=L.next=j,f=f.next}while(f!==null);L===null?E=L=l:L=L.next=l}else E=L=l;f={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:L,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function Bc(o,l,f,y){var E=o.updateQueue;Io=!1;var L=E.firstBaseUpdate,j=E.lastBaseUpdate,oe=E.shared.pending;if(oe!==null){E.shared.pending=null;var me=oe,Pe=me.next;me.next=null,j===null?L=Pe:j.next=Pe,j=me;var Xe=o.alternate;Xe!==null&&(Xe=Xe.updateQueue,oe=Xe.lastBaseUpdate,oe!==j&&(oe===null?Xe.firstBaseUpdate=Pe:oe.next=Pe,Xe.lastBaseUpdate=me))}if(L!==null){var tt=E.baseState;j=0,Xe=Pe=me=null,oe=L;do{var Je=oe.lane,kt=oe.eventTime;if((y&Je)===Je){Xe!==null&&(Xe=Xe.next={eventTime:kt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Et=o,At=oe;switch(Je=l,kt=f,At.tag){case 1:if(Et=At.payload,typeof Et=="function"){tt=Et.call(kt,tt,Je);break e}tt=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=At.payload,Je=typeof Et=="function"?Et.call(kt,tt,Je):Et,Je==null)break e;tt=He({},tt,Je);break e;case 2:Io=!0}}oe.callback!==null&&oe.lane!==0&&(o.flags|=64,Je=E.effects,Je===null?E.effects=[oe]:Je.push(oe))}else kt={eventTime:kt,lane:Je,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Xe===null?(Pe=Xe=kt,me=tt):Xe=Xe.next=kt,j|=Je;if(oe=oe.next,oe===null){if(oe=E.shared.pending,oe===null)break;Je=oe,oe=Je.next,Je.next=null,E.lastBaseUpdate=Je,E.shared.pending=null}}while(!0);if(Xe===null&&(me=tt),E.baseState=me,E.firstBaseUpdate=Pe,E.lastBaseUpdate=Xe,l=E.shared.interleaved,l!==null){E=l;do j|=E.lane,E=E.next;while(E!==l)}else L===null&&(E.shared.lanes=0);Es|=j,o.lanes=j,o.memoizedState=tt}}function jp(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var y=o[l],E=y.callback;if(E!==null){if(y.callback=null,y=f,typeof E!="function")throw Error(r(191,E));E.call(y)}}}var fu={},Ea=Do(fu),du=Do(fu),hu=Do(fu);function xs(o){if(o===fu)throw Error(r(174));return o}function Rd(o,l){switch(Nr(hu,l),Nr(du,o),Nr(Ea,fu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ht(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=ht(l,o)}Dr(Ea),Nr(Ea,l)}function hl(){Dr(Ea),Dr(du),Dr(hu)}function Wp(o){xs(hu.current);var l=xs(Ea.current),f=ht(l,o.type);l!==f&&(Nr(du,o),Nr(Ea,f))}function Id(o){du.current===o&&(Dr(Ea),Dr(du))}var Fr=Do(0);function _c(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Pd=[];function Bd(){for(var o=0;o<Pd.length;o++)Pd[o]._workInProgressVersionPrimary=null;Pd.length=0}var Fc=ne.ReactCurrentDispatcher,_d=ne.ReactCurrentBatchConfig,Ts=0,qr=null,sn=null,gn=null,qc=!1,pu=!1,vu=0,wy=0;function Pn(){throw Error(r(321))}function Fd(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Ai(o[f],l[f]))return!1;return!0}function qd(o,l,f,y,E,L){if(Ts=L,qr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Fc.current=o===null||o.memoizedState===null?Sy:xy,o=f(y,E),pu){L=0;do{if(pu=!1,vu=0,25<=L)throw Error(r(301));L+=1,gn=sn=null,l.updateQueue=null,Fc.current=Ty,o=f(y,E)}while(pu)}if(Fc.current=Vc,l=sn!==null&&sn.next!==null,Ts=0,gn=sn=qr=null,qc=!1,l)throw Error(r(300));return o}function zd(){var o=vu!==0;return vu=0,o}function Ma(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?qr.memoizedState=gn=o:gn=gn.next=o,gn}function Gi(){if(sn===null){var o=qr.alternate;o=o!==null?o.memoizedState:null}else o=sn.next;var l=gn===null?qr.memoizedState:gn.next;if(l!==null)gn=l,sn=o;else{if(o===null)throw Error(r(310));sn=o,o={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},gn===null?qr.memoizedState=gn=o:gn=gn.next=o}return gn}function mu(o,l){return typeof l=="function"?l(o):l}function Hd(o){var l=Gi(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=sn,E=y.baseQueue,L=f.pending;if(L!==null){if(E!==null){var j=E.next;E.next=L.next,L.next=j}y.baseQueue=E=L,f.pending=null}if(E!==null){L=E.next,y=y.baseState;var oe=j=null,me=null,Pe=L;do{var Xe=Pe.lane;if((Ts&Xe)===Xe)me!==null&&(me=me.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),y=Pe.hasEagerState?Pe.eagerState:o(y,Pe.action);else{var tt={lane:Xe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};me===null?(oe=me=tt,j=y):me=me.next=tt,qr.lanes|=Xe,Es|=Xe}Pe=Pe.next}while(Pe!==null&&Pe!==L);me===null?j=y:me.next=oe,Ai(y,l.memoizedState)||(vi=!0),l.memoizedState=y,l.baseState=j,l.baseQueue=me,f.lastRenderedState=y}if(o=f.interleaved,o!==null){E=o;do L=E.lane,qr.lanes|=L,Es|=L,E=E.next;while(E!==o)}else E===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Vd(o){var l=Gi(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=f.dispatch,E=f.pending,L=l.memoizedState;if(E!==null){f.pending=null;var j=E=E.next;do L=o(L,j.action),j=j.next;while(j!==E);Ai(L,l.memoizedState)||(vi=!0),l.memoizedState=L,l.baseQueue===null&&(l.baseState=L),f.lastRenderedState=L}return[L,y]}function Gp(){}function Kp(o,l){var f=qr,y=Gi(),E=l(),L=!Ai(y.memoizedState,E);if(L&&(y.memoizedState=E,vi=!0),y=y.queue,$d(Xp.bind(null,f,y,o),[o]),y.getSnapshot!==l||L||gn!==null&&gn.memoizedState.tag&1){if(f.flags|=2048,gu(9,Qp.bind(null,f,y,E,l),void 0,null),yn===null)throw Error(r(349));Ts&30||Jp(f,l,E)}return E}function Jp(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=qr.updateQueue,l===null?(l={lastEffect:null,stores:null},qr.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function Qp(o,l,f,y){l.value=f,l.getSnapshot=y,Yp(l)&&Zp(o)}function Xp(o,l,f){return f(function(){Yp(l)&&Zp(o)})}function Yp(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Ai(o,f)}catch{return!0}}function Zp(o){var l=Xa(o,1);l!==null&&pa(l,o,1,-1)}function ev(o){var l=Ma();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:o},l.queue=o,o=o.dispatch=Cy.bind(null,qr,o),[l.memoizedState,o]}function gu(o,l,f,y){return o={tag:o,create:l,destroy:f,deps:y,next:null},l=qr.updateQueue,l===null?(l={lastEffect:null,stores:null},qr.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,l.lastEffect=o)),o}function tv(){return Gi().memoizedState}function zc(o,l,f,y){var E=Ma();qr.flags|=o,E.memoizedState=gu(1|l,f,void 0,y===void 0?null:y)}function Hc(o,l,f,y){var E=Gi();y=y===void 0?null:y;var L=void 0;if(sn!==null){var j=sn.memoizedState;if(L=j.destroy,y!==null&&Fd(y,j.deps)){E.memoizedState=gu(l,f,L,y);return}}qr.flags|=o,E.memoizedState=gu(1|l,f,L,y)}function rv(o,l){return zc(8390656,8,o,l)}function $d(o,l){return Hc(2048,8,o,l)}function nv(o,l){return Hc(4,2,o,l)}function iv(o,l){return Hc(4,4,o,l)}function av(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function ov(o,l,f){return f=f!=null?f.concat([o]):null,Hc(4,4,av.bind(null,l,o),f)}function Ud(){}function sv(o,l){var f=Gi();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&Fd(l,y[1])?y[0]:(f.memoizedState=[o,l],o)}function lv(o,l){var f=Gi();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&Fd(l,y[1])?y[0]:(o=o(),f.memoizedState=[o,l],o)}function uv(o,l,f){return Ts&21?(Ai(f,l)||(f=qa(),qr.lanes|=f,Es|=f,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,vi=!0),o.memoizedState=f)}function ky(o,l){var f=Zt;Zt=f!==0&&4>f?f:4,o(!0);var y=_d.transition;_d.transition={};try{o(!1),l()}finally{Zt=f,_d.transition=y}}function cv(){return Gi().memoizedState}function by(o,l,f){var y=qo(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},fv(o))dv(l,f);else if(f=Vp(o,l,f,y),f!==null){var E=Xn();pa(f,o,y,E),hv(f,l,y)}}function Cy(o,l,f){var y=qo(o),E={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(fv(o))dv(l,E);else{var L=o.alternate;if(o.lanes===0&&(L===null||L.lanes===0)&&(L=l.lastRenderedReducer,L!==null))try{var j=l.lastRenderedState,oe=L(j,f);if(E.hasEagerState=!0,E.eagerState=oe,Ai(oe,j)){var me=l.interleaved;me===null?(E.next=E,Dd(l)):(E.next=me.next,me.next=E),l.interleaved=E;return}}catch{}finally{}f=Vp(o,l,E,y),f!==null&&(E=Xn(),pa(f,o,y,E),hv(f,l,y))}}function fv(o){var l=o.alternate;return o===qr||l!==null&&l===qr}function dv(o,l){pu=qc=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function hv(o,l,f){if(f&4194240){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,Sa(o,f)}}var Vc={readContext:Wi,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},Sy={readContext:Wi,useCallback:function(o,l){return Ma().memoizedState=[o,l===void 0?null:l],o},useContext:Wi,useEffect:rv,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,zc(4194308,4,av.bind(null,l,o),f)},useLayoutEffect:function(o,l){return zc(4194308,4,o,l)},useInsertionEffect:function(o,l){return zc(4,2,o,l)},useMemo:function(o,l){var f=Ma();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var y=Ma();return l=f!==void 0?f(l):l,y.memoizedState=y.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},y.queue=o,o=o.dispatch=by.bind(null,qr,o),[y.memoizedState,o]},useRef:function(o){var l=Ma();return o={current:o},l.memoizedState=o},useState:ev,useDebugValue:Ud,useDeferredValue:function(o){return Ma().memoizedState=o},useTransition:function(){var o=ev(!1),l=o[0];return o=ky.bind(null,o[1]),Ma().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var y=qr,E=Ma();if(Rr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),yn===null)throw Error(r(349));Ts&30||Jp(y,l,f)}E.memoizedState=f;var L={value:f,getSnapshot:l};return E.queue=L,rv(Xp.bind(null,y,L,o),[o]),y.flags|=2048,gu(9,Qp.bind(null,y,L,f,l),void 0,null),f},useId:function(){var o=Ma(),l=yn.identifierPrefix;if(Rr){var f=Qa,y=Ja;f=(y&~(1<<32-en(y)-1)).toString(32)+f,l=":"+l+"R"+f,f=vu++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=wy++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},xy={readContext:Wi,useCallback:sv,useContext:Wi,useEffect:$d,useImperativeHandle:ov,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:lv,useReducer:Hd,useRef:tv,useState:function(){return Hd(mu)},useDebugValue:Ud,useDeferredValue:function(o){var l=Gi();return uv(l,sn.memoizedState,o)},useTransition:function(){var o=Hd(mu)[0],l=Gi().memoizedState;return[o,l]},useMutableSource:Gp,useSyncExternalStore:Kp,useId:cv,unstable_isNewReconciler:!1},Ty={readContext:Wi,useCallback:sv,useContext:Wi,useEffect:$d,useImperativeHandle:ov,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:lv,useReducer:Vd,useRef:tv,useState:function(){return Vd(mu)},useDebugValue:Ud,useDeferredValue:function(o){var l=Gi();return sn===null?l.memoizedState=o:uv(l,sn.memoizedState,o)},useTransition:function(){var o=Vd(mu)[0],l=Gi().memoizedState;return[o,l]},useMutableSource:Gp,useSyncExternalStore:Kp,useId:cv,unstable_isNewReconciler:!1};function fa(o,l){if(o&&o.defaultProps){l=He({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function jd(o,l,f,y){l=o.memoizedState,f=f(y,l),f=f==null?l:He({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var $c={isMounted:function(o){return(o=o._reactInternals)?ot(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var y=Xn(),E=qo(o),L=Ya(y,E);L.payload=l,f!=null&&(L.callback=f),l=Po(o,L,E),l!==null&&(pa(l,o,E,y),Pc(l,o,E))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var y=Xn(),E=qo(o),L=Ya(y,E);L.tag=1,L.payload=l,f!=null&&(L.callback=f),l=Po(o,L,E),l!==null&&(pa(l,o,E,y),Pc(l,o,E))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Xn(),y=qo(o),E=Ya(f,y);E.tag=2,l!=null&&(E.callback=l),l=Po(o,E,y),l!==null&&(pa(l,o,y,f),Pc(l,o,y))}};function pv(o,l,f,y,E,L,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,L,j):l.prototype&&l.prototype.isPureReactComponent?!Eo(f,y)||!Eo(E,L):!0}function vv(o,l,f){var y=!1,E=Lo,L=l.contextType;return typeof L=="object"&&L!==null?L=Wi(L):(E=pi(l)?ks:In.current,y=l.contextTypes,L=(y=y!=null)?ol(o,E):Lo),l=new l(f,L),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=$c,o.stateNode=l,l._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=E,o.__reactInternalMemoizedMaskedChildContext=L),l}function mv(o,l,f,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,y),l.state!==o&&$c.enqueueReplaceState(l,l.state,null)}function Wd(o,l,f,y){var E=o.stateNode;E.props=f,E.state=o.memoizedState,E.refs={},Ld(o);var L=l.contextType;typeof L=="object"&&L!==null?E.context=Wi(L):(L=pi(l)?ks:In.current,E.context=ol(o,L)),E.state=o.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(jd(o,l,L,f),E.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(l=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),l!==E.state&&$c.enqueueReplaceState(E,E.state,null),Bc(o,f,E,y),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308)}function pl(o,l){try{var f="",y=l;do f+=_t(y),y=y.return;while(y);var E=f}catch(L){E=`
Error generating stack: `+L.message+`
`+L.stack}return{value:o,source:l,stack:E,digest:null}}function Gd(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function Kd(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var Ey=typeof WeakMap=="function"?WeakMap:Map;function gv(o,l,f){f=Ya(-1,f),f.tag=3,f.payload={element:null};var y=l.value;return f.callback=function(){Qc||(Qc=!0,uh=y),Kd(o,l)},f}function yv(o,l,f){f=Ya(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var E=l.value;f.payload=function(){return y(E)},f.callback=function(){Kd(o,l)}}var L=o.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(f.callback=function(){Kd(o,l),typeof y!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})}),f}function wv(o,l,f){var y=o.pingCache;if(y===null){y=o.pingCache=new Ey;var E=new Set;y.set(l,E)}else E=y.get(l),E===void 0&&(E=new Set,y.set(l,E));E.has(f)||(E.add(f),o=zy.bind(null,o,l,f),l.then(o,o))}function kv(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function bv(o,l,f,y,E){return o.mode&1?(o.flags|=65536,o.lanes=E,o):(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Ya(-1,1),l.tag=2,Po(f,l,1))),f.lanes|=1),o)}var My=ne.ReactCurrentOwner,vi=!1;function Qn(o,l,f,y){l.child=o===null?Hp(l,null,f,y):cl(l,o.child,f,y)}function Cv(o,l,f,y,E){f=f.render;var L=l.ref;return dl(l,E),y=qd(o,l,f,y,L,E),f=zd(),o!==null&&!vi?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~E,Za(o,l,E)):(Rr&&f&&Cd(l),l.flags|=1,Qn(o,l,y,E),l.child)}function Sv(o,l,f,y,E){if(o===null){var L=f.type;return typeof L=="function"&&!mh(L)&&L.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=L,xv(o,l,L,y,E)):(o=rf(f.type,null,y,l,l.mode,E),o.ref=l.ref,o.return=l,l.child=o)}if(L=o.child,!(o.lanes&E)){var j=L.memoizedProps;if(f=f.compare,f=f!==null?f:Eo,f(j,y)&&o.ref===l.ref)return Za(o,l,E)}return l.flags|=1,o=Ho(L,y),o.ref=l.ref,o.return=l,l.child=o}function xv(o,l,f,y,E){if(o!==null){var L=o.memoizedProps;if(Eo(L,y)&&o.ref===l.ref)if(vi=!1,l.pendingProps=y=L,(o.lanes&E)!==0)o.flags&131072&&(vi=!0);else return l.lanes=o.lanes,Za(o,l,E)}return Jd(o,l,f,y,E)}function Tv(o,l,f){var y=l.pendingProps,E=y.children,L=o!==null?o.memoizedState:null;if(y.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(ml,Ri),Ri|=f;else{if(!(f&1073741824))return o=L!==null?L.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Nr(ml,Ri),Ri|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=L!==null?L.baseLanes:f,Nr(ml,Ri),Ri|=y}else L!==null?(y=L.baseLanes|f,l.memoizedState=null):y=f,Nr(ml,Ri),Ri|=y;return Qn(o,l,E,f),l.child}function Ev(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Jd(o,l,f,y,E){var L=pi(f)?ks:In.current;return L=ol(l,L),dl(l,E),f=qd(o,l,f,y,L,E),y=zd(),o!==null&&!vi?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~E,Za(o,l,E)):(Rr&&y&&Cd(l),l.flags|=1,Qn(o,l,f,E),l.child)}function Mv(o,l,f,y,E){if(pi(f)){var L=!0;Mc(l)}else L=!1;if(dl(l,E),l.stateNode===null)jc(o,l),vv(l,f,y),Wd(l,f,y,E),y=!0;else if(o===null){var j=l.stateNode,oe=l.memoizedProps;j.props=oe;var me=j.context,Pe=f.contextType;typeof Pe=="object"&&Pe!==null?Pe=Wi(Pe):(Pe=pi(f)?ks:In.current,Pe=ol(l,Pe));var Xe=f.getDerivedStateFromProps,tt=typeof Xe=="function"||typeof j.getSnapshotBeforeUpdate=="function";tt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(oe!==y||me!==Pe)&&mv(l,j,y,Pe),Io=!1;var Je=l.memoizedState;j.state=Je,Bc(l,y,j,E),me=l.memoizedState,oe!==y||Je!==me||hi.current||Io?(typeof Xe=="function"&&(jd(l,f,Xe,y),me=l.memoizedState),(oe=Io||pv(l,f,oe,y,Je,me,Pe))?(tt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=me),j.props=y,j.state=me,j.context=Pe,y=oe):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{j=l.stateNode,$p(o,l),oe=l.memoizedProps,Pe=l.type===l.elementType?oe:fa(l.type,oe),j.props=Pe,tt=l.pendingProps,Je=j.context,me=f.contextType,typeof me=="object"&&me!==null?me=Wi(me):(me=pi(f)?ks:In.current,me=ol(l,me));var kt=f.getDerivedStateFromProps;(Xe=typeof kt=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(oe!==tt||Je!==me)&&mv(l,j,y,me),Io=!1,Je=l.memoizedState,j.state=Je,Bc(l,y,j,E);var Et=l.memoizedState;oe!==tt||Je!==Et||hi.current||Io?(typeof kt=="function"&&(jd(l,f,kt,y),Et=l.memoizedState),(Pe=Io||pv(l,f,Pe,y,Je,Et,me)||!1)?(Xe||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(y,Et,me),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(y,Et,me)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||oe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||oe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Et),j.props=y,j.state=Et,j.context=me,y=Pe):(typeof j.componentDidUpdate!="function"||oe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||oe===o.memoizedProps&&Je===o.memoizedState||(l.flags|=1024),y=!1)}return Qd(o,l,f,y,L,E)}function Qd(o,l,f,y,E,L){Ev(o,l);var j=(l.flags&128)!==0;if(!y&&!j)return E&&Lp(l,f,!1),Za(o,l,L);y=l.stateNode,My.current=l;var oe=j&&typeof f.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,o!==null&&j?(l.child=cl(l,o.child,null,L),l.child=cl(l,null,oe,L)):Qn(o,l,oe,L),l.memoizedState=y.state,E&&Lp(l,f,!0),l.child}function Nv(o){var l=o.stateNode;l.pendingContext?Ap(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Ap(o,l.context,!1),Rd(o,l.containerInfo)}function Ov(o,l,f,y,E){return ul(),Ed(E),l.flags|=256,Qn(o,l,f,y),l.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function Yd(o){return{baseLanes:o,cachePool:null,transitions:null}}function Av(o,l,f){var y=l.pendingProps,E=Fr.current,L=!1,j=(l.flags&128)!==0,oe;if((oe=j)||(oe=o!==null&&o.memoizedState===null?!1:(E&2)!==0),oe?(L=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(E|=1),Nr(Fr,E&1),o===null)return Td(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(j=y.children,o=y.fallback,L?(y=l.mode,L=l.child,j={mode:"hidden",children:j},!(y&1)&&L!==null?(L.childLanes=0,L.pendingProps=j):L=nf(j,y,0,null),o=As(o,y,f,null),L.return=l,o.return=l,L.sibling=o,l.child=L,l.child.memoizedState=Yd(f),l.memoizedState=Xd,o):Zd(l,j));if(E=o.memoizedState,E!==null&&(oe=E.dehydrated,oe!==null))return Ny(o,l,j,y,oe,E,f);if(L){L=y.fallback,j=l.mode,E=o.child,oe=E.sibling;var me={mode:"hidden",children:y.children};return!(j&1)&&l.child!==E?(y=l.child,y.childLanes=0,y.pendingProps=me,l.deletions=null):(y=Ho(E,me),y.subtreeFlags=E.subtreeFlags&14680064),oe!==null?L=Ho(oe,L):(L=As(L,j,f,null),L.flags|=2),L.return=l,y.return=l,y.sibling=L,l.child=y,y=L,L=l.child,j=o.child.memoizedState,j=j===null?Yd(f):{baseLanes:j.baseLanes|f,cachePool:null,transitions:j.transitions},L.memoizedState=j,L.childLanes=o.childLanes&~f,l.memoizedState=Xd,y}return L=o.child,o=L.sibling,y=Ho(L,{mode:"visible",children:y.children}),!(l.mode&1)&&(y.lanes=f),y.return=l,y.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=y,l.memoizedState=null,y}function Zd(o,l){return l=nf({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Uc(o,l,f,y){return y!==null&&Ed(y),cl(l,o.child,null,f),o=Zd(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Ny(o,l,f,y,E,L,j){if(f)return l.flags&256?(l.flags&=-257,y=Gd(Error(r(422))),Uc(o,l,j,y)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(L=y.fallback,E=l.mode,y=nf({mode:"visible",children:y.children},E,0,null),L=As(L,E,j,null),L.flags|=2,y.return=l,L.return=l,y.sibling=L,l.child=y,l.mode&1&&cl(l,o.child,null,j),l.child.memoizedState=Yd(j),l.memoizedState=Xd,L);if(!(l.mode&1))return Uc(o,l,j,null);if(E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var oe=y.dgst;return y=oe,L=Error(r(419)),y=Gd(L,y,void 0),Uc(o,l,j,y)}if(oe=(j&o.childLanes)!==0,vi||oe){if(y=yn,y!==null){switch(j&-j){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=E&(y.suspendedLanes|j)?0:E,E!==0&&E!==L.retryLane&&(L.retryLane=E,Xa(o,E),pa(y,o,E,-1))}return vh(),y=Gd(Error(r(421))),Uc(o,l,j,y)}return E.data==="$?"?(l.flags|=128,l.child=o.child,l=Hy.bind(null,o),E._reactRetry=l,null):(o=L.treeContext,Li=Ta(E.nextSibling),Di=l,Rr=!0,ca=null,o!==null&&(Ui[ji++]=Ja,Ui[ji++]=Qa,Ui[ji++]=bs,Ja=o.id,Qa=o.overflow,bs=l),l=Zd(l,y.children),l.flags|=4096,l)}function Dv(o,l,f){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),Ad(o.return,l,f)}function eh(o,l,f,y,E){var L=o.memoizedState;L===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:E}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=y,L.tail=f,L.tailMode=E)}function Lv(o,l,f){var y=l.pendingProps,E=y.revealOrder,L=y.tail;if(Qn(o,l,y.children,f),y=Fr.current,y&2)y=y&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Dv(o,f,l);else if(o.tag===19)Dv(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Nr(Fr,y),!(l.mode&1))l.memoizedState=null;else switch(E){case"forwards":for(f=l.child,E=null;f!==null;)o=f.alternate,o!==null&&_c(o)===null&&(E=f),f=f.sibling;f=E,f===null?(E=l.child,l.child=null):(E=f.sibling,f.sibling=null),eh(l,!1,E,f,L);break;case"backwards":for(f=null,E=l.child,l.child=null;E!==null;){if(o=E.alternate,o!==null&&_c(o)===null){l.child=E;break}o=E.sibling,E.sibling=f,f=E,E=o}eh(l,!0,f,null,L);break;case"together":eh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function jc(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Za(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Es|=l.lanes,!(f&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=Ho(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Ho(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function Oy(o,l,f){switch(l.tag){case 3:Nv(l),ul();break;case 5:Wp(l);break;case 1:pi(l.type)&&Mc(l);break;case 4:Rd(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,E=l.memoizedProps.value;Nr(Rc,y._currentValue),y._currentValue=E;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(Nr(Fr,Fr.current&1),l.flags|=128,null):f&l.child.childLanes?Av(o,l,f):(Nr(Fr,Fr.current&1),o=Za(o,l,f),o!==null?o.sibling:null);Nr(Fr,Fr.current&1);break;case 19:if(y=(f&l.childLanes)!==0,o.flags&128){if(y)return Lv(o,l,f);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Nr(Fr,Fr.current),y)break;return null;case 22:case 23:return l.lanes=0,Tv(o,l,f)}return Za(o,l,f)}var Rv,th,Iv,Pv;Rv=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},th=function(){},Iv=function(o,l,f,y){var E=o.memoizedProps;if(E!==y){o=l.stateNode,xs(Ea.current);var L=null;switch(f){case"input":E=Ut(o,E),y=Ut(o,y),L=[];break;case"select":E=He({},E,{value:void 0}),y=He({},y,{value:void 0}),L=[];break;case"textarea":E=sr(o,E),y=sr(o,y),L=[];break;default:typeof E.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Cr)}Un(f,y);var j;f=null;for(Pe in E)if(!y.hasOwnProperty(Pe)&&E.hasOwnProperty(Pe)&&E[Pe]!=null)if(Pe==="style"){var oe=E[Pe];for(j in oe)oe.hasOwnProperty(j)&&(f||(f={}),f[j]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(i.hasOwnProperty(Pe)?L||(L=[]):(L=L||[]).push(Pe,null));for(Pe in y){var me=y[Pe];if(oe=E!=null?E[Pe]:void 0,y.hasOwnProperty(Pe)&&me!==oe&&(me!=null||oe!=null))if(Pe==="style")if(oe){for(j in oe)!oe.hasOwnProperty(j)||me&&me.hasOwnProperty(j)||(f||(f={}),f[j]="");for(j in me)me.hasOwnProperty(j)&&oe[j]!==me[j]&&(f||(f={}),f[j]=me[j])}else f||(L||(L=[]),L.push(Pe,f)),f=me;else Pe==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,oe=oe?oe.__html:void 0,me!=null&&oe!==me&&(L=L||[]).push(Pe,me)):Pe==="children"?typeof me!="string"&&typeof me!="number"||(L=L||[]).push(Pe,""+me):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Pe)?(me!=null&&Pe==="onScroll"&&J("scroll",o),L||oe===me||(L=[])):(L=L||[]).push(Pe,me))}f&&(L=L||[]).push("style",f);var Pe=L;(l.updateQueue=Pe)&&(l.flags|=4)}},Pv=function(o,l,f,y){f!==y&&(l.flags|=4)};function yu(o,l){if(!Rr)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Bn(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(l)for(var E=o.child;E!==null;)f|=E.lanes|E.childLanes,y|=E.subtreeFlags&14680064,y|=E.flags&14680064,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)f|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=f,l}function Ay(o,l,f){var y=l.pendingProps;switch(Sd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(l),null;case 1:return pi(l.type)&&Ec(),Bn(l),null;case 3:return y=l.stateNode,hl(),Dr(hi),Dr(In),Bd(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Dc(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,ca!==null&&(dh(ca),ca=null))),th(o,l),Bn(l),null;case 5:Id(l);var E=xs(hu.current);if(f=l.type,o!==null&&l.stateNode!=null)Iv(o,l,f,y,E),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Bn(l),null}if(o=xs(Ea.current),Dc(l)){y=l.stateNode,f=l.type;var L=l.memoizedProps;switch(y[mn]=l,y[Ao]=L,o=(l.mode&1)!==0,f){case"dialog":J("cancel",y),J("close",y);break;case"iframe":case"object":case"embed":J("load",y);break;case"video":case"audio":for(E=0;E<A.length;E++)J(A[E],y);break;case"source":J("error",y);break;case"img":case"image":case"link":J("error",y),J("load",y);break;case"details":J("toggle",y);break;case"input":Kt(y,L),J("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!L.multiple},J("invalid",y);break;case"textarea":Gr(y,L),J("invalid",y)}Un(f,L),E=null;for(var j in L)if(L.hasOwnProperty(j)){var oe=L[j];j==="children"?typeof oe=="string"?y.textContent!==oe&&(L.suppressHydrationWarning!==!0&&fr(y.textContent,oe,o),E=["children",oe]):typeof oe=="number"&&y.textContent!==""+oe&&(L.suppressHydrationWarning!==!0&&fr(y.textContent,oe,o),E=["children",""+oe]):i.hasOwnProperty(j)&&oe!=null&&j==="onScroll"&&J("scroll",y)}switch(f){case"input":_e(y),Yt(y,L,!0);break;case"textarea":_e(y),$n(y);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(y.onclick=Cr)}y=E,l.updateQueue=y,y!==null&&(l.flags|=4)}else{j=E.nodeType===9?E:E.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Hr(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=j.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=j.createElement(f,{is:y.is}):(o=j.createElement(f),f==="select"&&(j=o,y.multiple?j.multiple=!0:y.size&&(j.size=y.size))):o=j.createElementNS(o,f),o[mn]=l,o[Ao]=y,Rv(o,l,!1,!1),l.stateNode=o;e:{switch(j=Ir(f,y),f){case"dialog":J("cancel",o),J("close",o),E=y;break;case"iframe":case"object":case"embed":J("load",o),E=y;break;case"video":case"audio":for(E=0;E<A.length;E++)J(A[E],o);E=y;break;case"source":J("error",o),E=y;break;case"img":case"image":case"link":J("error",o),J("load",o),E=y;break;case"details":J("toggle",o),E=y;break;case"input":Kt(o,y),E=Ut(o,y),J("invalid",o);break;case"option":E=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},E=He({},y,{value:void 0}),J("invalid",o);break;case"textarea":Gr(o,y),E=sr(o,y),J("invalid",o);break;default:E=y}Un(f,E),oe=E;for(L in oe)if(oe.hasOwnProperty(L)){var me=oe[L];L==="style"?Mr(o,me):L==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&zt(o,me)):L==="children"?typeof me=="string"?(f!=="textarea"||me!=="")&&Wt(o,me):typeof me=="number"&&Wt(o,""+me):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?me!=null&&L==="onScroll"&&J("scroll",o):me!=null&&te(o,L,me,j))}switch(f){case"input":_e(o),Yt(o,y,!1);break;case"textarea":_e(o),$n(o);break;case"option":y.value!=null&&o.setAttribute("value",""+se(y.value));break;case"select":o.multiple=!!y.multiple,L=y.value,L!=null?Or(o,!!y.multiple,L,!1):y.defaultValue!=null&&Or(o,!!y.multiple,y.defaultValue,!0);break;default:typeof E.onClick=="function"&&(o.onclick=Cr)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Bn(l),null;case 6:if(o&&l.stateNode!=null)Pv(o,l,o.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(f=xs(hu.current),xs(Ea.current),Dc(l)){if(y=l.stateNode,f=l.memoizedProps,y[mn]=l,(L=y.nodeValue!==f)&&(o=Di,o!==null))switch(o.tag){case 3:fr(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&fr(y.nodeValue,f,(o.mode&1)!==0)}L&&(l.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[mn]=l,l.stateNode=y}return Bn(l),null;case 13:if(Dr(Fr),y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Rr&&Li!==null&&l.mode&1&&!(l.flags&128))Fp(),ul(),l.flags|=98560,L=!1;else if(L=Dc(l),y!==null&&y.dehydrated!==null){if(o===null){if(!L)throw Error(r(318));if(L=l.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[mn]=l}else ul(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Bn(l),L=!1}else ca!==null&&(dh(ca),ca=null),L=!0;if(!L)return l.flags&65536?l:null}return l.flags&128?(l.lanes=f,l):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(l.child.flags|=8192,l.mode&1&&(o===null||Fr.current&1?ln===0&&(ln=3):vh())),l.updateQueue!==null&&(l.flags|=4),Bn(l),null);case 4:return hl(),th(o,l),o===null&&ye(l.stateNode.containerInfo),Bn(l),null;case 10:return Od(l.type._context),Bn(l),null;case 17:return pi(l.type)&&Ec(),Bn(l),null;case 19:if(Dr(Fr),L=l.memoizedState,L===null)return Bn(l),null;if(y=(l.flags&128)!==0,j=L.rendering,j===null)if(y)yu(L,!1);else{if(ln!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(j=_c(o),j!==null){for(l.flags|=128,yu(L,!1),y=j.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=f,f=l.child;f!==null;)L=f,o=y,L.flags&=14680066,j=L.alternate,j===null?(L.childLanes=0,L.lanes=o,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=j.childLanes,L.lanes=j.lanes,L.child=j.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=j.memoizedProps,L.memoizedState=j.memoizedState,L.updateQueue=j.updateQueue,L.type=j.type,o=j.dependencies,L.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Nr(Fr,Fr.current&1|2),l.child}o=o.sibling}L.tail!==null&&we()>gl&&(l.flags|=128,y=!0,yu(L,!1),l.lanes=4194304)}else{if(!y)if(o=_c(j),o!==null){if(l.flags|=128,y=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),yu(L,!0),L.tail===null&&L.tailMode==="hidden"&&!j.alternate&&!Rr)return Bn(l),null}else 2*we()-L.renderingStartTime>gl&&f!==1073741824&&(l.flags|=128,y=!0,yu(L,!1),l.lanes=4194304);L.isBackwards?(j.sibling=l.child,l.child=j):(f=L.last,f!==null?f.sibling=j:l.child=j,L.last=j)}return L.tail!==null?(l=L.tail,L.rendering=l,L.tail=l.sibling,L.renderingStartTime=we(),l.sibling=null,f=Fr.current,Nr(Fr,y?f&1|2:f&1),l):(Bn(l),null);case 22:case 23:return ph(),y=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(l.flags|=8192),y&&l.mode&1?Ri&1073741824&&(Bn(l),l.subtreeFlags&6&&(l.flags|=8192)):Bn(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function Dy(o,l){switch(Sd(l),l.tag){case 1:return pi(l.type)&&Ec(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return hl(),Dr(hi),Dr(In),Bd(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return Id(l),null;case 13:if(Dr(Fr),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));ul()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Dr(Fr),null;case 4:return hl(),null;case 10:return Od(l.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var Wc=!1,_n=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,St=null;function vl(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){jr(o,l,y)}else f.current=null}function rh(o,l,f){try{f()}catch(y){jr(o,l,y)}}var Bv=!1;function Ry(o,l){if(Jn=xt,o=wc(),eu(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var E=y.anchorOffset,L=y.focusNode;y=y.focusOffset;try{f.nodeType,L.nodeType}catch{f=null;break e}var j=0,oe=-1,me=-1,Pe=0,Xe=0,tt=o,Je=null;t:for(;;){for(var kt;tt!==f||E!==0&&tt.nodeType!==3||(oe=j+E),tt!==L||y!==0&&tt.nodeType!==3||(me=j+y),tt.nodeType===3&&(j+=tt.nodeValue.length),(kt=tt.firstChild)!==null;)Je=tt,tt=kt;for(;;){if(tt===o)break t;if(Je===f&&++Pe===E&&(oe=j),Je===L&&++Xe===y&&(me=j),(kt=tt.nextSibling)!==null)break;tt=Je,Je=tt.parentNode}tt=kt}f=oe===-1||me===-1?null:{start:oe,end:me}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ur={focusedElem:o,selectionRange:f},xt=!1,St=l;St!==null;)if(l=St,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,St=o;else for(;St!==null;){l=St;try{var Et=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var At=Et.memoizedProps,Qr=Et.memoizedState,Me=l.stateNode,ke=Me.getSnapshotBeforeUpdate(l.elementType===l.type?At:fa(l.type,At),Qr);Me.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var De=l.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(it){jr(l,l.return,it)}if(o=l.sibling,o!==null){o.return=l.return,St=o;break}St=l.return}return Et=Bv,Bv=!1,Et}function wu(o,l,f){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var E=y=y.next;do{if((E.tag&o)===o){var L=E.destroy;E.destroy=void 0,L!==void 0&&rh(l,f,L)}E=E.next}while(E!==y)}}function Gc(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==l)}}function nh(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function _v(o){var l=o.alternate;l!==null&&(o.alternate=null,_v(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[mn],delete l[Ao],delete l[wd],delete l[vy],delete l[my])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Fv(o){return o.tag===5||o.tag===3||o.tag===4}function qv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Fv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ih(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Cr));else if(y!==4&&(o=o.child,o!==null))for(ih(o,l,f),o=o.sibling;o!==null;)ih(o,l,f),o=o.sibling}function ah(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(ah(o,l,f),o=o.sibling;o!==null;)ah(o,l,f),o=o.sibling}var xn=null,da=!1;function Bo(o,l,f){for(f=f.child;f!==null;)zv(o,l,f),f=f.sibling}function zv(o,l,f){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(vr,f)}catch{}switch(f.tag){case 5:_n||vl(f,l);case 6:var y=xn,E=da;xn=null,Bo(o,l,f),xn=y,da=E,xn!==null&&(da?(o=xn,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):xn.removeChild(f.stateNode));break;case 18:xn!==null&&(da?(o=xn,f=f.stateNode,o.nodeType===8?Lr(o.parentNode,f):o.nodeType===1&&Lr(o,f),Te(o)):Lr(xn,f.stateNode));break;case 4:y=xn,E=da,xn=f.stateNode.containerInfo,da=!0,Bo(o,l,f),xn=y,da=E;break;case 0:case 11:case 14:case 15:if(!_n&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){E=y=y.next;do{var L=E,j=L.destroy;L=L.tag,j!==void 0&&(L&2||L&4)&&rh(f,l,j),E=E.next}while(E!==y)}Bo(o,l,f);break;case 1:if(!_n&&(vl(f,l),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(oe){jr(f,l,oe)}Bo(o,l,f);break;case 21:Bo(o,l,f);break;case 22:f.mode&1?(_n=(y=_n)||f.memoizedState!==null,Bo(o,l,f),_n=y):Bo(o,l,f);break;default:Bo(o,l,f)}}function Hv(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new Ly),l.forEach(function(y){var E=Vy.bind(null,o,y);f.has(y)||(f.add(y),y.then(E,E))})}}function ha(o,l){var f=l.deletions;if(f!==null)for(var y=0;y<f.length;y++){var E=f[y];try{var L=o,j=l,oe=j;e:for(;oe!==null;){switch(oe.tag){case 5:xn=oe.stateNode,da=!1;break e;case 3:xn=oe.stateNode.containerInfo,da=!0;break e;case 4:xn=oe.stateNode.containerInfo,da=!0;break e}oe=oe.return}if(xn===null)throw Error(r(160));zv(L,j,E),xn=null,da=!1;var me=E.alternate;me!==null&&(me.return=null),E.return=null}catch(Pe){jr(E,l,Pe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Vv(l,o),l=l.sibling}function Vv(o,l){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ha(l,o),Na(o),y&4){try{wu(3,o,o.return),Gc(3,o)}catch(At){jr(o,o.return,At)}try{wu(5,o,o.return)}catch(At){jr(o,o.return,At)}}break;case 1:ha(l,o),Na(o),y&512&&f!==null&&vl(f,f.return);break;case 5:if(ha(l,o),Na(o),y&512&&f!==null&&vl(f,f.return),o.flags&32){var E=o.stateNode;try{Wt(E,"")}catch(At){jr(o,o.return,At)}}if(y&4&&(E=o.stateNode,E!=null)){var L=o.memoizedProps,j=f!==null?f.memoizedProps:L,oe=o.type,me=o.updateQueue;if(o.updateQueue=null,me!==null)try{oe==="input"&&L.type==="radio"&&L.name!=null&&jt(E,L),Ir(oe,j);var Pe=Ir(oe,L);for(j=0;j<me.length;j+=2){var Xe=me[j],tt=me[j+1];Xe==="style"?Mr(E,tt):Xe==="dangerouslySetInnerHTML"?zt(E,tt):Xe==="children"?Wt(E,tt):te(E,Xe,tt,Pe)}switch(oe){case"input":Er(E,L);break;case"textarea":xi(E,L);break;case"select":var Je=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!L.multiple;var kt=L.value;kt!=null?Or(E,!!L.multiple,kt,!1):Je!==!!L.multiple&&(L.defaultValue!=null?Or(E,!!L.multiple,L.defaultValue,!0):Or(E,!!L.multiple,L.multiple?[]:"",!1))}E[Ao]=L}catch(At){jr(o,o.return,At)}}break;case 6:if(ha(l,o),Na(o),y&4){if(o.stateNode===null)throw Error(r(162));E=o.stateNode,L=o.memoizedProps;try{E.nodeValue=L}catch(At){jr(o,o.return,At)}}break;case 3:if(ha(l,o),Na(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Te(l.containerInfo)}catch(At){jr(o,o.return,At)}break;case 4:ha(l,o),Na(o);break;case 13:ha(l,o),Na(o),E=o.child,E.flags&8192&&(L=E.memoizedState!==null,E.stateNode.isHidden=L,!L||E.alternate!==null&&E.alternate.memoizedState!==null||(lh=we())),y&4&&Hv(o);break;case 22:if(Xe=f!==null&&f.memoizedState!==null,o.mode&1?(_n=(Pe=_n)||Xe,ha(l,o),_n=Pe):ha(l,o),Na(o),y&8192){if(Pe=o.memoizedState!==null,(o.stateNode.isHidden=Pe)&&!Xe&&o.mode&1)for(St=o,Xe=o.child;Xe!==null;){for(tt=St=Xe;St!==null;){switch(Je=St,kt=Je.child,Je.tag){case 0:case 11:case 14:case 15:wu(4,Je,Je.return);break;case 1:vl(Je,Je.return);var Et=Je.stateNode;if(typeof Et.componentWillUnmount=="function"){y=Je,f=Je.return;try{l=y,Et.props=l.memoizedProps,Et.state=l.memoizedState,Et.componentWillUnmount()}catch(At){jr(y,f,At)}}break;case 5:vl(Je,Je.return);break;case 22:if(Je.memoizedState!==null){jv(tt);continue}}kt!==null?(kt.return=Je,St=kt):jv(tt)}Xe=Xe.sibling}e:for(Xe=null,tt=o;;){if(tt.tag===5){if(Xe===null){Xe=tt;try{E=tt.stateNode,Pe?(L=E.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(oe=tt.stateNode,me=tt.memoizedProps.style,j=me!=null&&me.hasOwnProperty("display")?me.display:null,oe.style.display=wr("display",j))}catch(At){jr(o,o.return,At)}}}else if(tt.tag===6){if(Xe===null)try{tt.stateNode.nodeValue=Pe?"":tt.memoizedProps}catch(At){jr(o,o.return,At)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===o)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===o)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===o)break e;Xe===tt&&(Xe=null),tt=tt.return}Xe===tt&&(Xe=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:ha(l,o),Na(o),y&4&&Hv(o);break;case 21:break;default:ha(l,o),Na(o)}}function Na(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(Fv(f)){var y=f;break e}f=f.return}throw Error(r(160))}switch(y.tag){case 5:var E=y.stateNode;y.flags&32&&(Wt(E,""),y.flags&=-33);var L=qv(o);ah(o,L,E);break;case 3:case 4:var j=y.stateNode.containerInfo,oe=qv(o);ih(o,oe,j);break;default:throw Error(r(161))}}catch(me){jr(o,o.return,me)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Iy(o,l,f){St=o,$v(o)}function $v(o,l,f){for(var y=(o.mode&1)!==0;St!==null;){var E=St,L=E.child;if(E.tag===22&&y){var j=E.memoizedState!==null||Wc;if(!j){var oe=E.alternate,me=oe!==null&&oe.memoizedState!==null||_n;oe=Wc;var Pe=_n;if(Wc=j,(_n=me)&&!Pe)for(St=E;St!==null;)j=St,me=j.child,j.tag===22&&j.memoizedState!==null?Wv(E):me!==null?(me.return=j,St=me):Wv(E);for(;L!==null;)St=L,$v(L),L=L.sibling;St=E,Wc=oe,_n=Pe}Uv(o)}else E.subtreeFlags&8772&&L!==null?(L.return=E,St=L):Uv(o)}}function Uv(o){for(;St!==null;){var l=St;if(l.flags&8772){var f=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:_n||Gc(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!_n)if(f===null)y.componentDidMount();else{var E=l.elementType===l.type?f.memoizedProps:fa(l.type,f.memoizedProps);y.componentDidUpdate(E,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var L=l.updateQueue;L!==null&&jp(l,L,y);break;case 3:var j=l.updateQueue;if(j!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}jp(l,j,f)}break;case 5:var oe=l.stateNode;if(f===null&&l.flags&4){f=oe;var me=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&f.focus();break;case"img":me.src&&(f.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Pe=l.alternate;if(Pe!==null){var Xe=Pe.memoizedState;if(Xe!==null){var tt=Xe.dehydrated;tt!==null&&Te(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}_n||l.flags&512&&nh(l)}catch(Je){jr(l,l.return,Je)}}if(l===o){St=null;break}if(f=l.sibling,f!==null){f.return=l.return,St=f;break}St=l.return}}function jv(o){for(;St!==null;){var l=St;if(l===o){St=null;break}var f=l.sibling;if(f!==null){f.return=l.return,St=f;break}St=l.return}}function Wv(o){for(;St!==null;){var l=St;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Gc(4,l)}catch(me){jr(l,f,me)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var E=l.return;try{y.componentDidMount()}catch(me){jr(l,E,me)}}var L=l.return;try{nh(l)}catch(me){jr(l,L,me)}break;case 5:var j=l.return;try{nh(l)}catch(me){jr(l,j,me)}}}catch(me){jr(l,l.return,me)}if(l===o){St=null;break}var oe=l.sibling;if(oe!==null){oe.return=l.return,St=oe;break}St=l.return}}var Py=Math.ceil,Kc=ne.ReactCurrentDispatcher,oh=ne.ReactCurrentOwner,Ki=ne.ReactCurrentBatchConfig,dr=0,yn=null,rn=null,Tn=0,Ri=0,ml=Do(0),ln=0,ku=null,Es=0,Jc=0,sh=0,bu=null,mi=null,lh=0,gl=1/0,eo=null,Qc=!1,uh=null,_o=null,Xc=!1,Fo=null,Yc=0,Cu=0,ch=null,Zc=-1,ef=0;function Xn(){return dr&6?we():Zc!==-1?Zc:Zc=we()}function qo(o){return o.mode&1?dr&2&&Tn!==0?Tn&-Tn:yy.transition!==null?(ef===0&&(ef=qa()),ef):(o=Zt,o!==0||(o=window.event,o=o===void 0?16:sa(o.type)),o):1}function pa(o,l,f,y){if(50<Cu)throw Cu=0,ch=null,Error(r(185));Ln(o,f,y),(!(dr&2)||o!==yn)&&(o===yn&&(!(dr&2)&&(Jc|=f),ln===4&&zo(o,Tn)),gi(o,y),f===1&&dr===0&&!(l.mode&1)&&(gl=we()+500,Nc&&Ro()))}function gi(o,l){var f=o.callbackNode;vo(o,l);var y=Sn(o,o===yn?Tn:0);if(y===0)f!==null&&K(f),o.callbackNode=null,o.callbackPriority=0;else if(l=y&-y,o.callbackPriority!==l){if(f!=null&&K(f),l===1)o.tag===0?gy(Kv.bind(null,o)):Rp(Kv.bind(null,o)),Oo(function(){!(dr&6)&&Ro()}),f=null;else{switch(ns(y)){case 1:f=et;break;case 4:f=rt;break;case 16:f=ut;break;case 536870912:f=nr;break;default:f=ut}f=rm(f,Gv.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function Gv(o,l){if(Zc=-1,ef=0,dr&6)throw Error(r(327));var f=o.callbackNode;if(yl()&&o.callbackNode!==f)return null;var y=Sn(o,o===yn?Tn:0);if(y===0)return null;if(y&30||y&o.expiredLanes||l)l=tf(o,y);else{l=y;var E=dr;dr|=2;var L=Qv();(yn!==o||Tn!==l)&&(eo=null,gl=we()+500,Ns(o,l));do try{Fy();break}catch(oe){Jv(o,oe)}while(!0);Nd(),Kc.current=L,dr=E,rn!==null?l=0:(yn=null,Tn=0,l=ln)}if(l!==0){if(l===2&&(E=Ca(o),E!==0&&(y=E,l=fh(o,E))),l===1)throw f=ku,Ns(o,0),zo(o,y),gi(o,we()),f;if(l===6)zo(o,y);else{if(E=o.current.alternate,!(y&30)&&!By(E)&&(l=tf(o,y),l===2&&(L=Ca(o),L!==0&&(y=L,l=fh(o,L))),l===1))throw f=ku,Ns(o,0),zo(o,y),gi(o,we()),f;switch(o.finishedWork=E,o.finishedLanes=y,l){case 0:case 1:throw Error(r(345));case 2:Os(o,mi,eo);break;case 3:if(zo(o,y),(y&130023424)===y&&(l=lh+500-we(),10<l)){if(Sn(o,0)!==0)break;if(E=o.suspendedLanes,(E&y)!==y){Xn(),o.pingedLanes|=o.suspendedLanes&E;break}o.timeoutHandle=_r(Os.bind(null,o,mi,eo),l);break}Os(o,mi,eo);break;case 4:if(zo(o,y),(y&4194240)===y)break;for(l=o.eventTimes,E=-1;0<y;){var j=31-en(y);L=1<<j,j=l[j],j>E&&(E=j),y&=~L}if(y=E,y=we()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*Py(y/1960))-y,10<y){o.timeoutHandle=_r(Os.bind(null,o,mi,eo),y);break}Os(o,mi,eo);break;case 5:Os(o,mi,eo);break;default:throw Error(r(329))}}}return gi(o,we()),o.callbackNode===f?Gv.bind(null,o):null}function fh(o,l){var f=bu;return o.current.memoizedState.isDehydrated&&(Ns(o,l).flags|=256),o=tf(o,l),o!==2&&(l=mi,mi=f,l!==null&&dh(l)),o}function dh(o){mi===null?mi=o:mi.push.apply(mi,o)}function By(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var E=f[y],L=E.getSnapshot;E=E.value;try{if(!Ai(L(),E))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function zo(o,l){for(l&=~sh,l&=~Jc,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-en(l),y=1<<f;o[f]=-1,l&=~y}}function Kv(o){if(dr&6)throw Error(r(327));yl();var l=Sn(o,0);if(!(l&1))return gi(o,we()),null;var f=tf(o,l);if(o.tag!==0&&f===2){var y=Ca(o);y!==0&&(l=y,f=fh(o,y))}if(f===1)throw f=ku,Ns(o,0),zo(o,l),gi(o,we()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Os(o,mi,eo),gi(o,we()),null}function hh(o,l){var f=dr;dr|=1;try{return o(l)}finally{dr=f,dr===0&&(gl=we()+500,Nc&&Ro())}}function Ms(o){Fo!==null&&Fo.tag===0&&!(dr&6)&&yl();var l=dr;dr|=1;var f=Ki.transition,y=Zt;try{if(Ki.transition=null,Zt=1,o)return o()}finally{Zt=y,Ki.transition=f,dr=l,!(dr&6)&&Ro()}}function ph(){Ri=ml.current,Dr(ml)}function Ns(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,ys(f)),rn!==null)for(f=rn.return;f!==null;){var y=f;switch(Sd(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Ec();break;case 3:hl(),Dr(hi),Dr(In),Bd();break;case 5:Id(y);break;case 4:hl();break;case 13:Dr(Fr);break;case 19:Dr(Fr);break;case 10:Od(y.type._context);break;case 22:case 23:ph()}f=f.return}if(yn=o,rn=o=Ho(o.current,null),Tn=Ri=l,ln=0,ku=null,sh=Jc=Es=0,mi=bu=null,Ss!==null){for(l=0;l<Ss.length;l++)if(f=Ss[l],y=f.interleaved,y!==null){f.interleaved=null;var E=y.next,L=f.pending;if(L!==null){var j=L.next;L.next=E,y.next=j}f.pending=y}Ss=null}return o}function Jv(o,l){do{var f=rn;try{if(Nd(),Fc.current=Vc,qc){for(var y=qr.memoizedState;y!==null;){var E=y.queue;E!==null&&(E.pending=null),y=y.next}qc=!1}if(Ts=0,gn=sn=qr=null,pu=!1,vu=0,oh.current=null,f===null||f.return===null){ln=1,ku=l,rn=null;break}e:{var L=o,j=f.return,oe=f,me=l;if(l=Tn,oe.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Pe=me,Xe=oe,tt=Xe.tag;if(!(Xe.mode&1)&&(tt===0||tt===11||tt===15)){var Je=Xe.alternate;Je?(Xe.updateQueue=Je.updateQueue,Xe.memoizedState=Je.memoizedState,Xe.lanes=Je.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var kt=kv(j);if(kt!==null){kt.flags&=-257,bv(kt,j,oe,L,l),kt.mode&1&&wv(L,Pe,l),l=kt,me=Pe;var Et=l.updateQueue;if(Et===null){var At=new Set;At.add(me),l.updateQueue=At}else Et.add(me);break e}else{if(!(l&1)){wv(L,Pe,l),vh();break e}me=Error(r(426))}}else if(Rr&&oe.mode&1){var Qr=kv(j);if(Qr!==null){!(Qr.flags&65536)&&(Qr.flags|=256),bv(Qr,j,oe,L,l),Ed(pl(me,oe));break e}}L=me=pl(me,oe),ln!==4&&(ln=2),bu===null?bu=[L]:bu.push(L),L=j;do{switch(L.tag){case 3:L.flags|=65536,l&=-l,L.lanes|=l;var Me=gv(L,me,l);Up(L,Me);break e;case 1:oe=me;var ke=L.type,De=L.stateNode;if(!(L.flags&128)&&(typeof ke.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(_o===null||!_o.has(De)))){L.flags|=65536,l&=-l,L.lanes|=l;var it=yv(L,oe,l);Up(L,it);break e}}L=L.return}while(L!==null)}Yv(f)}catch(Dt){l=Dt,rn===f&&f!==null&&(rn=f=f.return);continue}break}while(!0)}function Qv(){var o=Kc.current;return Kc.current=Vc,o===null?Vc:o}function vh(){(ln===0||ln===3||ln===2)&&(ln=4),yn===null||!(Es&268435455)&&!(Jc&268435455)||zo(yn,Tn)}function tf(o,l){var f=dr;dr|=2;var y=Qv();(yn!==o||Tn!==l)&&(eo=null,Ns(o,l));do try{_y();break}catch(E){Jv(o,E)}while(!0);if(Nd(),dr=f,Kc.current=y,rn!==null)throw Error(r(261));return yn=null,Tn=0,ln}function _y(){for(;rn!==null;)Xv(rn)}function Fy(){for(;rn!==null&&!Y();)Xv(rn)}function Xv(o){var l=tm(o.alternate,o,Ri);o.memoizedProps=o.pendingProps,l===null?Yv(o):rn=l,oh.current=null}function Yv(o){var l=o;do{var f=l.alternate;if(o=l.return,l.flags&32768){if(f=Dy(f,l),f!==null){f.flags&=32767,rn=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ln=6,rn=null;return}}else if(f=Ay(f,l,Ri),f!==null){rn=f;return}if(l=l.sibling,l!==null){rn=l;return}rn=l=o}while(l!==null);ln===0&&(ln=5)}function Os(o,l,f){var y=Zt,E=Ki.transition;try{Ki.transition=null,Zt=1,qy(o,l,f,y)}finally{Ki.transition=E,Zt=y}return null}function qy(o,l,f,y){do yl();while(Fo!==null);if(dr&6)throw Error(r(327));f=o.finishedWork;var E=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var L=f.lanes|f.childLanes;if(Ha(o,L),o===yn&&(rn=yn=null,Tn=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Xc||(Xc=!0,rm(ut,function(){return yl(),null})),L=(f.flags&15990)!==0,f.subtreeFlags&15990||L){L=Ki.transition,Ki.transition=null;var j=Zt;Zt=1;var oe=dr;dr|=4,oh.current=null,Ry(o,f),Vv(f,o),yd(Ur),xt=!!Jn,Ur=Jn=null,o.current=f,Iy(f),le(),dr=oe,Zt=j,Ki.transition=L}else o.current=f;if(Xc&&(Xc=!1,Fo=o,Yc=E),L=o.pendingLanes,L===0&&(_o=null),ia(f.stateNode),gi(o,we()),l!==null)for(y=o.onRecoverableError,f=0;f<l.length;f++)E=l[f],y(E.value,{componentStack:E.stack,digest:E.digest});if(Qc)throw Qc=!1,o=uh,uh=null,o;return Yc&1&&o.tag!==0&&yl(),L=o.pendingLanes,L&1?o===ch?Cu++:(Cu=0,ch=o):Cu=0,Ro(),null}function yl(){if(Fo!==null){var o=ns(Yc),l=Ki.transition,f=Zt;try{if(Ki.transition=null,Zt=16>o?16:o,Fo===null)var y=!1;else{if(o=Fo,Fo=null,Yc=0,dr&6)throw Error(r(331));var E=dr;for(dr|=4,St=o.current;St!==null;){var L=St,j=L.child;if(St.flags&16){var oe=L.deletions;if(oe!==null){for(var me=0;me<oe.length;me++){var Pe=oe[me];for(St=Pe;St!==null;){var Xe=St;switch(Xe.tag){case 0:case 11:case 15:wu(8,Xe,L)}var tt=Xe.child;if(tt!==null)tt.return=Xe,St=tt;else for(;St!==null;){Xe=St;var Je=Xe.sibling,kt=Xe.return;if(_v(Xe),Xe===Pe){St=null;break}if(Je!==null){Je.return=kt,St=Je;break}St=kt}}}var Et=L.alternate;if(Et!==null){var At=Et.child;if(At!==null){Et.child=null;do{var Qr=At.sibling;At.sibling=null,At=Qr}while(At!==null)}}St=L}}if(L.subtreeFlags&2064&&j!==null)j.return=L,St=j;else e:for(;St!==null;){if(L=St,L.flags&2048)switch(L.tag){case 0:case 11:case 15:wu(9,L,L.return)}var Me=L.sibling;if(Me!==null){Me.return=L.return,St=Me;break e}St=L.return}}var ke=o.current;for(St=ke;St!==null;){j=St;var De=j.child;if(j.subtreeFlags&2064&&De!==null)De.return=j,St=De;else e:for(j=ke;St!==null;){if(oe=St,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:Gc(9,oe)}}catch(Dt){jr(oe,oe.return,Dt)}if(oe===j){St=null;break e}var it=oe.sibling;if(it!==null){it.return=oe.return,St=it;break e}St=oe.return}}if(dr=E,Ro(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(vr,o)}catch{}y=!0}return y}finally{Zt=f,Ki.transition=l}}return!1}function Zv(o,l,f){l=pl(f,l),l=gv(o,l,1),o=Po(o,l,1),l=Xn(),o!==null&&(Ln(o,1,l),gi(o,l))}function jr(o,l,f){if(o.tag===3)Zv(o,o,f);else for(;l!==null;){if(l.tag===3){Zv(l,o,f);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(_o===null||!_o.has(y))){o=pl(f,o),o=yv(l,o,1),l=Po(l,o,1),o=Xn(),l!==null&&(Ln(l,1,o),gi(l,o));break}}l=l.return}}function zy(o,l,f){var y=o.pingCache;y!==null&&y.delete(l),l=Xn(),o.pingedLanes|=o.suspendedLanes&f,yn===o&&(Tn&f)===f&&(ln===4||ln===3&&(Tn&130023424)===Tn&&500>we()-lh?Ns(o,0):sh|=f),gi(o,l)}function em(o,l){l===0&&(o.mode&1?(l=Kn,Kn<<=1,!(Kn&130023424)&&(Kn=4194304)):l=1);var f=Xn();o=Xa(o,l),o!==null&&(Ln(o,l,f),gi(o,f))}function Hy(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),em(o,f)}function Vy(o,l){var f=0;switch(o.tag){case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(f=E.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(l),em(o,f)}var tm;tm=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||hi.current)vi=!0;else{if(!(o.lanes&f)&&!(l.flags&128))return vi=!1,Oy(o,l,f);vi=!!(o.flags&131072)}else vi=!1,Rr&&l.flags&1048576&&Ip(l,Ac,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;jc(o,l),o=l.pendingProps;var E=ol(l,In.current);dl(l,f),E=qd(null,l,y,o,E,f);var L=zd();return l.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,pi(y)?(L=!0,Mc(l)):L=!1,l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Ld(l),E.updater=$c,l.stateNode=E,E._reactInternals=l,Wd(l,y,o,f),l=Qd(null,l,y,!0,L,f)):(l.tag=0,Rr&&L&&Cd(l),Qn(null,l,E,f),l=l.child),l;case 16:y=l.elementType;e:{switch(jc(o,l),o=l.pendingProps,E=y._init,y=E(y._payload),l.type=y,E=l.tag=Uy(y),o=fa(y,o),E){case 0:l=Jd(null,l,y,o,f);break e;case 1:l=Mv(null,l,y,o,f);break e;case 11:l=Cv(null,l,y,o,f);break e;case 14:l=Sv(null,l,y,fa(y.type,o),f);break e}throw Error(r(306,y,""))}return l;case 0:return y=l.type,E=l.pendingProps,E=l.elementType===y?E:fa(y,E),Jd(o,l,y,E,f);case 1:return y=l.type,E=l.pendingProps,E=l.elementType===y?E:fa(y,E),Mv(o,l,y,E,f);case 3:e:{if(Nv(l),o===null)throw Error(r(387));y=l.pendingProps,L=l.memoizedState,E=L.element,$p(o,l),Bc(l,y,null,f);var j=l.memoizedState;if(y=j.element,L.isDehydrated)if(L={element:y,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},l.updateQueue.baseState=L,l.memoizedState=L,l.flags&256){E=pl(Error(r(423)),l),l=Ov(o,l,y,f,E);break e}else if(y!==E){E=pl(Error(r(424)),l),l=Ov(o,l,y,f,E);break e}else for(Li=Ta(l.stateNode.containerInfo.firstChild),Di=l,Rr=!0,ca=null,f=Hp(l,null,y,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ul(),y===E){l=Za(o,l,f);break e}Qn(o,l,y,f)}l=l.child}return l;case 5:return Wp(l),o===null&&Td(l),y=l.type,E=l.pendingProps,L=o!==null?o.memoizedProps:null,j=E.children,vn(y,E)?j=null:L!==null&&vn(y,L)&&(l.flags|=32),Ev(o,l),Qn(o,l,j,f),l.child;case 6:return o===null&&Td(l),null;case 13:return Av(o,l,f);case 4:return Rd(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=cl(l,null,y,f):Qn(o,l,y,f),l.child;case 11:return y=l.type,E=l.pendingProps,E=l.elementType===y?E:fa(y,E),Cv(o,l,y,E,f);case 7:return Qn(o,l,l.pendingProps,f),l.child;case 8:return Qn(o,l,l.pendingProps.children,f),l.child;case 12:return Qn(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(y=l.type._context,E=l.pendingProps,L=l.memoizedProps,j=E.value,Nr(Rc,y._currentValue),y._currentValue=j,L!==null)if(Ai(L.value,j)){if(L.children===E.children&&!hi.current){l=Za(o,l,f);break e}}else for(L=l.child,L!==null&&(L.return=l);L!==null;){var oe=L.dependencies;if(oe!==null){j=L.child;for(var me=oe.firstContext;me!==null;){if(me.context===y){if(L.tag===1){me=Ya(-1,f&-f),me.tag=2;var Pe=L.updateQueue;if(Pe!==null){Pe=Pe.shared;var Xe=Pe.pending;Xe===null?me.next=me:(me.next=Xe.next,Xe.next=me),Pe.pending=me}}L.lanes|=f,me=L.alternate,me!==null&&(me.lanes|=f),Ad(L.return,f,l),oe.lanes|=f;break}me=me.next}}else if(L.tag===10)j=L.type===l.type?null:L.child;else if(L.tag===18){if(j=L.return,j===null)throw Error(r(341));j.lanes|=f,oe=j.alternate,oe!==null&&(oe.lanes|=f),Ad(j,f,l),j=L.sibling}else j=L.child;if(j!==null)j.return=L;else for(j=L;j!==null;){if(j===l){j=null;break}if(L=j.sibling,L!==null){L.return=j.return,j=L;break}j=j.return}L=j}Qn(o,l,E.children,f),l=l.child}return l;case 9:return E=l.type,y=l.pendingProps.children,dl(l,f),E=Wi(E),y=y(E),l.flags|=1,Qn(o,l,y,f),l.child;case 14:return y=l.type,E=fa(y,l.pendingProps),E=fa(y.type,E),Sv(o,l,y,E,f);case 15:return xv(o,l,l.type,l.pendingProps,f);case 17:return y=l.type,E=l.pendingProps,E=l.elementType===y?E:fa(y,E),jc(o,l),l.tag=1,pi(y)?(o=!0,Mc(l)):o=!1,dl(l,f),vv(l,y,E),Wd(l,y,E,f),Qd(null,l,y,!0,o,f);case 19:return Lv(o,l,f);case 22:return Tv(o,l,f)}throw Error(r(156,l.tag))};function rm(o,l){return _(o,l)}function $y(o,l,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(o,l,f,y){return new $y(o,l,f,y)}function mh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Uy(o){if(typeof o=="function")return mh(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Ge)return 11;if(o===Pt)return 14}return 2}function Ho(o,l){var f=o.alternate;return f===null?(f=Ji(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function rf(o,l,f,y,E,L){var j=2;if(y=o,typeof o=="function")mh(o)&&(j=1);else if(typeof o=="string")j=5;else e:switch(o){case be:return As(f.children,E,L,l);case Ne:j=8,E|=8;break;case Ee:return o=Ji(12,f,l,E|2),o.elementType=Ee,o.lanes=L,o;case Ct:return o=Ji(13,f,l,E),o.elementType=Ct,o.lanes=L,o;case Mt:return o=Ji(19,f,l,E),o.elementType=Mt,o.lanes=L,o;case It:return nf(f,E,L,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case je:j=10;break e;case ct:j=9;break e;case Ge:j=11;break e;case Pt:j=14;break e;case Nt:j=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=Ji(j,f,l,E),l.elementType=o,l.type=y,l.lanes=L,l}function As(o,l,f,y){return o=Ji(7,o,y,l),o.lanes=f,o}function nf(o,l,f,y){return o=Ji(22,o,y,l),o.elementType=It,o.lanes=f,o.stateNode={isHidden:!1},o}function gh(o,l,f){return o=Ji(6,o,null,l),o.lanes=f,o}function yh(o,l,f){return l=Ji(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function jy(o,l,f,y,E){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=y,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function wh(o,l,f,y,E,L,j,oe,me){return o=new jy(o,l,f,oe,me),l===1?(l=1,L===!0&&(l|=8)):l=0,L=Ji(3,null,null,l),o.current=L,L.stateNode=o,L.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(L),o}function Wy(o,l,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:y==null?null:""+y,children:o,containerInfo:l,implementation:f}}function nm(o){if(!o)return Lo;o=o._reactInternals;e:{if(ot(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(pi(f))return Dp(o,f,l)}return l}function im(o,l,f,y,E,L,j,oe,me){return o=wh(f,y,!0,o,E,L,j,oe,me),o.context=nm(null),f=o.current,y=Xn(),E=qo(f),L=Ya(y,E),L.callback=l??null,Po(f,L,E),o.current.lanes=E,Ln(o,E,y),gi(o,y),o}function af(o,l,f,y){var E=l.current,L=Xn(),j=qo(E);return f=nm(f),l.context===null?l.context=f:l.pendingContext=f,l=Ya(L,j),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=Po(E,l,j),o!==null&&(pa(o,E,j,L),Pc(o,E,j)),j}function of(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function am(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function kh(o,l){am(o,l),(o=o.alternate)&&am(o,l)}var om=typeof reportError=="function"?reportError:function(o){console.error(o)};function bh(o){this._internalRoot=o}sf.prototype.render=bh.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));af(o,l,null,null)},sf.prototype.unmount=bh.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ms(function(){af(null,o,null,null)}),l[$i]=null}};function sf(o){this._internalRoot=o}sf.prototype.unstable_scheduleHydration=function(o){if(o){var l=Ei();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Ni.length&&l!==0&&l<Ni[f].priority;f++);Ni.splice(f,0,o),f===0&&go(o)}};function Ch(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function lf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function sm(){}function Gy(o,l,f,y,E){if(E){if(typeof y=="function"){var L=y;y=function(){var Pe=of(j);L.call(Pe)}}var j=im(l,y,o,0,null,!1,!1,"",sm);return o._reactRootContainer=j,o[$i]=j.current,ye(o.nodeType===8?o.parentNode:o),Ms(),j}for(;E=o.lastChild;)o.removeChild(E);if(typeof y=="function"){var oe=y;y=function(){var Pe=of(me);oe.call(Pe)}}var me=wh(o,0,!1,null,null,!1,!1,"",sm);return o._reactRootContainer=me,o[$i]=me.current,ye(o.nodeType===8?o.parentNode:o),Ms(function(){af(l,me,f,y)}),me}function uf(o,l,f,y,E){var L=f._reactRootContainer;if(L){var j=L;if(typeof E=="function"){var oe=E;E=function(){var me=of(j);oe.call(me)}}af(l,j,o,E)}else j=Gy(f,l,o,E,y);return of(j)}is=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=aa(l.pendingLanes);f!==0&&(Sa(l,f|1),gi(l,we()),!(dr&6)&&(gl=we()+500,Ro()))}break;case 13:Ms(function(){var y=Xa(o,1);if(y!==null){var E=Xn();pa(y,o,1,E)}}),kh(o,1)}},zi=function(o){if(o.tag===13){var l=Xa(o,134217728);if(l!==null){var f=Xn();pa(l,o,134217728,f)}kh(o,134217728)}},Ti=function(o){if(o.tag===13){var l=qo(o),f=Xa(o,l);if(f!==null){var y=Xn();pa(f,o,l,y)}kh(o,l)}},Ei=function(){return Zt},Va=function(o,l){var f=Zt;try{return Zt=o,l()}finally{Zt=f}},jn=function(o,l,f){switch(l){case"input":if(Er(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var y=f[l];if(y!==o&&y.form===o.form){var E=Tc(y);if(!E)throw Error(r(90));Ve(y),Er(y,E)}}}break;case"textarea":xi(o,f);break;case"select":l=f.value,l!=null&&Or(o,!!f.multiple,l,!1)}},kr=hh,Kr=Ms;var Ky={usingClientEntryPoint:!1,Events:[uu,il,Tc,Vr,Wn,hh]},Su={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jy={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=C(o),o===null?null:o.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{vr=cf.inject(Jy),Pr=cf}catch{}}return Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky,Qi.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ch(l))throw Error(r(200));return Wy(o,l,null,f)},Qi.createRoot=function(o,l){if(!Ch(o))throw Error(r(299));var f=!1,y="",E=om;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),l=wh(o,1,!1,null,null,f,!1,y,E),o[$i]=l.current,ye(o.nodeType===8?o.parentNode:o),new bh(l)},Qi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=C(l),o=o===null?null:o.stateNode,o},Qi.flushSync=function(o){return Ms(o)},Qi.hydrate=function(o,l,f){if(!lf(l))throw Error(r(200));return uf(null,o,l,!0,f)},Qi.hydrateRoot=function(o,l,f){if(!Ch(o))throw Error(r(405));var y=f!=null&&f.hydratedSources||null,E=!1,L="",j=om;if(f!=null&&(f.unstable_strictMode===!0&&(E=!0),f.identifierPrefix!==void 0&&(L=f.identifierPrefix),f.onRecoverableError!==void 0&&(j=f.onRecoverableError)),l=im(l,null,o,1,f??null,E,!1,L,j),o[$i]=l.current,ye(o),y)for(o=0;o<y.length;o++)f=y[o],E=f._getVersion,E=E(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,E]:l.mutableSourceEagerHydrationData.push(f,E);return new sf(l)},Qi.render=function(o,l,f){if(!lf(l))throw Error(r(200));return uf(null,o,l,!1,f)},Qi.unmountComponentAtNode=function(o){if(!lf(o))throw Error(r(40));return o._reactRootContainer?(Ms(function(){uf(null,null,o,!1,function(){o._reactRootContainer=null,o[$i]=null})}),!0):!1},Qi.unstable_batchedUpdates=hh,Qi.unstable_renderSubtreeIntoContainer=function(o,l,f,y){if(!lf(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return uf(o,l,f,!1,y)},Qi.version="18.3.1-next-f1338f8080-20240426",Qi}var mC;function EE(){if(mC)return Aw.exports;mC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Aw.exports=nne(),Aw.exports}var gC;function ine(){if(gC)return bm;gC=1;var t=EE();return bm.createRoot=t.createRoot,bm.hydrateRoot=t.hydrateRoot,bm}var ane=ine(),one=EE();/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zh.apply(this,arguments)}var Ml;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ml||(Ml={}));const yC="popstate";function sne(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:u}=n.location;return O1("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:NE(i)}return une(e,r,null,t)}function On(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ME(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lne(){return Math.random().toString(36).substr(2,8)}function wC(t,e){return{usr:t.state,key:t.key,idx:e}}function O1(t,e,r,n){return r===void 0&&(r=null),Zh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qf(e):e,{state:r,key:e&&e.key||n||lne()})}function NE(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function une(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,u=Ml.Pop,c=null,d=m();d==null&&(d=0,s.replaceState(Zh({},s.state,{idx:d}),""));function m(){return(s.state||{idx:null}).idx}function w(){u=Ml.Pop;let R=m(),V=R==null?null:R-d;d=R,c&&c({action:u,location:P.location,delta:V})}function T(R,V){u=Ml.Push;let ee=O1(P.location,R,V);d=m()+1;let te=wC(ee,d),ne=P.createHref(ee);try{s.pushState(te,"",ne)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;i.location.assign(ne)}a&&c&&c({action:u,location:P.location,delta:1})}function M(R,V){u=Ml.Replace;let ee=O1(P.location,R,V);d=m();let te=wC(ee,d),ne=P.createHref(ee);s.replaceState(te,"",ne),a&&c&&c({action:u,location:P.location,delta:0})}function N(R){let V=i.location.origin!=="null"?i.location.origin:i.location.href,ee=typeof R=="string"?R:NE(R);return ee=ee.replace(/ $/,"%20"),On(V,"No window.location.(origin|href) available to create URL for href: "+ee),new URL(ee,V)}let P={get action(){return u},get location(){return t(i,s)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yC,w),c=R,()=>{i.removeEventListener(yC,w),c=null}},createHref(R){return e(i,R)},createURL:N,encodeLocation(R){let V=N(R);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:T,replace:M,go(R){return s.go(R)}};return P}var kC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kC||(kC={}));function cne(t,e,r){return r===void 0&&(r="/"),fne(t,e,r)}function fne(t,e,r,n){let i=typeof e=="string"?Qf(e):e,a=DE(i.pathname||"/",r);if(a==null)return null;let s=OE(t);dne(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let d=xne(a);u=bne(s[c],d)}return u}function OE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(On(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=qu([n,c.relativePath]),m=r.concat(c);a.children&&a.children.length>0&&(On(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),OE(a.children,e,m,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:wne(d,a.index),routesMeta:m})};return t.forEach((a,s)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,s);else for(let c of AE(a.path))i(a,s,c)}),e}function AE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=AE(n.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function dne(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:kne(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hne=/^:[\w-]+$/,pne=3,vne=2,mne=1,gne=10,yne=-2,bC=t=>t==="*";function wne(t,e){let r=t.split("/"),n=r.length;return r.some(bC)&&(n+=yne),e&&(n+=vne),r.filter(i=>!bC(i)).reduce((i,a)=>i+(hne.test(a)?pne:a===""?mne:gne),n)}function kne(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function bne(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let u=0;u<n.length;++u){let c=n[u],d=u===n.length-1,m=a==="/"?e:e.slice(a.length)||"/",w=Cne({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),T=c.route;if(!w)return null;Object.assign(i,w.params),s.push({params:i,pathname:qu([a,w.pathname]),pathnameBase:Ane(qu([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=qu([a,w.pathnameBase]))}return s}function Cne(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Sne(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((d,m,w)=>{let{paramName:T,isOptional:M}=m;if(T==="*"){let P=u[w]||"";s=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const N=u[w];return M&&!N?d[T]=void 0:d[T]=(N||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:t}}function Sne(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ME(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function xne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ME(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Tne(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Qf(t):t;return{pathname:r?r.startsWith("/")?r:Ene(r,e):e,search:Dne(n),hash:Lne(i)}}function Ene(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Rw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mne(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Nne(t,e){let r=Mne(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function One(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Qf(t):(i=Zh({},t),On(!i.pathname||!i.pathname.includes("?"),Rw("?","pathname","search",i)),On(!i.pathname||!i.pathname.includes("#"),Rw("#","pathname","hash",i)),On(!i.search||!i.search.includes("#"),Rw("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=r;else{let w=e.length-1;if(!n&&s.startsWith("..")){let T=s.split("/");for(;T[0]==="..";)T.shift(),w-=1;i.pathname=T.join("/")}u=w>=0?e[w]:"/"}let c=Tne(i,u),d=s&&s!=="/"&&s.endsWith("/"),m=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const qu=t=>t.join("/").replace(/\/\/+/g,"/"),Ane=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Dne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Lne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Rne(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LE=["post","put","patch","delete"];new Set(LE);const Ine=["get",...LE];new Set(Ine);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ep.apply(this,arguments)}const A0=Ae.createContext(null),Pne=Ae.createContext(null),Pg=Ae.createContext(null),Bg=Ae.createContext(null),$l=Ae.createContext({outlet:null,matches:[],isDataRoute:!1}),RE=Ae.createContext(null);function _g(){return Ae.useContext(Bg)!=null}function IE(){return _g()||On(!1),Ae.useContext(Bg).location}function PE(t){Ae.useContext(Pg).static||Ae.useLayoutEffect(t)}function Bne(){let{isDataRoute:t}=Ae.useContext($l);return t?Yne():_ne()}function _ne(){_g()||On(!1);let t=Ae.useContext(A0),{basename:e,future:r,navigator:n}=Ae.useContext(Pg),{matches:i}=Ae.useContext($l),{pathname:a}=IE(),s=JSON.stringify(Nne(i,r.v7_relativeSplatPath)),u=Ae.useRef(!1);return PE(()=>{u.current=!0}),Ae.useCallback(function(d,m){if(m===void 0&&(m={}),!u.current)return;if(typeof d=="number"){n.go(d);return}let w=One(d,JSON.parse(s),a,m.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:qu([e,w.pathname])),(m.replace?n.replace:n.push)(w,m.state,m)},[e,n,s,a,t])}const BE=Ae.createContext(null);function Fne(){return Ae.useContext(BE)}function qne(t){let e=Ae.useContext($l).outlet;return e&&Ae.createElement(BE.Provider,{value:t},e)}function zne(){let{matches:t}=Ae.useContext($l),e=t[t.length-1];return e?e.params:{}}function Hne(t,e){return Vne(t,e)}function Vne(t,e,r,n){_g()||On(!1);let{navigator:i}=Ae.useContext(Pg),{matches:a}=Ae.useContext($l),s=a[a.length-1],u=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=IE(),m;if(e){var w;let R=typeof e=="string"?Qf(e):e;c==="/"||(w=R.pathname)!=null&&w.startsWith(c)||On(!1),m=R}else m=d;let T=m.pathname||"/",M=T;if(c!=="/"){let R=c.replace(/^\//,"").split("/");M="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=cne(t,{pathname:M}),P=Gne(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:qu([c,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?c:qu([c,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,n);return e&&P?Ae.createElement(Bg.Provider,{value:{location:ep({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ml.Pop}},P):P}function $ne(){let t=Xne(),e=Rne(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),r?Ae.createElement("pre",{style:i},r):null,null)}const Une=Ae.createElement($ne,null);class jne extends Ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Ae.createElement($l.Provider,{value:this.props.routeContext},Ae.createElement(RE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wne(t){let{routeContext:e,match:r,children:n}=t,i=Ae.useContext(A0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Ae.createElement($l.Provider,{value:e},n)}function Gne(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,u=(i=r)==null?void 0:i.errors;if(u!=null){let m=s.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);m>=0||On(!1),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<s.length;m++){let w=s[m];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(d=m),w.route.id){let{loaderData:T,errors:M}=r,N=w.route.loader&&T[w.route.id]===void 0&&(!M||M[w.route.id]===void 0);if(w.route.lazy||N){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,w,T)=>{let M,N=!1,P=null,R=null;r&&(M=u&&w.route.id?u[w.route.id]:void 0,P=w.route.errorElement||Une,c&&(d<0&&T===0?(N=!0,R=null):d===T&&(N=!0,R=w.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,T+1)),ee=()=>{let te;return M?te=P:N?te=R:w.route.Component?te=Ae.createElement(w.route.Component,null):w.route.element?te=w.route.element:te=m,Ae.createElement(Wne,{match:w,routeContext:{outlet:m,matches:V,isDataRoute:r!=null},children:te})};return r&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?Ae.createElement(jne,{location:r.location,revalidation:r.revalidation,component:P,error:M,children:ee(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):ee()},null)}var _E=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_E||{}),Zm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zm||{});function Kne(t){let e=Ae.useContext(A0);return e||On(!1),e}function Jne(t){let e=Ae.useContext(Pne);return e||On(!1),e}function Qne(t){let e=Ae.useContext($l);return e||On(!1),e}function FE(t){let e=Qne(),r=e.matches[e.matches.length-1];return r.route.id||On(!1),r.route.id}function Xne(){var t;let e=Ae.useContext(RE),r=Jne(Zm.UseRouteError),n=FE(Zm.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Yne(){let{router:t}=Kne(_E.UseNavigateStable),e=FE(Zm.UseNavigateStable),r=Ae.useRef(!1);return PE(()=>{r.current=!0}),Ae.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ep({fromRouteId:e},a)))},[t,e])}const CC={};function Zne(t,e){CC[e]||(CC[e]=!0,console.warn(e))}const SC=(t,e,r)=>Zne(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function eie(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&SC("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&SC("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function tie(t){return qne(t.context)}function Bh(t){On(!1)}function rie(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ml.Pop,navigator:a,static:s=!1,future:u}=t;_g()&&On(!1);let c=e.replace(/^\/*/,"/"),d=Ae.useMemo(()=>({basename:c,navigator:a,static:s,future:ep({v7_relativeSplatPath:!1},u)}),[c,u,a,s]);typeof n=="string"&&(n=Qf(n));let{pathname:m="/",search:w="",hash:T="",state:M=null,key:N="default"}=n,P=Ae.useMemo(()=>{let R=DE(m,c);return R==null?null:{location:{pathname:R,search:w,hash:T,state:M,key:N},navigationType:i}},[c,m,w,T,M,N,i]);return P==null?null:Ae.createElement(Pg.Provider,{value:d},Ae.createElement(Bg.Provider,{children:r,value:P}))}function nie(t){let{children:e,location:r}=t;return Hne(A1(e),r)}new Promise(()=>{});function A1(t,e){e===void 0&&(e=[]);let r=[];return Ae.Children.forEach(t,(n,i)=>{if(!Ae.isValidElement(n))return;let a=[...e,i];if(n.type===Ae.Fragment){r.push.apply(r,A1(n.props.children,a));return}n.type!==Bh&&On(!1),!n.props.index||!n.props.children||On(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=A1(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const iie="6";try{window.__reactRouterVersion=iie}catch{}const aie="startTransition",xC=ene[aie];function oie(t){let{basename:e,children:r,future:n,window:i}=t,a=Ae.useRef();a.current==null&&(a.current=sne({window:i,v5Compat:!0}));let s=a.current,[u,c]=Ae.useState({action:s.action,location:s.location}),{v7_startTransition:d}=n||{},m=Ae.useCallback(w=>{d&&xC?xC(()=>c(w)):c(w)},[c,d]);return Ae.useLayoutEffect(()=>s.listen(m),[s,m]),Ae.useEffect(()=>eie(n),[n]),Ae.createElement(rie,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:s,future:n})}var TC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TC||(TC={}));var EC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(EC||(EC={}));var D0=bp(),Xt=t=>kp(t,D0),L0=bp();Xt.write=t=>kp(t,L0);var Fg=bp();Xt.onStart=t=>kp(t,Fg);var R0=bp();Xt.onFrame=t=>kp(t,R0);var I0=bp();Xt.onFinish=t=>kp(t,I0);var Nf=[];Xt.setTimeout=(t,e)=>{const r=Xt.now()+e,n=()=>{const a=Nf.findIndex(s=>s.cancel==n);~a&&Nf.splice(a,1),Ol-=~a?1:0},i={time:r,handler:t,cancel:n};return Nf.splice(qE(r),0,i),Ol+=1,zE(),i};var qE=t=>~(~Nf.findIndex(e=>e.time>t)||~Nf.length);Xt.cancel=t=>{Fg.delete(t),R0.delete(t),I0.delete(t),D0.delete(t),L0.delete(t)};Xt.sync=t=>{D1=!0,Xt.batchedUpdates(t),D1=!1};Xt.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,Xt.onStart(r)}return n.handler=t,n.cancel=()=>{Fg.delete(r),e=null},n};var P0=typeof window<"u"?window.requestAnimationFrame:()=>{};Xt.use=t=>P0=t;Xt.now=typeof performance<"u"?()=>performance.now():Date.now;Xt.batchedUpdates=t=>t();Xt.catch=console.error;Xt.frameLoop="always";Xt.advance=()=>{Xt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):VE()};var Nl=-1,Ol=0,D1=!1;function kp(t,e){D1?(e.delete(t),t(0)):(e.add(t),zE())}function zE(){Nl<0&&(Nl=0,Xt.frameLoop!=="demand"&&P0(HE))}function sie(){Nl=-1}function HE(){~Nl&&(P0(HE),Xt.batchedUpdates(VE))}function VE(){const t=Nl;Nl=Xt.now();const e=qE(Nl);if(e&&($E(Nf.splice(0,e),r=>r.handler()),Ol-=e),!Ol){sie();return}Fg.flush(),D0.flush(t?Math.min(64,Nl-t):16.667),R0.flush(),L0.flush(),I0.flush()}function bp(){let t=new Set,e=t;return{add(r){Ol+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return Ol-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,Ol-=e.size,$E(e,n=>n(r)&&t.add(n)),Ol+=t.size,e=t)}}}function $E(t,e){t.forEach(r=>{try{e(r)}catch(n){Xt.catch(n)}})}var lie=Object.defineProperty,uie=(t,e)=>{for(var r in e)lie(t,r,{get:e[r],enumerable:!0})},co={};uie(co,{assign:()=>fie,colors:()=>Rl,createStringInterpolator:()=>_0,skipAnimation:()=>jE,to:()=>UE,willAdvance:()=>F0});function L1(){}var cie=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),st={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Fs(t,e){if(st.arr(t)){if(!st.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var lr=(t,e)=>t.forEach(e);function Qo(t,e,r){if(st.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var ka=t=>st.und(t)?[]:st.arr(t)?t:[t];function Uh(t,e){if(t.size){const r=Array.from(t);t.clear(),lr(r,e)}}var _h=(t,...e)=>Uh(t,r=>r(...e)),B0=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_0,UE,Rl=null,jE=!1,F0=L1,fie=t=>{t.to&&(UE=t.to),t.now&&(Xt.now=t.now),t.colors!==void 0&&(Rl=t.colors),t.skipAnimation!=null&&(jE=t.skipAnimation),t.createStringInterpolator&&(_0=t.createStringInterpolator),t.requestAnimationFrame&&Xt.use(t.requestAnimationFrame),t.batchedUpdates&&(Xt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(F0=t.willAdvance),t.frameLoop&&(Xt.frameLoop=t.frameLoop)},jh=new Set,Ra=[],Iw=[],eg=0,qg={get idle(){return!jh.size&&!Ra.length},start(t){eg>t.priority?(jh.add(t),Xt.onStart(die)):(WE(t),Xt(R1))},advance:R1,sort(t){if(eg)Xt.onFrame(()=>qg.sort(t));else{const e=Ra.indexOf(t);~e&&(Ra.splice(e,1),GE(t))}},clear(){Ra=[],jh.clear()}};function die(){jh.forEach(WE),jh.clear(),Xt(R1)}function WE(t){Ra.includes(t)||GE(t)}function GE(t){Ra.splice(hie(Ra,e=>e.priority>t.priority),0,t)}function R1(t){const e=Iw;for(let r=0;r<Ra.length;r++){const n=Ra[r];eg=n.priority,n.idle||(F0(n),n.advance(t),n.idle||e.push(n))}return eg=0,Iw=Ra,Iw.length=0,Ra=e,Ra.length>0}function hie(t,e){const r=t.findIndex(e);return r<0?t.length:r}var pie=(t,e,r)=>Math.min(Math.max(r,t),e),vie={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},oo="[-+]?\\d*\\.?\\d+",tg=oo+"%";function zg(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var mie=new RegExp("rgb"+zg(oo,oo,oo)),gie=new RegExp("rgba"+zg(oo,oo,oo,oo)),yie=new RegExp("hsl"+zg(oo,tg,tg)),wie=new RegExp("hsla"+zg(oo,tg,tg,oo)),kie=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bie=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Cie=/^#([0-9a-fA-F]{6})$/,Sie=/^#([0-9a-fA-F]{8})$/;function xie(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Cie.exec(t))?parseInt(e[1]+"ff",16)>>>0:Rl&&Rl[t]!==void 0?Rl[t]:(e=mie.exec(t))?(mf(e[1])<<24|mf(e[2])<<16|mf(e[3])<<8|255)>>>0:(e=gie.exec(t))?(mf(e[1])<<24|mf(e[2])<<16|mf(e[3])<<8|OC(e[4]))>>>0:(e=kie.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Sie.exec(t))?parseInt(e[1],16)>>>0:(e=bie.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=yie.exec(t))?(MC(NC(e[1]),Cm(e[2]),Cm(e[3]))|255)>>>0:(e=wie.exec(t))?(MC(NC(e[1]),Cm(e[2]),Cm(e[3]))|OC(e[4]))>>>0:null}function Pw(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function MC(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,a=Pw(i,n,t+1/3),s=Pw(i,n,t),u=Pw(i,n,t-1/3);return Math.round(a*255)<<24|Math.round(s*255)<<16|Math.round(u*255)<<8}function mf(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function NC(t){return(parseFloat(t)%360+360)%360/360}function OC(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Cm(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function AC(t){let e=xie(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,a=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${a})`}var tp=(t,e,r)=>{if(st.fun(t))return t;if(st.arr(t))return tp({range:t,output:e,extrapolate:r});if(st.str(t.output[0]))return _0(t);const n=t,i=n.output,a=n.range||[0,1],s=n.extrapolateLeft||n.extrapolate||"extend",u=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(d=>d);return d=>{const m=Eie(d,a);return Tie(d,a[m],a[m+1],i[m],i[m+1],c,s,u,n.map)}};function Tie(t,e,r,n,i,a,s,u,c){let d=c?c(t):t;if(d<e){if(s==="identity")return d;s==="clamp"&&(d=e)}if(d>r){if(u==="identity")return d;u==="clamp"&&(d=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?d=-d:r===1/0?d=d-e:d=(d-e)/(r-e),d=a(d),n===-1/0?d=-d:i===1/0?d=d+n:d=d*(i-n)+n,d)}function Eie(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var Mie=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return pie(0,1,i/t)},rg=1.70158,Sm=rg*1.525,DC=rg+1,LC=2*Math.PI/3,RC=2*Math.PI/4.5,xm=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Nie={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>DC*t*t*t-rg*t*t,easeOutBack:t=>1+DC*Math.pow(t-1,3)+rg*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Sm+1)*2*t-Sm)/2:(Math.pow(2*t-2,2)*((Sm+1)*(t*2-2)+Sm)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*LC),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*LC)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*RC))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*RC)/2+1,easeInBounce:t=>1-xm(1-t),easeOutBounce:xm,easeInOutBounce:t=>t<.5?(1-xm(1-2*t))/2:(1+xm(2*t-1))/2,steps:Mie},rp=Symbol.for("FluidValue.get"),If=Symbol.for("FluidValue.observers"),La=t=>!!(t&&t[rp]),Yi=t=>t&&t[rp]?t[rp]():t,IC=t=>t[If]||null;function Oie(t,e){t.eventObserved?t.eventObserved(e):t(e)}function np(t,e){const r=t[If];r&&r.forEach(n=>{Oie(n,e)})}var KE=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");Aie(this,t)}},Aie=(t,e)=>JE(t,rp,e);function Xf(t,e){if(t[rp]){let r=t[If];r||JE(t,If,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function ip(t,e){const r=t[If];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[If]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var JE=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),zm=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Die=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,PC=new RegExp(`(${zm.source})(%|[a-z]+)`,"i"),Lie=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Hg=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,QE=t=>{const[e,r]=Rie(t);if(!e||B0())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&Hg.test(r))return QE(r);if(r)return r}return t},Rie=t=>{const e=Hg.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},Bw,Iie=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,XE=t=>{Bw||(Bw=Rl?new RegExp(`(${Object.keys(Rl).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(a=>Yi(a).replace(Hg,QE).replace(Die,AC).replace(Bw,AC)),r=e.map(a=>a.match(zm).map(Number)),i=r[0].map((a,s)=>r.map(u=>{if(!(s in u))throw Error('The arity of each "output" value must be equal');return u[s]})).map(a=>tp({...t,output:a}));return a=>{var c;const s=!PC.test(e[0])&&((c=e.find(d=>PC.test(d)))==null?void 0:c.replace(zm,""));let u=0;return e[0].replace(zm,()=>`${i[u++](a)}${s||""}`).replace(Lie,Iie)}},q0="react-spring: ",YE=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${q0}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},Pie=YE(console.warn);function Bie(){Pie(`${q0}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var _ie=YE(console.warn);function Fie(){_ie(`${q0}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Vg(t){return st.str(t)&&(t[0]=="#"||/\d/.test(t)||!B0()&&Hg.test(t)||t in(Rl||{}))}var $g=B0()?Ae.useEffect:Ae.useLayoutEffect,qie=()=>{const t=Ae.useRef(!1);return $g(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function ZE(){const t=Ae.useState()[1],e=qie();return()=>{e.current&&t(Math.random())}}function zie(t,e){const[r]=Ae.useState(()=>({inputs:e,result:t()})),n=Ae.useRef(),i=n.current;let a=i;return a?a.inputs&&Hie(e,a.inputs)||(a={inputs:e,result:t()}):a=r,Ae.useEffect(()=>{n.current=a,i==r&&(r.inputs=r.result=void 0)},[a]),a.result}function Hie(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var eM=t=>Ae.useEffect(t,Vie),Vie=[];function BC(t){const e=Ae.useRef();return Ae.useEffect(()=>{e.current=t}),e.current}var ap=Symbol.for("Animated:node"),$ie=t=>!!t&&t[ap]===t,Wo=t=>t&&t[ap],z0=(t,e)=>cie(t,ap,e),Ug=t=>t&&t[ap]&&t[ap].getPayload(),tM=class{constructor(){z0(this,this)}getPayload(){return this.payload||[]}},Cp=class extends tM{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,st.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Cp(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return st.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,st.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},op=class extends Cp{constructor(t){super(0),this._string=null,this._toString=tp({output:[t,t]})}static create(t){return new op(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(st.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=tp({output:[this.getValue(),t]})),this._value=0,super.reset()}},ng={dependencies:null},jg=class extends tM{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Qo(this.source,(r,n)=>{$ie(r)?e[n]=r.getValue(t):La(r)?e[n]=Yi(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&lr(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Qo(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){ng.dependencies&&La(t)&&ng.dependencies.add(t);const e=Ug(t);e&&lr(e,r=>this.add(r))}},rM=class extends jg{constructor(t){super(t)}static create(t){return new rM(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(Uie)),!0)}};function Uie(t){return(Vg(t)?op:Cp).create(t)}function I1(t){const e=Wo(t);return e?e.constructor:st.arr(t)?rM:Vg(t)?op:Cp}var _C=(t,e)=>{const r=!st.fun(t)||t.prototype&&t.prototype.isReactComponent;return Ae.forwardRef((n,i)=>{const a=Ae.useRef(null),s=r&&Ae.useCallback(N=>{a.current=Gie(i,N)},[i]),[u,c]=Wie(n,e),d=ZE(),m=()=>{const N=a.current;if(r&&!N)return;(N?e.applyAnimatedValues(N,u.getValue(!0)):!1)===!1&&d()},w=new jie(m,c),T=Ae.useRef();$g(()=>(T.current=w,lr(c,N=>Xf(N,w)),()=>{T.current&&(lr(T.current.deps,N=>ip(N,T.current)),Xt.cancel(T.current.update))})),Ae.useEffect(m,[]),eM(()=>()=>{const N=T.current;lr(N.deps,P=>ip(P,N))});const M=e.getComponentProps(u.getValue());return Ae.createElement(t,{...M,ref:s})})},jie=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Xt.write(this.update)}};function Wie(t,e){const r=new Set;return ng.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new jg(t),ng.dependencies=null,[t,r]}function Gie(t,e){return t&&(st.fun(t)?t(e):t.current=e),e}var FC=Symbol.for("AnimatedComponent"),Kie=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new jg(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},a=s=>{const u=qC(s)||"Anonymous";return st.str(s)?s=a[s]||(a[s]=_C(s,i)):s=s[FC]||(s[FC]=_C(s,i)),s.displayName=`Animated(${u})`,s};return Qo(t,(s,u)=>{st.arr(t)&&(u=qC(s)),a[u]=a(s)}),{animated:a}},qC=t=>st.str(t)?t:t&&st.str(t.displayName)?t.displayName:st.fun(t)&&t.name||null;function Lu(t,...e){return st.fun(t)?t(...e):t}var Wh=(t,e)=>t===!0||!!(e&&t&&(st.fun(t)?t(e):ka(t).includes(e))),nM=(t,e)=>st.obj(t)?e&&t[e]:t,iM=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Jie=t=>t,H0=(t,e=Jie)=>{let r=Qie;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const a=e(t[i],i);st.und(a)||(n[i]=a)}return n},Qie=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Xie={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Yie(t){const e={};let r=0;if(Qo(t,(n,i)=>{Xie[i]||(e[i]=n,r++)}),r)return e}function aM(t){const e=Yie(t);if(e){const r={to:e};return Qo(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function sp(t){return t=Yi(t),st.arr(t)?t.map(sp):Vg(t)?co.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Zie(t){for(const e in t)return!0;return!1}function P1(t){return st.fun(t)||st.arr(t)&&st.obj(t[0])}function eae(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function oM(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var Fh={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},B1={...Fh.default,mass:1,damping:1,easing:Nie.linear,clamp:!1},tae=class{constructor(){this.velocity=0,Object.assign(this,B1)}};function rae(t,e,r){r&&(r={...r},zC(r,e),e={...r,...e}),zC(t,e),Object.assign(t,e);for(const s in B1)t[s]==null&&(t[s]=B1[s]);let{frequency:n,damping:i}=t;const{mass:a}=t;return st.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*a,t.friction=4*Math.PI*i*a/n),t}function zC(t,e){if(!st.und(e.decay))t.duration=void 0;else{const r=!st.und(e.tension)||!st.und(e.friction);(r||!st.und(e.frequency)||!st.und(e.damping)||!st.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var HC=[],nae=class{constructor(){this.changed=!1,this.values=HC,this.toValues=null,this.fromValues=HC,this.config=new tae,this.immediate=!1}};function sM(t,{key:e,props:r,defaultProps:n,state:i,actions:a}){return new Promise((s,u)=>{let c,d,m=Wh(r.cancel??(n==null?void 0:n.cancel),e);if(m)M();else{st.und(r.pause)||(i.paused=Wh(r.pause,e));let N=n==null?void 0:n.pause;N!==!0&&(N=i.paused||Wh(N,e)),c=Lu(r.delay||0,e),N?(i.resumeQueue.add(T),a.pause()):(a.resume(),T())}function w(){i.resumeQueue.add(T),i.timeouts.delete(d),d.cancel(),c=d.time-Xt.now()}function T(){c>0&&!co.skipAnimation?(i.delayed=!0,d=Xt.setTimeout(M,c),i.pauseQueue.add(w),i.timeouts.add(d)):M()}function M(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(w),i.timeouts.delete(d),t<=(i.cancelId||0)&&(m=!0);try{a.start({...r,callId:t,cancel:m},s)}catch(N){u(N)}}})}var V0=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?Of(t.get()):e.every(r=>r.noop)?lM(t.get()):no(t.get(),e.every(r=>r.finished)),lM=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),no=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),Of=t=>({value:t,cancelled:!0,finished:!1});function uM(t,e,r,n){const{callId:i,parentId:a,onRest:s}=e,{asyncTo:u,promise:c}=r;return!a&&t===u&&!e.reset?c:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const d=H0(e,(R,V)=>V==="onRest"?void 0:R);let m,w;const T=new Promise((R,V)=>(m=R,w=V)),M=R=>{const V=i<=(r.cancelId||0)&&Of(n)||i!==r.asyncId&&no(n,!1);if(V)throw R.result=V,w(R),R},N=(R,V)=>{const ee=new VC,te=new $C;return(async()=>{if(co.skipAnimation)throw lp(r),te.result=no(n,!1),w(te),te;M(ee);const ne=st.obj(R)?{...R}:{...V,to:R};ne.parentId=i,Qo(d,(ue,be)=>{st.und(ne[be])&&(ne[be]=ue)});const pe=await n.start(ne);return M(ee),r.paused&&await new Promise(ue=>{r.resumeQueue.add(ue)}),pe})()};let P;if(co.skipAnimation)return lp(r),no(n,!1);try{let R;st.arr(t)?R=(async V=>{for(const ee of V)await N(ee)})(t):R=Promise.resolve(t(N,n.stop.bind(n))),await Promise.all([R.then(m),T]),P=no(n.get(),!0,!1)}catch(R){if(R instanceof VC)P=R.result;else if(R instanceof $C)P=R.result;else throw R}finally{i==r.asyncId&&(r.asyncId=a,r.asyncTo=a?u:void 0,r.promise=a?c:void 0)}return st.fun(s)&&Xt.batchedUpdates(()=>{s(P,n,n.item)}),P})()}function lp(t,e){Uh(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var VC=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},$C=class extends Error{constructor(){super("SkipAnimationSignal")}},_1=t=>t instanceof $0,iae=1,$0=class extends KE{constructor(){super(...arguments),this.id=iae++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Wo(this);return t&&t.getValue()}to(...t){return co.to(this,t)}interpolate(...t){return Bie(),co.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){np(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||qg.sort(this),np(this,{type:"priority",parent:this,priority:t})}},ju=Symbol.for("SpringPhase"),cM=1,fM=2,dM=4,_w=t=>(t[ju]&cM)>0,wl=t=>(t[ju]&fM)>0,Eh=t=>(t[ju]&dM)>0,UC=(t,e)=>e?t[ju]|=fM|cM:t[ju]&=-3,jC=(t,e)=>e?t[ju]|=dM:t[ju]&=-5,aae=class extends $0{constructor(t,e){if(super(),this.animation=new nae,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!st.und(t)||!st.und(e)){const r=st.obj(t)?{...t}:{...e,from:t};st.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(wl(this)||this._state.asyncTo)||Eh(this)}get goal(){return Yi(this.animation.to)}get velocity(){const t=Wo(this);return t instanceof Cp?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return _w(this)}get isAnimating(){return wl(this)}get isPaused(){return Eh(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:a}=n,s=Ug(n.to);!s&&La(n.to)&&(i=ka(Yi(n.to))),n.values.forEach((d,m)=>{if(d.done)return;const w=d.constructor==op?1:s?s[m].lastPosition:i[m];let T=n.immediate,M=w;if(!T){if(M=d.lastPosition,a.tension<=0){d.done=!0;return}let N=d.elapsedTime+=t;const P=n.fromValues[m],R=d.v0!=null?d.v0:d.v0=st.arr(a.velocity)?a.velocity[m]:a.velocity;let V;const ee=a.precision||(P==w?.005:Math.min(1,Math.abs(w-P)*.001));if(st.und(a.duration))if(a.decay){const te=a.decay===!0?.998:a.decay,ne=Math.exp(-(1-te)*N);M=P+R/(1-te)*(1-ne),T=Math.abs(d.lastPosition-M)<=ee,V=R*ne}else{V=d.lastVelocity==null?R:d.lastVelocity;const te=a.restVelocity||ee/10,ne=a.clamp?0:a.bounce,pe=!st.und(ne),ue=P==w?d.v0>0:P<w;let be,Ne=!1;const Ee=1,je=Math.ceil(t/Ee);for(let ct=0;ct<je&&(be=Math.abs(V)>te,!(!be&&(T=Math.abs(w-M)<=ee,T)));++ct){pe&&(Ne=M==w||M>w==ue,Ne&&(V=-V*ne,M=w));const Ge=-a.tension*1e-6*(M-w),Ct=-a.friction*.001*V,Mt=(Ge+Ct)/a.mass;V=V+Mt*Ee,M=M+V*Ee}}else{let te=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,d.durationProgress>0&&(d.elapsedTime=a.duration*d.durationProgress,N=d.elapsedTime+=t)),te=(a.progress||0)+N/this._memoizedDuration,te=te>1?1:te<0?0:te,d.durationProgress=te),M=P+a.easing(te)*(w-P),V=(M-d.lastPosition)/t,T=te==1}d.lastVelocity=V,Number.isNaN(M)&&(console.warn("Got NaN while animating:",this),T=!0)}s&&!s[m].done&&(T=!1),T?d.done=!0:e=!1,d.setValue(M,a.round)&&(r=!0)});const u=Wo(this),c=u.getValue();if(e){const d=Yi(n.to);(c!==d||r)&&!a.decay?(u.setValue(d),this._onChange(d)):r&&a.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(t){return Xt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(wl(this)){const{to:t,config:e}=this.animation;Xt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return st.und(t)?(r=this.queue||[],this.queue=[]):r=[st.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>V0(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),lp(this._state,t&&this._lastCallId),Xt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=st.obj(r)?r[e]:r,(r==null||P1(r))&&(r=void 0),n=st.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return _w(this)||(t.reverse&&([r,n]=[n,r]),n=Yi(n),st.und(n)?Wo(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,H0(t,(s,u)=>/^on/.test(u)?nM(s,r):s)),GC(this,t,"onProps"),Nh(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return sM(++this._lastCallId,{key:r,props:t,defaultProps:n,state:a,actions:{pause:()=>{Eh(this)||(jC(this,!0),_h(a.pauseQueue),Nh(this,"onPause",no(this,Mh(this,this.animation.to)),this))},resume:()=>{Eh(this)&&(jC(this,!1),wl(this)&&this._resume(),_h(a.resumeQueue),Nh(this,"onResume",no(this,Mh(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(s=>{if(t.loop&&s.finished&&!(e&&s.noop)){const u=hM(t);if(u)return this._update(u,!0)}return s})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(Of(this));const n=!st.und(t.to),i=!st.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(Of(this));const{key:a,defaultProps:s,animation:u}=this,{to:c,from:d}=u;let{to:m=c,from:w=d}=t;i&&!n&&(!e.default||st.und(m))&&(m=w),e.reverse&&([m,w]=[w,m]);const T=!Fs(w,d);T&&(u.from=w),w=Yi(w);const M=!Fs(m,c);M&&this._focus(m);const N=P1(e.to),{config:P}=u,{decay:R,velocity:V}=P;(n||i)&&(P.velocity=0),e.config&&!N&&rae(P,Lu(e.config,a),e.config!==s.config?Lu(s.config,a):void 0);let ee=Wo(this);if(!ee||st.und(m))return r(no(this,!0));const te=st.und(e.reset)?i&&!e.default:!st.und(w)&&Wh(e.reset,a),ne=te?w:this.get(),pe=sp(m),ue=st.num(pe)||st.arr(pe)||Vg(pe),be=!N&&(!ue||Wh(s.immediate||e.immediate,a));if(M){const ct=I1(m);if(ct!==ee.constructor)if(be)ee=this._set(pe);else throw Error(`Cannot animate between ${ee.constructor.name} and ${ct.name}, as the "to" prop suggests`)}const Ne=ee.constructor;let Ee=La(m),je=!1;if(!Ee){const ct=te||!_w(this)&&T;(M||ct)&&(je=Fs(sp(ne),pe),Ee=!je),(!Fs(u.immediate,be)&&!be||!Fs(P.decay,R)||!Fs(P.velocity,V))&&(Ee=!0)}if(je&&wl(this)&&(u.changed&&!te?Ee=!0:Ee||this._stop(c)),!N&&((Ee||La(c))&&(u.values=ee.getPayload(),u.toValues=La(m)?null:Ne==op?[1]:ka(pe)),u.immediate!=be&&(u.immediate=be,!be&&!te&&this._set(c)),Ee)){const{onRest:ct}=u;lr(sae,Ct=>GC(this,e,Ct));const Ge=no(this,Mh(this,c));_h(this._pendingCalls,Ge),this._pendingCalls.add(r),u.changed&&Xt.batchedUpdates(()=>{var Ct;u.changed=!te,ct==null||ct(Ge,this),te?Lu(s.onRest,Ge):(Ct=u.onStart)==null||Ct.call(u,Ge,this)})}te&&this._set(ne),N?r(uM(e.to,e,this._state,this)):Ee?this._start():wl(this)&&!M?this._pendingCalls.add(r):r(lM(ne))}_focus(t){const e=this.animation;t!==e.to&&(IC(this)&&this._detach(),e.to=t,IC(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;La(e)&&(Xf(e,this),_1(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;La(t)&&ip(t,this)}_set(t,e=!0){const r=Yi(t);if(!st.und(r)){const n=Wo(this);if(!n||!Fs(r,n.getValue())){const i=I1(r);!n||n.constructor!=i?z0(this,i.create(r)):n.setValue(r),n&&Xt.batchedUpdates(()=>{this._onChange(r,e)})}}return Wo(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Nh(this,"onStart",no(this,Mh(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Lu(this.animation.onChange,t,this)),Lu(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Wo(this).reset(Yi(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),wl(this)||(UC(this,!0),Eh(this)||this._resume())}_resume(){co.skipAnimation?this.finish():qg.start(this)}_stop(t,e){if(wl(this)){UC(this,!1);const r=this.animation;lr(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),np(this,{type:"idle",parent:this});const n=e?Of(this.get()):no(this.get(),Mh(this,t??r.to));_h(this._pendingCalls,n),r.changed&&(r.changed=!1,Nh(this,"onRest",n,this))}}};function Mh(t,e){const r=sp(e),n=sp(t.get());return Fs(n,r)}function hM(t,e=t.loop,r=t.to){const n=Lu(e);if(n){const i=n!==!0&&aM(n),a=(i||t).reverse,s=!i||i.reset;return up({...t,loop:e,default:!1,pause:void 0,to:!a||P1(r)?r:void 0,from:s?t.from:void 0,reset:s,...i})}}function up(t){const{to:e,from:r}=t=aM(t),n=new Set;return st.obj(e)&&WC(e,n),st.obj(r)&&WC(r,n),t.keys=n.size?Array.from(n):null,t}function oae(t){const e=up(t);return st.und(e.default)&&(e.default=H0(e)),e}function WC(t,e){Qo(t,(r,n)=>r!=null&&e.add(n))}var sae=["onStart","onRest","onChange","onPause","onResume"];function GC(t,e,r){t.animation[r]=e[r]!==iM(e,r)?nM(e[r],t.key):void 0}function Nh(t,e,...r){var n,i,a,s;(i=(n=t.animation)[e])==null||i.call(n,...r),(s=(a=t.defaultProps)[e])==null||s.call(a,...r)}var lae=["onStart","onChange","onRest"],uae=1,cae=class{constructor(t,e){this.id=uae++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];st.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(up(t)),this}start(t){let{queue:e}=this;return t?e=ka(t).map(up):this.queue=[],this._flush?this._flush(this,e):(yM(this,e),F1(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;lr(ka(e),n=>r[n].stop(!!t))}else lp(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(st.und(t))this.start({pause:!0});else{const e=this.springs;lr(ka(t),r=>e[r].pause())}return this}resume(t){if(st.und(t))this.start({pause:!1});else{const e=this.springs;lr(ka(t),r=>e[r].resume())}return this}each(t){Qo(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,Uh(t,([u,c])=>{c.value=this.get(),u(c,this,this._item)}));const a=!n&&this._started,s=i||a&&r.size?this.get():null;i&&e.size&&Uh(e,([u,c])=>{c.value=s,u(c,this,this._item)}),a&&(this._started=!1,Uh(r,([u,c])=>{c.value=s,u(c,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Xt.onFrame(this._onFrame)}};function F1(t,e){return Promise.all(e.map(r=>pM(t,r))).then(r=>V0(t,r))}async function pM(t,e,r){const{keys:n,to:i,from:a,loop:s,onRest:u,onResolve:c}=e,d=st.obj(e.default)&&e.default;s&&(e.loop=!1),i===!1&&(e.to=null),a===!1&&(e.from=null);const m=st.arr(i)||st.fun(i)?i:void 0;m?(e.to=void 0,e.onRest=void 0,d&&(d.onRest=void 0)):lr(lae,P=>{const R=e[P];if(st.fun(R)){const V=t._events[P];e[P]=({finished:ee,cancelled:te})=>{const ne=V.get(R);ne?(ee||(ne.finished=!1),te&&(ne.cancelled=!0)):V.set(R,{value:null,finished:ee||!1,cancelled:te||!1})},d&&(d[P]=e[P])}});const w=t._state;e.pause===!w.paused?(w.paused=e.pause,_h(e.pause?w.pauseQueue:w.resumeQueue)):w.paused&&(e.pause=!0);const T=(n||Object.keys(t.springs)).map(P=>t.springs[P].start(e)),M=e.cancel===!0||iM(e,"cancel")===!0;(m||M&&w.asyncId)&&T.push(sM(++t._lastAsyncId,{props:e,state:w,actions:{pause:L1,resume:L1,start(P,R){M?(lp(w,t._lastAsyncId),R(Of(t))):(P.onRest=u,R(uM(m,P,w,t)))}}})),w.paused&&await new Promise(P=>{w.resumeQueue.add(P)});const N=V0(t,await Promise.all(T));if(s&&N.finished&&!(r&&N.noop)){const P=hM(e,s,i);if(P)return yM(t,[P]),pM(t,P,!0)}return c&&Xt.batchedUpdates(()=>c(N,t,t.item)),N}function KC(t,e){const r={...t.springs};return e&&lr(ka(e),n=>{st.und(n.keys)&&(n=up(n)),st.obj(n.to)||(n={...n,to:void 0}),gM(r,n,i=>mM(i))}),vM(t,r),r}function vM(t,e){Qo(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,Xf(r,t))})}function mM(t,e){const r=new aae;return r.key=t,e&&Xf(r,e),r}function gM(t,e,r){e.keys&&lr(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function yM(t,e){lr(e,r=>{gM(t.springs,r,n=>mM(n,t))})}var Wg=({children:t,...e})=>{const r=Ae.useContext(ig),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=zie(()=>({pause:n,immediate:i}),[n,i]);const{Provider:a}=ig;return Ae.createElement(a,{value:e},t)},ig=fae(Wg,{});Wg.Provider=ig.Provider;Wg.Consumer=ig.Consumer;function fae(t,e){return Object.assign(t,Ae.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var dae=()=>{const t=[],e=function(n){Fie();const i=[];return lr(t,(a,s)=>{if(st.und(n))i.push(a.start());else{const u=r(n,a,s);u&&i.push(a.start(u))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return lr(t,n=>n.pause(...arguments)),this},e.resume=function(){return lr(t,n=>n.resume(...arguments)),this},e.set=function(n){lr(t,(i,a)=>{const s=st.fun(n)?n(a,i):n;s&&i.set(s)})},e.start=function(n){const i=[];return lr(t,(a,s)=>{if(st.und(n))i.push(a.start());else{const u=this._getProps(n,a,s);u&&i.push(a.start(u))}}),i},e.stop=function(){return lr(t,n=>n.stop(...arguments)),this},e.update=function(n){return lr(t,(i,a)=>i.update(this._getProps(n,i,a))),this};const r=function(n,i,a){return st.fun(n)?n(a,i):n};return e._getProps=r,e};function wM(t,e,r){const n=st.fun(e)&&e;n&&!r&&(r=[]);const i=Ae.useMemo(()=>n||arguments.length==3?dae():void 0,[]),a=Ae.useRef(0),s=ZE(),u=Ae.useMemo(()=>({ctrls:[],queue:[],flush(V,ee){const te=KC(V,ee);return a.current>0&&!u.queue.length&&!Object.keys(te).some(pe=>!V.springs[pe])?F1(V,ee):new Promise(pe=>{vM(V,te),u.queue.push(()=>{pe(F1(V,ee))}),s()})}}),[]),c=Ae.useRef([...u.ctrls]),d=[],m=BC(t)||0;Ae.useMemo(()=>{lr(c.current.slice(t,m),V=>{eae(V,i),V.stop(!0)}),c.current.length=t,w(m,t)},[t]),Ae.useMemo(()=>{w(0,Math.min(m,t))},r);function w(V,ee){for(let te=V;te<ee;te++){const ne=c.current[te]||(c.current[te]=new cae(null,u.flush)),pe=n?n(te,ne):e[te];pe&&(d[te]=oae(pe))}}const T=c.current.map((V,ee)=>KC(V,d[ee])),M=Ae.useContext(Wg),N=BC(M),P=M!==N&&Zie(M);$g(()=>{a.current++,u.ctrls=c.current;const{queue:V}=u;V.length&&(u.queue=[],lr(V,ee=>ee())),lr(c.current,(ee,te)=>{i==null||i.add(ee),P&&ee.start({default:M});const ne=d[te];ne&&(oM(ee,ne.ref),ee.ref?ee.queue.push(ne):ee.start(ne))})}),eM(()=>()=>{lr(u.ctrls,V=>V.stop(!0))});const R=T.map(V=>({...V}));return i?[R,i]:R}function Ru(t,e){const r=st.fun(t),[[n],i]=wM(1,r?t:[t],r?[]:e);return r||arguments.length==2?[n,i]:n}function hae(t,e,r){const n=st.fun(e)&&e;n&&!r&&(r=[]);let i=!0,a;const s=wM(t,(u,c)=>{const d=n?n(u,c):e;return a=d.ref,i=i&&d.reverse,d},r||[{}]);if($g(()=>{lr(s[1].current,(u,c)=>{const d=s[1].current[c+(i?1:-1)];if(oM(u,a),u.ref){d&&u.update({to:d.springs});return}d?u.start({to:d.springs}):u.start()})},r),n||arguments.length==3){const u=a??s[1];return u._getProps=(c,d,m)=>{const w=st.fun(c)?c(m,d):c;if(w){const T=u.current[m+(w.reverse?1:-1)];return T&&(w.to=T.springs),w}},s}return s[0]}var pae=class extends $0{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=tp(...e);const r=this._get(),n=I1(r);z0(this,n.create(r))}advance(t){const e=this._get(),r=this.get();Fs(e,r)||(Wo(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&JC(this._active)&&Fw(this)}_get(){const t=st.arr(this.source)?this.source.map(Yi):ka(Yi(this.source));return this.calc(...t)}_start(){this.idle&&!JC(this._active)&&(this.idle=!1,lr(Ug(this),t=>{t.done=!1}),co.skipAnimation?(Xt.batchedUpdates(()=>this.advance()),Fw(this)):qg.start(this))}_attach(){let t=1;lr(ka(this.source),e=>{La(e)&&Xf(e,this),_1(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){lr(ka(this.source),t=>{La(t)&&ip(t,this)}),this._active.clear(),Fw(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=ka(this.source).reduce((e,r)=>Math.max(e,(_1(r)?r.priority:0)+1),0))}};function vae(t){return t.idle!==!1}function JC(t){return!t.size||Array.from(t).every(vae)}function Fw(t){t.idle||(t.idle=!0,lr(Ug(t),e=>{e.done=!0}),np(t,{type:"idle",parent:t}))}co.assign({createStringInterpolator:XE,to:(t,e)=>new pae(t,e)});var kM=/^--/;function mae(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!kM.test(t)&&!(Gh.hasOwnProperty(t)&&Gh[t])?e+"px":(""+e).trim()}var QC={};function gae(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:n,style:i,children:a,scrollTop:s,scrollLeft:u,viewBox:c,...d}=e,m=Object.values(d),w=Object.keys(d).map(T=>r||t.hasAttribute(T)?T:QC[T]||(QC[T]=T.replace(/([A-Z])/g,M=>"-"+M.toLowerCase())));a!==void 0&&(t.textContent=a);for(const T in i)if(i.hasOwnProperty(T)){const M=mae(T,i[T]);kM.test(T)?t.style.setProperty(T,M):t.style[T]=M}w.forEach((T,M)=>{t.setAttribute(T,m[M])}),n!==void 0&&(t.className=n),s!==void 0&&(t.scrollTop=s),u!==void 0&&(t.scrollLeft=u),c!==void 0&&t.setAttribute("viewBox",c)}var Gh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yae=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),wae=["Webkit","Ms","Moz","O"];Gh=Object.keys(Gh).reduce((t,e)=>(wae.forEach(r=>t[yae(r,e)]=t[e]),t),Gh);var kae=/^(matrix|translate|scale|rotate|skew)/,bae=/^(translate)/,Cae=/^(rotate|skew)/,qw=(t,e)=>st.num(t)&&t!==0?t+e:t,Hm=(t,e)=>st.arr(t)?t.every(r=>Hm(r,e)):st.num(t)?t===e:parseFloat(t)===e,Sae=class extends jg{constructor({x:t,y:e,z:r,...n}){const i=[],a=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),a.push(s=>[`translate3d(${s.map(u=>qw(u,"px")).join(",")})`,Hm(s,0)])),Qo(n,(s,u)=>{if(u==="transform")i.push([s||""]),a.push(c=>[c,c===""]);else if(kae.test(u)){if(delete n[u],st.und(s))return;const c=bae.test(u)?"px":Cae.test(u)?"deg":"";i.push(ka(s)),a.push(u==="rotate3d"?([d,m,w,T])=>[`rotate3d(${d},${m},${w},${qw(T,c)})`,Hm(T,0)]:d=>[`${u}(${d.map(m=>qw(m,c)).join(",")})`,Hm(d,u.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new xae(i,a)),super(n)}},xae=class extends KE{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return lr(this.inputs,(r,n)=>{const i=Yi(r[0]),[a,s]=this.transforms[n](st.arr(i)?i:r.map(Yi));t+=" "+a,e=e&&s}),e?"none":t}observerAdded(t){t==1&&lr(this.inputs,e=>lr(e,r=>La(r)&&Xf(r,this)))}observerRemoved(t){t==0&&lr(this.inputs,e=>lr(e,r=>La(r)&&ip(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),np(this,t)}},Tae=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];co.assign({batchedUpdates:one.unstable_batchedUpdates,createStringInterpolator:XE,colors:vie});var Eae=Kie(Tae,{applyAnimatedValues:gae,createAnimatedStyle:t=>new Sae(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),io=Eae.animated;function Mae({textColor:t}){const[e,r]=Ae.useState(!1),n=Ae.useRef(null);Ae.useEffect(()=>{const w=T=>{n.current&&!n.current.contains(T.target)&&r(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[n]);const i=Ru({transform:e?"translateX(0%)":"translateX(100%)",opacity:e?1:0,onRest:()=>{e||r(!1)}}),a=["Home","Intro","Project","Activities"],s=a.map((w,T)=>{const M=e?T*100:(a.length-T-1)*100,N=Ru({transform:e?"translateX(0px)":"translateX(250px)",opacity:e?1:0,delay:M,config:Fh.wobbly});return Ye.jsx(io.button,{style:N,className:"px-10 text-3xl font-bold text-left",onClick:()=>{r(!1),window.location.hash=`#${w}`},children:w},w)}),u=Ru({transform:e?"translateX(0px)":"translateX(250px)",opacity:e?1:0,delay:e?500:100,config:Fh.wobbly}),c=Ru({transform:e?"translateX(0px)":"translateX(250px)",opacity:e?1:0,delay:e?600:0,config:Fh.wobbly}),d=Ru({transform:e?"translateX(0px)":"translateX(250px)",opacity:e?1:0,delay:e?700:200,config:Fh.wobbly}),m=t==="text-black"?{filter:"invert(1)"}:{};return Ye.jsxs("header",{className:"fixed top-0 left-0 z-50 w-full",children:[Ye.jsxs("nav",{className:`flex items-center justify-between px-5 py-5 ${t}`,children:[Ye.jsx("div",{children:"Howu"}),Ye.jsx("div",{onClick:()=>r(!e),children:Ye.jsx("img",{src:"/menu.svg",alt:"Menu",className:"cursor-pointer",style:m})})]}),Ye.jsxs(io.div,{ref:n,style:i,className:"fixed top-0 right-0 w-[400px] h-full bg-black text-white opacity-95",children:[Ye.jsx("button",{onClick:()=>r(!1),className:"absolute text-white top-5 right-5",children:"X"}),Ye.jsx("div",{className:"flex flex-col py-[100px] gap-[24px]",children:s}),Ye.jsxs("div",{className:"flex items-center gap-3 px-10 text-left",children:[Ye.jsx(io.button,{onClick:()=>{window.open("https://blog.howu.run","_blank")},style:u,children:"Blog"}),Ye.jsx(io.div,{style:c,className:"w-[1px] h-3 bg-white"}),Ye.jsx(io.button,{onClick:()=>{window.location.href="mailto:hochoi8621@gmail.com"},style:d,children:"Contact"})]})]})]})}const Nae=()=>{window.location.hash&&history.replaceState(null,"",window.location.pathname+window.location.search)},Oae=()=>{const[t,e]=Ae.useState(0),r=t===0||t===2?"text-white":"text-black";return Ae.useEffect(()=>{e(0),Nae()},[location.pathname,location.search]),Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(Mae,{textColor:r}),Ye.jsx(tie,{context:{activeIndex:t,setActiveIndex:e}})]})};function Aae(t){var e=Ae.useRef();return Ae.useEffect(function(){e.current=t},[t]),e.current}function U0(){var t=typeof window=="object",e=Ae.useState({width:t?window.innerWidth:0,height:t?window.innerHeight:0}),r=e[0],n=e[1];return Ae.useEffect(function(){function i(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[t]),r}var Dae=function(t){var e=t.children,r=Ae.useRef(null),n=Ae.useState([]),i=n[0],a=n[1],s=[],u=Ae.useCallback(function(c){if(c){var d=c.parentNode;d&&d.classList?(s.push(d),u(d)):a(s)}},[]);return Ae.useEffect(function(){var c=r.current;return c&&u(c),i.length&&i.forEach(function(d){d.classList.add("react-fullpage__parents")}),function(){i.forEach(function(d){d.classList.remove("react-fullpage__parents")})}},[u,i]),Ye.jsx("div",{className:"react-fullpage__wrapper",ref:r,children:e})};function Lae(t){var e=t.children,r=t.activeIndex,n=t.allowScroll,i=n===void 0?!0:n,a=t.allowScrollUp,s=a===void 0?!0:a,u=t.allowScrollDown,c=u===void 0?!0:u,d=t.transitionDuration,m=d===void 0?700:d,w=t.setActiveIndex,T=t.onBeforeChange,M=t.onAfterChange,N=t.onAfterLoad,P=t.topScrollOnChange,R=P===void 0?!1:P,V=Ae.useState(0),ee=V[0],te=V[1],ne=Ae.useRef(null),pe=Ae.useState(!1),ue=pe[0],be=pe[1],Ne=Aae(r),Ee=Ae.useState(0),je=Ee[0],ct=Ee[1],Ge=Ae.useState(!1),Ct=Ge[0],Mt=Ge[1],Pt=U0(),Nt=Pt.width,It=Pt.height,Ke=Ae.useCallback(function(){T&&T(Ne,r)},[T,r]),vt=Ae.useCallback(function(){M&&M(Ne,r)},[M,r]);return Ae.useEffect(function(){Ke();var He=setTimeout(function(){be(!1),vt()},m);return function(){return clearTimeout(He)}},[r,Ke,vt]),Ae.useEffect(function(){var He=0;r<0&&w(0),je&&r>je-1&&w(je-1);for(var ve=0;ve<=r;ve+=1)if(ne!==null&&ne.current){var Le=ne.current.children[ve];Le&&ve>0&&(He+=Le.clientHeight||0)}te(He)},[Nt,It,r,w,ne,Ct,je]),Ae.useEffect(function(){ne!==null&&ne.current&&ct(ne.current.childElementCount)},[ne,Ct]),Ae.useEffect(function(){Ct&&N&&N(ne)},[Ct]),Ae.useEffect(function(){return Mt(!0),function(){Mt(!1)}},[]),Ye.jsx(Dae,{children:Ye.jsx("div",{className:"react-fullpage__container",style:{transform:"translate3d(0px, -".concat(ee,"px, 0px)"),transitionDuration:"".concat(m,"ms")},ref:ne,"data-is-animating":ue,children:Ct&&Ae.Children.map(e,function(He,ve){var Le=He;return Ae.cloneElement(Le,{index:ve,activeIndex:r,setActiveIndex:w,sectionCount:je,isAnimating:ue,setIsAnimating:be,allowScroll:i,allowScrollUp:s,allowScrollDown:c,topScrollOnChange:R,transitionDuration:m})})})})}function Rae(t,e){var r=Ae.useState({scrollX:0,scrollY:0,isAtTop:!0,isAtBottom:!1,hasScrollbar:!1}),n=r[0],i=r[1],a=U0().height;return Ae.useEffect(function(){var s=t.current;if(!s)return;function u(){var c=s?s.scrollTop:0,d=c<=0,m=s?s.clientHeight:0,w=e-c<=m+1,T=e>m;i({scrollX:(s==null?void 0:s.scrollLeft)||0,scrollY:(s==null?void 0:s.scrollTop)||0,isAtTop:d,isAtBottom:w,hasScrollbar:T})}return u(),s.addEventListener("scroll",u),function(){s&&s.removeEventListener("scroll",u)}},[t,e,a]),n}function Iae(t){var e=Ae.useState(0),r=e[0],n=e[1],i=Ae.useState(0),a=i[0],s=i[1];return Ae.useEffect(function(){var u=t.current;if(u){var c=function(){var m=u?u.clientWidth:0,w=u?u.clientHeight:0;n(m),s(w)},d=new ResizeObserver(function(){c()});return c(),d.observe(u),function(){return d.disconnect()}}},[t]),{width:r,height:a}}function Pae(){var t=Ae.useState(""),e=t[0],r=t[1];Ae.useEffect(function(){var i=function(){var a=window.location.hash.substring(1);r(a)};return i(),window.addEventListener("hashchange",i),function(){window.removeEventListener("hashchange",i)}},[]);var n=function(i){i?(window.location.hash=i,r(i)):(window.history.replaceState(null,document.title,window.location.pathname),r(""))};return{hashValue:e,updateHash:n}}var XC=30,Bae=function(t,e){var r=Math.atan2(e,t)*(180/Math.PI);return r>=-45&&r<=45?"RIGHT":r>=45&&r<=135?"DOWN":r>=-135&&r<=-45?"UP":"LEFT"},_ae=function(t,e){var r=e.onSwipeStart,n=e.onSwipeEnd;Ae.useEffect(function(){var i,a,s,u,c=!1,d=function(M){!t.current||!M.touches[0]||(i=M.touches[0].clientX,a=M.touches[0].clientY,c=!0,r&&r())},m=function(M){if(!(!c||!t.current||!M.touches[0])){s=M.touches[0].clientX,u=M.touches[0].clientY;var N=s-i,P=u-a;if(Math.abs(N)>XC||Math.abs(P)>XC){var R=Bae(N,P);n&&n(R),c=!1}}},w=function(){c=!1},T=t.current;return T==null||T.addEventListener("touchstart",d,{passive:!0}),T==null||T.addEventListener("touchmove",m,{passive:!0}),T==null||T.addEventListener("touchend",w),function(){T==null||T.removeEventListener("touchstart",d),T==null||T.removeEventListener("touchmove",m),T==null||T.removeEventListener("touchend",w)}},[t,r,n])};function Fae(t){var e=t.contentsRef,r=t.children;return Ye.jsx("div",{className:"react-fullpage__contents",ref:e,children:r})}var qae=function(){var t=Ae.useState({x:0,y:0}),e=t[0],r=t[1],n=function(i){r({x:i.clientX,y:i.clientY})};return Ae.useEffect(function(){return document.addEventListener("mousemove",n),function(){document.removeEventListener("mousemove",n)}},[]),e},zae=function(t){var e=Ae.useState(!1),r=e[0],n=e[1],i=function(){n(!0)},a=function(){n(!1)};return Ae.useEffect(function(){var s="current"in t?t.current:t;if(s)return s.addEventListener("mousedown",i),document.addEventListener("mouseup",a),function(){s.removeEventListener("mousedown",i),document.removeEventListener("mouseup",a)}},[t]),r};function Hae(t){var e=t.contentsHeight,r=t.scrollY,n=t.sectionRef,i=Ae.useRef(null),a=qae().y,s=zae(i),u=Ae.useState(0),c=u[0],d=u[1],m=Ae.useState(0),w=m[0],T=m[1],M=U0(),N=M.width,P=M.height,R=Ae.useState(0),V=R[0],ee=R[1],te=Ae.useState(0),ne=te[0],pe=te[1];return Ae.useEffect(function(){T((100-P/e*100)*(r/(e-P))),d(P/e*100)},[P,e,r]),Ae.useEffect(function(){s&&(ee(a),pe(r))},[s]),Ae.useEffect(function(){if(s){var ue=(a-V)/P*e+ne;n.current&&n.current.scrollTo(0,ue)}},[a,V,N,P,e,ne,s,n]),Ye.jsx("div",{className:"react-fullpage__scrollbar",style:{height:"".concat(e,"px")},children:Ye.jsx("div",{className:"react-fullpage__scrollbar-sticker",style:{height:"".concat(P,"px")},children:Ye.jsx("div",{className:"react-fullpage__scrollbar-container",style:{height:"".concat(P,"px")},children:Ye.jsx("button",{type:"button",ref:i,className:"react-fullpage__scrollbar-handler ".concat(s&&"is-pressed"),style:{top:"".concat(w,"%"),height:"".concat(c,"%")},"data-is-pressed":s})})})})}function Tm(t){var e=t.children,r=t.allowScroll,n=t.allowScrollUp,i=t.allowScrollDown,a=t.isAutoHeight,s=a===void 0?!1:a,u=t.activeIndex,c=t.sectionCount,d=t.isAnimating,m=d===void 0?!1:d,w=t.setActiveIndex,T=t.setIsAnimating,M=t.name,N=M===void 0?"":M,P=t.index,R=P===void 0?0:P,V=t.topScrollOnChange,ee=t.transitionDuration,te=Ae.useRef(null),ne=Ae.useRef(null),pe=Iae(ne).height,ue=Rae(te,pe),be=ue.isAtTop,Ne=ue.isAtBottom,Ee=ue.hasScrollbar,je=ue.scrollY,ct=Ae.useState(!1),Ge=ct[0],Ct=ct[1],Mt=Pae().hashValue,Pt=Ae.useRef(0),Nt=Ae.useState(0),It=Nt[0],Ke=Nt[1],vt=Ae.useState(0),He=vt[0],ve=vt[1],Le=Ae.useRef(null),dt=Ae.useRef(!0);Ae.useEffect(function(){Mt&&Mt===N&&w!==void 0&&w(R)},[Mt,w,R,N]),Ae.useEffect(function(){Ct(be||Ne)},[be,Ne]),Ae.useEffect(function(){if(Ge){var fe=setTimeout(function(){Ct(!1)},300);return function(){return clearTimeout(fe)}}},[Ge]);var mt=function(fe){T===void 0||w===void 0||!r||m||Ge||(T(!0),w(fe))},_t=function(){u===void 0||c===void 0||u>=c-1||!i||u===R&&Ee&&!Ne||mt(u+1)},xe=function(){u===void 0||u<=0||!n||u===R&&Ee&&!be||mt(u-1)},Ce=function(fe){var ce=new Date().getTime();if(ce-Pt.current<300){var _e=It+Math.abs(fe.deltaY);_e>He&&(dt.current=!0),Ke(_e)}else ve(It),Pt.current=ce,Ke(0);dt.current&&(fe.deltaY>0&&_t(),fe.deltaY<0&&xe())};Ae.useEffect(function(){dt.current=!1,Le.current!==null&&clearTimeout(Le.current),Le.current=setTimeout(function(){dt.current=!0,Ke(0)},300)},[It]);var se=function(fe){fe==="UP"&&_t(),fe==="DOWN"&&xe()};return _ae(te,{onSwipeEnd:se}),Ae.useEffect(function(){V&&u!==R&&setTimeout(function(){var fe;(fe=te.current)===null||fe===void 0||fe.scrollTo(0,0)},ee)},[u]),Ye.jsxs("div",{ref:te,onWheel:Ce,className:"react-fullpage__section","data-active":u===R,"data-animating":m,style:{height:"".concat(s?"auto":"100%")},children:[Ye.jsx(Fae,{contentsRef:ne,children:e}),Ee&&!m&&Ye.jsx(Hae,{contentsHeight:pe,scrollY:je,sectionRef:te})]})}function Vae(){const[t,e]=Ae.useState(0),[r,n]=Ae.useState(!0),i=[["  | HOWU","I'm a Frontend","Developer"],[" UX DX"," "," ."]],a=i[t],s=hae(a.length,{config:{mass:5,tension:2e3,friction:200},opacity:1,x:0,height:110,from:{opacity:0,x:20,height:0},reset:!0}),u=()=>{e(d=>(d+1)%i.length),n(!1)},c=d=>{switch(d){case 0:return"text-3xl";case 1:return"text-[60px]";case 2:return"text-[60px]";default:return"text-white"}};return Ye.jsxs("div",{className:"grid w-screen h-screen grid-cols-2 overflow-hidden text-white bg-black",children:[Ye.jsxs("div",{onClick:u,className:"flex flex-col justify-center gap-4 ml-[30%] h-full",children:[r&&Ye.jsx("div",{className:"opacity-40 animate-bounce",children:"click "}),s.map((d,m)=>Ye.jsx(io.div,{className:` font-bold ${c(m)}`,style:{transform:d.x.interpolate(w=>`translate3d(0,${w}px,0)`),opacity:d.opacity},children:a[m]},m)),Ye.jsx("div",{className:"mt-6",children:Ye.jsxs("a",{href:"choiho_resume.pdf",download:"ChoiHo_Resume.pdf",className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"h-[2px] bg-white w-[20px]"})," View My Resume"]})})]}),Ye.jsx("div",{className:"relative flex items-center justify-center h-screen",children:Ye.jsx("div",{className:"absolute z-0 flex justify-center w-[90%] h-full transform skew-y-12 bg-white rounded-full animate-slide-in -bottom-1/4",children:Ye.jsx("img",{src:"me.png",alt:"Choi Ho",className:"z-10 animate-float-up-down"})})})]})}var q1=new Map,Em=new WeakMap,YC=0,$ae=void 0;function Uae(t){return t?(Em.has(t)||(YC+=1,Em.set(t,YC.toString())),Em.get(t)):"0"}function jae(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?Uae(t.root):t[e]}`).toString()}function Wae(t){const e=jae(t);let r=q1.get(e);if(!r){const n=new Map;let i;const a=new IntersectionObserver(s=>{s.forEach(u=>{var c;const d=u.isIntersecting&&i.some(m=>u.intersectionRatio>=m);t.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=d),(c=n.get(u.target))==null||c.forEach(m=>{m(d,u)})})},t);i=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:a,elements:n},q1.set(e,r)}return r}function Gae(t,e,r={},n=$ae){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:i,observer:a,elements:s}=Wae(r),u=s.get(t)||[];return s.has(t)||s.set(t,u),u.push(e),a.observe(t),function(){u.splice(u.indexOf(e),1),u.length===0&&(s.delete(t),a.unobserve(t)),s.size===0&&(a.disconnect(),q1.delete(i))}}function Kae({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:a,skip:s,initialInView:u,fallbackInView:c,onChange:d}={}){var m;const[w,T]=Ae.useState(null),M=Ae.useRef(d),[N,P]=Ae.useState({inView:!!u,entry:void 0});M.current=d,Ae.useEffect(()=>{if(s||!w)return;let te;return te=Gae(w,(ne,pe)=>{P({inView:ne,entry:pe}),M.current&&M.current(ne,pe),pe.isIntersecting&&a&&te&&(te(),te=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},c),()=>{te&&te()}},[Array.isArray(t)?t.toString():t,w,i,n,a,s,r,c,e]);const R=(m=N.entry)==null?void 0:m.target,V=Ae.useRef(void 0);!w&&R&&!a&&!s&&V.current!==R&&(V.current=R,P({inView:!!u,entry:void 0}));const ee=[T,N.inView,N.entry];return ee.ref=ee[0],ee.inView=ee[1],ee.entry=ee[2],ee}function Jae(){const[t,e]=Kae({triggerOnce:!1,threshold:.5}),r=(c,d)=>Ru({to:{opacity:e?1:0,transform:e?"translate(0%, 0%)":`translate(${c}vw, ${d}vh)`},from:{opacity:0,transform:`translate(${c}vw, ${d}vh)`},config:{duration:1e3}}),[n]=Ru(()=>({opacity:1,transform:"translate(0%, 0%)",from:{opacity:0,transform:"translate(0%, -100vh)"},config:{duration:1e3}})),i=r(-100,-100),a=r(100,-100),s=r(-100,100),u=r(100,100);return Ye.jsxs("div",{ref:t,className:"flex flex-col items-center justify-center w-screen h-screen overflow-hidden text-black bg-white",children:[Ye.jsx("div",{className:"w-72 h-72",children:Ye.jsx("img",{src:"developer.svg"})}),Ye.jsxs(io.div,{className:"text-left text-[48px] font-bold",style:n,children:[" ",Ye.jsx("p",{className:"inline text-accent",children:"UX DX "})," Front-end   ."]}),Ye.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8 text-[#5c5c5c]",children:[Ye.jsxs(io.div,{style:i,className:"p-4 w-[370px]",children:[Ye.jsxs("div",{className:"text-[28px] font-bold ",children:[Ye.jsx("p",{className:"inline text-accent text-[40px]",children:"W"}),"hy"]}),Ye.jsx("div",{className:"text-l",children:"   ,           ."})]}),Ye.jsxs(io.div,{style:a,className:"p-4 w-[370px]",children:[Ye.jsxs("div",{className:"font-bold text-[28px]",children:[Ye.jsx("p",{className:"inline text-accent text-[40px]",children:"H"}),"ow"]}),Ye.jsx("div",{className:"text-l",children:"        ,        ."})]}),Ye.jsxs(io.div,{style:s,className:"p-4 w-[370px]",children:[Ye.jsxs("div",{className:"font-bold text-[28px]",children:[Ye.jsx("p",{className:"inline text-accent text-[40px]",children:"W"}),"hat"]}),Ye.jsx("div",{className:"text-l",children:"  ,           ."})]}),Ye.jsxs(io.div,{style:u,className:"p-4 w-[370px] ",children:[Ye.jsxs("div",{className:"text-[28px] font-bold",children:[Ye.jsx("p",{className:"inline text-accent text-[40px]",children:"G"}),"oal"]}),Ye.jsx("div",{className:"text-l",children:"       ,          ."})]})]})]})}function Qae(){return Ye.jsx("div",{className:"overflow-hidden"})}function Xae({project:t}){return Ye.jsxs("div",{className:"flex items-center justify-center w-[400px] h-[300px] text-black text-[60px] bg-white rounded-md relative ",children:[t,Ye.jsx("div",{className:"absolute flex text-sm right-5 bottom-5",children:"  "})]})}const Yae=({name:t,description:e,techStack:r,onClick:n})=>{const i=[...r.frontend,...r.stateManagement,...r.styling,...r.buildTool,...r.deployment,...r.additionalLibraries].join(", ");return Ye.jsxs("div",{className:"text-black p-5 bg-white rounded-lg w-[400px] h-[300px] cursor-pointer",onClick:n,children:[Ye.jsx("h2",{className:"text-3xl font-bold text-left ",children:t}),Ye.jsx("p",{className:"h-[100px] mt-5",children:e}),Ye.jsx("div",{className:"p-2 mt-3 border border-solid rounded-lg border-accent",children:Ye.jsx("p",{children:i})})]})};function Zae(t){return t.type==="mainButton"||t.type==="subButton"}const eoe=()=>{const t=Bne(),[e,r]=Ae.useState([]),[n,i]=Ae.useState(0),a=6;Ae.useEffect(()=>{fetch("/data/projects.json").then(R=>R.json()).then(R=>{r(R.projects.map(V=>({...V,type:"project"}))),console.log(R)}).catch(R=>console.error("Failed to fetch projects",R))},[]);const s=e.filter(R=>R.projectOverview.type==="main"),u=e.filter(R=>R.projectOverview.type==="sub"),c=[{type:"mainButton",label:"Main Projects",id:"main"},...s,{type:"subButton",label:"Sub Projects",id:"sub"},...u],d=Math.ceil(c.length/a),m=(n+1)*a,w=n*a,T=c.slice(w,m),M=()=>i(Math.max(0,n-1)),N=()=>i(Math.min(d-1,n+1)),P=R=>{t(`/project/${R}`)};return Ye.jsx("div",{className:"flex flex-col items-center justify-center w-screen h-screen overflow-hidden text-white bg-black",children:Ye.jsxs("div",{className:"mt-[100px] px-8",children:[Ye.jsxs("div",{className:"flex justify-end gap-4 mb-3",children:[Ye.jsx("button",{onClick:M,"aria-label":"Previous Page",disabled:n===0,children:""}),Ye.jsx("button",{onClick:N,"aria-label":"Next Page",disabled:n===d-1,children:""})]}),Ye.jsx("div",{className:"grid grid-cols-3 grid-rows-2 gap-6",children:T.map((R,V)=>Zae(R)?Ye.jsx(Xae,{project:R.label},V):Ye.jsx(Yae,{name:R.projectOverview.name,description:R.projectOverview.description,techStack:R.techStack,onClick:()=>P(R.projectOverview.name)},V))})]})})},toe=()=>{const{activeIndex:t,setActiveIndex:e}=Fne();return Ye.jsxs(Lae,{activeIndex:t,setActiveIndex:e,children:[Ye.jsx(Tm,{name:"Home",children:Ye.jsx(Vae,{})}),Ye.jsx(Tm,{name:"Intro",children:Ye.jsx(Jae,{})}),Ye.jsx(Tm,{name:"Project",children:Ye.jsx(eoe,{})}),Ye.jsx(Tm,{name:"Activities",children:Ye.jsx(Qae,{})})]})};function Yn(t){this.content=t}Yn.prototype={constructor:Yn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),a=n.content.slice();return i==-1?a.push(r||t,e):(a[i+1]=e,r&&(a[i]=r)),new Yn(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Yn(r)},addToStart:function(t,e){return new Yn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Yn(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),a=n.find(t);return i.splice(a==-1?i.length:a,0,e,r),new Yn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Yn.from(t),t.size?new Yn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Yn.from(t),t.size?new Yn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Yn.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Yn.from=function(t){if(t instanceof Yn)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Yn(e)};function bM(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),a=e.child(n);if(i==a){r+=i.nodeSize;continue}if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(let s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){let s=bM(i.content,a.content,r+1);if(s!=null)return s}r+=i.nodeSize}}function CM(t,e,r,n){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:r,b:n};let s=t.child(--i),u=e.child(--a),c=s.nodeSize;if(s==u){r-=c,n-=c;continue}if(!s.sameMarkup(u))return{a:r,b:n};if(s.isText&&s.text!=u.text){let d=0,m=Math.min(s.text.length,u.text.length);for(;d<m&&s.text[s.text.length-d-1]==u.text[u.text.length-d-1];)d++,r--,n--;return{a:r,b:n}}if(s.content.size||u.content.size){let d=CM(s.content,u.content,r-1,n-1);if(d)return d}r-=c,n-=c}}class Ze{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,a){for(let s=0,u=0;u<r;s++){let c=this.content[s],d=u+c.nodeSize;if(d>e&&n(c,i+u,a||null,s)!==!1&&c.content.size){let m=u+1;c.nodesBetween(Math.max(0,e-m),Math.min(c.content.size,r-m),n,i+m)}u=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let a="",s=!0;return this.nodesBetween(e,r,(u,c)=>{let d=u.isText?u.text.slice(Math.max(e,c)-c,r-c):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&d||u.isTextblock)&&n&&(s?s=!1:a+=n),a+=d},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new Ze(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let a=0,s=0;s<r;a++){let u=this.content[a],c=s+u.nodeSize;c>e&&((s<e||c>r)&&(u.isText?u=u.cut(Math.max(0,e-s),Math.min(u.text.length,r-s)):u=u.cut(Math.max(0,e-s-1),Math.min(u.content.size,r-s-1))),n.push(u),i+=u.nodeSize),s=c}return new Ze(n,i)}cutByIndex(e,r){return e==r?Ze.empty:e==0&&r==this.content.length?this:new Ze(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new Ze(i,a)}addToStart(e){return new Ze([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ze(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return bM(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return CM(this,e,r,n)}findIndex(e,r=-1){if(e==0)return Mm(0,e);if(e==this.size)return Mm(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let a=this.child(n),s=i+a.nodeSize;if(s>=e)return s==e||r>0?Mm(n+1,s):Mm(n,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Ze.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ze(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ze.empty;let r,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(r||(r=e.slice(0,i)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new Ze(r||e,n)}static from(e){if(!e)return Ze.empty;if(e instanceof Ze)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ze([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ze.empty=new Ze([],0);const zw={index:0,offset:0};function Mm(t,e){return zw.index=t,zw.offset=e,zw}function ag(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!ag(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!ag(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let xr=class z1{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))r||(r=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ag(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return z1.none;if(e instanceof z1)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};xr.none=[];class og extends Error{}class yt{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=xM(this.content,e+this.openStart,r);return n&&new yt(n,this.openStart,this.openEnd)}removeBetween(e,r){return new yt(SM(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return yt.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new yt(Ze.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)i++;return new yt(e,n,i)}}yt.empty=new yt(Ze.empty,0,0);function SM(t,e,r){let{index:n,offset:i}=t.findIndex(e),a=t.maybeChild(n),{index:s,offset:u}=t.findIndex(r);if(i==e||a.isText){if(u!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,a.copy(SM(a.content,e-i-1,r-i-1)))}function xM(t,e,r,n){let{index:i,offset:a}=t.findIndex(e),s=t.maybeChild(i);if(a==e||s.isText)return t.cut(0,e).append(r).append(t.cut(e));let u=xM(s.content,e-a-1,r);return u&&t.replaceChild(i,s.copy(u))}function roe(t,e,r){if(r.openStart>t.depth)throw new og("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new og("Inconsistent open depths");return TM(t,e,r,0)}function TM(t,e,r,n){let i=t.index(n),a=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=TM(t,e,r,n+1);return a.copy(a.content.replaceChild(i,s))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let s=t.parent,u=s.content;return Hu(s,u.cut(0,t.parentOffset).append(r.content).append(u.cut(e.parentOffset)))}else{let{start:s,end:u}=noe(r,t);return Hu(a,MM(t,s,u,e,n))}else return Hu(a,sg(t,e,n))}function EM(t,e){if(!e.type.compatibleContent(t.type))throw new og("Cannot join "+e.type.name+" onto "+t.type.name)}function H1(t,e,r){let n=t.node(r);return EM(n,e.node(r)),n}function zu(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Kh(t,e,r,n){let i=(e||t).node(r),a=0,s=e?e.index(r):i.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(zu(t.nodeAfter,n),a++));for(let u=a;u<s;u++)zu(i.child(u),n);e&&e.depth==r&&e.textOffset&&zu(e.nodeBefore,n)}function Hu(t,e){return t.type.checkContent(e),t.copy(e)}function MM(t,e,r,n,i){let a=t.depth>i&&H1(t,e,i+1),s=n.depth>i&&H1(r,n,i+1),u=[];return Kh(null,t,i,u),a&&s&&e.index(i)==r.index(i)?(EM(a,s),zu(Hu(a,MM(t,e,r,n,i+1)),u)):(a&&zu(Hu(a,sg(t,e,i+1)),u),Kh(e,r,i,u),s&&zu(Hu(s,sg(r,n,i+1)),u)),Kh(n,null,i,u),new Ze(u)}function sg(t,e,r){let n=[];if(Kh(null,t,r,n),t.depth>r){let i=H1(t,e,r+1);zu(Hu(i,sg(t,e,r+1)),n)}return Kh(e,null,r,n),new Ze(n)}function noe(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let a=r-1;a>=0;a--)i=e.node(a).copy(Ze.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class cp{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return xr.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let u=n;n=i,i=u}let a=n.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new lg(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,a=r;for(let s=e;;){let{index:u,offset:c}=s.content.findIndex(a),d=a-c;if(n.push(s,u,i+c),!d||(s=s.child(u),s.isText))break;a=d-1,i+=c+1}return new cp(r,n,a)}static resolveCached(e,r){let n=ZC.get(e);if(n)for(let a=0;a<n.elts.length;a++){let s=n.elts[a];if(s.pos==r)return s}else ZC.set(e,n=new ioe);let i=n.elts[n.i]=cp.resolve(e,r);return n.i=(n.i+1)%aoe,i}}class ioe{constructor(){this.elts=[],this.i=0}}const aoe=12,ZC=new WeakMap;class lg{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ooe=Object.create(null);let Il=class V1{constructor(e,r,n,i=xr.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||Ze.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&ag(this.attrs,r||e.defaultAttrs||ooe)&&xr.sameSet(this.marks,n||xr.none)}copy(e=null){return e==this.content?this:new V1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new V1(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return yt.empty;let i=this.resolve(e),a=this.resolve(r),s=n?0:i.sharedDepth(r),u=i.start(s),d=i.node(s).content.cut(i.pos-u,a.pos-u);return new yt(d,i.depth-s,a.depth-s)}replace(e,r,n){return roe(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return cp.resolveCached(this,e)}resolveNoCache(e){return cp.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),NM(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Ze.empty,i=0,a=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,i,a),u=s&&s.matchFragment(this.content,r);if(!u||!u.validEnd)return!1;for(let c=i;c<a;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),s=a&&a.matchFragment(this.content,r);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=xr.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!xr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=Ze.fromJSON(e,r.content),a=e.nodeType(r.type).create(r.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};Il.prototype.text=void 0;class ug extends Il{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):NM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ug(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ug(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function NM(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Wu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new soe(e,r);if(n.next==null)return Wu.empty;let i=OM(n);n.next&&n.err("Unexpected trailing text");let a=poe(hoe(i));return voe(a,n),a}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let a=r;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function a(s,u){let c=s.matchFragment(e,n);if(c&&(!r||c.validEnd))return Ze.from(u.map(d=>d.createAndFill()));for(let d=0;d<s.next.length;d++){let{type:m,next:w}=s.next[d];if(!(m.isText||m.hasRequiredAttrs())&&i.indexOf(w)==-1){i.push(w);let T=a(w,u.concat(m));if(T)return T}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let s=[];for(let u=i;u.type;u=u.via)s.push(u.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:u,next:c}=a.next[s];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in r)&&(!i.type||c.validEnd)&&(n.push({match:u.contentMatch,type:u,via:i}),r[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)a+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return a}).join(`
`)}}Wu.empty=new Wu(!0);class soe{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function OM(t){let e=[];do e.push(loe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function loe(t){let e=[];do e.push(uoe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function uoe(t){let e=doe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=coe(t,e);else break;return e}function eS(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function coe(t,e){let r=eS(t),n=r;return t.eat(",")&&(t.next!="}"?n=eS(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function foe(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let a in r){let s=r[a];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function doe(t){if(t.eat("(")){let e=OM(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=foe(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function hoe(t){let e=[[]];return i(a(t,0),r()),e;function r(){return e.push([])-1}function n(s,u,c){let d={term:c,to:u};return e[s].push(d),d}function i(s,u){s.forEach(c=>c.to=u)}function a(s,u){if(s.type=="choice")return s.exprs.reduce((c,d)=>c.concat(a(d,u)),[]);if(s.type=="seq")for(let c=0;;c++){let d=a(s.exprs[c],u);if(c==s.exprs.length-1)return d;i(d,u=r())}else if(s.type=="star"){let c=r();return n(u,c),i(a(s.expr,c),c),[n(c)]}else if(s.type=="plus"){let c=r();return i(a(s.expr,u),c),i(a(s.expr,c),c),[n(c)]}else{if(s.type=="opt")return[n(u)].concat(a(s.expr,u));if(s.type=="range"){let c=u;for(let d=0;d<s.min;d++){let m=r();i(a(s.expr,c),m),c=m}if(s.max==-1)i(a(s.expr,c),c);else for(let d=s.min;d<s.max;d++){let m=r();n(c,m),i(a(s.expr,c),m),c=m}return[n(c)]}else{if(s.type=="name")return[n(u,void 0,s.value)];throw new Error("Unknown expr type")}}}}function AM(t,e){return e-t}function tS(t,e){let r=[];return n(e),r.sort(AM);function n(i){let a=t[i];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(i);for(let s=0;s<a.length;s++){let{term:u,to:c}=a[s];!u&&r.indexOf(c)==-1&&n(c)}}}function poe(t){let e=Object.create(null);return r(tS(t,0));function r(n){let i=[];n.forEach(s=>{t[s].forEach(({term:u,to:c})=>{if(!u)return;let d;for(let m=0;m<i.length;m++)i[m][0]==u&&(d=i[m][1]);tS(t,c).forEach(m=>{d||i.push([u,d=[]]),d.indexOf(m)==-1&&d.push(m)})})});let a=e[n.join(",")]=new Wu(n.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let u=i[s][1].sort(AM);a.next.push({type:i[s][0],next:e[u.join(",")]||r(u)})}return a}}function voe(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],a=!i.validEnd,s=[];for(let u=0;u<i.next.length;u++){let{type:c,next:d}=i.next[u];s.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),n.indexOf(d)==-1&&n.push(d)}a&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function DM(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function LM(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let a=t[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function RM(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}function IM(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new goe(t,n,e[n]);return r}let rS=class PM{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=IM(e,n.attrs),this.defaultAttrs=DM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Wu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:LM(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Il(this,this.computeAttrs(e),Ze.from(r),xr.setFrom(n))}createChecked(e=null,r,n){return r=Ze.from(r),this.checkContent(r),new Il(this,this.computeAttrs(e),r,xr.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Ze.from(r),r.size){let s=this.contentMatch.fillBefore(r);if(!s)return null;r=s.append(r)}let i=this.contentMatch.matchFragment(r),a=i&&i.fillBefore(Ze.empty,!0);return a?new Il(this,e,r.append(a),xr.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){RM(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:xr.none:e}static compile(e,r){let n=Object.create(null);e.forEach((a,s)=>n[a]=new PM(a,r,s));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function moe(t,e,r){let n=r.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${a}`)}}class goe{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?moe(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Gg{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=IM(e,i.attrs),this.excluded=null;let a=DM(this.attrs);this.instance=a?new xr(this,a):null}create(e=null){return!e&&this.instance?this.instance:new xr(this,LM(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((a,s)=>n[a]=new Gg(a,i++,r,s)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){RM(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class BM{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=Yn.from(e.nodes),r.marks=Yn.from(e.marks||{}),this.nodes=rS.compile(this.spec.nodes,this),this.marks=Gg.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],s=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=n[s]||(n[s]=Wu.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?nS(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:nS(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof rS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new ug(n,n.defaultAttrs,e,xr.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Il.fromJSON(this,e)}markFromJSON(e){return xr.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function nS(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t.marks[i],s=a;if(a)r.push(a);else for(let u in t.marks){let c=t.marks[u];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function yoe(t){return t.tag!=null}function woe(t){return t.style!=null}class Gu{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(yoe(i))this.tags.push(i);else if(woe(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,r={}){let n=new aS(this,r,!1);return n.addAll(e,xr.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new aS(this,r,!0);return n.addAll(e,xr.none,r.from,r.to),yt.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(Coe(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(e);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(e,r,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let s=this.styles[a],u=s.style;if(!(u.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=r))){if(s.getAttrs){let c=s.getAttrs(r);if(c===!1)continue;s.attrs=c||void 0}return s}}}static schemaRules(e){let r=[];function n(i){let a=i.priority==null?50:i.priority,s=0;for(;s<r.length;s++){let u=r[s];if((u.priority==null?50:u.priority)<a)break}r.splice(s,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(s=>{n(s=oS(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(s=>{n(s=oS(s)),s.node||s.ignore||s.mark||(s.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Gu(e,Gu.schemaRules(e)))}}const _M={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},koe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},FM={ol:!0,ul:!0},fp=1,$1=2,Vm=4;function iS(t,e,r){return e!=null?(e?fp:0)|(e==="full"?$1:0):t&&t.whitespace=="pre"?fp|$1:r&-5}class Nm{constructor(e,r,n,i,a,s){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=s,this.content=[],this.activeMarks=xr.none,this.match=a||(s&Vm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Ze.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&fp)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let r=Ze.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Ze.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!_M.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class aS{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,a,s=iS(null,r.preserveWhitespace,0)|(n?Vm:0);i?a=new Nm(i.type,i.attrs,xr.none,!0,r.topMatch||i.type.contentMatch,s):n?a=new Nm(null,null,xr.none,!0,null,s):a=new Nm(e.schema.topNodeType,null,xr.none,!0,null,s),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,a=i.options&$1?"full":this.localPreserveWS||(i.options&fp)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],u=e.previousSibling;(!s||u&&u.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),u;FM.hasOwnProperty(s)&&this.parser.normalizeLists&&boe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,n));e:if(c?c.ignore:koe.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,m=this.needsBlock;if(_M.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),d=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let w=c&&c.skip?r:this.readStyles(e,r);w&&this.addAll(e,w),d&&this.sync(a),this.needsBlock=m}else{let d=this.readStyles(e,r);d&&this.addElementByRule(e,c,d,c.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],s=n.getPropertyValue(a);if(s)for(let u=void 0;;){let c=this.parser.matchStyle(a,s,this,u);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(d=>!c.clearMark(d)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)u=c;else break}}return r}addElementByRule(e,r,n,i){let a,s;if(r.node)if(s=this.parser.schema.nodes[r.node],s.isLeaf)this.insertNode(s.create(r.attrs),n)||this.leafFallback(e,n);else{let c=this.enter(s,r.attrs||null,n,r.preserveWhitespace);c&&(a=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let u=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}a&&this.sync(u)&&this.open--}addAll(e,r,n,i){let a=n||0;for(let s=n?e.childNodes[n]:e.firstChild,u=i==null?null:e.childNodes[i];s!=u;s=s.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(s,r);this.findAtPoint(e,a)}findPlace(e,r){let n,i;for(let a=this.open;a>=0;a--){let s=this.nodes[a],u=s.findWrapping(e);if(u&&(!n||n.length>u.length)&&(n=u,i=s,!u.length)||s.solid)break}if(!n)return null;this.sync(i);for(let a=0;a<n.length;a++)r=this.enterInner(n[a],null,r,!1);return r}insertNode(e,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let n=this.findPlace(e,r);if(n){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=xr.none;for(let s of n.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):sS(s.type,e.type))&&(a=s.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,r,n,i){let a=this.findPlace(e.create(r),n);return a&&(a=this.enterInner(e,r,n,!0,i)),a}enterInner(e,r,n,i=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let u=iS(e,a,s.options);s.options&Vm&&s.content.length==0&&(u|=Vm);let c=xr.none;return n=n.filter(d=>(s.type?s.type.allowsMarkType(d.type):sS(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new Nm(e,r,c,i,null,u)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=fp)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),s=(u,c)=>{for(;u>=0;u--){let d=r[u];if(d==""){if(u==r.length-1||u==0)continue;for(;c>=a;c--)if(s(u-1,c))return!0;return!1}else{let m=c>0||c==0&&i?this.nodes[c].type:n&&c>=a?n.node(c-a).type:null;if(!m||m.name!=d&&!m.isInGroup(d))return!1;c--}}return!0};return s(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function boe(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&FM.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function Coe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function oS(t){let e={};for(let r in t)e[r]=t[r];return e}function sS(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let a=[],s=u=>{a.push(u);for(let c=0;c<u.edgeCount;c++){let{type:d,next:m}=u.edge(c);if(d==e||a.indexOf(m)<0&&s(m))return!0}};if(s(i.contentMatch))return!0}}class Yf{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Hw(r).createDocumentFragment());let i=n,a=[];return e.forEach(s=>{if(a.length||s.marks.length){let u=0,c=0;for(;u<a.length&&c<s.marks.length;){let d=s.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(a[u][0])||d.type.spec.spanning===!1)break;u++,c++}for(;u<a.length;)i=a.pop()[1];for(;c<s.marks.length;){let d=s.marks[c++],m=this.serializeMark(d,s.isInline,r);m&&(a.push([d,i]),i.appendChild(m.dom),i=m.contentDOM||m.dom)}}i.appendChild(this.serializeNodeInner(s,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=$m(Hw(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&$m(Hw(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return $m(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Yf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=lS(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return lS(e.marks)}}function lS(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Hw(t){return t.document||window.document}const uS=new WeakMap;function Soe(t){let e=uS.get(t);return e===void 0&&uS.set(t,e=xoe(t)),e}function xoe(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function $m(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=Soe(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let u,c=r?t.createElementNS(r,i):t.createElement(i),d=e[1],m=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){m=2;for(let w in d)if(d[w]!=null){let T=w.indexOf(" ");T>0?c.setAttributeNS(w.slice(0,T),w.slice(T+1),d[w]):c.setAttribute(w,d[w])}}for(let w=m;w<e.length;w++){let T=e[w];if(T===0){if(w<e.length-1||w>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:M,contentDOM:N}=$m(t,T,r,n);if(c.appendChild(M),N){if(u)throw new RangeError("Multiple content holes");u=N}}}return{dom:c,contentDOM:u}}const qM=65535,zM=Math.pow(2,16);function Toe(t,e){return t+e*zM}function cS(t){return t&qM}function Eoe(t){return(t-(t&qM))/zM}const HM=1,VM=2,Um=4,$M=8;class U1{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&$M)>0}get deletedBefore(){return(this.delInfo&(HM|Um))>0}get deletedAfter(){return(this.delInfo&(VM|Um))>0}get deletedAcross(){return(this.delInfo&Um)>0}}class Zi{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Zi.empty)return Zi.empty}recover(e){let r=0,n=cS(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+Eoe(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?i:0);if(c>e)break;let d=this.ranges[u+a],m=this.ranges[u+s],w=c+d;if(e<=w){let T=d?e==c?-1:e==w?1:r:r,M=c+i+(T<0?0:m);if(n)return M;let N=e==(r<0?c:w)?null:Toe(u/3,e-c),P=e==c?VM:e==w?HM:Um;return(r<0?e!=c:e!=w)&&(P|=$M),new U1(M,P,N)}i+=m-d}return n?e+i:new U1(e+i,0,null)}touches(e,r){let n=0,i=cS(r),a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[u+a],m=c+d;if(e<=m&&u==i*3)return!0;n+=this.ranges[u+s]-d}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let s=this.ranges[i],u=s-(this.inverted?a:0),c=s+(this.inverted?0:a),d=this.ranges[i+r],m=this.ranges[i+n];e(u,u+d,c,c+m),a+=m-d}}invert(){return new Zi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zi.empty:new Zi(e<0?[0,-e,0]:[0,0,e])}}Zi.empty=new Zi([]);class Af{constructor(e=[],r,n=0,i=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=i}slice(e=0,r=this.maps.length){return new Af(this.maps,this.mirror,e,r)}copy(){return new Af(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let i=e.getMirror(r);this.appendMap(e.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new Af;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let a=this.from;a<this.to;a++){let s=this.maps[a],u=s.mapResult(e,r);if(u.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,e=this.maps[c].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return n?e:new U1(e,i,null)}}const Vw=Object.create(null);class Ci{getMap(){return Zi.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Vw[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Vw)throw new RangeError("Duplicate use of step JSON ID "+e);return Vw[e]=r,r.prototype.jsonID=e,r}}class kn{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new kn(e,null)}static fail(e){return new kn(null,e)}static fromReplace(e,r,n,i){try{return kn.ok(e.replace(r,n,i))}catch(a){if(a instanceof og)return kn.fail(a.message);throw a}}}function j0(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(j0(a.content,e,a))),a.isInline&&(a=e(a,r,i)),n.push(a)}return Ze.fromArray(n)}class Al extends Ci{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new yt(j0(r.content,(s,u)=>!s.isAtom||!u.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),r.openStart,r.openEnd);return kn.fromReplace(e,this.from,this.to,a)}invert(){return new Go(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Al(r.pos,n.pos,this.mark)}merge(e){return e instanceof Al&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Al(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Al(r.from,r.to,e.markFromJSON(r.mark))}}Ci.jsonID("addMark",Al);class Go extends Ci{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new yt(j0(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return kn.fromReplace(e,this.from,this.to,n)}invert(){return new Al(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Go(r.pos,n.pos,this.mark)}merge(e){return e instanceof Go&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Go(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Go(r.from,r.to,e.markFromJSON(r.mark))}}Ci.jsonID("removeMark",Go);class Dl extends Ci{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return kn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return kn.fromReplace(e,this.pos,this.pos+1,new yt(Ze.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Dl(this.pos,r.marks[i]);return new Dl(this.pos,this.mark)}}return new Pf(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Dl(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Dl(r.pos,e.markFromJSON(r.mark))}}Ci.jsonID("addNodeMark",Dl);class Pf extends Ci{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return kn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return kn.fromReplace(e,this.pos,this.pos+1,new yt(Ze.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Dl(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Pf(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Pf(r.pos,e.markFromJSON(r.mark))}}Ci.jsonID("removeNodeMark",Pf);class wi extends Ci{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&j1(e,this.from,this.to)?kn.fail("Structure replace would overwrite content"):kn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zi([this.from,this.to-this.from,this.slice.size])}invert(e){return new wi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new wi(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof wi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?yt.empty:new yt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new wi(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?yt.empty:new yt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new wi(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new wi(r.from,r.to,yt.fromJSON(e,r.slice),!!r.structure)}}Ci.jsonID("replace",wi);class zn extends Ci{constructor(e,r,n,i,a,s,u=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=s,this.structure=u}apply(e){if(this.structure&&(j1(e,this.from,this.gapFrom)||j1(e,this.gapTo,this.to)))return kn.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return kn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?kn.fromReplace(e,this.from,this.to,n):kn.fail("Content does not fit in gap")}getMap(){return new Zi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new zn(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||a>n.pos?null:new zn(r.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zn(r.from,r.to,r.gapFrom,r.gapTo,yt.fromJSON(e,r.slice),r.insert,!!r.structure)}}Ci.jsonID("replaceAround",zn);function j1(t,e,r){let n=t.resolve(e),i=r-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let s=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Moe(t,e,r,n){let i=[],a=[],s,u;t.doc.nodesBetween(e,r,(c,d,m)=>{if(!c.isInline)return;let w=c.marks;if(!n.isInSet(w)&&m.type.allowsMarkType(n.type)){let T=Math.max(d,e),M=Math.min(d+c.nodeSize,r),N=n.addToSet(w);for(let P=0;P<w.length;P++)w[P].isInSet(N)||(s&&s.to==T&&s.mark.eq(w[P])?s.to=M:i.push(s=new Go(T,M,w[P])));u&&u.to==T?u.to=M:a.push(u=new Al(T,M,n))}}),i.forEach(c=>t.step(c)),a.forEach(c=>t.step(c))}function Noe(t,e,r,n){let i=[],a=0;t.doc.nodesBetween(e,r,(s,u)=>{if(!s.isInline)return;a++;let c=null;if(n instanceof Gg){let d=s.marks,m;for(;m=n.isInSet(d);)(c||(c=[])).push(m),d=m.removeFromSet(d)}else n?n.isInSet(s.marks)&&(c=[n]):c=s.marks;if(c&&c.length){let d=Math.min(u+s.nodeSize,r);for(let m=0;m<c.length;m++){let w=c[m],T;for(let M=0;M<i.length;M++){let N=i[M];N.step==a-1&&w.eq(i[M].style)&&(T=N)}T?(T.to=d,T.step=a):i.push({style:w,from:Math.max(u,e),to:d,step:a})}}}),i.forEach(s=>t.step(new Go(s.from,s.to,s.style)))}function W0(t,e,r,n=r.contentMatch,i=!0){let a=t.doc.nodeAt(e),s=[],u=e+1;for(let c=0;c<a.childCount;c++){let d=a.child(c),m=u+d.nodeSize,w=n.matchType(d.type);if(!w)s.push(new wi(u,m,yt.empty));else{n=w;for(let T=0;T<d.marks.length;T++)r.allowsMarkType(d.marks[T].type)||t.step(new Go(u,m,d.marks[T]));if(i&&d.isText&&r.whitespace!="pre"){let T,M=/\r?\n|\r/g,N;for(;T=M.exec(d.text);)N||(N=new yt(Ze.from(r.schema.text(" ",r.allowedMarks(d.marks))),0,0)),s.push(new wi(u+T.index,u+T.index+T[0].length,N))}}u=m}if(!n.validEnd){let c=n.fillBefore(Ze.empty,!0);t.replace(u,u,new yt(c,0,0))}for(let c=s.length-1;c>=0;c--)t.step(s[c])}function Ooe(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Kg(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),a=t.$from.index(n),s=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(a,s,r))return n;if(n==0||i.type.spec.isolating||!Ooe(i,a,s))break}return null}function Aoe(t,e,r){let{$from:n,$to:i,depth:a}=e,s=n.before(a+1),u=i.after(a+1),c=s,d=u,m=Ze.empty,w=0;for(let N=a,P=!1;N>r;N--)P||n.index(N)>0?(P=!0,m=Ze.from(n.node(N).copy(m)),w++):c--;let T=Ze.empty,M=0;for(let N=a,P=!1;N>r;N--)P||i.after(N+1)<i.end(N)?(P=!0,T=Ze.from(i.node(N).copy(T)),M++):d++;t.step(new zn(c,d,s,u,new yt(m.append(T),w,M),m.size-w,!0))}function Doe(t,e,r=null,n=t){let i=Loe(t,e),a=i&&Roe(n,e);return a?i.map(fS).concat({type:e,attrs:r}).concat(a.map(fS)):null}function fS(t){return{type:t,attrs:null}}function Loe(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.contentMatchAt(n).findWrapping(e);if(!a)return null;let s=a.length?a[0]:e;return r.canReplaceWith(n,i,s)?a:null}function Roe(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.child(n),s=e.contentMatch.findWrapping(a.type);if(!s)return null;let c=(s.length?s[s.length-1]:e).contentMatch;for(let d=n;c&&d<i;d++)c=c.matchType(r.child(d).type);return!c||!c.validEnd?null:s}function Ioe(t,e,r){let n=Ze.empty;for(let s=r.length-1;s>=0;s--){if(n.size){let u=r[s].type.contentMatch.matchFragment(n);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ze.from(r[s].type.create(r[s].attrs,n))}let i=e.start,a=e.end;t.step(new zn(i,a,i,a,new yt(n,0,0),r.length,!0))}function Poe(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,r,(s,u)=>{let c=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(n,c)&&Boe(t.doc,t.mapping.slice(a).map(u),n)){let d=null;if(n.schema.linebreakReplacement){let M=n.whitespace=="pre",N=!!n.contentMatch.matchType(n.schema.linebreakReplacement);M&&!N?d=!1:!M&&N&&(d=!0)}d===!1&&jM(t,s,u,a),W0(t,t.mapping.slice(a).map(u,1),n,void 0,d===null);let m=t.mapping.slice(a),w=m.map(u,1),T=m.map(u+s.nodeSize,1);return t.step(new zn(w,T,w+1,T-1,new yt(Ze.from(n.create(c,null,s.marks)),0,0),1,!0)),d===!0&&UM(t,s,u,a),!1}})}function UM(t,e,r,n){e.forEach((i,a)=>{if(i.isText){let s,u=/\r?\n|\r/g;for(;s=u.exec(i.text);){let c=t.mapping.slice(n).map(r+1+a+s.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function jM(t,e,r,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(n).map(r+1+a);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function Boe(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function _oe(t,e,r,n,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let s=r.create(n,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,s);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new zn(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new yt(Ze.from(s),0,0),1,!0))}function Df(t,e,r=1,n){let i=t.resolve(e),a=i.depth-r,s=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,m=r-2;d>a;d--,m--){let w=i.node(d),T=i.index(d);if(w.type.spec.isolating)return!1;let M=w.content.cutByIndex(T,w.childCount),N=n&&n[m+1];N&&(M=M.replaceChild(0,N.type.create(N.attrs)));let P=n&&n[m]||w;if(!w.canReplace(T+1,w.childCount)||!P.type.validContent(M))return!1}let u=i.indexAfter(a),c=n&&n[0];return i.node(a).canReplaceWith(u,u,c?c.type:i.node(a+1).type)}function Foe(t,e,r=1,n){let i=t.doc.resolve(e),a=Ze.empty,s=Ze.empty;for(let u=i.depth,c=i.depth-r,d=r-1;u>c;u--,d--){a=Ze.from(i.node(u).copy(a));let m=n&&n[d];s=Ze.from(m?m.type.create(m.attrs,s):i.node(u).copy(s))}t.step(new wi(e,e,new yt(a.append(s),r,r),!0))}function WM(t,e){let r=t.resolve(e),n=r.index();return zoe(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function qoe(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),s=a.type==n?t.type.schema.nodes.text:a.type;if(r=r.matchType(s),!r||!t.type.allowsMarks(a.marks))return!1}return r.validEnd}function zoe(t,e){return!!(t&&e&&!t.isLeaf&&qoe(t,e))}function Hoe(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-r),s=a.node().type;if(i&&s.inlineContent){let m=s.whitespace=="pre",w=!!s.contentMatch.matchType(i);m&&!w?n=!1:!m&&w&&(n=!0)}let u=t.steps.length;if(n===!1){let m=t.doc.resolve(e+r);jM(t,m.node(),m.before(),u)}s.inlineContent&&W0(t,e+r-1,s,a.node().contentMatchAt(a.index()),n==null);let c=t.mapping.slice(u),d=c.map(e-r);if(t.step(new wi(d,c.map(e+r,-1),yt.empty,!0)),n===!0){let m=t.doc.resolve(d);UM(t,m.node(),m.before(),t.steps.length)}return t}function Voe(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,r))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,r))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function $oe(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let a=0;a<r.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let s=n.depth;s>=0;s--){let u=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,c=n.index(s)+(u>0?1:0),d=n.node(s),m=!1;if(a==1)m=d.canReplace(c,c,i);else{let w=d.contentMatchAt(c).findWrapping(i.firstChild.type);m=w&&d.canReplaceWith(c,c,w[0])}if(m)return u==0?n.pos:u<0?n.before(s+1):n.after(s+1)}return null}function G0(t,e,r=e,n=yt.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),a=t.resolve(r);return GM(i,a,n)?new wi(e,r,n):new Uoe(i,a,n).fit()}function GM(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class Uoe{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Ze.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ze.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,s=n.depth,u=i.depth;for(;s&&u&&a.childCount==1;)a=a.firstChild.content,s--,u--;let c=new yt(a,s,u);return e>-1?new zn(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new wi(n.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=r.firstChild;if(r.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=$w(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let s=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:c,match:d}=this.frontier[u],m,w=null;if(r==1&&(s?d.matchType(s.type)||(w=d.fillBefore(Ze.from(s),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:u,parent:a,inject:w};if(r==2&&s&&(m=d.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:u,parent:a,wrap:m};if(a&&d.matchType(a.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=$w(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new yt(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=$w(e,r);if(i.childCount<=1&&r>0){let a=e.size-r<=r+i.size;this.unplaced=new yt(qh(e,r-1,1),r-1,a?r-1:n)}else this.unplaced=new yt(qh(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let P=0;P<a.length;P++)this.openFrontierNode(a[P]);let s=this.unplaced,u=n?n.content:s.content,c=s.openStart-e,d=0,m=[],{match:w,type:T}=this.frontier[r];if(i){for(let P=0;P<i.childCount;P++)m.push(i.child(P));w=w.matchFragment(i)}let M=u.size+e-(s.content.size-s.openEnd);for(;d<u.childCount;){let P=u.child(d),R=w.matchType(P.type);if(!R)break;d++,(d>1||c==0||P.content.size)&&(w=R,m.push(KM(P.mark(T.allowedMarks(P.marks)),d==1?c:0,d==u.childCount?M:-1)))}let N=d==u.childCount;N||(M=-1),this.placed=zh(this.placed,r,Ze.from(m)),this.frontier[r].match=w,N&&M<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let P=0,R=u;P<M;P++){let V=R.lastChild;this.frontier.push({type:V.type,match:V.contentMatchAt(V.childCount)}),R=V.content}this.unplaced=N?e==0?yt.empty:new yt(qh(s.content,e-1,1),e-1,M<0?s.openEnd:e-1):new yt(qh(s.content,e,d),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Uw(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),s=Uw(e,r,i,n,a);if(s){for(let u=r-1;u>=0;u--){let{match:c,type:d}=this.frontier[u],m=Uw(e,u,d,c,!0);if(!m||m.childCount)continue e}return{depth:r,fit:s,move:a?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=zh(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=zh(this.placed,this.depth,Ze.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Ze.empty,!0);r.childCount&&(this.placed=zh(this.placed,this.frontier.length,r))}}function qh(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(qh(t.firstChild.content,e-1,r)))}function zh(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(zh(t.lastChild.content,e-1,r)))}function $w(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function KM(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,KM(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Ze.empty,!0)))),t.copy(n)}function Uw(t,e,r,n,i){let a=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==a.childCount&&!r.compatibleContent(a.type))return null;let u=n.fillBefore(a.content,!0,s);return u&&!joe(r,a.content,s)?u:null}function joe(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function Woe(t){return t.spec.defining||t.spec.definingForContent}function Goe(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),a=t.doc.resolve(r);if(GM(i,a,n))return t.step(new wi(e,r,n));let s=QM(i,t.doc.resolve(r));s[s.length-1]==0&&s.pop();let u=-(i.depth+1);s.unshift(u);for(let T=i.depth,M=i.pos-1;T>0;T--,M--){let N=i.node(T).type.spec;if(N.defining||N.definingAsContext||N.isolating)break;s.indexOf(T)>-1?u=T:i.before(T)==M&&s.splice(1,0,-T)}let c=s.indexOf(u),d=[],m=n.openStart;for(let T=n.content,M=0;;M++){let N=T.firstChild;if(d.push(N),M==n.openStart)break;T=N.content}for(let T=m-1;T>=0;T--){let M=d[T],N=Woe(M.type);if(N&&!M.sameMarkup(i.node(Math.abs(u)-1)))m=T;else if(N||!M.type.isTextblock)break}for(let T=n.openStart;T>=0;T--){let M=(T+m+1)%(n.openStart+1),N=d[M];if(N)for(let P=0;P<s.length;P++){let R=s[(P+c)%s.length],V=!0;R<0&&(V=!1,R=-R);let ee=i.node(R-1),te=i.index(R-1);if(ee.canReplaceWith(te,te,N.type,N.marks))return t.replace(i.before(R),V?a.after(R):r,new yt(JM(n.content,0,n.openStart,M),M,n.openEnd))}}let w=t.steps.length;for(let T=s.length-1;T>=0&&(t.replace(e,r,n),!(t.steps.length>w));T--){let M=s[T];M<0||(e=i.before(M),r=a.after(M))}}function JM(t,e,r,n,i){if(e<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(JM(a.content,e+1,r,n,a)))}if(e>n){let a=i.contentMatchAt(0),s=a.fillBefore(t).append(t);t=s.append(a.matchFragment(s).fillBefore(Ze.empty,!0))}return t}function Koe(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=Voe(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new yt(Ze.from(n),0,0))}function Joe(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),a=QM(n,i);for(let s=0;s<a.length;s++){let u=a[s],c=s==a.length-1;if(c&&u==0||n.node(u).type.contentMatch.validEnd)return t.delete(n.start(u),i.end(u));if(u>0&&(c||n.node(u-1).canReplace(n.index(u-1),i.indexAfter(u-1))))return t.delete(n.before(u),i.after(u))}for(let s=1;s<=n.depth&&s<=i.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&i.end(s)-r!=i.depth-s&&n.start(s-1)==i.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),i.index(s-1)))return t.delete(n.before(s),r);t.delete(e,r)}function QM(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&r.push(i)}return r}class Lf extends Ci{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return kn.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return kn.fromReplace(e,this.pos,this.pos+1,new yt(Ze.from(i),0,r.isLeaf?0:1))}getMap(){return Zi.empty}invert(e){return new Lf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Lf(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Lf(r.pos,r.attr,r.value)}}Ci.jsonID("attr",Lf);class dp extends Ci{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return kn.ok(n)}getMap(){return Zi.empty}invert(e){return new dp(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new dp(r.attr,r.value)}}Ci.jsonID("docAttr",dp);let Bf=class extends Error{};Bf=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Bf.prototype=Object.create(Error.prototype);Bf.prototype.constructor=Bf;Bf.prototype.name="TransformError";class Qoe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Af}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Bf(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=yt.empty){let i=G0(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new yt(Ze.from(n),0,0))}delete(e,r){return this.replace(e,r,yt.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return Goe(this,e,r,n),this}replaceRangeWith(e,r,n){return Koe(this,e,r,n),this}deleteRange(e,r){return Joe(this,e,r),this}lift(e,r){return Aoe(this,e,r),this}join(e,r=1){return Hoe(this,e,r),this}wrap(e,r){return Ioe(this,e,r),this}setBlockType(e,r=e,n,i=null){return Poe(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return _oe(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new Lf(e,r,n)),this}setDocAttribute(e,r){return this.step(new dp(e,r)),this}addNodeMark(e,r){return this.step(new Dl(e,r)),this}removeNodeMark(e,r){if(!(r instanceof xr)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new Pf(e,r)),this}split(e,r=1,n){return Foe(this,e,r,n),this}addMark(e,r,n){return Moe(this,e,r,n),this}removeMark(e,r,n){return Noe(this,e,r,n),this}clearIncompatible(e,r,n){return W0(this,e,r,n),this}}const jw=Object.create(null);class ur{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new XM(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=yt.empty){let n=r.content.lastChild,i=null;for(let u=0;u<r.openEnd;u++)i=n,n=n.lastChild;let a=e.steps.length,s=this.ranges;for(let u=0;u<s.length;u++){let{$from:c,$to:d}=s[u],m=e.mapping.slice(a);e.replaceRange(m.map(c.pos),m.map(d.pos),u?yt.empty:r),u==0&&pS(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:u}=i[a],c=e.mapping.slice(n),d=c.map(s.pos),m=c.map(u.pos);a?e.deleteRange(d,m):(e.replaceRangeWith(d,m,r),pS(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new pr(e):Sf(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let s=r<0?Sf(e.node(0),e.node(a),e.before(a+1),e.index(a),r,n):Sf(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,r,n);if(s)return s}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Pi(e.node(0))}static atStart(e){return Sf(e,e,0,0,1)||new Pi(e)}static atEnd(e){return Sf(e,e,e.content.size,e.childCount,-1)||new Pi(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=jw[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in jw)throw new RangeError("Duplicate use of selection JSON ID "+e);return jw[e]=r,r.prototype.jsonID=e,r}getBookmark(){return pr.between(this.$anchor,this.$head).getBookmark()}}ur.prototype.visible=!0;class XM{constructor(e,r){this.$from=e,this.$to=r}}let dS=!1;function hS(t){!dS&&!t.parent.inlineContent&&(dS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class pr extends ur{constructor(e,r=e){hS(e),hS(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ur.near(n);let i=e.resolve(r.map(this.anchor));return new pr(i.parent.inlineContent?i:n,n)}replace(e,r=yt.empty){if(super.replace(e,r),r==yt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof pr&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Jg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new pr(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let a=ur.findFrom(r,n,!0)||ur.findFrom(r,-n,!0);if(a)r=a.$head;else return ur.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(ur.findFrom(e,-n,!0)||ur.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new pr(e,r)}}ur.jsonID("text",pr);class Jg{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Jg(e.map(this.anchor),e.map(this.head))}resolve(e){return pr.between(e.resolve(this.anchor),e.resolve(this.head))}}class Qt extends ur{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),a=e.resolve(i);return n?ur.near(a):new Qt(a)}content(){return new yt(Ze.from(this.node),0,0)}eq(e){return e instanceof Qt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new K0(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Qt(e.resolve(r.anchor))}static create(e,r){return new Qt(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Qt.prototype.visible=!1;ur.jsonID("node",Qt);class K0{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Jg(n,n):new K0(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Qt.isSelectable(n)?new Qt(r):ur.near(r)}}class Pi extends ur{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=yt.empty){if(r==yt.empty){e.delete(0,e.doc.content.size);let n=ur.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Pi(e)}map(e){return new Pi(e)}eq(e){return e instanceof Pi}getBookmark(){return Xoe}}ur.jsonID("all",Pi);const Xoe={map(){return this},resolve(t){return new Pi(t)}};function Sf(t,e,r,n,i,a=!1){if(e.inlineContent)return pr.create(t,r);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let u=e.child(s);if(u.isAtom){if(!a&&Qt.isSelectable(u))return Qt.create(t,r-(i<0?u.nodeSize:0))}else{let c=Sf(t,u,r+i,i<0?u.childCount:0,i,a);if(c)return c}r+=u.nodeSize*i}return null}function pS(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof wi||i instanceof zn))return;let a=t.mapping.maps[n],s;a.forEach((u,c,d,m)=>{s==null&&(s=m)}),t.setSelection(ur.near(t.doc.resolve(s),r))}const vS=1,mS=2,gS=4;class Yoe extends Qoe{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|vS)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&vS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=mS,this}ensureMarks(e){return xr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&mS)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||xr.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let s=this.doc.resolve(r);a=n==r?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,a)),this.selection.empty||this.setSelection(ur.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=gS,this}get scrolledIntoView(){return(this.updated&gS)>0}}function yS(t,e){return!e||!t?t:t.bind(e)}class Hh{constructor(e,r,n){this.name=e,this.init=yS(r.init,n),this.apply=yS(r.apply,n)}}const Zoe=[new Hh("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Hh("selection",{init(t,e){return t.selection||ur.atStart(e.doc)},apply(t){return t.selection}}),new Hh("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Hh("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ww{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Zoe.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Hh(n.key,n.spec.state,n))})}}class Pu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let s=0;s<this.config.plugins.length;s++){let u=this.config.plugins[s];if(u.spec.appendTransaction){let c=i?i[s].n:0,d=i?i[s].state:this,m=c<r.length&&u.spec.appendTransaction.call(u,c?r.slice(c):r,d,n);if(m&&n.filterTransaction(m,s)){if(m.setMeta("appendedTransaction",e),!i){i=[];for(let w=0;w<this.config.plugins.length;w++)i.push(w<s?{state:n,n:r.length}:{state:this,n:0})}r.push(m),n=n.applyInner(m),a=!0}i&&(i[s]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Pu(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];r[a.name]=a.apply(e,this[a.name],this,r)}return r}get tr(){return new Yoe(this)}static create(e){let r=new Ww(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Pu(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new Ww(this.schema,e.plugins),n=r.fields,i=new Pu(r);for(let a=0;a<n.length;a++){let s=n[a].name;i[s]=this.hasOwnProperty(s)?this[s]:n[a].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ww(e.schema,e.plugins),a=new Pu(i);return i.fields.forEach(s=>{if(s.name=="doc")a.doc=Il.fromJSON(e.schema,r.doc);else if(s.name=="selection")a.selection=ur.fromJSON(a.doc,r.selection);else if(s.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let u in n){let c=n[u],d=c.spec.state;if(c.key==s.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(r,u)){a[s.name]=d.fromJSON.call(c,e,r[u],a);return}}a[s.name]=s.init(e,a)}}),a}}function YM(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=YM(i,e,{})),r[n]=i}return r}class na{constructor(e){this.spec=e,this.props={},e.props&&YM(e.props,this,this.props),this.key=e.key?e.key.key:ZM("plugin")}getState(e){return e[this.key]}}const Gw=Object.create(null);function ZM(t){return t in Gw?t+"$"+ ++Gw[t]:(Gw[t]=0,t+"$")}class Sp{constructor(e="key"){this.key=ZM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ti=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},hp=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let W1=null;const qs=function(t,e,r){let n=W1||(W1=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},ese=function(){W1=null},Ku=function(t,e,r,n){return r&&(wS(t,e,r,n,-1)||wS(t,e,r,n,1))},tse=/^(img|br|input|textarea|hr)$/i;function wS(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Ia(t))){let a=t.parentNode;if(!a||a.nodeType!=1||xp(t)||tse.test(t.nodeName)||t.contentEditable=="false")return!1;e=ti(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ia(t):0}else return!1}}function Ia(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function rse(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ia(t)}else if(t.parentNode&&!xp(t))e=ti(t),t=t.parentNode;else return null}}function nse(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!xp(t))e=ti(t)+1,t=t.parentNode;else return null}}function ise(t,e,r){for(let n=e==0,i=e==Ia(t);n||i;){if(t==r)return!0;let a=ti(t);if(t=t.parentNode,!t)return!1;n=n&&a==0,i=i&&a==Ia(t)}}function xp(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Qg=function(t){return t.focusNode&&Ku(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Iu(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function ase(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ose(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Ia(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Ia(n.startContainer),n.startOffset)}}}const Xo=typeof navigator<"u"?navigator:null,kS=typeof document<"u"?document:null,Ul=Xo&&Xo.userAgent||"",G1=/Edge\/(\d+)/.exec(Ul),eN=/MSIE \d/.exec(Ul),K1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ul),ta=!!(eN||K1||G1),Pl=eN?document.documentMode:K1?+K1[1]:G1?+G1[1]:0,fo=!ta&&/gecko\/(\d+)/i.test(Ul);fo&&+(/Firefox\/(\d+)/.exec(Ul)||[0,0])[1];const J1=!ta&&/Chrome\/(\d+)/.exec(Ul),ki=!!J1,tN=J1?+J1[1]:0,Bi=!ta&&!!Xo&&/Apple Computer/.test(Xo.vendor),_f=Bi&&(/Mobile\/\w+/.test(Ul)||!!Xo&&Xo.maxTouchPoints>2),Da=_f||(Xo?/Mac/.test(Xo.platform):!1),sse=Xo?/Win/.test(Xo.platform):!1,Vs=/Android \d/.test(Ul),Tp=!!kS&&"webkitFontSmoothing"in kS.documentElement.style,lse=Tp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function use(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Bs(t,e){return typeof t=="number"?t:t[e]}function cse(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function bS(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let s=r||t.dom;s;s=hp(s)){if(s.nodeType!=1)continue;let u=s,c=u==a.body,d=c?use(a):cse(u),m=0,w=0;if(e.top<d.top+Bs(n,"top")?w=-(d.top-e.top+Bs(i,"top")):e.bottom>d.bottom-Bs(n,"bottom")&&(w=e.bottom-e.top>d.bottom-d.top?e.top+Bs(i,"top")-d.top:e.bottom-d.bottom+Bs(i,"bottom")),e.left<d.left+Bs(n,"left")?m=-(d.left-e.left+Bs(i,"left")):e.right>d.right-Bs(n,"right")&&(m=e.right-d.right+Bs(i,"right")),m||w)if(c)a.defaultView.scrollBy(m,w);else{let T=u.scrollLeft,M=u.scrollTop;w&&(u.scrollTop+=w),m&&(u.scrollLeft+=m);let N=u.scrollLeft-T,P=u.scrollTop-M;e={left:e.left-N,top:e.top-P,right:e.right-N,bottom:e.bottom-P}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function fse(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,s=r+1;s<Math.min(innerHeight,e.bottom);s+=5){let u=t.root.elementFromPoint(a,s);if(!u||u==t.dom||!t.dom.contains(u))continue;let c=u.getBoundingClientRect();if(c.top>=r-20){n=u,i=c.top;break}}return{refDOM:n,refTop:i,stack:rN(t.dom)}}function rN(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=hp(n));return e}function dse({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;nN(r,n==0?0:n-e)}function nN(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:a}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let gf=null;function hse(t){if(t.setActive)return t.setActive();if(gf)return t.focus(gf);let e=rN(t);t.focus(gf==null?{get preventScroll(){return gf={preventScroll:!0},!0}}:void 0),gf||(gf=!1,nN(e,0))}function iN(t,e){let r,n=2e8,i,a=0,s=e.top,u=e.top,c,d;for(let m=t.firstChild,w=0;m;m=m.nextSibling,w++){let T;if(m.nodeType==1)T=m.getClientRects();else if(m.nodeType==3)T=qs(m).getClientRects();else continue;for(let M=0;M<T.length;M++){let N=T[M];if(N.top<=s&&N.bottom>=u){s=Math.max(N.bottom,s),u=Math.min(N.top,u);let P=N.left>e.left?N.left-e.left:N.right<e.left?e.left-N.right:0;if(P<n){r=m,n=P,i=P&&r.nodeType==3?{left:N.right<e.left?N.right:N.left,top:e.top}:e,m.nodeType==1&&P&&(a=w+(e.left>=(N.left+N.right)/2?1:0));continue}}else N.top>e.top&&!c&&N.left<=e.left&&N.right>=e.left&&(c=m,d={left:Math.max(N.left,Math.min(N.right,e.left)),top:N.top});!r&&(e.left>=N.right&&e.top>=N.top||e.left>=N.left&&e.top>=N.bottom)&&(a=w+1)}}return!r&&c&&(r=c,i=d,n=0),r&&r.nodeType==3?pse(r,i):!r||n&&r.nodeType==1?{node:t,offset:a}:iN(r,i)}function pse(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let a=Cl(n,1);if(a.top!=a.bottom&&J0(e,a))return{node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}function J0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function vse(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function mse(t,e,r){let{node:n,offset:i}=iN(e,r),a=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();a=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(n,i,a)}function gse(t,e,r,n){let i=-1;for(let a=e,s=!1;a!=t.dom;){let u=t.docView.nearestDesc(a,!0),c;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((c=u.dom.getBoundingClientRect()).width||c.height)&&(u.node.isBlock&&u.parent&&(!s&&c.left>n.left||c.top>n.top?i=u.posBefore:(!s&&c.right<n.left||c.bottom<n.top)&&(i=u.posAfter),s=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function aN(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),a=i;;){let s=t.childNodes[a];if(s.nodeType==1){let u=s.getClientRects();for(let c=0;c<u.length;c++){let d=u[c];if(J0(e,d))return aN(s,e,d)}}if((a=(a+1)%n)==i)break}return t}function yse(t,e){let r=t.dom.ownerDocument,n,i=0,a=ose(r,e.left,e.top);a&&({node:n,offset:i}=a);let s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),u;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let d=t.dom.getBoundingClientRect();if(!J0(e,d)||(s=aN(t.dom,e,d),!s))return null}if(Bi)for(let d=s;n&&d;d=hp(d))d.draggable&&(n=void 0);if(s=vse(s,e),n){if(fo&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let m=n.childNodes[i],w;m.nodeName=="IMG"&&(w=m.getBoundingClientRect()).right<=e.left&&w.bottom>e.top&&i++}let d;Tp&&i&&n.nodeType==1&&(d=n.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(u=gse(t,n,i,e))}u==null&&(u=mse(t,s,e));let c=t.docView.nearestDesc(s,!0);return{pos:u,inside:c?c.posAtStart-c.border:-1}}function CS(t){return t.top<t.bottom||t.left<t.right}function Cl(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(CS(n))return n}return Array.prototype.find.call(r,CS)||t.getBoundingClientRect()}const wse=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function oN(t,e,r){let{node:n,offset:i,atom:a}=t.docView.domFromPos(e,r<0?-1:1),s=Tp||fo;if(n.nodeType==3)if(s&&(wse.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let c=Cl(qs(n,i,i),r);if(fo&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let d=Cl(qs(n,i-1,i-1),-1);if(d.top==c.top){let m=Cl(qs(n,i,i+1),-1);if(m.top!=c.top)return Oh(m,m.left<d.left)}}return c}else{let c=i,d=i,m=r<0?1:-1;return r<0&&!i?(d++,m=-1):r>=0&&i==n.nodeValue.length?(c--,m=1):r<0?c--:d++,Oh(Cl(qs(n,c,d),m),m<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(r<0||i==Ia(n))){let c=n.childNodes[i-1];if(c.nodeType==1)return Kw(c.getBoundingClientRect(),!1)}if(a==null&&i<Ia(n)){let c=n.childNodes[i];if(c.nodeType==1)return Kw(c.getBoundingClientRect(),!0)}return Kw(n.getBoundingClientRect(),r>=0)}if(a==null&&i&&(r<0||i==Ia(n))){let c=n.childNodes[i-1],d=c.nodeType==3?qs(c,Ia(c)-(s?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Oh(Cl(d,1),!1)}if(a==null&&i<Ia(n)){let c=n.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?qs(c,0,s?0:1):c.nodeType==1?c:null:null;if(d)return Oh(Cl(d,-1),!0)}return Oh(Cl(n.nodeType==3?qs(n):n,-r),r>=0)}function Oh(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Kw(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function sN(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function kse(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return sN(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let s=oN(t,i.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let c;if(u.nodeType==1)c=u.getClientRects();else if(u.nodeType==3)c=qs(u,0,u.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let m=c[d];if(m.bottom>m.top+1&&(r=="up"?s.top-m.top>(m.bottom-s.top)*2:m.bottom-s.bottom>(s.bottom-m.top)*2))return!1}}return!0})}const bse=/[\u0590-\u08ac]/;function Cse(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,s=i==n.parent.content.size,u=t.domSelection();return u?!bse.test(n.parent.textContent)||!u.modify?r=="left"||r=="backward"?a:s:sN(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:m,anchorOffset:w}=t.domSelectionRange(),T=u.caretBidiLevel;u.modify("move",r,"character");let M=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:N,focusOffset:P}=t.domSelectionRange(),R=N&&!M.contains(N.nodeType==1?N:N.parentNode)||c==N&&d==P;try{u.collapse(m,w),c&&(c!=m||d!=w)&&u.extend&&u.extend(c,d)}catch{}return T!=null&&(u.caretBidiLevel=T),R}):n.pos==n.start()||n.pos==n.end()}let SS=null,xS=null,TS=!1;function Sse(t,e,r){return SS==e&&xS==r?TS:(SS=e,xS=r,TS=r=="up"||r=="down"?kse(t,e,r):Cse(t,e,r))}const Pa=0,ES=1,Bu=2,Yo=3;class Ep{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Pa,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,s;if(e==this.contentDOM)a=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(s)+s.size:this.posAtStart}else{let a,s;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>ti(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),s;if(a&&(!r||a.node))if(n&&(s=a.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return a}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let u=i.children[s];if(u.size){i=u;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let s=this.children[n],u=a+s.size;if(u>e||s instanceof uN){i=e-a;break}a=u}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof lN&&a.side>=0;n--);if(r<=0){let a,s=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,s=!1);return a&&r&&s&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?ti(a.dom)+1:0}}else{let a,s=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,s=!1);return a&&s&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?ti(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let s=n,u=0;;u++){let c=this.children[u],d=s+c.size;if(i==-1&&e<=d){let m=s+c.border;if(e>=m&&r<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,m);e=s;for(let w=u;w>0;w--){let T=this.children[w-1];if(T.size&&T.dom.parentNode==this.contentDOM&&!T.emptyChildAt(1)){i=ti(T.dom)+1;break}e-=T.size}i==-1&&(i=0)}if(i>-1&&(d>r||u==this.children.length-1)){r=d;for(let m=u+1;m<this.children.length;m++){let w=this.children[m];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(-1)){a=ti(w.dom);break}r+=w.size}a==-1&&(a=this.contentDOM.childNodes.length);break}s=d}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let a=Math.min(e,r),s=Math.max(e,r);for(let M=0,N=0;M<this.children.length;M++){let P=this.children[M],R=N+P.size;if(a>N&&s<R)return P.setSelection(e-N-P.border,r-N-P.border,n,i);N=R}let u=this.domFromPos(e,e?-1:1),c=r==e?u:this.domFromPos(r,r?-1:1),d=n.root.getSelection(),m=n.domSelectionRange(),w=!1;if((fo||Bi)&&e==r){let{node:M,offset:N}=u;if(M.nodeType==3){if(w=!!(N&&M.nodeValue[N-1]==`
`),w&&N==M.nodeValue.length)for(let P=M,R;P;P=P.parentNode){if(R=P.nextSibling){R.nodeName=="BR"&&(u=c={node:R.parentNode,offset:ti(R)+1});break}let V=P.pmViewDesc;if(V&&V.node&&V.node.isBlock)break}}else{let P=M.childNodes[N-1];w=P&&(P.nodeName=="BR"||P.contentEditable=="false")}}if(fo&&m.focusNode&&m.focusNode!=c.node&&m.focusNode.nodeType==1){let M=m.focusNode.childNodes[m.focusOffset];M&&M.contentEditable=="false"&&(i=!0)}if(!(i||w&&Bi)&&Ku(u.node,u.offset,m.anchorNode,m.anchorOffset)&&Ku(c.node,c.offset,m.focusNode,m.focusOffset))return;let T=!1;if((d.extend||e==r)&&!w){d.collapse(u.node,u.offset);try{e!=r&&d.extend(c.node,c.offset),T=!0}catch{}}if(!T){if(e>r){let N=u;u=c,c=N}let M=document.createRange();M.setEnd(c.node,c.offset),M.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(M)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],s=n+a.size;if(n==s?e<=s&&r>=n:e<s&&r>n){let u=n+a.border,c=s-a.border;if(e>=u&&r<=c){this.dirty=e==n||r==s?Bu:ES,e==u&&r==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Yo:a.markDirty(e-u,r-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Bu:Yo}n=s}this.dirty=Bu}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?Bu:ES;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class lN extends Ep{constructor(e,r,n,i){let a,s=r.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(s.nodeType!=1){let u=document.createElement("span");u.appendChild(s),s=u}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=r,this.widget=r,a=this}matchesWidget(e){return this.dirty==Pa&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class xse extends Ep{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ju extends Ep{constructor(e,r,n,i,a){super(e,[],n,i),this.mark=r,this.spec=a}static create(e,r,n,i){let a=i.nodeViews[r.type.name],s=a&&a(r,i,n);return(!s||!s.dom)&&(s=Yf.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Ju(e,r,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Yo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Yo&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Pa){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Pa}}slice(e,r,n){let i=Ju.create(this.parent,this.mark,!0,n),a=this.children,s=this.size;r<s&&(a=X1(a,r,s,n)),e>0&&(a=X1(a,0,e,n));for(let u=0;u<a.length;u++)a[u].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Bl extends Ep{constructor(e,r,n,i,a,s,u,c,d){super(e,[],a,s),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=u}static create(e,r,n,i,a,s){let u=a.nodeViews[r.type.name],c,d=u&&u(r,a,()=>{if(!c)return s;if(c.parent)return c.parent.posBeforeChild(c)},n,i),m=d&&d.dom,w=d&&d.contentDOM;if(r.isText){if(!m)m=document.createTextNode(r.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:w}=Yf.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!w&&!r.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),r.type.spec.draggable&&(m.draggable=!0));let T=m;return m=dN(m,n,r),d?c=new Tse(e,r,n,i,m,w||null,T,d,a,s+1):r.isText?new Xg(e,r,n,i,m,T,a):new Bl(e,r,n,i,m,w||null,T,a,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ze.empty)}return e}matchesNode(e,r,n){return this.dirty==Pa&&e.eq(this.node)&&cg(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,a=e.composing?this.localCompositionInfo(e,r):null,s=a&&a.pos>-1?a:null,u=a&&a.pos<0,c=new Mse(this,s&&s.node,e);Ase(this.node,this.innerDeco,(d,m,w)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!w&&c.syncToMarks(m==this.node.childCount?xr.none:this.node.child(m).marks,n,e),c.placeWidget(d,e,i)},(d,m,w,T)=>{c.syncToMarks(d.marks,n,e);let M;c.findNodeMatch(d,m,w,T)||u&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(M=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(d,m,w,M,e)||c.updateNextNode(d,m,w,e,T,i)||c.addNode(d,m,w,e,i),i+=d.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Bu)&&(s&&this.protectLocalComposition(e,s),cN(this.contentDOM,this.children,e),_f&&Dse(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof pr)||n<r||i>r+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,u=Lse(this.node.content,s,n-r,i-r);return u<0?null:{node:a,pos:u,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new xse(this,a,r,i);e.input.compositionNodes.push(s),this.children=X1(this.children,n,n+i.length,e,s)}update(e,r,n,i){return this.dirty==Yo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Pa}updateOuterDeco(e){if(cg(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=fN(this.dom,this.nodeDOM,Q1(this.outerDeco,this.node,r),Q1(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function MS(t,e,r,n,i){dN(n,e,t);let a=new Bl(void 0,t,e,r,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class Xg extends Bl{constructor(e,r,n,i,a,s,u){super(e,r,n,i,a,null,s,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==Yo||this.dirty!=Pa&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Pa||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Pa,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),a=document.createTextNode(i.text);return new Xg(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Yo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class uN extends Ep{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Pa&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Tse extends Bl{constructor(e,r,n,i,a,s,u,c,d,m){super(e,r,n,i,a,s,u,d,m),this.spec=c}update(e,r,n,i){if(this.dirty==Yo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,r,n);return a&&this.updateInner(e,r,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function cN(t,e,r){let n=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let s=e[a],u=s.dom;if(u.parentNode==t){for(;u!=n;)n=NS(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(u,n);if(s instanceof Ju){let c=n?n.previousSibling:t.lastChild;cN(s.contentDOM,s.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=NS(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const Jh=function(t){t&&(this.nodeName=t)};Jh.prototype=Object.create(null);const _u=[new Jh];function Q1(t,e,r){if(t.length==0)return _u;let n=r?_u[0]:new Jh,i=[n];for(let a=0;a<t.length;a++){let s=t[a].type.attrs;if(s){s.nodeName&&i.push(n=new Jh(s.nodeName));for(let u in s){let c=s[u];c!=null&&(r&&i.length==1&&i.push(n=new Jh(e.isInline?"span":"div")),u=="class"?n.class=(n.class?n.class+" ":"")+c:u=="style"?n.style=(n.style?n.style+";":"")+c:u!="nodeName"&&(n[u]=c))}}}return i}function fN(t,e,r,n){if(r==_u&&n==_u)return e;let i=e;for(let a=0;a<n.length;a++){let s=n[a],u=r[a];if(a){let c;u&&u.nodeName==s.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName),c.pmIsDeco=!0,c.appendChild(i),u=_u[0]),i=c}Ese(i,u||_u[0],s)}return i}function Ese(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&t.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function dN(t,e,r){return fN(t,t,_u,Q1(e,r,t.nodeType!=1))}function cg(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function NS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Mse{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Nse(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,a=this.stack.length>>1,s=Math.min(a,e.length);for(;i<s&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Pa,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[a])&&!this.isLocked(d.dom)){u=c;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let c=Ju.create(this.top,e[a],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,a++}}findNodeMatch(e,r,n,i){let a=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,r,n))a=this.top.children.indexOf(s,this.index);else for(let u=this.index,c=Math.min(this.top.children.length,u+5);u<c;u++){let d=this.top.children[u];if(d.matchesNode(e,r,n)&&!this.preMatch.matched.has(d)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,r,n,i,a){let s=this.top.children[i];return s.dirty==Yo&&s.dom==s.contentDOM&&(s.dirty=Bu),s.update(e,r,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,a,s){for(let u=this.index;u<this.top.children.length;u++){let c=this.top.children[u];if(c instanceof Bl){let d=this.preMatch.matched.get(c);if(d!=null&&d!=a)return!1;let m=c.dom,w,T=this.isLocked(m)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Yo&&cg(r,c.outerDeco));if(!T&&c.update(e,r,n,i))return this.destroyBetween(this.index,u),c.dom!=m&&(this.changed=!0),this.index++,!0;if(!T&&(w=this.recreateWrapper(c,e,r,n,i,s)))return this.destroyBetween(this.index,u),this.top.children[this.index]=w,w.contentDOM&&(w.dirty=Bu,w.updateChildren(i,s+1),w.dirty=Pa),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,a,s){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!cg(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=Bl.create(this.top,r,n,i,a,s);if(u.contentDOM){u.children=e.children,e.children=[];for(let c of u.children)c.parent=u}return e.destroy(),u}addNode(e,r,n,i,a){let s=Bl.create(this.top,e,r,n,i,a);s.contentDOM&&s.updateChildren(i,a+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new lN(this.top,e,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Ju;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Xg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bi||ki)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new uN(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Nse(t,e){let r=e,n=r.children.length,i=t.childCount,a=new Map,s=[];e:for(;i>0;){let u;for(;;)if(n){let d=r.children[n-1];if(d instanceof Ju)r=d,n=d.children.length;else{u=d,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=u.node;if(c){if(c!=t.child(i-1))break;--i,a.set(u,i),s.push(u)}}return{index:i,matched:a,matches:s.reverse()}}function Ose(t,e){return t.type.side-e.type.side}function Ase(t,e,r,n){let i=e.locals(t),a=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let m=t.child(d);n(m,i,e.forChild(a,m),d),a+=m.nodeSize}return}let s=0,u=[],c=null;for(let d=0;;){let m,w;for(;s<i.length&&i[s].to==a;){let R=i[s++];R.widget&&(m?(w||(w=[m])).push(R):m=R)}if(m)if(w){w.sort(Ose);for(let R=0;R<w.length;R++)r(w[R],d,!!c)}else r(m,d,!!c);let T,M;if(c)M=-1,T=c,c=null;else if(d<t.childCount)M=d,T=t.child(d++);else break;for(let R=0;R<u.length;R++)u[R].to<=a&&u.splice(R--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)u.push(i[s++]);let N=a+T.nodeSize;if(T.isText){let R=N;s<i.length&&i[s].from<R&&(R=i[s].from);for(let V=0;V<u.length;V++)u[V].to<R&&(R=u[V].to);R<N&&(c=T.cut(R-a),T=T.cut(0,R-a),N=R,M=-1)}else for(;s<i.length&&i[s].to<N;)s++;let P=T.isInline&&!T.isLeaf?u.filter(R=>!R.inline):u.slice();n(T,P,e.forChild(a,T),M),a=N}}function Dse(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Lse(t,e,r,n){for(let i=0,a=0;i<t.childCount&&a<=n;){let s=t.child(i++),u=a;if(a+=s.nodeSize,!s.isText)continue;let c=s.text;for(;i<t.childCount;){let d=t.child(i++);if(a+=d.nodeSize,!d.isText)break;c+=d.text}if(a>=r){if(a>=n&&c.slice(n-e.length-u,n-u)==e)return n-e.length;let d=u<n?c.lastIndexOf(e,n-u-1):-1;if(d>=0&&d+e.length+u>=r)return u+d;if(r==n&&c.length>=n+e.length-u&&c.slice(n-u,n-u+e.length)==e)return n}}return-1}function X1(t,e,r,n,i){let a=[];for(let s=0,u=0;s<t.length;s++){let c=t[s],d=u,m=u+=c.size;d>=r||m<=e?a.push(c):(d<e&&a.push(c.slice(0,e-d,n)),i&&(a.push(i),i=void 0),m>r&&a.push(c.slice(r-d,c.size,n)))}return a}function Q0(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),a=i&&i.size==0,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let u=n.resolve(s),c,d;if(Qg(r)){for(c=s;i&&!i.node;)i=i.parent;let w=i.node;if(i&&w.isAtom&&Qt.isSelectable(w)&&i.parent&&!(w.isInline&&ise(r.focusNode,r.focusOffset,i.dom))){let T=i.posBefore;d=new Qt(s==T?u:n.resolve(T))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let w=s,T=s;for(let M=0;M<r.rangeCount;M++){let N=r.getRangeAt(M);w=Math.min(w,t.docView.posFromDOM(N.startContainer,N.startOffset,1)),T=Math.max(T,t.docView.posFromDOM(N.endContainer,N.endOffset,-1))}if(w<0)return null;[c,s]=T==t.state.selection.anchor?[T,w]:[w,T],u=n.resolve(s)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let m=n.resolve(c);if(!d){let w=e=="pointer"||t.state.selection.head<u.pos&&!a?1:-1;d=X0(t,m,u,w)}return d}function hN(t){return t.editable?t.hasFocus():vN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Us(t,e=!1){let r=t.state.selection;if(pN(t,r),!!hN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ki){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Ku(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Ise(t);else{let{anchor:n,head:i}=r,a,s;OS&&!(r instanceof pr)&&(r.$from.parent.inlineContent||(a=AS(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(s=AS(t,r.to))),t.docView.setSelection(n,i,t,e),OS&&(a&&DS(a),s&&DS(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Rse(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const OS=Bi||ki&&tN<63;function AS(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(Bi&&i&&i.contentEditable=="false")return Jw(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return Jw(i);if(a)return Jw(a)}}function Jw(t){return t.contentEditable="true",Bi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function DS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Rse(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!hN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ise(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,ti(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&ta&&Pl<=11&&(n.disabled=!0,n.disabled=!1)}function pN(t,e){if(e instanceof Qt){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(LS(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else LS(t)}function LS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function X0(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||pr.between(e,r,n)}function RS(t){return t.editable&&!t.hasFocus()?!1:vN(t)}function vN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Pse(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Ku(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Y1(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&ur.findFrom(a,e)}function Sl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function IS(t,e,r){let n=t.state.selection;if(n instanceof pr)if(r.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return Sl(t,new pr(n.$anchor,s))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Y1(t.state,e);return i&&i instanceof Qt?Sl(t,i):!1}else if(!(Da&&r.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!a||a.isText)return!1;let u=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(s=t.docView.descAt(u))&&!s.contentDOM?Qt.isSelectable(a)?Sl(t,new Qt(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):Tp?Sl(t,new pr(t.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Qt&&n.node.isInline)return Sl(t,new pr(e>0?n.$to:n.$from));{let i=Y1(t.state,e);return i?Sl(t,i):!1}}}function fg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Qh(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function yf(t,e){return e<0?Bse(t):_se(t)}function Bse(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,a,s=!1;for(fo&&r.nodeType==1&&n<fg(r)&&Qh(r.childNodes[n],-1)&&(s=!0);;)if(n>0){if(r.nodeType!=1)break;{let u=r.childNodes[n-1];if(Qh(u,-1))i=r,a=--n;else if(u.nodeType==3)r=u,n=r.nodeValue.length;else break}}else{if(mN(r))break;{let u=r.previousSibling;for(;u&&Qh(u,-1);)i=r.parentNode,a=ti(u),u=u.previousSibling;if(u)r=u,n=fg(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?Z1(t,r,n):i&&Z1(t,i,a)}function _se(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=fg(r),a,s;for(;;)if(n<i){if(r.nodeType!=1)break;let u=r.childNodes[n];if(Qh(u,1))a=r,s=++n;else break}else{if(mN(r))break;{let u=r.nextSibling;for(;u&&Qh(u,1);)a=u.parentNode,s=ti(u)+1,u=u.nextSibling;if(u)r=u,n=0,i=fg(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}a&&Z1(t,a,s)}function mN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Fse(t,e){for(;t&&e==t.childNodes.length&&!xp(t);)e=ti(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function qse(t,e){for(;t&&!e&&!xp(t);)e=ti(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Z1(t,e,r){if(e.nodeType!=3){let a,s;(s=Fse(e,r))?(e=s,r=0):(a=qse(e,r))&&(e=a,r=a.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Qg(n)){let a=document.createRange();a.setEnd(e,r),a.setStart(e,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Us(t)},50)}function PS(t,e){let r=t.state.doc.resolve(e);if(!(ki||sse)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let a=t.coordsAtPos(e-1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<r.end()){let a=t.coordsAtPos(e+1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function BS(t,e,r){let n=t.state.selection;if(n instanceof pr&&!n.empty||r.indexOf("s")>-1||Da&&r.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Y1(t.state,e);if(s&&s instanceof Qt)return Sl(t,s)}if(!i.parent.inlineContent){let s=e<0?i:a,u=n instanceof Pi?ur.near(s,e):ur.findFrom(s,e);return u?Sl(t,u):!1}return!1}function _S(t,e){if(!(t.state.selection instanceof pr))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let s=t.state.tr;return e<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),t.dispatch(s),!0}return!1}function FS(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function zse(t){if(!Bi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;FS(t,n,"true"),setTimeout(()=>FS(t,n,"false"),20)}return!1}function Hse(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Vse(t,e){let r=e.keyCode,n=Hse(e);if(r==8||Da&&r==72&&n=="c")return _S(t,-1)||yf(t,-1);if(r==46&&!e.shiftKey||Da&&r==68&&n=="c")return _S(t,1)||yf(t,1);if(r==13||r==27)return!0;if(r==37||Da&&r==66&&n=="c"){let i=r==37?PS(t,t.state.selection.from)=="ltr"?-1:1:-1;return IS(t,i,n)||yf(t,i)}else if(r==39||Da&&r==70&&n=="c"){let i=r==39?PS(t,t.state.selection.from)=="ltr"?1:-1:1;return IS(t,i,n)||yf(t,i)}else{if(r==38||Da&&r==80&&n=="c")return BS(t,-1,n)||yf(t,-1);if(r==40||Da&&r==78&&n=="c")return zse(t)||BS(t,1,n)||yf(t,1);if(n==(Da?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function gN(t,e){t.someProp("transformCopied",M=>{e=M(e,t)});let r=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let M=n.firstChild;r.push(M.type.name,M.attrs!=M.type.defaultAttrs?M.attrs:null),n=M.content}let s=t.someProp("clipboardSerializer")||Yf.fromSchema(t.state.schema),u=SN(),c=u.createElement("div");c.appendChild(s.serializeFragment(n,{document:u}));let d=c.firstChild,m,w=0;for(;d&&d.nodeType==1&&(m=CN[d.nodeName.toLowerCase()]);){for(let M=m.length-1;M>=0;M--){let N=u.createElement(m[M]);for(;c.firstChild;)N.appendChild(c.firstChild);c.appendChild(N),w++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${a}${w?` -${w}`:""} ${JSON.stringify(r)}`);let T=t.someProp("clipboardTextSerializer",M=>M(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:T,slice:e}}function yN(t,e,r,n,i){let a=i.parent.type.spec.code,s,u;if(!r&&!e)return null;let c=e&&(n||a||!r);if(c){if(t.someProp("transformPastedText",T=>{e=T(e,a||n,t)}),a)return e?new yt(Ze.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):yt.empty;let w=t.someProp("clipboardTextParser",T=>T(e,i,n,t));if(w)u=w;else{let T=i.marks(),{schema:M}=t.state,N=Yf.fromSchema(M);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(P=>{let R=s.appendChild(document.createElement("p"));P&&R.appendChild(N.serializeNode(M.text(P,T)))})}}else t.someProp("transformPastedHTML",w=>{r=w(r,t)}),s=Wse(r),Tp&&Gse(s);let d=s&&s.querySelector("[data-pm-slice]"),m=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let w=+m[3];w>0;w--){let T=s.firstChild;for(;T&&T.nodeType!=1;)T=T.nextSibling;if(!T)break;s=T}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Gu.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(c||m),context:i,ruleFromNode(T){return T.nodeName=="BR"&&!T.nextSibling&&T.parentNode&&!$se.test(T.parentNode.nodeName)?{ignore:!0}:null}})),m)u=Kse(qS(u,+m[1],+m[2]),m[4]);else if(u=yt.maxOpen(Use(u.content,i),!0),u.openStart||u.openEnd){let w=0,T=0;for(let M=u.content.firstChild;w<u.openStart&&!M.type.spec.isolating;w++,M=M.firstChild);for(let M=u.content.lastChild;T<u.openEnd&&!M.type.spec.isolating;T++,M=M.lastChild);u=qS(u,w,T)}return t.someProp("transformPasted",w=>{u=w(u,t)}),u}const $se=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Use(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),a,s=[];if(t.forEach(u=>{if(!s)return;let c=i.findWrapping(u.type),d;if(!c)return s=null;if(d=s.length&&a.length&&kN(c,a,u,s[s.length-1],0))s[s.length-1]=d;else{s.length&&(s[s.length-1]=bN(s[s.length-1],a.length));let m=wN(u,c);s.push(m),i=i.matchType(m.type),a=c}}),s)return Ze.from(s)}return t}function wN(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Ze.from(t));return t}function kN(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=kN(t,e,r,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(Ze.from(wN(r,t,i+1))))}}function bN(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,bN(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Ze.empty,!0);return t.copy(r.append(n))}function e0(t,e,r,n,i,a){let s=e<0?t.firstChild:t.lastChild,u=s.content;return t.childCount>1&&(a=0),i<n-1&&(u=e0(u,e,r,n,i+1,a)),i>=r&&(u=e<0?s.contentMatchAt(0).fillBefore(u,a<=i).append(u):u.append(s.contentMatchAt(s.childCount).fillBefore(Ze.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(u))}function qS(t,e,r){return e<t.openStart&&(t=new yt(e0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new yt(e0(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const CN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let zS=null;function SN(){return zS||(zS=document.implementation.createHTMLDocument("title"))}let Qw=null;function jse(t){let e=window.trustedTypes;return e?(Qw||(Qw=e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Qw.createHTML(t)):t}function Wse(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=SN().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&CN[n[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=jse(t),i)for(let a=0;a<i.length;a++)r=r.querySelector(i[a])||r;return r}function Gse(t){let e=t.querySelectorAll(ki?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function Kse(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:a,openEnd:s}=t;for(let u=n.length-2;u>=0;u-=2){let c=r.nodes[n[u]];if(!c||c.hasRequiredAttrs())break;i=Ze.from(c.create(n[u+1],i)),a++,s++}return new yt(i,a,s)}const _i={},Fi={},Jse={touchstart:!0,touchmove:!0};class Qse{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Xse(t){for(let e in _i){let r=_i[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{Zse(t,n)&&!Y0(t,n)&&(t.editable||!(n.type in Fi))&&r(t,n)},Jse[e]?{passive:!0}:void 0)}Bi&&t.dom.addEventListener("input",()=>null),t0(t)}function Ll(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Yse(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function t0(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Y0(t,n))})}function Y0(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function Zse(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function ele(t,e){!Y0(t,e)&&_i[e.type]&&(t.editable||!(e.type in Fi))&&_i[e.type](t,e)}Fi.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!TN(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Vs&&ki&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),_f&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,Iu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||Vse(t,r)?r.preventDefault():Ll(t,"key")};Fi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Fi.keypress=(t,e)=>{let r=e;if(TN(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Da&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof pr)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,n.$from.pos,n.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function Yg(t){return{left:t.clientX,top:t.clientY}}function tle(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Z0(t,e,r,n,i){if(n==-1)return!1;let a=t.state.doc.resolve(n);for(let s=a.depth+1;s>0;s--)if(t.someProp(e,u=>s>a.depth?u(t,r,a.nodeAfter,a.before(s),i,!0):u(t,r,a.node(s),a.before(s),i,!1)))return!0;return!1}function Rf(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function rle(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Qt.isSelectable(n)?(Rf(t,new Qt(r)),!0):!1}function nle(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof Qt&&(n=r.node);let a=t.state.doc.resolve(e);for(let s=a.depth+1;s>0;s--){let u=s>a.depth?a.nodeAfter:a.node(s);if(Qt.isSelectable(u)){n&&r.$from.depth>0&&s>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?i=a.before(r.$from.depth):i=a.before(s);break}}return i!=null?(Rf(t,Qt.create(t.state.doc,i)),!0):!1}function ile(t,e,r,n,i){return Z0(t,"handleClickOn",e,r,n)||t.someProp("handleClick",a=>a(t,e,n))||(i?nle(t,r):rle(t,r))}function ale(t,e,r,n){return Z0(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function ole(t,e,r,n){return Z0(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||sle(t,r,n)}function sle(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Rf(t,pr.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let s=a>i.depth?i.nodeAfter:i.node(a),u=i.before(a);if(s.inlineContent)Rf(t,pr.create(n,u+1,u+1+s.content.size));else if(Qt.isSelectable(s))Rf(t,Qt.create(n,u));else continue;return!0}}function ek(t){return dg(t)}const xN=Da?"metaKey":"ctrlKey";_i.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=ek(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&tle(r,t.input.lastClick)&&!r[xN]&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:a};let s=t.posAtCoords(Yg(r));s&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new lle(t,s,r,!!n)):(a=="doubleClick"?ale:ole)(t,s.pos,s.inside,r)?r.preventDefault():Ll(t,"pointer"))};class lle{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[xN],this.allowDefault=n.shiftKey;let a,s;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),s=r.inside;else{let m=e.state.doc.resolve(r.pos);a=m.parent,s=m.depth?m.before():0}const u=i?null:n.target,c=u?e.docView.nearestDesc(u,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:d}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||d instanceof Qt&&d.from<=s&&d.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ll(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Us(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Yg(e))),this.updateAllowDefault(e),this.allowDefault||!r?Ll(this.view,"pointer"):ile(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bi&&this.mightDrag&&!this.mightDrag.node.isAtom||ki&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Rf(this.view,ur.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Ll(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ll(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_i.touchstart=t=>{t.input.lastTouch=Date.now(),ek(t),Ll(t,"pointer")};_i.touchmove=t=>{t.input.lastTouch=Date.now(),Ll(t,"pointer")};_i.contextmenu=t=>ek(t);function TN(t,e){return t.composing?!0:Bi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const ule=Vs?5e3:-1;Fi.compositionstart=Fi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof pr&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),dg(t,!0),t.markCursor=null;else if(dg(t,!e.selection.empty),fo&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let s=a<0?i.lastChild:i.childNodes[a-1];if(!s)break;if(s.nodeType==3){let u=t.domSelection();u&&u.collapse(s,s.nodeValue.length);break}else i=s,a=-1}}t.input.composing=!0}EN(t,ule)};Fi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,EN(t,20))};function EN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>dg(t),e))}function MN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=fle());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function cle(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=rse(e.focusNode,e.focusOffset),n=nse(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let s=r.pmViewDesc;if(!(!s||!s.isText(r.nodeValue)))return n}}return r||n}function fle(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function dg(t,e=!1){if(!(Vs&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),MN(t),e||t.docView&&t.docView.dirty){let r=Q0(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function dle(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const pp=ta&&Pl<15||_f&&lse<604;_i.copy=Fi.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let a=pp?null:r.clipboardData,s=n.content(),{dom:u,text:c}=gN(t,s);a?(r.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",c)):dle(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function hle(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function ple(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?vp(t,n.value,null,i,e):vp(t,n.textContent,n.innerHTML,i,e)},50)}function vp(t,e,r,n,i){let a=yN(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,a||yt.empty)))return!0;if(!a)return!1;let s=hle(a),u=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(a);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function NN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Fi.paste=(t,e)=>{let r=e;if(t.composing&&!Vs)return;let n=pp?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&vp(t,NN(n),n.getData("text/html"),i,r)?r.preventDefault():ple(t,r)};class ON{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const AN=Da?"altKey":"ctrlKey";_i.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(Yg(r)),s;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof Qt?i.to-1:i.to))){if(n&&n.mightDrag)s=Qt.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let w=t.docView.nearestDesc(r.target,!0);w&&w.node.type.spec.draggable&&w!=t.docView&&(s=Qt.create(t.state.doc,w.posBefore))}}let u=(s||t.state.selection).content(),{dom:c,text:d,slice:m}=gN(t,u);(!r.dataTransfer.files.length||!ki||tN>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(pp?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",pp||r.dataTransfer.setData("text/plain",d),t.dragging=new ON(m,!r[AN],s)};_i.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Fi.dragover=Fi.dragenter=(t,e)=>e.preventDefault();Fi.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(Yg(r));if(!i)return;let a=t.state.doc.resolve(i.pos),s=n&&n.slice;s?t.someProp("transformPasted",N=>{s=N(s,t)}):s=yN(t,NN(r.dataTransfer),pp?null:r.dataTransfer.getData("text/html"),!1,a);let u=!!(n&&!r[AN]);if(t.someProp("handleDrop",N=>N(t,r,s||yt.empty,u))){r.preventDefault();return}if(!s)return;r.preventDefault();let c=s?$oe(t.state.doc,a.pos,s):a.pos;c==null&&(c=a.pos);let d=t.state.tr;if(u){let{node:N}=n;N?N.replace(d):d.deleteSelection()}let m=d.mapping.map(c),w=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,T=d.doc;if(w?d.replaceRangeWith(m,m,s.content.firstChild):d.replaceRange(m,m,s),d.doc.eq(T))return;let M=d.doc.resolve(m);if(w&&Qt.isSelectable(s.content.firstChild)&&M.nodeAfter&&M.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new Qt(M));else{let N=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((P,R,V,ee)=>N=ee),d.setSelection(X0(t,M,d.doc.resolve(N)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};_i.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Us(t)},20))};_i.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};_i.beforeinput=(t,e)=>{if(ki&&Vs&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Iu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Fi)_i[t]=Fi[t];function mp(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class hg{constructor(e,r){this.toDOM=e,this.spec=r||Vu,this.side=this.spec.side||0}map(e,r,n,i){let{pos:a,deleted:s}=e.mapResult(r.from+i,this.side<0?-1:1);return s?null:new ea(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof hg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&mp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class _l{constructor(e,r){this.attrs=e,this.spec=r||Vu}map(e,r,n,i){let a=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,s=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=s?null:new ea(a,s,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof _l&&mp(this.attrs,e.attrs)&&mp(this.spec,e.spec)}static is(e){return e.type instanceof _l}destroy(){}}class tk{constructor(e,r){this.attrs=e,this.spec=r||Vu}map(e,r,n,i){let a=e.mapResult(r.from+i,1);if(a.deleted)return null;let s=e.mapResult(r.to+i,-1);return s.deleted||s.pos<=a.pos?null:new ea(a.pos-n,s.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),a;return i==r.from&&!(a=e.child(n)).isText&&i+a.nodeSize==r.to}eq(e){return this==e||e instanceof tk&&mp(this.attrs,e.attrs)&&mp(this.spec,e.spec)}destroy(){}}class ea{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new ea(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new ea(e,e,new hg(r,n))}static inline(e,r,n,i){return new ea(e,r,new _l(n,i))}static node(e,r,n,i){return new ea(e,r,new tk(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof _l}get widget(){return this.type instanceof hg}}const xf=[],Vu={};class dn{constructor(e,r){this.local=e.length?e:xf,this.children=r.length?r:xf}static create(e,r){return r.length?pg(r,e,0,Vu):yi}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,a){for(let s=0;s<this.local.length;s++){let u=this.local[s];u.from<=r&&u.to>=e&&(!a||a(u.spec))&&n.push(u.copy(u.from+i,u.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<r&&this.children[s+1]>e){let u=this.children[s]+1;this.children[s+2].findInner(e-u,r-u,n,i+u,a)}}map(e,r,n){return this==yi||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Vu)}mapInner(e,r,n,i,a){let s;for(let u=0;u<this.local.length;u++){let c=this.local[u].map(e,n,i);c&&c.type.valid(r,c)?(s||(s=[])).push(c):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?vle(this.children,s||[],e,r,n,i,a):s?new dn(s.sort($u),xf):yi}add(e,r){return r.length?this==yi?dn.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,a=0;e.forEach((u,c)=>{let d=c+n,m;if(m=LN(r,u,d)){for(i||(i=this.children.slice());a<i.length&&i[a]<c;)a+=3;i[a]==c?i[a+2]=i[a+2].addInner(u,m,d+1):i.splice(a,0,c,c+u.nodeSize,pg(m,u,d+1,Vu)),a+=3}});let s=DN(a?RN(r):r,-n);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||s.splice(u--,1);return new dn(s.length?this.local.concat(s).sort($u):this.local,i||this.children)}remove(e){return e.length==0||this==yi?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let s,u=n[a]+r,c=n[a+1]+r;for(let m=0,w;m<e.length;m++)(w=e[m])&&w.from>u&&w.to<c&&(e[m]=null,(s||(s=[])).push(w));if(!s)continue;n==this.children&&(n=this.children.slice());let d=n[a+2].removeInner(s,u+1);d!=yi?n[a+2]=d:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,s;a<e.length;a++)if(s=e[a])for(let u=0;u<i.length;u++)i[u].eq(s,r)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new dn(i,n):yi}forChild(e,r){if(this==yi)return this;if(r.isLeaf)return dn.empty;let n,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(n=this.children[u+2]);break}let a=e+1,s=a+r.content.size;for(let u=0;u<this.local.length;u++){let c=this.local[u];if(c.from<s&&c.to>a&&c.type instanceof _l){let d=Math.max(a,c.from)-a,m=Math.min(s,c.to)-a;d<m&&(i||(i=[])).push(c.copy(d,m))}}if(i){let u=new dn(i.sort($u),xf);return n?new Tl([u,n]):u}return n||yi}eq(e){if(this==e)return!0;if(!(e instanceof dn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return rk(this.localsInner(e))}localsInner(e){if(this==yi)return xf;if(e.inlineContent||!this.local.some(_l.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof _l||r.push(this.local[n]);return r}forEachSet(e){e(this)}}dn.empty=new dn([],[]);dn.removeOverlap=rk;const yi=dn.empty;class Tl{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,Vu));return Tl.from(n)}forChild(e,r){if(r.isLeaf)return dn.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,r);a!=yi&&(a instanceof Tl?n=n.concat(a.members):n.push(a))}return Tl.from(n)}eq(e){if(!(e instanceof Tl)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let s=0;s<a.length;s++)r.push(a[s])}}return r?rk(n?r:r.sort($u)):xf}static from(e){switch(e.length){case 0:return yi;case 1:return e[0];default:return new Tl(e.every(r=>r instanceof dn)?e:e.reduce((r,n)=>r.concat(n instanceof dn?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function vle(t,e,r,n,i,a,s){let u=t.slice();for(let d=0,m=a;d<r.maps.length;d++){let w=0;r.maps[d].forEach((T,M,N,P)=>{let R=P-N-(M-T);for(let V=0;V<u.length;V+=3){let ee=u[V+1];if(ee<0||T>ee+m-w)continue;let te=u[V]+m-w;M>=te?u[V+1]=T<=te?-2:-1:T>=m&&R&&(u[V]+=R,u[V+1]+=R)}w+=R}),m=r.maps[d].map(m,-1)}let c=!1;for(let d=0;d<u.length;d+=3)if(u[d+1]<0){if(u[d+1]==-2){c=!0,u[d+1]=-1;continue}let m=r.map(t[d]+a),w=m-i;if(w<0||w>=n.content.size){c=!0;continue}let T=r.map(t[d+1]+a,-1),M=T-i,{index:N,offset:P}=n.content.findIndex(w),R=n.maybeChild(N);if(R&&P==w&&P+R.nodeSize==M){let V=u[d+2].mapInner(r,R,m+1,t[d]+a+1,s);V!=yi?(u[d]=w,u[d+1]=M,u[d+2]=V):(u[d+1]=-2,c=!0)}else c=!0}if(c){let d=mle(u,t,e,r,i,a,s),m=pg(d,n,0,s);e=m.local;for(let w=0;w<u.length;w+=3)u[w+1]<0&&(u.splice(w,3),w-=3);for(let w=0,T=0;w<m.children.length;w+=3){let M=m.children[w];for(;T<u.length&&u[T]<M;)T+=3;u.splice(T,0,m.children[w],m.children[w+1],m.children[w+2])}}return new dn(e.sort($u),u)}function DN(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new ea(i.from+e,i.to+e,i.type))}return r}function mle(t,e,r,n,i,a,s){function u(c,d){for(let m=0;m<c.local.length;m++){let w=c.local[m].map(n,i,d);w?r.push(w):s.onRemove&&s.onRemove(c.local[m].spec)}for(let m=0;m<c.children.length;m+=3)u(c.children[m+2],c.children[m]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&u(t[c+2],e[c]+a+1);return r}function LN(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let a=0,s;a<t.length;a++)(s=t[a])&&s.from>r&&s.to<n&&((i||(i=[])).push(s),t[a]=null);return i}function RN(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function pg(t,e,r,n){let i=[],a=!1;e.forEach((u,c)=>{let d=LN(t,u,c+r);if(d){a=!0;let m=pg(d,u,r+c+1,n);m!=yi&&i.push(c,c+u.nodeSize,m)}});let s=DN(a?RN(t):t,-r).sort($u);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||(n.onRemove&&n.onRemove(s[u].spec),s.splice(u--,1));return s.length||i.length?new dn(s,i):yi}function $u(t,e){return t.from-e.from||t.to-e.to}function rk(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,n.to),HS(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,a.from),HS(e,i,n.copy(a.from,n.to)));break}}}return e}function HS(t,e,r){for(;e<t.length&&$u(r,t[e])>0;)e++;t.splice(e,0,r)}function Xw(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=yi&&e.push(n)}),t.cursorWrapper&&e.push(dn.create(t.state.doc,[t.cursorWrapper.deco])),Tl.from(e)}const gle={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},yle=ta&&Pl<=11;class wle{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class kle{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new wle,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);ta&&Pl<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),yle&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,gle)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(RS(this.view)){if(this.suppressingSelectionUpdates)return Us(this.view);if(ta&&Pl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ku(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let a=e.focusNode;a;a=hp(a))r.add(a);for(let a=e.anchorNode;a;a=hp(a))if(r.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&RS(e)&&!this.ignoreSelectionChange(n),a=-1,s=-1,u=!1,c=[];if(e.editable)for(let m=0;m<r.length;m++){let w=this.registerMutation(r[m],c);w&&(a=a<0?w.from:Math.min(w.from,a),s=s<0?w.to:Math.max(w.to,s),w.typeOver&&(u=!0))}if(fo&&c.length){let m=c.filter(w=>w.nodeName=="BR");if(m.length==2){let[w,T]=m;w.parentNode&&w.parentNode.parentNode==T.parentNode?T.remove():w.remove()}else{let{focusNode:w}=this.currentSelection;for(let T of m){let M=T.parentNode;M&&M.nodeName=="LI"&&(!w||Sle(e,w)!=M)&&T.remove()}}}let d=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Qg(n)&&(d=Q0(e))&&d.eq(ur.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Us(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,s),ble(e)),this.handleDOMChange(a,s,u,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Us(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let w=e.addedNodes[m];r.push(w),w.nodeType==3&&(this.lastChangedTextNode=w)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(ta&&Pl<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:w,nextSibling:T}=e.addedNodes[m];(!w||Array.prototype.indexOf.call(e.addedNodes,w)<0)&&(i=w),(!T||Array.prototype.indexOf.call(e.addedNodes,T)<0)&&(a=T)}let s=i&&i.parentNode==e.target?ti(i)+1:0,u=n.localPosFromDOM(e.target,s,-1),c=a&&a.parentNode==e.target?ti(a):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:u,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let VS=new WeakMap,$S=!1;function ble(t){if(!VS.has(t)&&(VS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=fo,$S)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),$S=!0}}function US(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Ku(s.node,s.offset,i,a)&&([r,n,i,a]=[i,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}}function Cle(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return US(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?US(t,r):null}function Sle(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function xle(t,e,r){let{node:n,fromOffset:i,toOffset:a,from:s,to:u}=t.docView.parseRange(e,r),c=t.domSelectionRange(),d,m=c.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(d=[{node:m,offset:c.anchorOffset}],Qg(c)||d.push({node:c.focusNode,offset:c.focusOffset})),ki&&t.input.lastKeyCode===8)for(let R=a;R>i;R--){let V=n.childNodes[R-1],ee=V.pmViewDesc;if(V.nodeName=="BR"&&!ee){a=R;break}if(!ee||ee.size)break}let w=t.state.doc,T=t.someProp("domParser")||Gu.fromSchema(t.state.schema),M=w.resolve(s),N=null,P=T.parse(n,{topNode:M.parent,topMatch:M.parent.contentMatchAt(M.index()),topOpen:!0,from:i,to:a,preserveWhitespace:M.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:Tle,context:M});if(d&&d[0].pos!=null){let R=d[0].pos,V=d[1]&&d[1].pos;V==null&&(V=R),N={anchor:R+s,head:V+s}}return{doc:P,sel:N,from:s,to:u}}function Tle(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Bi&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Bi&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ele=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Mle(t,e,r,n,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let Ee=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,je=Q0(t,Ee);if(je&&!t.state.selection.eq(je)){if(ki&&Vs&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Ge=>Ge(t,Iu(13,"Enter"))))return;let ct=t.state.tr.setSelection(je);Ee=="pointer"?ct.setMeta("pointer",!0):Ee=="key"&&ct.scrollIntoView(),a&&ct.setMeta("composition",a),t.dispatch(ct)}return}let s=t.state.doc.resolve(e),u=s.sharedDepth(r);e=s.before(u+1),r=t.state.doc.resolve(r).after(u+1);let c=t.state.selection,d=xle(t,e,r),m=t.state.doc,w=m.slice(d.from,d.to),T,M;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(T=t.state.selection.to,M="end"):(T=t.state.selection.from,M="start"),t.input.lastKeyCode=null;let N=Ale(w.content,d.doc.content,d.from,T,M);if(N&&t.input.domChangeCount++,(_f&&t.input.lastIOSEnter>Date.now()-225||Vs)&&i.some(Ee=>Ee.nodeType==1&&!Ele.test(Ee.nodeName))&&(!N||N.endA>=N.endB)&&t.someProp("handleKeyDown",Ee=>Ee(t,Iu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!N)if(n&&c instanceof pr&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))N={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let Ee=jS(t,t.state.doc,d.sel);if(Ee&&!Ee.eq(t.state.selection)){let je=t.state.tr.setSelection(Ee);a&&je.setMeta("composition",a),t.dispatch(je)}}return}t.state.selection.from<t.state.selection.to&&N.start==N.endB&&t.state.selection instanceof pr&&(N.start>t.state.selection.from&&N.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?N.start=t.state.selection.from:N.endA<t.state.selection.to&&N.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(N.endB+=t.state.selection.to-N.endA,N.endA=t.state.selection.to)),ta&&Pl<=11&&N.endB==N.start+1&&N.endA==N.start&&N.start>d.from&&d.doc.textBetween(N.start-d.from-1,N.start-d.from+1)==" "&&(N.start--,N.endA--,N.endB--);let P=d.doc.resolveNoCache(N.start-d.from),R=d.doc.resolveNoCache(N.endB-d.from),V=m.resolve(N.start),ee=P.sameParent(R)&&P.parent.inlineContent&&V.end()>=N.endA,te;if((_f&&t.input.lastIOSEnter>Date.now()-225&&(!ee||i.some(Ee=>Ee.nodeName=="DIV"||Ee.nodeName=="P"))||!ee&&P.pos<d.doc.content.size&&!P.sameParent(R)&&(te=ur.findFrom(d.doc.resolve(P.pos+1),1,!0))&&te.head==R.pos)&&t.someProp("handleKeyDown",Ee=>Ee(t,Iu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>N.start&&Ole(m,N.start,N.endA,P,R)&&t.someProp("handleKeyDown",Ee=>Ee(t,Iu(8,"Backspace")))){Vs&&ki&&t.domObserver.suppressSelectionUpdates();return}ki&&N.endB==N.start&&(t.input.lastChromeDelete=Date.now()),Vs&&!ee&&P.start()!=R.start()&&R.parentOffset==0&&P.depth==R.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==N.endA&&(N.endB-=2,R=d.doc.resolveNoCache(N.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(Ee){return Ee(t,Iu(13,"Enter"))})},20));let ne=N.start,pe=N.endA,ue,be,Ne;if(ee){if(P.pos==R.pos)ta&&Pl<=11&&P.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Us(t),20)),ue=t.state.tr.delete(ne,pe),be=m.resolve(N.start).marksAcross(m.resolve(N.endA));else if(N.endA==N.endB&&(Ne=Nle(P.parent.content.cut(P.parentOffset,R.parentOffset),V.parent.content.cut(V.parentOffset,N.endA-V.start()))))ue=t.state.tr,Ne.type=="add"?ue.addMark(ne,pe,Ne.mark):ue.removeMark(ne,pe,Ne.mark);else if(P.parent.child(P.index()).isText&&P.index()==R.index()-(R.textOffset?0:1)){let Ee=P.parent.textBetween(P.parentOffset,R.parentOffset);if(t.someProp("handleTextInput",je=>je(t,ne,pe,Ee)))return;ue=t.state.tr.insertText(Ee,ne,pe)}}if(ue||(ue=t.state.tr.replace(ne,pe,d.doc.slice(N.start-d.from,N.endB-d.from))),d.sel){let Ee=jS(t,ue.doc,d.sel);Ee&&!(ki&&t.composing&&Ee.empty&&(N.start!=N.endB||t.input.lastChromeDelete<Date.now()-100)&&(Ee.head==ne||Ee.head==ue.mapping.map(pe)-1)||ta&&Ee.empty&&Ee.head==ne)&&ue.setSelection(Ee)}be&&ue.ensureMarks(be),a&&ue.setMeta("composition",a),t.dispatch(ue.scrollIntoView())}function jS(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:X0(t,e.resolve(r.anchor),e.resolve(r.head))}function Nle(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,a=n,s,u,c;for(let m=0;m<n.length;m++)i=n[m].removeFromSet(i);for(let m=0;m<r.length;m++)a=r[m].removeFromSet(a);if(i.length==1&&a.length==0)u=i[0],s="add",c=m=>m.mark(u.addToSet(m.marks));else if(i.length==0&&a.length==1)u=a[0],s="remove",c=m=>m.mark(u.removeFromSet(m.marks));else return null;let d=[];for(let m=0;m<e.childCount;m++)d.push(c(e.child(m)));if(Ze.from(d).eq(t))return{mark:u,type:s}}function Ole(t,e,r,n,i){if(r-e<=i.pos-n.pos||Yw(n,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!n.parent.isTextblock){let u=a.nodeAfter;return u!=null&&r==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=t.resolve(Yw(a,!0,!0));return!s.parent.isTextblock||s.pos>r||Yw(s,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function Yw(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let a=t.node(n).maybeChild(t.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function Ale(t,e,r,n,i){let a=t.findDiffStart(e,r);if(a==null)return null;let{a:s,b:u}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let c=Math.max(0,a-Math.min(s,u));n-=s+c-a}if(s<a&&t.size<e.size){let c=n<=a&&n>=s?a-n:0;a-=c,a&&a<e.size&&WS(e.textBetween(a-1,a+1))&&(a+=c?1:-1),u=a+(u-s),s=a}else if(u<a){let c=n<=a&&n>=u?a-n:0;a-=c,a&&a<t.size&&WS(t.textBetween(a-1,a+1))&&(a+=c?1:-1),s=a+(s-u),u=a}return{start:a,endA:s,endB:u}}function WS(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class nk{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Qse,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(XS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=JS(this),KS(this),this.nodeViews=QS(this),this.docView=MS(this.state.doc,GS(this),Xw(this),this.dom,this),this.domObserver=new kle(this,(n,i,a,s)=>Mle(this,n,i,a,s)),this.domObserver.start(),Xse(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&t0(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(XS),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,a=!1,s=!1;e.storedMarks&&this.composing&&(MN(this),s=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(u||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let M=QS(this);Lle(M,this.nodeViews)&&(this.nodeViews=M,a=!0)}(u||r.handleDOMEvents!=this._props.handleDOMEvents)&&t0(this),this.editable=JS(this),KS(this);let c=Xw(this),d=GS(this),m=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",w=a||!this.docView.matchesNode(e.doc,d,c);(w||!e.selection.eq(i.selection))&&(s=!0);let T=m=="preserve"&&s&&this.dom.style.overflowAnchor==null&&fse(this);if(s){this.domObserver.stop();let M=w&&(ta||ki)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Dle(i.selection,e.selection);if(w){let N=ki?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=cle(this)),(a||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=MS(e.doc,d,c,this.dom,this)),N&&!this.trackWrites&&(M=!0)}M||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Pse(this))?Us(this,M):(pN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():T&&dse(T)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Qt){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&bS(this,r.getBoundingClientRect(),e)}else bS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new ON(e.slice,e.move,i<0?void 0:Qt.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let s=0;s<this.directPlugins.length;s++){let u=this.directPlugins[s].props[e];if(u!=null&&(i=r?r(u):u))return i}let a=this.state.plugins;if(a)for(let s=0;s<a.length;s++){let u=a[s].props[e];if(u!=null&&(i=r?r(u):u))return i}}hasFocus(){if(ta){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&hse(this.dom),Us(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return yse(this,e)}coordsAtPos(e,r=1){return oN(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return Sse(this,r||this.state,e)}pasteHTML(e,r){return vp(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return vp(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(Yse(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Xw(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ese())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ele(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Bi&&this.root.nodeType===11&&ase(this.dom.ownerDocument)==this.dom&&Cle(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function GS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[ea.node(0,t.state.doc.content.size,e)]}function KS(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ea.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function JS(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Dle(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function QS(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function Lle(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function XS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Hl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Rle=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ile=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ri=0;ri<10;ri++)Hl[48+ri]=Hl[96+ri]=String(ri);for(var ri=1;ri<=24;ri++)Hl[ri+111]="F"+ri;for(var ri=65;ri<=90;ri++)Hl[ri]=String.fromCharCode(ri+32),vg[ri]=String.fromCharCode(ri);for(var Zw in Hl)vg.hasOwnProperty(Zw)||(vg[Zw]=Hl[Zw]);function Ple(t){var e=Rle&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Ile&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?vg:Hl)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const Ble=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function _le(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,a,s;for(let u=0;u<e.length-1;u++){let c=e[u];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))Ble?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function Fle(t){let e=Object.create(null);for(let r in t)e[_le(r)]=t[r];return e}function e1(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function gp(t){return new na({props:{handleKeyDown:qle(t)}})}function qle(t){let e=Fle(t);return function(r,n){let i=Ple(n),a,s=e[e1(i,n)];if(s&&s(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let u=e[e1(i,n,!1)];if(u&&u(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(a=Hl[n.keyCode])&&a!=i){let u=e[e1(a,n)];if(u&&u(r.state,r.dispatch,r))return!0}}return!1}}const ik=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function zle(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const Hle=(t,e,r)=>{let n=zle(t,r);if(!n)return!1;let i=IN(n);if(!i){let s=n.blockRange(),u=s&&Kg(s);return u==null?!1:(e&&e(t.tr.lift(s,u).scrollIntoView()),!0)}let a=i.nodeBefore;if(qN(t,i,e,-1))return!0;if(n.parent.content.size==0&&(Ff(a,"end")||Qt.isSelectable(a)))for(let s=n.depth;;s--){let u=G0(t.doc,n.before(s),n.after(s),yt.empty);if(u&&u.slice.size<u.to-u.from){if(e){let c=t.tr.step(u);c.setSelection(Ff(a,"end")?ur.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):Qt.create(c.doc,i.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ff(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const Vle=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;a=IN(n)}let s=a&&a.nodeBefore;return!s||!Qt.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Qt.create(t.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)};function IN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function $le(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const PN=(t,e,r)=>{let n=$le(t,r);if(!n)return!1;let i=BN(n);if(!i)return!1;let a=i.nodeAfter;if(qN(t,i,e,1))return!0;if(n.parent.content.size==0&&(Ff(a,"start")||Qt.isSelectable(a))){let s=G0(t.doc,n.before(),n.after(),yt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let u=t.tr.step(s);u.setSelection(Ff(a,"start")?ur.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):Qt.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},Ule=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;a=BN(n)}let s=a&&a.nodeAfter;return!s||!Qt.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Qt.create(t.doc,a.pos)).scrollIntoView()),!0)};function BN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const _N=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ak(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const ok=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),a=r.indexAfter(-1),s=ak(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(e){let u=r.after(),c=t.tr.replaceWith(u,u,s.createAndFill());c.setSelection(ur.near(c.doc.resolve(u),1)),e(c.scrollIntoView())}return!0},jle=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof Pi||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=ak(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,u=t.tr.insert(s,a.createAndFill());u.setSelection(pr.create(u.doc,s+1)),e(u.scrollIntoView())}return!0},Wle=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(Df(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),i=n&&Kg(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function Gle(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof Qt&&e.selection.node.isBlock)return!n.parentOffset||!Df(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],s,u,c=!1,d=!1;for(let M=n.depth;;M--)if(n.node(M).isBlock){c=n.end(M)==n.pos+(n.depth-M),d=n.start(M)==n.pos-(n.depth-M),u=ak(n.node(M-1).contentMatchAt(n.indexAfter(M-1))),a.unshift(c&&u?{type:u}:null),s=M;break}else{if(M==1)return!1;a.unshift(null)}let m=e.tr;(e.selection instanceof pr||e.selection instanceof Pi)&&m.deleteSelection();let w=m.mapping.map(n.pos),T=Df(m.doc,w,a.length,a);if(T||(a[0]=u?{type:u}:null,T=Df(m.doc,w,a.length,a)),m.split(w,a.length,a),!c&&d&&n.node(s).type!=u){let M=m.mapping.map(n.before(s)),N=m.doc.resolve(M);u&&n.node(s-1).canReplaceWith(N.index(),N.index()+1,u)&&m.setNodeMarkup(m.mapping.map(n.before(s)),u)}return r&&r(m.scrollIntoView()),!0}}const Kle=Gle(),FN=(t,e)=>(e&&e(t.tr.setSelection(new Pi(t.doc))),!0);function Jle(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||WM(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function qN(t,e,r,n){let i=e.nodeBefore,a=e.nodeAfter,s,u,c=i.type.spec.isolating||a.type.spec.isolating;if(!c&&Jle(t,e,r))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(s=(u=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&u.matchType(s[0]||a.type).validEnd){if(r){let M=e.pos+a.nodeSize,N=Ze.empty;for(let V=s.length-1;V>=0;V--)N=Ze.from(s[V].create(null,N));N=Ze.from(i.copy(N));let P=t.tr.step(new zn(e.pos-1,M,e.pos,M,new yt(N,1,0),s.length,!0)),R=P.doc.resolve(M+2*s.length);R.nodeAfter&&R.nodeAfter.type==i.type&&WM(P.doc,R.pos)&&P.join(R.pos),r(P.scrollIntoView())}return!0}let m=a.type.spec.isolating||n>0&&c?null:ur.findFrom(e,1),w=m&&m.$from.blockRange(m.$to),T=w&&Kg(w);if(T!=null&&T>=e.depth)return r&&r(t.tr.lift(w,T).scrollIntoView()),!0;if(d&&Ff(a,"start",!0)&&Ff(i,"end")){let M=i,N=[];for(;N.push(M),!M.isTextblock;)M=M.lastChild;let P=a,R=1;for(;!P.isTextblock;P=P.firstChild)R++;if(M.canReplace(M.childCount,M.childCount,P.content)){if(r){let V=Ze.empty;for(let te=N.length-1;te>=0;te--)V=Ze.from(N[te].copy(V));let ee=t.tr.step(new zn(e.pos-N.length,e.pos+a.nodeSize,e.pos+R,e.pos+a.nodeSize-R,new yt(V,N.length,0),0,!0));r(ee.scrollIntoView())}return!0}}return!1}function zN(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(r&&r(e.tr.setSelection(pr.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}const Qle=zN(-1),Xle=zN(1);function Yle(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,s=i.blockRange(a),u=s&&Doe(s,t,e);return u?(n&&n(r.tr.wrap(s,u).scrollIntoView()),!0):!1}}function sk(t,e=null){return function(r,n){let i=!1;for(let a=0;a<r.selection.ranges.length&&!i;a++){let{$from:{pos:s},$to:{pos:u}}=r.selection.ranges[a];r.doc.nodesBetween(s,u,(c,d)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let m=r.doc.resolve(d),w=m.index();i=m.parent.canReplaceWith(w,w+1,t)}})}if(!i)return!1;if(n){let a=r.tr;for(let s=0;s<r.selection.ranges.length;s++){let{$from:{pos:u},$to:{pos:c}}=r.selection.ranges[s];a.setBlockType(u,c,t,e)}n(a.scrollIntoView())}return!0}}function Zle(t,e,r,n){for(let i=0;i<e.length;i++){let{$from:a,$to:s}=e[i],u=a.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(a.pos,s.pos,(c,d)=>{if(u)return!1;u=c.inlineContent&&c.type.allowsMarkType(r)}),u)return!0}return!1}function Mp(t,e=null,r){return function(n,i){let{empty:a,$cursor:s,ranges:u}=n.selection;if(a&&!s||!Zle(n.doc,u,t))return!1;if(i)if(s)t.isInSet(n.storedMarks||s.marks())?i(n.tr.removeStoredMark(t)):i(n.tr.addStoredMark(t.create(e)));else{let c,d=n.tr;c=!u.some(m=>n.doc.rangeHasMark(m.$from.pos,m.$to.pos,t));for(let m=0;m<u.length;m++){let{$from:w,$to:T}=u[m];if(!c)d.removeMark(w.pos,T.pos,t);else{let M=w.pos,N=T.pos,P=w.nodeAfter,R=T.nodeBefore,V=P&&P.isText?/^\s*/.exec(P.text)[0].length:0,ee=R&&R.isText?/\s*$/.exec(R.text)[0].length:0;M+V<N&&(M+=V,N-=ee),d.addMark(M,N,t.create(e))}}i(d.scrollIntoView())}return!0}}function Zg(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}let t1=Zg(ik,Hle,Vle),YS=Zg(ik,PN,Ule);const zs={Enter:Zg(_N,jle,Wle,Kle),"Mod-Enter":ok,Backspace:t1,"Mod-Backspace":t1,"Shift-Backspace":t1,Delete:YS,"Mod-Delete":YS,"Mod-a":FN},HN={"Ctrl-h":zs.Backspace,"Alt-Backspace":zs["Mod-Backspace"],"Ctrl-d":zs.Delete,"Ctrl-Alt-Backspace":zs["Mod-Delete"],"Alt-Delete":zs["Mod-Delete"],"Alt-d":zs["Mod-Delete"],"Ctrl-a":Qle,"Ctrl-e":Xle};for(let t in zs)HN[t]=zs[t];const eue=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,ZS=eue?HN:zs;class jl{constructor(e,r,n={}){this.match=e,this.match=e,this.handler=typeof r=="string"?tue(r):r,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1}}function tue(t){return function(e,r,n,i){let a=t;if(r[1]){let s=r[0].lastIndexOf(r[1]);a+=r[0].slice(s+r[1].length),n+=s;let u=n-i;u>0&&(a=r[0].slice(s-u,s)+a,n=i)}return e.tr.insertText(a,n,i)}}const rue=500;function VN({rules:t}){let e=new na({state:{init(){return null},apply(r,n){let i=r.getMeta(this);return i||(r.selectionSet||r.docChanged?null:n)}},props:{handleTextInput(r,n,i,a){return ex(r,n,i,a,t,e)},handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:n}=r.state.selection;n&&ex(r,n.pos,n.pos,"",t,e)})}}},isInputRules:!0});return e}function ex(t,e,r,n,i,a){if(t.composing)return!1;let s=t.state,u=s.doc.resolve(e),c=u.parent.textBetween(Math.max(0,u.parentOffset-rue),u.parentOffset,null,"")+n;for(let d=0;d<i.length;d++){let m=i[d];if(u.parent.type.spec.code){if(!m.inCode)continue}else if(m.inCode==="only")continue;let w=m.match.exec(c),T=w&&m.handler(s,w,e-(w[0].length-n.length),r);if(T)return m.undoable&&T.setMeta(a,{transform:T,from:e,to:r,text:n}),t.dispatch(T),!0}return!1}const nue=(t,e)=>{let r=t.plugins;for(let n=0;n<r.length;n++){let i=r[n],a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){let s=t.tr,u=a.transform;for(let c=u.steps.length-1;c>=0;c--)s.step(u.steps[c].invert(u.docs[c]));if(a.text){let c=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,t.schema.text(a.text,c))}else s.delete(a.from,a.to);e(s)}return!0}}return!1};new jl(/--$/,"");new jl(/\.\.\.$/,"");new jl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"");new jl(/"$/,"");new jl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"");new jl(/'$/,"");var mg=200,Hn=function(){};Hn.prototype.append=function(e){return e.length?(e=Hn.from(e),!this.length&&e||e.length<mg&&this.leafAppend(e)||this.length<mg&&e.leafPrepend(this)||this.appendInner(e)):this};Hn.prototype.prepend=function(e){return e.length?Hn.from(e).append(this):this};Hn.prototype.appendInner=function(e){return new iue(this,e)};Hn.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Hn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Hn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Hn.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Hn.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,s){return i.push(e(a,s))},r,n),i};Hn.from=function(e){return e instanceof Hn?e:e&&e.length?new $N(e):Hn.empty};var $N=function(t){function e(n){t.call(this),this.values=n}e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,s,u){for(var c=a;c<s;c++)if(i(this.values[c],u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,s,u){for(var c=a-1;c>=s;c--)if(i(this.values[c],u+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=mg)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=mg)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Hn);Hn.empty=new $N([]);var iue=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,s){var u=this.left.length;if(i<u&&this.left.forEachInner(n,i,Math.min(a,u),s)===!1||a>u&&this.right.forEachInner(n,Math.max(i-u,0),Math.min(this.length,a)-u,s+u)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,s){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(n,i-u,Math.max(a,u)-u,s+u)===!1||a<u&&this.left.forEachInvertedInner(n,Math.min(i,u),a,s)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Hn);const aue=500;class ao{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;r&&(i=this.remapping(n,this.items.length),a=i.maps.length);let s=e.tr,u,c,d=[],m=[];return this.items.forEach((w,T)=>{if(!w.step){i||(i=this.remapping(n,T+1),a=i.maps.length),a--,m.push(w);return}if(i){m.push(new jo(w.map));let M=w.step.map(i.slice(a)),N;M&&s.maybeStep(M).doc&&(N=s.mapping.maps[s.mapping.maps.length-1],d.push(new jo(N,void 0,void 0,d.length+m.length))),a--,N&&i.appendMap(N,a)}else s.maybeStep(w.step);if(w.selection)return u=i?w.selection.map(i.slice(a)):w.selection,c=new ao(this.items.slice(0,n).append(m.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:s,selection:u}}addTransform(e,r,n,i){let a=[],s=this.eventCount,u=this.items,c=!i&&u.length?u.get(u.length-1):null;for(let m=0;m<e.steps.length;m++){let w=e.steps[m].invert(e.docs[m]),T=new jo(e.mapping.maps[m],w,r),M;(M=c&&c.merge(T))&&(T=M,m?a.pop():u=u.slice(0,u.length-1)),a.push(T),r&&(s++,r=void 0),i||(c=T)}let d=s-n.depth;return d>sue&&(u=oue(u,d),s-=d),new ao(u.append(a),s)}remapping(e,r){let n=new Af;return this.items.forEach((i,a)=>{let s=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,s)},e,r),n}addMaps(e){return this.eventCount==0?this:new ao(this.items.append(e.map(r=>new jo(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),a=e.mapping,s=e.steps.length,u=this.eventCount;this.items.forEach(T=>{T.selection&&u--},i);let c=r;this.items.forEach(T=>{let M=a.getMirror(--c);if(M==null)return;s=Math.min(s,M);let N=a.maps[M];if(T.step){let P=e.steps[M].invert(e.docs[M]),R=T.selection&&T.selection.map(a.slice(c+1,M));R&&u++,n.push(new jo(N,P,R))}else n.push(new jo(N))},i);let d=[];for(let T=r;T<s;T++)d.push(new jo(a.maps[T]));let m=this.items.slice(0,i).append(d).append(n),w=new ao(m,u);return w.emptyItemCount()>aue&&(w=w.compress(this.items.length-n.length)),w}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],a=0;return this.items.forEach((s,u)=>{if(u>=e)i.push(s),s.selection&&a++;else if(s.step){let c=s.step.map(r.slice(n)),d=c&&c.getMap();if(n--,d&&r.appendMap(d,n),c){let m=s.selection&&s.selection.map(r.slice(n));m&&a++;let w=new jo(d.invert(),c,m),T,M=i.length-1;(T=i.length&&i[M].merge(w))?i[M]=T:i.push(w)}}else s.map&&n--},this.items.length,0),new ao(Hn.from(i.reverse()),a)}}ao.empty=new ao(Hn.empty,0);function oue(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}class jo{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new jo(r.getMap().invert(),r,this.selection)}}}class xl{constructor(e,r,n,i,a){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}}const sue=20;function lue(t,e,r,n){let i=r.getMeta(Fl),a;if(i)return i.historyState;r.getMeta(fue)&&(t=new xl(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(s&&s.getMeta(Fl))return s.getMeta(Fl).redo?new xl(t.done.addTransform(r,void 0,n,jm(e)),t.undone,tx(r.mapping.maps),t.prevTime,t.prevComposition):new xl(t.done,t.undone.addTransform(r,void 0,n,jm(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let u=r.getMeta("composition"),c=t.prevTime==0||!s&&t.prevComposition!=u&&(t.prevTime<(r.time||0)-n.newGroupDelay||!uue(r,t.prevRanges)),d=s?r1(t.prevRanges,r.mapping):tx(r.mapping.maps);return new xl(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,jm(e)),ao.empty,d,r.time,u??t.prevComposition)}else return(a=r.getMeta("rebased"))?new xl(t.done.rebased(r,a),t.undone.rebased(r,a),r1(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new xl(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),r1(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function uue(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(r=!0)}),r}function tx(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,a,s)=>e.push(a,s));return e}function r1(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),a=e.map(t[n+1],-1);i<=a&&r.push(i,a)}return r}function cue(t,e,r){let n=jm(e),i=Fl.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,n);if(!a)return null;let s=a.selection.resolve(a.transform.doc),u=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),c=new xl(r?u:a.remaining,r?a.remaining:u,null,0,-1);return a.transform.setSelection(s).setMeta(Fl,{redo:r,historyState:c})}let n1=!1,rx=null;function jm(t){let e=t.plugins;if(rx!=e){n1=!1,rx=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){n1=!0;break}}return n1}const Fl=new Sp("history"),fue=new Sp("closeHistory");function UN(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new na({key:Fl,state:{init(){return new xl(ao.empty,ao.empty,null,0,-1)},apply(e,r,n){return lue(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?Xh:n=="historyRedo"?lk:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function jN(t,e){return(r,n)=>{let i=Fl.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let a=cue(i,r,t);a&&n(e?a.scrollIntoView():a)}return!0}}const Xh=jN(!1,!0),lk=jN(!0,!0);function due(t){let e=Fl.getState(t);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r0=function(t,e){return r0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},r0(t,e)};function Tt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qe=function(){return qe=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qe.apply(this,arguments)};function ra(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function mr(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hue(t,e,r){var n;r=r||null;for(n in t)if(t.hasOwnProperty(n)&&e.call(r,t[n],n,t)===!1)break}var qf=hue;function pue(t,e){var r=Object.prototype.hasOwnProperty,n,i,a,s;for(a=1,s=arguments.length;a<s;a+=1){n=arguments[a];for(i in n)r.call(n,i)&&(t[i]=n[i])}return t}var uk=pue;function vue(t){return typeof t=="string"||t instanceof String}var Ks=vue;function mue(t){return t instanceof Array}var Zf=mue;function gue(t,e,r){var n=0,i=t.length;for(r=r||null;n<i&&e.call(r,t[n],n,t)!==!1;n+=1);}var zf=gue,yue=Zf,wue=zf,kue=qf;function bue(t,e,r){yue(t)?wue(t,e,r):kue(t,e,r)}var ey=bue,Cue=Ks,Sue=ey;function xue(t,e,r){var n=t.style;if(Cue(e)){n[e]=r;return}Sue(e,function(i,a){n[a]=i})}var Zo=xue,Tue=Zf;function Eue(t,e,r){var n,i;if(r=r||0,!Tue(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);for(i=e.length,n=r;r>=0&&n<i;n+=1)if(e[n]===t)return n;return-1}var Qu=Eue;function Mue(t){return t===void 0}var ho=Mue,Nue=ho;function Oue(t){return!t||!t.className?"":Nue(t.className.baseVal)?t.className:t.className.baseVal}var ck=Oue,Aue=Zf,Due=ho;function Lue(t,e){if(e=Aue(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Due(t.className.baseVal)){t.className=e;return}t.className.baseVal=e}var WN=Lue,nx=ey,Rue=Qu,Iue=ck,Pue=WN;function Bue(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n=[],i;if(r){nx(e,function(a){t.classList.add(a)});return}i=Iue(t),i&&(e=[].concat(i.split(/\s+/),e)),nx(e,function(a){Rue(a,n)<0&&n.push(a)}),Pue(t,n)}var Ko=Bue,ix=zf,_ue=Qu,Fue=ck,que=WN;function zue(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n,i;if(r){ix(e,function(a){r.remove(a)});return}n=Fue(t).split(/\s+/),i=[],ix(n,function(a){_ue(a,e)<0&&i.push(a)}),que(t,i)}var so=zue;function Hue(t){return typeof t=="number"||t instanceof Number}var Hs=Hue;function Vue(t){return t===null}var gg=Vue,$ue=qf;function Uue(t,e){var r=document.createElement("img"),n="";return $ue(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),r.src=t+"?"+n,r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}var jue=Uue,Wue=ho,Gue=jue,Kue=7*24*60*60*1e3;function Jue(t){var e=new Date().getTime();return e-t>Kue}function Que(t,e){var r="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",s="TOAST UI "+t+" for "+n+": Statistics",u=window.localStorage.getItem(s);!Wue(window.tui)&&window.tui.usageStatistics===!1||u&&!Jue(u)||(window.localStorage.setItem(s,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&Gue(r,{v:1,t:i,tid:e,cid:n,dp:n,dh:t,el:t,ec:a})},1e3))}var Xue=Que,Yue=/[\u0020]+/g,Zue=/[>(){}[\]+-.!#|]/g,ax=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,ox=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,ece=/[*_~`]/g,sx=/!\[.*\]\(.*\)/g,tce=/[[\]]/g,lx=/(?:^|[^\\])\\(?!\\)/g,rce='[&<>"]',ux=new RegExp(rce,"g");function nce(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function Ef(t){return ux.test(t)?t.replace(ux,nce):t}function ice(){Xue("editor","UA-129966929-1")}function ii(t,e){return t.indexOf(e)!==-1}var ace=["rel","target","hreflang","type"],oce={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function GN(t){if(!t)return null;var e={};return ace.forEach(function(r){ho(t[r])||(e[r]=t[r])}),e}function yg(t,e){for(var r="",n=0;n<e;n+=1)r+=t;return r}function sce(t){var e=!1;return qf(oce,function(r){return r.test(t)&&(e=!0),!e}),e}function wg(t){for(var e=[],r=sx.exec(t);r;)e.push([r.index,r.index+r[0].length]),r=sx.exec(t);return t.replace(tce,function(n,i){var a=e.some(function(s){return i>s[0]&&i<s[1]});return a?n:"\\"+n})}function lce(t){var e=function(i){return"\\"+i},r=function(i){return i+"\\"},n=t.replace(Yue," ");return ox.test(n)&&(n=n.replace(ox,e)),lx.test(n)&&(n=n.replace(lx,r)),n=n.replace(ece,e),ax.test(n)&&(n=n.replace(ax,e)),sce(n)&&(n=n.replace(Zue,e)),n}function uce(t){var e;return t.indexOf('"')===-1?e='""':e=t.indexOf("'")===-1?"''":"()",e[0]+t+e[1]}function n0(t){return gg(t)||ho(t)}function fk(t,e){if(t===null&&t===e)return!0;if(typeof t!="object"||typeof e!="object"||n0(t)||n0(e))return t===e;for(var r in t)if(t[r]!==e[r])return!1;for(var r in e)if(!(r in t))return!1;return!0}function bi(t){return t[t.length-1]}function cce(t,e,r){return t>=e&&t<=r}function dk(t){return typeof t=="object"&&t!==null}function kg(t,e){var r=qe({},t);return t&&e&&Object.keys(e).forEach(function(n){dk(r[n])?Array.isArray(e[n])?r[n]=hk(e[n]):r.hasOwnProperty(n)?r[n]=kg(r[n],e[n]):r[n]=pk(e[n]):r[n]=e[n]}),r}function hk(t){return t.map(function(e){return dk(e)?Array.isArray(e)?hk(e):pk(e):e})}function pk(t){var e=Object.keys(t);return e.length?e.reduce(function(r,n){return dk(t[n])?r[n]=Array.isArray(t[n])?hk(t[n]):pk(t[n]):r[n]=t[n],r},{}):t}function vk(t,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(r){t.hasOwnProperty(r)&&typeof t[r]=="object"?Array.isArray(e[r])?t[r]=e[r]:vk(t[r],e[r]):t[r]=e[r]}),t}function cx(t,e){return t>e?[e,t]:[t,e]}var fce=zf;function dce(t){var e;try{e=Array.prototype.slice.call(t)}catch{e=[],fce(t,function(n){e.push(n)})}return e}var es=dce;function bg(t,e){var r=t.nodes.paragraph;return e?r.create(null,Ks(e)?t.text(e):e):r.createAndFill()}function ni(t,e,r){return t.text(e,r)}function Xr(t,e,r){r===void 0&&(r=e);var n=t.doc.content.size,i=n>0?n-1:1;return pr.create(t.doc,Math.min(e,i),Math.min(r,i))}function mk(t,e,r){var n=e.pos;return t.replaceWith(n,n,bg(r)),t.setSelection(Xr(t,n+1))}function Cg(t){for(var e=t.state,r=t.from,n=t.startIndex,i=t.endIndex,a=t.createText,s=e.tr,u=e.doc,c=e.schema,d=n;d<=i;d+=1){var m=u.child(d),w=m.nodeSize,T=m.textContent,M=m.content,N=a(T),P=N?ni(c,N):Ze.empty,R=s.mapping.map(r),V=R+M.size;s.replaceWith(R,V,P),r+=w}return s}function gk(t,e,r,n){var i=r.length;t.split(e).delete(e-i,e).insert(t.mapping.map(e),n).setSelection(Xr(t,t.mapping.map(e)-i))}function Np(t){return t.sourcepos[0][0]}function ty(t){return t.sourcepos[1][0]}function ry(t){return t.sourcepos[0][1]}function ql(t){return t.sourcepos[1][1]}function hce(t){var e=t.type;return e==="htmlBlock"||e==="htmlInline"}function pce(t){var e=t.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function vce(t){return t&&t.type==="codeBlock"}function Xu(t){return t&&(t.type==="item"||t.type==="list")}function KN(t){return Xu(t)&&t.listData.type==="ordered"}function mce(t){return Xu(t)&&t.listData.type!=="ordered"}function fx(t){return t&&(t.type==="tableCell"||t.type==="tableDelimCell")}function gce(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Hf(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";){if(e(t))return t;t=t.parent}return null}function yce(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";)e(t),t=t.parent}function qn(t,e){return[t[0],t[1]+e]}function zl(t,e){return[t[0],e]}function wce(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var r=t,n=r.destination,i=r.title,a=t.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function kce(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function bce(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var yp=[],JN={},dx=/\$\$widget\d+\s/;function ny(t){var e=t.search(dx);if(e!==-1){var r=t.substring(e),n=r.replace(dx,"").replace("$$","");t=t.substring(0,e),t+=ny(n)}return t}function QN(t,e){return"$$"+t+" "+e+"$$"}function XN(t,e){var r=JN[t],n=r.rule,i=r.toDOM,a=ny(e).match(n);return a&&(e=a[0]),i(e)}function Cce(){return yp}function Sce(t){yp=t,yp.forEach(function(e,r){JN["widget"+r]=e})}function i1(t,e,r,n){return t.concat(Uu(e,r,n))}function Uu(t,e,r){r===void 0&&(r=0);var n=[],i=(yp[r]||{}).rule,a=r+1;if(t=ny(t),i&&i.test(t)){for(var s=void 0;(s=t.search(i))!==-1;){var u=t.substring(0,s);u&&(n=i1(n,u,e,a)),t=t.substring(s);var c=t.match(i)[0],d="widget"+r;n.push(e.nodes.widget.create({info:d},e.text(QN(d,c)))),t=t.substring(c.length)}t&&(n=i1(n,t,e,a))}else t&&(n=r<yp.length-1?i1(n,t,e,a):[e.text(t)]);return n}function YN(t){for(var e,r="",n=t.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==t&&i.type!=="text"?(r+=wce(i),n.resumeAt(t,!1),n.next()):i.type==="text"&&(r+=i.literal))}return r}function ZN(){return{deleteSelection:function(){return ik},selectAll:function(){return FN},undo:function(){return Xh},redo:function(){return lk}}}function xce(t){return new na({props:{decorations:function(e){var r=e.doc;if(t.text&&r.childCount===1&&r.firstChild.isTextblock&&r.firstChild.content.size===0){var n=document.createElement("span");return Ko(n,"placeholder"),t.className&&Ko(n,t.className),n.textContent=t.text,dn.create(r,[ea.widget(1,n)])}return null}}})}var Tce=Qu,Ece=ck;function Mce(t,e){var r;return t.classList?t.classList.contains(e):(r=Ece(t).split(/\s+/),Tce(e,r)>-1)}var eO=Mce,Nce=Qu,Oce=es,Om=Element.prototype,Ace=Om.matches||Om.webkitMatchesSelector||Om.mozMatchesSelector||Om.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return Nce(this,Oce(e.querySelectorAll(t)))>-1};function Dce(t,e){return Ace.call(t,e)}var Lce=Dce,tO="[A-Za-z][A-Za-z0-9-]*",Rce="[a-zA-Z_:][a-zA-Z0-9:._-]*",Ice="[^\"'=<>`\\x00-\\x20]+",Pce="'[^']*'",Bce='"[^"]*"',_ce="(?:"+Ice+"|"+Pce+"|"+Bce+")",Fce="(?:\\s*=\\s*"+_ce+")",rO="(?:\\s+"+Rce+Fce+"?)",nO="<("+tO+")("+rO+")*\\s*/?>",qce="</("+tO+")\\s*[>]",iO="(?:"+nO+"|"+qce+")",Vf=new RegExp("^"+iO,"i"),i0=/<br\s*\/*>/i,zce=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,aO="</p><p>";function yk(t,e,r){var n=parseInt(t.left,10),i=parseInt(t.top,10),a=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),s=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=n&&e<=n+a&&r>=i&&r<=i+s}var oO="toastui-editor-";function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n],s=void 0;Array.isArray(a)?s=a[0]?a[1]:null:s=a,s&&r.push(""+oO+s)}return r.join(" ")}function An(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(r){return oO+"md-"+r}).join(" ")}function Hce(t){return(t==null?void 0:t.nodeType)===Node.TEXT_NODE}function iy(t){return t&&t.nodeType===Node.ELEMENT_NODE}function Vce(t,e){var r=es(t.querySelectorAll(e));return r.length?r:[]}function $ce(t,e){e=Zf(e)?es(e):[e],e.forEach(function(r){t.appendChild(r)})}function Uce(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function Yu(t){t.parentNode&&t.parentNode.removeChild(t)}function jce(t){for(var e=[];t.firstChild;)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return Yu(t),e}function wk(t,e,r){ho(r)&&(r=!eO(t,e));var n=r?Ko:so;n(t,e)}function sO(t,e){var r=document.createElement("div");Ks(t)?r.innerHTML=t:r.appendChild(t);var n=r.firstChild;return e&&e.appendChild(n),n}function kk(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce(function(r,n){return r+parseInt(e.getPropertyValue(n),10)},0)+t.offsetWidth}function Jo(t,e){var r;for(Ks(e)?r=function(n){return Lce(n,e)}:r=function(n){return n===e};t&&t!==document;){if(iy(t)&&r(t))return t;t=t.parentNode}return null}function lO(t,e){for(var r=0,n=0;t&&t!==e;){var i=t.offsetTop,a=t.offsetLeft,s=t.offsetParent;if(r+=i,n+=a,s===e.offsetParent)break;t=t.offsetParent}return{offsetTop:r,offsetLeft:n}}function bk(t,e){Object.keys(t).forEach(function(r){n0(t[r])?e.removeAttribute(r):e.setAttribute(r,t[r])})}function Wce(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),r=new RegExp(iO,"ig"),n=e.match(r);return n==null||n.forEach(function(i,a){if(i0.test(i)){var s=aO;if(a){var u=n[a-1],c=u.match(nO);if(c&&!/br/i.test(c[1])){var d=c[1];s="</"+d+"><"+d+">"}}e=e.replace(i0,s)}}),e}function Ck(t){var e=/<img class="ProseMirror-separator" alt="">/g,r=/ class="ProseMirror-trailingBreak"/g,n=t;return n=n.replace(e,""),n=n.replace(r,""),n}var uO=new Sp("widget"),hx=5,Gce=function(){function t(e,r){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=r,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=Jo(e.dom.parentElement,"."+Lt("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(e){var r=uO.getState(e.state);if(this.removeWidget(),r){var n=r.node,i=r.style,a=e.coordsAtPos(r.pos),s=a.top,u=a.left,c=a.bottom,d=c-s,m=this.rootEl.getBoundingClientRect(),w=s-m.top;Zo(n,{opacity:"0"}),this.rootEl.appendChild(n),Zo(n,{position:"absolute",left:u-m.left+hx+"px",top:(i==="bottom"?w+d-hx:w-d)+"px",opacity:"1"}),this.popup=n,e.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t}();function Kce(t){return new na({key:uO,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new Gce(e,t)}})}function Jce(t){t.listen("addImageBlobHook",function(e,r){var n=new FileReader;n.onload=function(i){var a=i.target;return r(a.result)},n.readAsDataURL(e)})}function Sk(t,e,r){var n=function(i,a){t.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};t.emit("addImageBlobHook",e,n,r)}function cO(t){var e=es(t).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var r=e[0];if(r)return r.getAsFile()}return null}function Qce(t){var e=t.eventEmitter;return new na({props:{handleDOMEvents:{drop:function(r,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&zf(a,function(s){return s.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),Sk(e,s,n.type),!1):!0}),!0}}}})}var Wr=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function fO(t){var e=document.createElement("span"),r=XN(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(r),{dom:e}}function a0(t){return t.type.name==="widget"}var dO=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(r){var n=r.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e}(Wr),hO=function(){function t(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return t.prototype.createState=function(){return Pu.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var e=this,r=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return r.emit("focus",i)}),n.dom.addEventListener("blur",function(){return r.emit("blur",i)})},t.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),r=ra(ra([],this.keymaps),[gp(qe({"Shift-Enter":ZS.Enter},ZS)),UN(),xce(this.placeholder),Kce(this.eventEmitter),Qce(this.context)]);return e?r.concat(e):r},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var e=Cce(),r=e.map(function(n){var i=n.rule;return new jl(i,function(a,s,u,c){var d=a.schema,m=a.tr,w=a.doc,T=s.input.match(new RegExp(i,"g")),M=w.resolve(u),N=M.parent,P=0;if(a0(N)&&(N=M.node(M.depth-1)),N.forEach(function(ee){return a0(ee)&&(P+=1)}),T.length>P){var R=bi(T),V=Uu(R,d);return m.replaceWith(c-R.length+1,c,V)}return null})});return r.length?VN({rules:r}):null},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.createSchema=function(){return new BM({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(e){var r=ZN(),n=r.undo,i=r.redo,a=this.specs.keymaps(e),s={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(gp(s)):a},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(r){return r(e.eventEmitter)})},t.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(r){delete e[r]})},t.prototype.moveCursorToStart=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(Xr(r,1)).scrollIntoView()),e&&this.focus()},t.prototype.moveCursorToEnd=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(Xr(r,r.doc.content.size-1)).scrollIntoView()),e&&this.focus()},t.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(e){Zo(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){Zo(this.el,{minHeight:e+"px"})},t.prototype.getElement=function(){return this.el},t}();function Xce(t){return t instanceof Function}var Ba=Xce,Yce=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Am(t,e,r){return t.focus(),e(r)(t.state,t.dispatch,t)}var pO=function(){function t(e){this.specs=e}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,r){var n,i=r.name,a=r.schema;return qe(qe({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,r){var n,i=r.name,a=r.schema;return qe(qe({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(e,r){var n=this.specs.filter(function(a){var s=a.commands;return s}).reduce(function(a,s){var u={},c=s.commands();return Ba(c)?u[s.name]=function(d){return Am(e,c,d)}:Object.keys(c).forEach(function(d){u[d]=function(m){return Am(e,c[d],m)}}),qe(qe({},a),u)},{}),i=ZN();return Object.keys(i).forEach(function(a){n[a]=function(s){return Am(e,i[a],s)}}),r&&Object.keys(r).forEach(function(a){n[a]=function(s){return Am(e,r[a],s)}}),n},t.prototype.keymaps=function(e){var r=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return r.map(function(n){return e||Object.keys(n).forEach(function(i){ii(Yce,i)||delete n[i]}),gp(n)})},t.prototype.setContext=function(e){this.specs.forEach(function(r){r.setContext(e)})},t}();function vO(t){var e=t.from,r=t.to;return t instanceof Pi?[e+1,r-1]:[e,r]}function px(t){return t.index(0)+1}function $f(t,e,r){r===void 0&&(r=1);var n=0;return t.forEach(function(i,a){a0(i)&&a+2<e&&(n+=2*r)}),n}function Wm(t,e,r){r===void 0&&(r=e);var n=e===r,i=t.resolve(e),a=px(i),s=a,u=i.start(1),c=u;if(!n){var d=t.resolve(r===t.content.size?r-1:r);c=d.start(1),s=px(d),d.pos===t.content.size&&(r=t.content.size-2)}var m=Math.max(e-u+1,1),w=Math.max(r-c+1,1);return[[a,m+$f(t.child(a-1),m,-1)],[s,w+$f(t.child(s-1),w,-1)]]}function mO(t,e){for(var r=[],n=0,i=0;n<e;n+=1){var a=t.child(n);r[n]=i,i+=a.nodeSize}return r}function Du(t,e,r){var n=mO(t,r[0]),i=e[0]-1,a=r[0]-1,s=t.child(i),u=t.child(a),c=n[i],d=n[a];return c+=e[1]+$f(s,e[1]-1),d+=r[1]+$f(u,r[1]-1),[c,Math.min(d,t.content.size)]}function Nn(t){var e=t.$from,r=t.$to,n=t.from,i=t.to,a=e.doc;return t instanceof Pi&&(e=a.resolve(n+1),r=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),r=e),{startFromOffset:e.start(1),endFromOffset:r.start(1),startToOffset:e.end(1),endToOffset:r.end(1),startIndex:e.index(0),endIndex:r.index(0),from:e.pos,to:r.pos}}function Sg(t,e){for(var r=1,n=1,i=0,a=0;i<t.childCount;i+=1){var s=t.child(i).nodeSize;if(r=a+1,n=a+s-1,i===e)break;a+=s}return{startOffset:r,endOffset:n}}var vx="heading",Zce="blockQuote",efe="listItem",tfe="table",rfe="tableCell",nfe="codeBlock",ife="thematicBreak",Gm="link",Dm="code",ay="meta",Zu="delimiter",afe="taskDelimiter",xk="markedText",ofe="html",sfe="customBlock",mx={strong:2,emph:1,strike:2};function Tr(t,e,r,n){return{start:t,end:e,spec:{type:r,attrs:n}}}function lfe(t,e,r){var n=t.level,i=t.headingType,a=[Tr(e,r,vx,{level:n})];return i==="atx"?a.push(Tr(e,qn(e,n),Zu)):a.push(Tr(zl(r,0),r,vx,{seText:!0})),a}function a1(t,e,r){var n=t.type,i=qn(e,mx[n]),a=qn(r,-mx[n]);return[Tr(i,a,n),Tr(e,i,Zu),Tr(a,r,Zu)]}function gO(t,e,r,n){return[Tr(t,e,Gm),Tr(zl(t,r[1]+1),zl(e,n),Gm,{desc:!0}),Tr(zl(e,n+2),qn(e,-1),Gm,{url:!0})]}function ufe(t,e,r){var n=t.lastChild,i=n?ql(n)+1:3,a=qn(e,1);return ra([Tr(e,a,ay)],gO(e,r,a,i))}function cfe(t,e,r){var n=t.lastChild,i=t.extendedAutolink,a=n?ql(n)+1:2;return i?[Tr(e,r,Gm,{desc:!0})]:gO(e,r,e,a)}function ffe(t,e,r){var n=t.tickCount,i=qn(e,n),a=qn(r,-n);return[Tr(e,r,Dm),Tr(e,i,Dm,{start:!0}),Tr(i,a,Dm,{marked:!0}),Tr(a,r,Dm,{end:!0})]}function yO(t,e,r,n){var i={start:e,end:r,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:r[0]}},lineBackground:!0};return t.type!=="item"&&t.type!=="blockQuote"?[qe(qe({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),qe(qe({},i),{start:[Math.min(e[0]+1,r[0]),e[1]]})]:null}function dfe(t,e,r,n){var i=t.fenceOffset,a=t.fenceLength,s=t.fenceChar,u=t.info,c=t.infoPadding,d=t.parent,m=i+a,w=[Tr(zl(e,1),r,nfe)];s&&w.push(Tr(e,qn(e,m),Zu)),u&&w.push(Tr(qn(e,a),qn(e,a+c+u.length),ay));var T="^(\\s{0,4})("+s+"{"+a+",})",M=new RegExp(T);M.test(n)&&w.push(Tr(zl(r,1),r,Zu));var N=yO(d,e,r,"code-block");return N?w.concat(N):w}function hfe(t,e,r){var n=t,i=n.offset,a=n.syntaxLength,s=n.info,u=n.parent,c=i+a,d=[Tr(zl(e,1),r,sfe)];d.push(Tr(e,qn(e,c),Zu)),s&&d.push(Tr(qn(e,c),qn(e,a+s.length),ay)),d.push(Tr(zl(r,1),r,Zu));var m=yO(u,e,r,"custom-block");return m?d.concat(m):d}function wO(t,e){for(var r=[];t;){var n=t.type;(n==="paragraph"||n==="codeBlock")&&r.push(Tr([Np(t),ry(t)-1],[ty(t),ql(t)+1],e)),t=t.next}return r}function pfe(t){for(var e=[];t;)e.push(Tr([Np(t),ry(t)],[ty(t),ql(t)+1],xk)),t=t.next;return e}function vfe(t,e,r){var n=t.parent&&t.parent.type!=="blockQuote"?[Tr(e,r,Zce)]:[];if(t.firstChild){var i=[];t.firstChild.type==="paragraph"?i=pfe(t.firstChild.firstChild):t.firstChild.type==="list"&&(i=wO(t.firstChild,xk)),n=ra(ra([],n),i)}return n}function mfe(t){for(var e=0;t.parent.parent&&t.parent.parent.type==="item";)t=t.parent.parent,e+=1;var r=[{odd:!0},{even:!0}][e%2];return[efe,qe(qe({},r),{listStyle:!0})]}function gfe(t,e){var r=t.listData,n=r.padding,i=r.task,a=mfe(t),s=[Tr.apply(void 0,ra([e,qn(e,n)],a))];return i&&(s.push(Tr(qn(e,n),qn(e,n+3),afe)),s.push(Tr(qn(e,n+1),qn(e,n+2),ay))),s.concat(wO(t.firstChild,xk))}var gx={heading:lfe,strong:a1,emph:a1,strike:a1,link:cfe,image:ufe,code:ffe,codeBlock:dfe,blockQuote:vfe,item:gfe,customBlock:hfe},yx={thematicBreak:ife,table:tfe,tableCell:rfe,htmlInline:ofe};function yfe(t,e,r,n){var i=t.type;return Ba(gx[i])?gx[i](t,e,r,n):yx[i]?[Tr(e,r,yx[i])]:null}var wp={};function wfe(t){var e=t.schema,r=t.toastMark;return new na({appendTransaction:function(n,i,a){var s=n[0],u=a.tr;if(s.docChanged){var c=[],d=s.getMeta("editResult");d.forEach(function(m){var w=m.nodes,T=m.removedNodeRange;if(w.length){c=c.concat(Tfe(u,w));for(var M=0,N=w;M<N.length;M++)for(var P=N[M],R=P.walker(),V=R.next();V;){var ee=V.node,te=V.entering;te&&(c=c.concat(Efe(ee,r))),V=R.next()}}else if(T)for(var ne=u.doc.childCount-1,pe=T.line,ue=pe[0],be=pe[1],Ne=Math.min(ue,ne),Ee=Math.min(be,ne),je=Ne;je<=Ee;je+=1)wp[je]=!0}),Cfe(u,e,c)}return u.setMeta("widget",s.getMeta("widget"))}})}function kfe(t,e,r){return Object.keys(r).some(function(n){return r[n]!==t.child(e).attrs[n]})}function bfe(t,e,r,n,i){i===void 0&&(i={});for(var a=n.startIndex,s=n.endIndex,u=n.from,c=n.to,d=!1,m=a;m<=s;m+=1)delete wp[m],d=kfe(e,m,i);d&&t.setBlockType(u,c,r,i)}function Cfe(t,e,r){var n=t.doc,i=e.nodes.paragraph,a=mO(n,n.childCount);r.forEach(function(s){var u=s.start,c=s.end,d=s.spec,m=s.lineBackground,w=Math.min(u[0],n.childCount)-1,T=Math.min(c[0],n.childCount)-1,M=n.child(w),N=n.child(T),P=a[w],R=a[T];if(P+=u[1]+$f(M,u[1]-1),R+=c[1]+$f(N,c[1]-1),d)if(m){var V={from:P,to:R,startIndex:w,endIndex:T};bfe(t,n,i,V,d.attrs)}else t.addMark(P,R,e.mark(d.type,d.attrs));else t.removeMark(P,R)}),Sfe(t,a,i)}function Sfe(t,e,r){Object.keys(wp).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,t.doc.childCount-1),s=e[i],u=e[a]-1;i===a&&(u+=2),t.setBlockType(s,u,r)})}function xfe(t,e,r){var n=[];wp={};for(var i=e[0]-1;i<r[0];i+=1){var a=t.child(i),s=a.attrs.codeEnd,u=a.attrs.codeStart;if(u&&s&&!ii(n,u)){n.push(u),s=Math.min(s,t.childCount);for(var c=u-1,d=r[0],m=c;m<d;m+=1)wp[m]=!0}}}function Tfe(t,e){var r=t.doc,n=e[0].sourcepos[0],i=bi(e).sourcepos,a=i[1],s=[n[0],n[1]],u=[a[0],a[1]+1],c=[];return xfe(r,n,a),c.push({start:s,end:u}),c}function Efe(t,e){var r=e.getLineTexts(),n=[Np(t),ry(t)],i=[ty(t),ql(t)+1],a=yfe(t,n,i,r[i[0]-1]);return a??[]}var Mfe=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Nfe(t){var e=t.type;return Xu(t)?t.listData.task?"taskList":t.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":ii(Mfe,e)?e:null}function Ofe(t){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},r=!0;return yce(t,function(n){var i=Nfe(n);i&&(i==="bulletList"||i==="orderedList"?r&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,r=!1):e[i]={active:!0})}),e}function Afe(t){var e=t.toastMark,r=t.eventEmitter;return new na({view:function(){return{update:function(n,i){var a=n.state,s=a.doc,u=a.selection;if(!(i&&i.doc.eq(s)&&i.selection.eq(u))){var c=u.from,d=a.doc.resolve(c).start(),m=a.doc.content.findIndex(c).index+1,w=c-d;c===d&&(w+=1);var T=[m,w],M=e.findNodeAtPosition(T),N=Ofe(M);r.emit("changeToolbarState",{cursorPos:T,mdNode:M,toolbarState:N}),r.emit("setFocusedNode",M)}}}}})}var Dfe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Wr),Yr=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function ya(t,e){return Vl(t,e-1)}function Vl(t,e){return t.child(e).textContent}var Vh=/^\s*> ?/,Lfe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(r,n){return n?r.replace(Vh,"").trim():"> "+r.trim()},e.prototype.extendBlockQuote=function(){var r=this;return function(n,i){var a=n.selection,s=n.doc,u=n.tr,c=n.schema,d=Nn(a),m=d.endFromOffset,w=d.endToOffset,T=d.endIndex,M=d.to,N=Vl(s,T),P=Vh.test(N);if(P&&M>m&&a.empty){var R=!N.replace(Vh,"").trim();if(R)u.deleteRange(m,w).split(u.mapping.map(w));else{var V=N.slice(M-m).trim(),ee=ni(c,r.createBlockQuoteText(V));gk(u,w,V,ee)}return i(u),!0}return!1}},e.prototype.commands=function(){var r=this;return function(){return function(n,i){var a=n.selection,s=n.doc,u=Nn(a),c=u.startFromOffset,d=u.endToOffset,m=u.startIndex,w=u.endIndex,T=Vh.test(Vl(s,m)),M=Cg({state:n,startIndex:m,endIndex:w,from:c,createText:function(N){return r.createBlockQuoteText(N,T)}});return i(M.setSelection(Xr(M,M.mapping.map(d)))),!0}}},e.prototype.keymaps=function(){var r=this.commands()();return{"alt-q":r,"alt-Q":r,Enter:this.extendBlockQuote()}},e}(Yr),ec=/(^\s*)([-*+] |[\d]+\. )/,Tk=/(^\s*)([\d])+\.( \[[ xX]])? /,js=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,xg=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,Rfe=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Ife=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,Pfe=/(^\s*)([-*+])( \[[ xX]]) /;function Ek(t){return Tk.test(t)?"ordered":"bullet"}function Mk(t){for(var e=0;t&&t.type!=="document";)t.type==="list"&&(e+=1),t=t.parent;return e}function o0(t,e,r,n){for(var i=t.getLineTexts(),a=i.length,s=[],u=e;n?u<a:u>1;){u=n?u+1:u-1;var c=t.findFirstNodeAtLine(u),d=Mk(c);if(d===r)s.push({line:u,depth:r,mdNode:c});else if(d<r)break}return s}function Bfe(t){var e=t.toastMark,r=t.mdNode,n=t.line,i=Mk(r),a=o0(e,n,i,!1).reverse(),s=o0(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:r}]).concat(s)}function _fe(t){if(!ec.test(t))return"* "+t;var e=Ek(t);return e==="bullet"&&xg.test(t)?t=t.replace(Pfe,"$1$2 "):e==="ordered"&&(t=t.replace(Tk,"$1* ")),t}function Ffe(t,e){if(!ec.test(t))return e+". "+t;var r=Ek(t);if(r==="bullet"||r==="ordered"&&xg.test(t))t=t.replace(xg,"$1"+e+". ");else if(r==="ordered"){var n=js.exec(t)[3];Number(n)!==e&&(t=t.replace(Tk,"$1"+e+". "))}return t}function kO(t,e,r,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,s=e.map(function(u,c){var d=u.line;i=Math.min(d-1,i),a=Math.max(d-1,a);var m=ya(t,d);return m=r==="bullet"?_fe(m):Ffe(m,c+1+n),{text:m,line:d}});return{changedResults:s,firstIndex:i,lastIndex:a}}function wx(t,e){var r=Bfe(e);return kO(e.doc,r,t)}var qfe={bullet:function(t){return wx("bullet",t)},ordered:function(t){return wx("ordered",t)},task:function(t){var e=t.mdNode,r=t.doc,n=t.line,i=ya(r,n);return e.listData.task?i=i.replace(Ife,"$1$2"):Xu(e)&&(i=i.replace(ec,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},zfe={bullet:function(t){var e=t.doc,r=t.line,n=ya(e,r),i=[{text:"* "+n,line:r}];return{changedResults:i}},ordered:function(t){for(var e=t.toastMark,r=t.doc,n=t.line,i=t.startLine,a=ya(r,n),s=1,u=i,c=0,d=i-1;d>0;d-=1){var m=e.findFirstNodeAtLine(d),w=ya(r,d),T=w&&!!Hf(m,function(te){return Xu(te)}),M=js.exec(ya(r,d));if(!M&&!T)break;if(!M&&T){c+=1;continue}var N=M,P=N[1],R=N[3];if(!P){s=Number(R),u=d;break}}var V=s+n-u-c,ee=[{text:V+". "+a,line:n}];return{changedResults:ee}},task:function(t){var e=t.doc,r=t.line,n=ya(e,r),i=[{text:"* [ ] "+n,line:r}];return{changedResults:i}}},Hfe={bullet:function(t){var e=t.line,r=t.doc,n=ya(r,e),i=Rfe.exec(n),a=i[1],s=i[2];return{listSyntax:""+a+s}},ordered:function(t){var e=t.toastMark,r=t.line,n=t.mdNode,i=t.doc,a=Mk(n),s=ya(i,r),u=js.exec(s),c=u[1],d=u[3],m=u[4],w=Number(d)+1,T=""+c+w+m,M=o0(e,r,a,!0),N=M.filter(function(P){var R=js.exec(ya(i,P.line));return R&&R[1].length===c.length&&!!Hf(P.mdNode,function(V){return KN(V)})});return qe({listSyntax:T},kO(i,N,"ordered",w))}};function bO(t,e,r,n,i){for(var a=[],s=ya(t,r),u=js.exec(s);u;){var c=u[1],d=u[4],m=u[5],w=c.length;if(w===i)a.push(ni(e,""+c+n+d+m)),n+=1,r+=1;else if(w>i){var T=bO(t,e,r,1,w);r=T.line,a=a.concat(T.nodes)}if(w<i||r>t.childCount)break;s=ya(t,r),u=js.exec(s)}return{nodes:a,line:r}}var kx=/(^\s{1,4})(.*)/;function bx(t,e,r){return t<e||ec.test(r)||Vh.test(r)}function Cx(t,e,r){var n=r.$from;n.depth===0&&(n=t.resolve(n.pos-1));var i=n.node(1),a=n.start(1),s=i.content.size;return i.rangeHasMark(0,s,e.marks.table)&&n.pos-a!==s&&n.pos!==a}function Sx(t,e){var r=e.from,n=e.to;if(e.type==="indent"){var i=4;r+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;r-=a[0];for(var s=0;s<a.length;s+=1)n-=a[s]}return Xr(t,r,n)}var Vfe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(r){var n=r.attrs;return n.className?["div",{class:An(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(r,n){for(var i=this.context,a=i.view,s=i.toastMark,u=i.schema,c=a.state,d=c.tr,m=c.selection,w=c.doc,T=s.findFirstNodeAtLine(r),M=T;T&&!mce(T)&&T.parent.type!=="document";)if(T=T.parent,KN(T)){M=T;break}M&&(r=M.sourcepos[0][0]);var N=js.exec(ya(w,r)),P=N[1],R=N[3],V=P.length,ee=bO(w,u,r,Number(R),V),te=ee.line,ne=ee.nodes;n=Math.max(n,te-1);for(var pe=Sg(w,r-1).startOffset,ue=r-1;ue<=n-1;ue+=1){var be=w.child(ue),Ne=be.nodeSize,Ee=be.content,je=d.mapping.map(pe),ct=je+Ee.size;d.replaceWith(je,ct,ne[ue-r+1]),pe+=Ne}var Ge=Xr(d,m.from,m.to);a.dispatch(d.setSelection(Ge))},e.prototype.indent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(i,a){var s=i.schema,u=i.selection,c=i.doc,d=Nn(u),m=d.from,w=d.to,T=d.startFromOffset,M=d.startIndex,N=d.endIndex;if(r&&Cx(c,s,u))return!1;var P=Vl(c,M);if(r&&bx(m,w,P)||!r&&ec.test(P)){var R=Cg({state:i,from:T,startIndex:M,endIndex:N,createText:function(ee){return"    "+ee}}),V={type:"indent",from:m,to:w,lineLen:N-M};a(R.setSelection(Sx(R,V))),js.test(P)&&n.reorderList(M+1,N+1)}else r&&a(i.tr.insert(w,ni(s,"    ")));return!0}}},e.prototype.outdent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(i,a){var s=i.selection,u=i.doc,c=i.schema,d=Nn(s),m=d.from,w=d.to,T=d.startFromOffset,M=d.startIndex,N=d.endIndex;if(r&&Cx(u,c,s))return!1;var P=Vl(u,M);if(r&&bx(m,w,P)||!r&&ec.test(P)){var R=[],V=Cg({state:i,from:T,startIndex:M,endIndex:N,createText:function(ue){var be=kx.exec(ue);return R.push(be?be[1].length:0),ue.replace(kx,"$2")}}),ee={type:"outdent",from:m,to:w,spaceLenList:R};a(V.setSelection(Sx(V,ee))),js.test(P)&&n.reorderList(M+1,N+1)}else if(r){var te=P.slice(0,w-T),ne=te.replace(/\s{1,4}$/,""),pe=w-(te.length-ne.length);a(i.tr.delete(pe,w))}return!0}}},e.prototype.deleteLines=function(){var r=this;return function(n,i){var a=r.context.view,s=Nn(n.selection),u=s.startFromOffset,c=s.endToOffset,d=function(){return i(n.tr.deleteRange(u,c)),!0};return Zg(d,PN)(n,i,a)}},e.prototype.moveDown=function(){return function(r,n){var i=r.doc,a=r.tr,s=r.selection,u=r.schema,c=Nn(s),d=c.startFromOffset,m=c.endToOffset,w=c.endIndex;if(w<i.content.childCount-1){var T=i.child(w+1),M=T.nodeSize,N=T.textContent;return a.delete(m,m+M).split(d).insert(a.mapping.map(d)-2,ni(u,N)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(r,n){var i=r.tr,a=r.doc,s=r.selection,u=r.schema,c=Nn(s),d=c.startFromOffset,m=c.endToOffset,w=c.startIndex;if(w>0){var T=a.child(w-1),M=T.nodeSize,N=T.textContent;return i.delete(d-M,d).split(i.mapping.map(m)).insert(i.mapping.map(m),ni(u,N)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Wr),$fe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Wr),Ufe=/^#{1,6}\s/,jfe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.level,a=n.seText,s="heading|heading"+i;return a&&(s+="|delimiter|setext"),["span",{class:An.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(r,n,i){for(var a=n.replace(i,"").trim(),s="";r>0;)s+="#",r-=1;return s+" "+a},e.prototype.commands=function(){var r=this;return function(n){return function(i,a){var s=n.level,u=Nn(i.selection),c=u.startFromOffset,d=u.endToOffset,m=u.startIndex,w=u.endIndex,T=Cg({state:i,from:c,startIndex:m,endIndex:w,createText:function(M){var N=M.match(Ufe),P=N?N[0]:"";return r.createHeadingText(s,M,P)}});return a(T.setSelection(Xr(T,T.mapping.map(d)))),!0}}},e}(Yr),o1="```",Wfe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){var i=r.selection,a=r.schema,s=r.tr,u=Nn(i),c=u.startFromOffset,d=u.endToOffset,m=ni(a,o1);return s.insert(c,m).split(c+o1.length),s.split(s.mapping.map(d)).insert(s.mapping.map(d),m),n(s.setSelection(Xr(s,s.mapping.map(d)-(o1.length+2)))),!0}}},e.prototype.keepIndentation=function(){var r=this;return function(n,i){var a=n.selection,s=n.tr,u=n.doc,c=n.schema,d=r.context.toastMark,m=Nn(a),w=m.startFromOffset,T=m.endToOffset,M=m.endIndex,N=m.from,P=m.to,R=Vl(u,M);if(N===P&&R.trim()){var V=R.match(/^\s+/),ee=d.findFirstNodeAtLine(M+1);if(vce(ee)&&V){var te=V[0],ne=R.slice(P-w),pe=ni(c,te+ne);return gk(s,T,ne,pe),i(s),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,Enter:this.keepIndentation()}},e}(Yr),Gfe=/\||\s/g;function Kfe(t){return[Tg(t),Tg(t,!0)]}function Jfe(t,e){for(var r=[],n=0;n<e;n+=1)r.push(Tg(t));return r}function Tg(t,e){for(var r="|",n=0;n<t;n+=1)r+=e?" --- |":"  |";return r}function Qfe(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var Xfe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var r=this;return function(n,i){var a=n.selection,s=n.doc,u=n.tr,c=n.schema;if(!a.empty)return!1;var d=Nn(a),m=d.endFromOffset,w=d.endToOffset,T=d.endIndex,M=d.to,N=Vl(s,T),P=[T+1,M-m+1],R=r.context.toastMark.findNodeAtPosition(P),V=Hf(R,function(ue){return fx(ue)&&(ue.parent.type==="tableDelimRow"||ue.parent.parent.type==="tableBody")});if(V){var ee=!N.replace(Gfe,"").trim(),te=V.parent,ne=te.parent.parent.columns.length,pe=Tg(ne);return ee?u.deleteRange(m,w).split(u.mapping.map(w)):u.split(w).insert(u.mapping.map(w),ni(c,pe)).setSelection(Xr(u,u.mapping.map(w)-2)),i(u),!0}return!1}},e.prototype.moveTableCell=function(r){var n=this;return function(i,a){var s=i.selection,u=i.tr,c=Nn(s),d=c.endFromOffset,m=c.endIndex,w=c.to,T=[m+1,w-d],M=n.context.toastMark.findNodeAtPosition(T),N=Hf(M,function(be){return fx(be)});if(N){var P=N.parent,R=Qfe(r),V=R.type,ee=R.parentType,te=R.childType,ne=ql(N);if(N[V])ne=ql(N[V])-1;else{var pe=!P[V]&&P.parent.type===ee?P.parent[V][te]:P[V];if(V==="next"){var ue=pe?ql(pe[te]):0;ne+=ue+2}else V==="prev"&&(ne=pe?-4:0)}return a(u.setSelection(Xr(u,d+ne))),!0}return!1}},e.prototype.addTable=function(){return function(r){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,c=r,d=c.columnCount,m=c.rowCount,w=Nn(a).endToOffset,T=Kfe(d),M=Jfe(d,m-1),N=ra(ra([],T),M);return N.forEach(function(P){s.split(s.mapping.map(w)).insert(s.mapping.map(w),ni(u,P))}),i(s.setSelection(Xr(s,w+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(Yr),Yfe="***",Zfe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(r,n){var i=r.selection,a=r.schema,s=r.tr,u=Nn(i),c=u.from,d=u.to,m=u.endToOffset,w=ni(a,Yfe);return s.split(c).replaceWith(s.mapping.map(c),s.mapping.map(d),w).split(s.mapping.map(d)).setSelection(Xr(s,s.mapping.map(m))),n(s),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(Yr);function ede(t,e){var r=t.type,n=t.sourcepos,i=n[0][0];return e<=i&&(r==="codeBlock"||r==="heading"||r.match("table"))}var tde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.odd,a=n.even,s=n.listStyle,u="list-item";return s&&(u+="|list-item-style"),i&&(u+="|list-item-odd"),a&&(u+="|list-item-even"),["span",{class:An.apply(void 0,u.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var r=this;return function(n,i){var a=n.selection,s=n.doc,u=n.schema,c=n.tr,d=r.context.toastMark,m=Nn(a),w=m.to,T=m.startFromOffset,M=m.endFromOffset,N=m.endIndex,P=m.endToOffset,R=Vl(s,N),V=ec.test(R);if(!V||a.from===T||!a.empty)return!1;var ee=!R.replace(xg,"").trim();if(ee)c.deleteRange(M,P).split(c.mapping.map(P));else{var te=Ek(R),ne=d.findFirstNodeAtLine(N+1),pe=R.slice(w-M),ue={toastMark:d,mdNode:ne,doc:s,line:N+1},be=Hfe[te](ue),Ne=be.listSyntax,Ee=be.changedResults;if(Ee!=null&&Ee.length){c.split(w),Ee.unshift({text:Ne+pe,line:N+1}),r.changeToListPerLine(c,Ee,{from:w,startLine:Ee[0].line,endLine:bi(Ee).line});var je=c.mapping.map(P)-pe.length;c.setSelection(Xr(c,je))}else{var ct=ni(u,Ne+pe);gk(c,P,pe,ct)}}return i(c),!0}},e.prototype.toList=function(r){var n=this;return function(){return function(i,a){for(var s=i.doc,u=i.tr,c=i.selection,d=n.context.toastMark,m=Nn(c),w=m.startIndex+1,T=m.endIndex+1,M=m.endToOffset,N=[],P=w;P<=T;P+=1){var R=d.findFirstNodeAtLine(P);if(R&&ede(R,P))break;if(N.indexOf(P)===-1){var V={toastMark:d,mdNode:R,doc:s,line:P,startLine:w},ee=(Xu(R)?qfe[r](V):zfe[r](V)).changedResults,te=n.changeToListPerLine(u,ee,{from:Sg(s,ee[0].line-1).startOffset,startLine:ee[0].line,endLine:bi(ee).line,indexDiff:1});M=Math.max(te,M),ee&&(N=N.concat(ee.map(function(ne){return ne.line})))}}return a(u.setSelection(Xr(u,u.mapping.map(M)))),!0}}},e.prototype.changeToListPerLine=function(r,n,i){for(var a=i.from,s=i.startLine,u=i.endLine,c=i.indexDiff,d=c===void 0?0:c,m=0,w=function(N){var P=r.doc.child(N),R=P.nodeSize,V=P.content,ee=r.mapping.map(a),te=ee+V.size,ne=n.filter(function(pe){return pe.line-d===N})[0];ne&&(r.replaceWith(ee,te,ni(T.context.schema,ne.text)),m=Math.max(m,a+V.size)),a+=R},T=this,M=s-d;M<=u-d;M+=1)w(M);return m},e.prototype.toggleTask=function(){var r=this;return function(n,i){for(var a=n.selection,s=n.tr,u=n.doc,c=n.schema,d=r.context.toastMark,m=Nn(a),w=m.startIndex,T=m.endIndex,M=null,N=w;N<=T;N+=1){var P=d.findFirstNodeAtLine(N+1);if(Xu(P)&&P.listData.task){var R=P.listData,V=R.checked,ee=R.padding,te=V?" ":"x",ne=P.sourcepos[0],pe=Sg(u,ne[0]-1).startOffset;pe+=ne[1]+ee,M=s.replaceWith(pe,pe+1,c.text(te))}}return M?(i(M),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var r=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":r,"Mod-U":r,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e}(Yr);function oy(t,e){return function(){return function(r,n){var i=r.tr,a=r.selection,s=Ba(t)?t:function(te){return t.test(te)},u=e.length,c=i.doc,d=vO(a),m=d[0],w=d[1],T=Math.max(m-u,1),M=Math.min(w+u,c.content.size-1),N=a.content(),P=N.content.textBetween(0,N.content.size,`
`),R=c.textBetween(T,m,`
`),V=c.textBetween(w,M,`
`);if(P=""+R+P+V,R&&V&&s(P))i.delete(M-u,M).delete(T,T+u);else{i.insertText(e,w).insertText(e,m);var ee=a.empty?Xr(i,m+u):Xr(i,m+u,w+u);i.setSelection(ee)}return n(i),!0}}}var rde=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,nde="**",ide=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return oy(rde,nde)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(Yr),ade=/^(~{2}).*([\s\S]*)\1$/m,ode="~~",sde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return oy(ade,ode)},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(Yr),lde=/^(\*|_).*([\s\S]*)\1$/m,ude="*",cde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return oy(lde,ude)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(Yr),fde=/^(`).*([\s\S]*)\1$/m,dde="`",hde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.start,a=n.end,s=n.marked,u="code";return i&&(u+="|delimiter|start"),a&&(u+="|delimiter|end"),s&&(u+="|marked-text"),["span",{class:An.apply(void 0,u.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return oy(fde,dde)},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(Yr),pde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.url,a=n.desc,s="link";return i&&(s+="|link-url|marked-text"),a&&(s+="|link-desc|marked-text"),["span",{class:An.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(r){return function(n){return function(i,a){var s=i.selection,u=i.tr,c=i.schema,d=vO(s),m=d[0],w=d[1],T=n,M=T.linkText,N=T.altText,P=T.linkUrl,R=T.imageUrl,V=M,ee=P,te="";return r==="image"&&(V=N,ee=R,te="!"),V=wg(V),te+="["+V+"]("+ee+")",a(u.replaceWith(m,w,ni(c,te))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(Yr),vde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(Yr),mde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(Yr),gde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("meta")},0]}}},enumerable:!1,configurable:!0}),e}(Yr),yde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(Yr),wde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(Yr),kde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("html")},0]}}},enumerable:!1,configurable:!0}),e}(Yr),s1="$$",bde=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:An("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){var a=n.selection,s=n.schema,u=n.tr,c=Nn(a),d=c.startFromOffset,m=c.endToOffset;if(!(r!=null&&r.info))return!1;var w=""+s1+r.info,T=ni(s,w),M=ni(s,s1);return u.insert(d,T).split(d+w.length),u.split(u.mapping.map(m)).insert(u.mapping.map(m),M),i(u.setSelection(Xr(u,u.mapping.map(m)-(s1.length+2)))),!0}}},e}(Yr),Cde=/x|backspace/i,Sde=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function xde(t){var e=t.schema,r=t.toastMark;return new na({props:{handleDOMEvents:{keyup:function(n,i){var a,s=n.state,u=s.doc,c=s.tr,d=s.selection;if(d.empty&&Cde.test(i.key)){var m=Nn(d),w=m.startIndex,T=m.startFromOffset,M=m.from,N=[w+1,M-T+1],P=r.findNodeAtPosition(N),R=Hf(P,function(ct){var Ge;return ct.type==="paragraph"&&((Ge=ct.parent)===null||Ge===void 0?void 0:Ge.type)==="item"});if(!((a=R==null?void 0:R.firstChild)===null||a===void 0)&&a.literal){var V=R.firstChild,ee=V.literal.match(Sde);if(ee){var te=V.sourcepos[0],ne=ee[1],pe=ee[2],ue=ee[3],be=ne.length+ue.length,Ne=Sg(u,te[0]-1).startOffset,Ee=te[1]+Ne;if(pe){var je=be?be+1:0;c.replaceWith(Ee,je+Ee,e.text(pe)),n.dispatch(c)}else be||(c.insertText(" ",Ee),n.dispatch(c))}}}return!1}}}})}var l1="cut",xx=/\r\n|\n|\r/,Tde=function(t){Tt(e,t);function e(r,n){var i=t.call(this,r)||this,a=n.toastMark,s=n.useCommandShortcut,u=s===void 0?!0:s,c=n.mdPlugins,d=c===void 0?[]:c;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=d,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(u),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(qe(qe({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(m){return i.toggleActive(!0,m)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(r,n){wk(this.el,"active",r),r?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var r=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Lt("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var s=es(a).some(function(c){return c.kind==="string"&&c.type==="text/rtf"});if(!s){var u=cO(a);u&&(n.preventDefault(),Sk(r.eventEmitter,u,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;r.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new pO([new Dfe,new Vfe,new dO,new $fe,new jfe,new Lfe,new Wfe,new bde,new Xfe,new wde,new Zfe,new tde,new ide,new sde,new cde,new hde,new pde,new mde,new vde,new yde,new gde,new kde])},e.prototype.createPlugins=function(){return ra([wfe(this.context),Afe(this.context),xde(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var r=this;return new nk(this.el,{state:this.createState(),dispatchTransaction:function(n){r.updateMarkdown(n);var i=r.view.state.applyTransaction(n).state;r.view.updateState(i),r.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&r.clipboard.focus(),r.eventEmitter.emit("keydown",r.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return r.captureCopy(i)},cut:function(n,i){return r.captureCopy(i,l1)},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return r.eventEmitter.emit("keyup",r.editorType,i),!1}},nodeViews:{widget:fO}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(r,n){r.preventDefault();var i=this.view.state,a=i.selection,s=i.tr;if(a.empty)return!0;var u=this.getChanged(a.content());return r.clipboardData?r.clipboardData.setData("text/plain",u):window.clipboardData.setData("Text",u),n===l1&&this.view.dispatch(s.deleteSelection().scrollIntoView().setMeta("uiEvent",l1)),!0},e.prototype.updateMarkdown=function(r){var n=this;r.docChanged&&r.steps.forEach(function(i,a){if(i.slice&&!(i instanceof zn)){var s=r.docs[a],u=[i.from,i.to],c=u[0],d=u[1],m=Wm(s,c,d),w=m[0],T=m[1],M=n.getChanged(i.slice);w[0]===T[0]&&w[1]===T[1]&&M===""&&(M=`
`);var N=n.toastMark.editMarkdown(w,T,M);n.eventEmitter.emit("updatePreview",N),r.setMeta("editResult",N).scrollIntoView()}})},e.prototype.getChanged=function(r){var n="",i=0,a=r.content.size;return r.content.nodesBetween(i,a,function(s,u){s.isText?n+=s.text.slice(Math.max(i,u)-u,a-u):s.isBlock&&u>0&&(n+=`
`)}),n},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var i=this.view.state.tr,a=Du(i.doc,r,n),s=a[0],u=a[1];this.view.dispatch(i.setSelection(Xr(i,s,u)).scrollIntoView())},e.prototype.replaceSelection=function(r,n,i){var a,s=this.view.state,u=s.tr,c=s.schema,d=s.doc,m=r.split(xx),w=m.map(function(R){return bg(c,Uu(R,c))}),T=new yt(Ze.from(w),1,1);if(this.focus(),n&&i){var M=Du(d,n,i),N=M[0],P=M[1];a=u.replaceRange(N,P,T)}else a=u.replaceSelection(T);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(r,n){var i,a=this.view.state,s=a.tr,u=a.doc;if(r&&n){var c=Du(u,r,n),d=c[0],m=c[1];i=s.deleteRange(d,m)}else i=s.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var i=this.view.state,a=i.doc,s=i.selection,u=s.from,c=s.to;if(r&&n){var d=Du(a,r,n);u=d[0],c=d[1]}return a.textBetween(u,c,`
`)},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,i=r.to;return Wm(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(r,n){n===void 0&&(n=!0);var i=r.split(xx),a=this.view.state,s=a.tr,u=a.doc,c=a.schema,d=i.map(function(m){return bg(c,Uu(m,c))});this.view.dispatch(s.replaceWith(0,u.content.size,d)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(r,n,i){var a=this.view.state,s=a.tr,u=a.doc,c=a.selection,d=i?Du(u,i,i)[0]:c.to;this.view.dispatch(s.setMeta("widget",{pos:d,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,i){var a=this.view.state,s=a.tr,u=a.schema,c=a.doc,d=Du(c,r,n),m=Uu(i,u);this.view.dispatch(s.replaceWith(d[0],d[1],m))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,i=n.doc,a=n.selection,s=r||Wm(i,a.from)[0],u=this.toastMark.findNodeAtPosition(s);return u.type==="text"&&u.parent.type!=="paragraph"&&(u=u.parent),u.sourcepos[1][1]+=1,{range:u.sourcepos,type:u.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(r){return ny(r)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(hO),Tx="_feEventKey";function Ede(t,e){var r=t[Tx],n;return r||(r=t[Tx]={}),n=r[e],n||(n=r[e]=[]),n}var CO=Ede,Mde=Ks,Eg=ey,Nde=CO;function Ode(t,e,r){if(Mde(e)){Eg(e.split(/\s+/g),function(n){Ex(t,n,r)});return}Eg(e,function(n,i){Ex(t,i,n)})}function Ex(t,e,r){var n=Nde(t,e),i;r?(Eg(n,function(a,s){return r===a.handler?(Mx(t,e,a.wrappedHandler),i=s,!1):!0}),n.splice(i,1)):(Eg(n,function(a){Mx(t,e,a.wrappedHandler)}),n.splice(0,n.length))}function Mx(t,e,r){"removeEventListener"in t?t.removeEventListener(e,r):"detachEvent"in t&&t.detachEvent("on"+e,r)}var SO=Ode,Ade=Ks,s0=ey,Dde=CO;function Lde(t,e,r,n){if(Ade(e)){s0(e.split(/\s+/g),function(i){Nx(t,i,r,n)});return}s0(e,function(i,a){Nx(t,a,i,r)})}function Nx(t,e,r,n){function i(a){r.call(n||t,a||window.event)}"addEventListener"in t?t.addEventListener(e,i):"attachEvent"in t&&t.attachEvent("on"+e,i),Rde(t,e,r,i)}function Rde(t,e,r,n){var i=Dde(t,e),a=!1;s0(i,function(s){return s.handler===r?(a=!0,!1):!0}),a||i.push({handler:r,wrappedHandler:n})}var xO=Lde;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l0=function(t,e){return l0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},l0(t,e)};function _a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ei=function(){return ei=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ei.apply(this,arguments)};function u0(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ox={};function Ide(t){var e,r,n=Ox[t];if(n)return n;for(n=Ox[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function sy(t,e,r){var n,i,a,s,u,c="";for(typeof e!="string"&&(r=e,e=sy.defaultChars),typeof r>"u"&&(r=!0),u=Ide(e),n=0,i=t.length;n<i;n++){if(a=t.charCodeAt(n),r&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){c+=t.slice(n,n+3),n+=2;continue}if(a<128){c+=u[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(s=t.charCodeAt(n+1),s>=56320&&s<=57343)){c+=encodeURIComponent(t[n]+t[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(t[n])}return c}sy.defaultChars=";/?:@&=+$,-_.!~*'()#";sy.componentChars="-_.!~*'()";var Pde=sy,Nk={},Ws={},Bde="",_de="",Fde="",qde="",zde="",Hde="",Vde="",$de="",Ude="",jde="",Wde="",Gde="",Kde="",Jde="",Qde="",Xde="",Yde="",Zde="",ehe="",the="",rhe="",nhe="",ihe="",ahe="",ohe="",she="",lhe="&",uhe="&",che="",fhe="",dhe="",hhe="",phe="",vhe="",mhe="",ghe="",yhe="",whe="",khe="",bhe="",Che="",She="",xhe="",The="",Ehe="",Mhe="",Nhe="",Ohe="",Ahe="",Dhe="",Lhe="",Rhe="",Ihe="",Phe="",Bhe="",_he="",Fhe="",qhe="",zhe="",Hhe="",Vhe="",$he="'",Uhe="",jhe="",Whe="",Ghe="",Khe="",Jhe="",Qhe="",Xhe="",Yhe="*",Zhe="",epe="",tpe="",rpe="",npe="",ipe="",ape="",ope="",spe="",lpe="",upe="",cpe="",fpe="",dpe="",hpe="",ppe="",vpe="",mpe="",gpe="",ype="",wpe="",kpe="",bpe="",Cpe="",Spe="",xpe="",Tpe="",Epe="",Mpe="",Npe="",Ope="",Ape="",Dpe="",Lpe="",Rpe="",Ipe="",Ppe="",Bpe="",_pe="",Fpe="",qpe="",zpe="",Hpe="",Vpe="",$pe="",Upe="",jpe="",Wpe="",Gpe="",Kpe="",Jpe="",Qpe="",Xpe="",Ype="",Zpe="",eve="",tve="",rve="",nve="",ive="",ave="",ove="",sve="",lve="=",uve="",cve="",fve="",dve="",hve="",pve="",vve="",mve="",gve="",yve="",wve="",kve="",bve="",Cve="",Sve="",xve="",Tve="",Eve="",Mve="",Nve="",Ove="",Ave="",Dve="",Lve="",Rve="",Ive="",Pve="",Bve="",_ve="",Fve="",qve="",zve="",Hve="",Vve="",$ve="",Uve="",jve="",Wve="",Gve="",Kve="",Jve="",Qve="",Xve="",Yve="",Zve="",eme="",tme="",rme="",nme="",ime="",ame="",ome="",sme="",lme="",ume="",cme="",fme="",dme="",hme="",pme="",vme="",mme="",gme="\\",yme="",wme="",kme="",bme="",Cme="",Sme="",xme="",Tme="",Eme="",Mme="",Nme="",Ome="",Ame="",Dme="",Lme="",Rme="",Ime="",Pme="",Bme="",_me="",Fme="",qme="",zme="",Hme="",Vme="",$me="",Ume="",jme="",Wme="",Gme="",Kme="",Jme="",Qme="",Xme="",Yme="",Zme="",ege="",tge="",rge="",nge="",ige="",age="",oge="",sge="",lge="",uge="",cge="",fge="",dge="",hge="",pge="",vge="",mge="",gge="",yge="",wge="",kge="",bge="",Cge="",Sge="",xge="",Tge="",Ege="",Mge="",Nge="",Oge="",Age="",Dge="",Lge="",Rge="",Ige="",Pge="",Bge=":",_ge="",Fge="",qge="",zge="",Hge=",",Vge="@",$ge="",Uge="",jge="",Wge="",Gge="",Kge="",Jge="",Qge="",Xge="",Yge="",Zge="",eye="",tye="",rye="",nye="",iye="",aye="",oye="",sye="",lye="",uye="",cye="",fye="",dye="",hye="",pye="",vye="",mye="",gye="",yye="",wye="",kye="",bye="",Cye="",Sye="",xye="",Tye="",Eye="",Mye="",Nye="",Oye="",Aye="",Dye="",Lye="",Rye="",Iye="",Pye="",Bye="",_ye="",Fye="",qye="",zye="",Hye="",Vye="",$ye="",Uye="",jye="",Wye="",Gye="",Kye="",Jye="",Qye="",Xye="",Yye="",Zye="",ewe="",twe="",rwe="",nwe="",iwe="",awe="",owe="",swe="",lwe="",uwe="",cwe="",fwe="",dwe="",hwe="",pwe="",vwe="",mwe="",gwe="",ywe="",wwe="",kwe="",bwe="",Cwe="",Swe="",xwe="",Twe="",Ewe="",Mwe="`",Nwe="",Owe="",Awe="",Dwe="",Lwe="",Rwe="",Iwe="",Pwe="",Bwe="",_we="",Fwe="",qwe="",zwe="",Hwe="",Vwe="",$we="",Uwe="",jwe="",Wwe="$",Gwe="",Kwe="",Jwe="",Qwe="",Xwe="",Ywe="",Zwe="",e1e="",t1e="",r1e="",n1e="",i1e="",a1e="",o1e="",s1e="",l1e="",u1e="",c1e="",f1e="",d1e="",h1e="",p1e="",v1e="",m1e="",g1e="",y1e="",w1e="",k1e="",b1e="",C1e="",S1e="",x1e="",T1e="",E1e="",M1e="",N1e="",O1e="",A1e="",D1e="",L1e="",R1e="",I1e="",P1e="",B1e="",_1e="",F1e="",q1e="",z1e="",H1e="",V1e="",$1e="",U1e="",j1e="",W1e="",G1e="",K1e="",J1e="",Q1e="",X1e="",Y1e="",Z1e="",e0e="",t0e="",r0e="",n0e="",i0e="",a0e="",o0e="",s0e="",l0e="",u0e="",c0e="",f0e="",d0e="",h0e="",p0e="",v0e="",m0e="",g0e="",y0e="",w0e="",k0e="",b0e="",C0e="",S0e="",x0e="",T0e="",E0e="",M0e="",N0e="",O0e="",A0e="",D0e="",L0e="",R0e="",I0e="",P0e="",B0e="",_0e="",F0e="",q0e="",z0e="",H0e="",V0e="",$0e="",U0e="",j0e="",W0e="",G0e="",K0e="",J0e="",Q0e="",X0e="",Y0e="",Z0e="",eke="",tke="",rke="",nke="",ike="",ake="",oke="",ske="",lke="=",uke="",cke="",fke="",dke="",hke="",pke="",vke="",mke="",gke="",yke="",wke="",kke="",bke="",Cke="",Ske="",xke="",Tke="",Eke="",Mke="",Nke="",Oke="!",Ake="",Dke="",Lke="",Rke="",Ike="",Pke="",Bke="",_ke="",Fke="",qke="",zke="",Hke="",Vke="",$ke="",Uke="",jke="",Wke="",Gke="fj",Kke="",Jke="",Qke="",Xke="",Yke="",Zke="",ebe="",tbe="",rbe="",nbe="",ibe="",abe="",obe="",sbe="",lbe="",ube="",cbe="",fbe="",dbe="",hbe="",pbe="",vbe="",mbe="",gbe="",ybe="",wbe="",kbe="",bbe="",Cbe="",Sbe="",xbe="",Tbe="",Ebe="",Mbe="",Nbe="",Obe="",Abe="",Dbe="",Lbe="",Rbe="",Ibe="",Pbe="",Bbe="",_be="",Fbe="",qbe="",zbe="",Hbe="",Vbe="",$be="",Ube="",jbe="",Wbe="",Gbe="",Kbe="",Jbe="",Qbe="",Xbe="",Ybe="",Zbe="",eCe="",tCe="",rCe="",nCe="",iCe="",aCe="",oCe="",sCe="",lCe="",uCe="",cCe="",fCe="",dCe="",hCe="",pCe="",vCe="",mCe="",gCe="",yCe="",wCe="",kCe="",bCe="`",CCe="",SCe="",xCe="",TCe="",ECe="",MCe="",NCe="",OCe="",ACe="",DCe="",LCe="",RCe="",ICe="",PCe="",BCe=">",_Ce=">",FCe="",qCe="",zCe="",HCe="",VCe="",$Ce="",UCe="",jCe="",WCe="",GCe="",KCe="",JCe="",QCe="",XCe="",YCe="",ZCe="",eSe="",tSe="",rSe="",nSe="",iSe="",aSe="",oSe="",sSe="^",lSe="",uSe="",cSe="",fSe="",dSe="",hSe="",pSe="",vSe="",mSe="",gSe="",ySe="",wSe="",kSe="",bSe="",CSe="",SSe="",xSe="",TSe="",ESe="",MSe="",NSe="",OSe="",ASe="",DSe="",LSe="",RSe="",ISe="",PSe="",BSe="",_Se="",FSe="",qSe="",zSe="",HSe="",VSe="",$Se="",USe="",jSe="",WSe="",GSe="",KSe="",JSe="",QSe="",XSe="",YSe="",ZSe="",exe="",txe="",rxe="",nxe="",ixe="",axe="",oxe="",sxe="",lxe="",uxe="",cxe="",fxe="",dxe="",hxe="",pxe="",vxe="",mxe="",gxe="",yxe="",wxe="",kxe="",bxe="",Cxe="",Sxe="",xxe="",Txe="",Exe="",Mxe="",Nxe="",Oxe="",Axe="",Dxe="",Lxe="",Rxe="",Ixe="",Pxe="",Bxe="",_xe="",Fxe="",qxe="",zxe="",Hxe="",Vxe="",$xe="",Uxe="",jxe="",Wxe="",Gxe="",Kxe="",Jxe="",Qxe="",Xxe="",Yxe="",Zxe="",eTe="",tTe="",rTe="",nTe="",iTe="",aTe="",oTe="",sTe="",lTe="",uTe="",cTe="",fTe="",dTe="",hTe="",pTe="",vTe="",mTe="",gTe="",yTe="",wTe="",kTe="",bTe="",CTe="",STe="",xTe="",TTe="",ETe="",MTe="",NTe="",OTe="",ATe="",DTe="",LTe="",RTe="",ITe="",PTe="",BTe="",_Te="",FTe="",qTe="",zTe="",HTe="",VTe="",$Te="",UTe="",jTe="",WTe="",GTe="",KTe="",JTe="",QTe="",XTe="",YTe="",ZTe="",eEe="",tEe="",rEe="",nEe="",iEe="",aEe="",oEe="",sEe="",lEe="",uEe="",cEe="",fEe="",dEe="",hEe="",pEe="",vEe="{",mEe="[",gEe="",yEe="",wEe="",kEe="",bEe="",CEe="",SEe="",xEe="",TEe="{",EEe="",MEe="",NEe="",OEe="",AEe="",DEe="",LEe="",REe="",IEe="",PEe="",BEe="",_Ee="",FEe="",qEe="",zEe="",HEe="",VEe="",$Ee="",UEe="",jEe="",WEe="",GEe="",KEe="",JEe="",QEe="",XEe="",YEe="",ZEe="",eMe="",tMe="",rMe="",nMe="",iMe="",aMe="",oMe="",sMe="",lMe="",uMe="",cMe="",fMe="",dMe="",hMe="",pMe="",vMe="",mMe="",gMe="",yMe="",wMe="",kMe="",bMe="",CMe="",SMe="",xMe="",TMe="",EMe="",MMe="",NMe="",OMe="",AMe="",DMe="",LMe="",RMe="",IMe="",PMe="",BMe="",_Me="",FMe="",qMe="",zMe="",HMe="",VMe="",$Me="",UMe="",jMe="",WMe="",GMe="",KMe="",JMe="",QMe="",XMe="",YMe="",ZMe="",eNe="",tNe="",rNe="",nNe="",iNe="",aNe="",oNe="",sNe="",lNe="",uNe="",cNe="",fNe="",dNe="",hNe="",pNe="",vNe="",mNe="",gNe="",yNe="",wNe="",kNe="",bNe="",CNe="",SNe="",xNe="",TNe="",ENe="",MNe="",NNe="",ONe="",ANe="",DNe="",LNe="",RNe="",INe="",PNe="",BNe="",_Ne="",FNe="",qNe="",zNe="_",HNe="",VNe="",$Ne="",UNe="",jNe="",WNe="(",GNe="",KNe="",JNe="",QNe="",XNe="",YNe="",ZNe="",eOe="",tOe="",rOe="",nOe="",iOe="",aOe="",oOe="",sOe="",lOe="[",uOe="",cOe="",fOe="",dOe="",hOe="",pOe="",vOe="<",mOe="<",gOe="",yOe="",wOe="",kOe="",bOe="",COe="",SOe="",xOe="",TOe="",EOe="",MOe="",NOe="",OOe="",AOe="",DOe="",LOe="",ROe="",IOe="",POe="",BOe="",_Oe="",FOe="",qOe="",zOe="",HOe="",VOe="",$Oe="",UOe="",jOe="",WOe="",GOe="",KOe="",JOe="",QOe="",XOe="",YOe="",ZOe="*",eAe="",tAe="",rAe="",nAe="",iAe="",aAe="",oAe="",sAe="",lAe="",uAe="",cAe="",fAe="",dAe="",hAe="",pAe="",vAe="",mAe="",gAe="",yAe="",wAe="",kAe="",bAe="",CAe="",SAe="",xAe="",TAe="",EAe="",MAe="",NAe="",OAe="",AAe="",DAe="",LAe="",RAe="",IAe="",PAe="",BAe="",_Ae="",FAe="",qAe="",zAe="",HAe="",VAe="",$Ae="",UAe="",jAe="",WAe="",GAe="",KAe="",JAe="",QAe="",XAe="",YAe="",ZAe="",eDe="",tDe="",rDe="",nDe="",iDe="",aDe="",oDe="",sDe="",lDe="",uDe=`
`,cDe="",fDe="",dDe="",hDe="",pDe="",vDe="",mDe="",gDe="",yDe="",wDe="",kDe="",bDe="",CDe="",SDe="",xDe="",TDe="",EDe="",MDe="",NDe="",ODe="",ADe="",DDe="",LDe="",RDe="",IDe="",PDe="",BDe="",_De="",FDe="",qDe="",zDe="",HDe="",VDe="",$De="",UDe="",jDe="",WDe="",GDe="",KDe="",JDe="",QDe="",XDe="",YDe="",ZDe="",eLe="",tLe="",rLe="",nLe="",iLe="",aLe="",oLe="",sLe="",lLe="",uLe="",cLe="",fLe="",dLe="",hLe="",pLe="",vLe="",mLe="",gLe="",yLe="",wLe="",kLe="",bLe="",CLe="",SLe="",xLe="",TLe="",ELe="",MLe="",NLe="",OLe="",ALe="",DLe="",LLe="",RLe="",ILe="",PLe="",BLe="",_Le="",FLe="",qLe="",zLe="",HLe="",VLe="",$Le="",ULe="",jLe="",WLe="",GLe="",KLe="",JLe="",QLe="",XLe="",YLe="",ZLe="",eRe="",tRe="",rRe="",nRe="",iRe="",aRe="",oRe="",sRe="",lRe="",uRe="",cRe="",fRe="",dRe="",hRe="",pRe="",vRe="",mRe="",gRe="",yRe="",wRe="",kRe="",bRe="",CRe="",SRe="",xRe="",TRe="",ERe="",MRe="",NRe="",ORe="",ARe="",DRe="",LRe="",RRe="",IRe="",PRe="",BRe="",_Re="",FRe="",qRe="",zRe="",HRe="",VRe="",$Re="",URe="",jRe="",WRe="",GRe="",KRe="",JRe="",QRe="",XRe="",YRe="",ZRe="",eIe="",tIe="",rIe="",nIe="",iIe="",aIe="",oIe="",sIe="",lIe="",uIe="",cIe="",fIe="",dIe="",hIe="",pIe="",vIe="",mIe="",gIe="",yIe="#",wIe="",kIe="",bIe="",CIe="",SIe="",xIe="",TIe="",EIe="",MIe=">",NIe="",OIe="",AIe="",DIe="",LIe="<",RIe="",IIe="",PIe="",BIe="",_Ie="",FIe="",qIe="",zIe="",HIe="",VIe="",$Ie="",UIe="",jIe="",WIe="",GIe="",KIe="",JIe="",QIe="",XIe="",YIe="",ZIe="",ePe="",tPe="",rPe="",nPe="",iPe="",aPe="",oPe="",sPe="",lPe="",uPe="",cPe="",fPe="",dPe="",hPe="",pPe="",vPe="",mPe="",gPe="",yPe="",wPe="",kPe="",bPe="",CPe="",SPe="",xPe="",TPe="",EPe="",MPe="",NPe="",OPe="",APe="",DPe="",LPe="",RPe="",IPe="",PPe="",BPe="",_Pe="",FPe="",qPe="",zPe="",HPe="",VPe="",$Pe="",UPe="",jPe="",WPe="",GPe="",KPe="",JPe="",QPe="",XPe="",YPe="",ZPe="",eBe="",tBe="",rBe="",nBe="",iBe="",aBe="",oBe="",sBe="",lBe="",uBe="",cBe="",fBe="",dBe="",hBe="",pBe="",vBe="",mBe="",gBe="",yBe="",wBe="%",kBe=".",bBe="",CBe="",SBe="",xBe="",TBe="",EBe="",MBe="",NBe="",OBe="",ABe="",DBe="",LBe="",RBe="",IBe="",PBe="",BBe="",_Be="",FBe="",qBe="",zBe="",HBe="+",VBe="",$Be="",UBe="",jBe="",WBe="",GBe="",KBe="",JBe="",QBe="",XBe="",YBe="",ZBe="",e_e="",t_e="",r_e="",n_e="",i_e="",a_e="",o_e="",s_e="",l_e="",u_e="",c_e="",f_e="",d_e="",h_e="",p_e="",v_e="",m_e="",g_e="",y_e="",w_e="",k_e="",b_e="",C_e="",S_e="",x_e="",T_e="",E_e="",M_e="",N_e="",O_e="",A_e="",D_e="",L_e="",R_e="",I_e="",P_e="",B_e="",__e="",F_e="",q_e="",z_e="",H_e="",V_e="",$_e="",U_e="",j_e="",W_e="",G_e="",K_e="",J_e="",Q_e="",X_e="?",Y_e="",Z_e='"',e2e='"',t2e="",r2e="",n2e="",i2e="",a2e="",o2e="",s2e="",l2e="",u2e="",c2e="",f2e="",d2e="",h2e="",p2e="",v2e="",m2e="",g2e="",y2e="",w2e="",k2e="",b2e="",C2e="",S2e="",x2e="",T2e="",E2e="",M2e="",N2e="",O2e="",A2e="",D2e="",L2e="",R2e="",I2e="",P2e="",B2e="}",_2e="]",F2e="",q2e="",z2e="",H2e="",V2e="",$2e="",U2e="",j2e="",W2e="}",G2e="",K2e="",J2e="",Q2e="",X2e="",Y2e="",Z2e="",eFe="",tFe="",rFe="",nFe="",iFe="",aFe="",oFe="",sFe="",lFe="",uFe="",cFe="",fFe="",dFe="",hFe="",pFe="",vFe="",mFe="",gFe="",yFe="",wFe="",kFe="",bFe="",CFe="",SFe="",xFe="",TFe="",EFe="",MFe="",NFe="",OFe="",AFe="",DFe="",LFe="",RFe="",IFe="",PFe="",BFe="",_Fe="",FFe="",qFe="",zFe="",HFe="",VFe="",$Fe="",UFe="",jFe="",WFe="",GFe="",KFe="",JFe="",QFe="",XFe="",YFe="",ZFe="",e3e="",t3e="",r3e="",n3e="",i3e="",a3e="",o3e="",s3e="",l3e="",u3e="",c3e="",f3e="",d3e="",h3e="",p3e="",v3e="",m3e="",g3e=")",y3e="",w3e="",k3e="",b3e="",C3e="",S3e="",x3e="",T3e="",E3e="",M3e="]",N3e="",O3e="",A3e="",D3e="",L3e="",R3e="",I3e="",P3e="",B3e="",_3e="",F3e="",q3e="",z3e="",H3e="",V3e="",$3e="",U3e="",j3e="",W3e="",G3e="",K3e="",J3e="",Q3e="",X3e="",Y3e="",Z3e="",eqe="",tqe="",rqe="",nqe="",iqe="",aqe="",oqe="",sqe="",lqe="",uqe="",cqe="",fqe="",dqe="",hqe="",pqe="",vqe=";",mqe="",gqe="",yqe="",wqe="",kqe="",bqe="",Cqe="",Sqe="",xqe="",Tqe="",Eqe="",Mqe="",Nqe="",Oqe="",Aqe="",Dqe="",Lqe="",Rqe="",Iqe="",Pqe="",Bqe="",_qe="",Fqe="",qqe="",zqe="",Hqe="",Vqe="",$qe="",Uqe="",jqe="",Wqe="",Gqe="",Kqe="",Jqe="",Qqe="",Xqe="",Yqe="",Zqe="",eze="",tze="",rze="",nze="",ize="",aze="",oze="",sze="",lze="",uze="",cze="/",fze="",dze="",hze="",pze="",vze="",mze="",gze="",yze="",wze="",kze="",bze="",Cze="",Sze="",xze="",Tze="",Eze="",Mze="",Nze="",Oze="",Aze="",Dze="",Lze="",Rze="",Ize="",Pze="",Bze="",_ze="",Fze="",qze="",zze="",Hze="",Vze="",$ze="",Uze="",jze="",Wze="",Gze="",Kze="",Jze="",Qze="",Xze="",Yze="",Zze="",eHe="",tHe="",rHe="",nHe="",iHe="",aHe="",oHe="",sHe="",lHe="",uHe="",cHe="",fHe="",dHe="",hHe="",pHe="",vHe="",mHe="",gHe="",yHe="",wHe="",kHe="",bHe="",CHe="",SHe="",xHe="",THe="",EHe="",MHe="",NHe="",OHe="",AHe="",DHe="",LHe="",RHe="",IHe="",PHe="",BHe="",_He="",FHe="",qHe="",zHe="",HHe="",VHe="",$He="",UHe="",jHe="",WHe="",GHe="",KHe="",JHe="",QHe="",XHe="",YHe="",ZHe="",eVe="",tVe="",rVe="",nVe="",iVe="",aVe="",oVe="",sVe="",lVe="",uVe="",cVe="",fVe="",dVe="",hVe="",pVe="",vVe="	",mVe="",gVe="",yVe="",wVe="",kVe="",bVe="",CVe="",SVe="",xVe="",TVe="",EVe="",MVe="",NVe="",OVe="",AVe="",DVe="",LVe="",RVe="",IVe="",PVe="",BVe="",_Ve="",FVe="",qVe="",zVe="",HVe="",VVe="",$Ve="",UVe="",jVe="",WVe="",GVe="",KVe="",JVe="",QVe="",XVe="",YVe="",ZVe="",e$e="",t$e="",r$e="",n$e="",i$e="",a$e="",o$e="",s$e="",l$e="",u$e="",c$e="",f$e="",d$e="",h$e="",p$e="",v$e="",m$e="",g$e="",y$e="",w$e="",k$e="",b$e="",C$e="",S$e="",x$e="",T$e="",E$e="",M$e="",N$e="",O$e="",A$e="",D$e="",L$e="",R$e="",I$e="",P$e="",B$e="",_$e="",F$e="",q$e="",z$e="",H$e="",V$e="",$$e="",U$e="",j$e="",W$e="",G$e="",K$e="",J$e="",Q$e="",X$e="",Y$e="",Z$e="",eUe="",tUe="",rUe="",nUe="",iUe="",aUe="",oUe="",sUe="",lUe="",uUe="",cUe="",fUe="",dUe="",hUe="",pUe="",vUe="",mUe="",gUe="",yUe="",wUe="_",kUe="",bUe="",CUe="",SUe="",xUe="",TUe="",EUe="",MUe="",NUe="",OUe="",AUe="",DUe="",LUe="",RUe="",IUe="",PUe="",BUe="",_Ue="",FUe="",qUe="",zUe="",HUe="",VUe="",$Ue="",UUe="",jUe="",WUe="",GUe="",KUe="",JUe="",QUe="",XUe="",YUe="",ZUe="",e4e="",t4e="",r4e="",n4e="",i4e="",a4e="",o4e="",s4e="",l4e="",u4e="",c4e="",f4e="",d4e="",h4e="",p4e="",v4e="",m4e="",g4e="",y4e="",w4e="",k4e="",b4e="",C4e="",S4e="",x4e="",T4e="",E4e="",M4e="",N4e="",O4e="",A4e="",D4e="",L4e="",R4e="",I4e="",P4e="",B4e="",_4e="",F4e="",q4e="",z4e="",H4e="",V4e="",$4e="",U4e="",j4e="",W4e="",G4e="|",K4e="",J4e="|",Q4e="",X4e="",Y4e="|",Z4e="",eje="",tje="",rje="",nje="",ije="",aje="",oje="",sje="",lje="",uje="",cje="",fje="",dje="",hje="",pje="",vje="",mje="",gje="",yje="",wje="",kje="",bje="",Cje="",Sje="",xje="",Tje="",Eje="",Mje="",Nje="",Oje="",Aje="",Dje="",Lje="",Rje="",Ije="",Pje="",Bje="",_je="",Fje="",qje="",zje="",Hje="",Vje="",$je="",Uje="",jje="",Wje="",Gje="",Kje="",Jje="",Qje="",Xje="",Yje="",Zje="",e5e="",t5e="",r5e="",n5e="",i5e="",a5e="",o5e="",s5e="",l5e="",u5e="",c5e="",f5e="",d5e="",h5e="",p5e="",v5e="",m5e="",g5e="",y5e="",w5e="",k5e="",b5e="",C5e="",S5e="",x5e="",T5e="",E5e="",M5e="",N5e="",O5e="",A5e="",D5e="",L5e="",R5e="",I5e="",P5e="",B5e="",_5e="",F5e="",q5e="",z5e="",H5e="",V5e="",$5e="",U5e="",j5e="",W5e="",G5e="",K5e="",J5e="",Q5e="",X5e="",Y5e="",TO={Aacute:Bde,aacute:_de,Abreve:Fde,abreve:qde,ac:zde,acd:Hde,acE:Vde,Acirc:$de,acirc:Ude,acute:jde,Acy:Wde,acy:Gde,AElig:Kde,aelig:Jde,af:Qde,Afr:Xde,afr:Yde,Agrave:Zde,agrave:ehe,alefsym:the,aleph:rhe,Alpha:nhe,alpha:ihe,Amacr:ahe,amacr:ohe,amalg:she,amp:lhe,AMP:uhe,andand:che,And:fhe,and:dhe,andd:hhe,andslope:phe,andv:vhe,ang:mhe,ange:ghe,angle:yhe,angmsdaa:whe,angmsdab:khe,angmsdac:bhe,angmsdad:Che,angmsdae:She,angmsdaf:xhe,angmsdag:The,angmsdah:Ehe,angmsd:Mhe,angrt:Nhe,angrtvb:Ohe,angrtvbd:Ahe,angsph:Dhe,angst:Lhe,angzarr:Rhe,Aogon:Ihe,aogon:Phe,Aopf:Bhe,aopf:_he,apacir:Fhe,ap:qhe,apE:zhe,ape:Hhe,apid:Vhe,apos:$he,ApplyFunction:Uhe,approx:jhe,approxeq:Whe,Aring:Ghe,aring:Khe,Ascr:Jhe,ascr:Qhe,Assign:Xhe,ast:Yhe,asymp:Zhe,asympeq:epe,Atilde:tpe,atilde:rpe,Auml:npe,auml:ipe,awconint:ape,awint:ope,backcong:spe,backepsilon:lpe,backprime:upe,backsim:cpe,backsimeq:fpe,Backslash:dpe,Barv:hpe,barvee:ppe,barwed:vpe,Barwed:mpe,barwedge:gpe,bbrk:ype,bbrktbrk:wpe,bcong:kpe,Bcy:bpe,bcy:Cpe,bdquo:Spe,becaus:xpe,because:Tpe,Because:Epe,bemptyv:Mpe,bepsi:Npe,bernou:Ope,Bernoullis:Ape,Beta:Dpe,beta:Lpe,beth:Rpe,between:Ipe,Bfr:Ppe,bfr:Bpe,bigcap:_pe,bigcirc:Fpe,bigcup:qpe,bigodot:zpe,bigoplus:Hpe,bigotimes:Vpe,bigsqcup:$pe,bigstar:Upe,bigtriangledown:jpe,bigtriangleup:Wpe,biguplus:Gpe,bigvee:Kpe,bigwedge:Jpe,bkarow:Qpe,blacklozenge:Xpe,blacksquare:Ype,blacktriangle:Zpe,blacktriangledown:eve,blacktriangleleft:tve,blacktriangleright:rve,blank:nve,blk12:ive,blk14:ave,blk34:ove,block:sve,bne:lve,bnequiv:uve,bNot:cve,bnot:fve,Bopf:dve,bopf:hve,bot:pve,bottom:vve,bowtie:mve,boxbox:gve,boxdl:yve,boxdL:wve,boxDl:kve,boxDL:bve,boxdr:Cve,boxdR:Sve,boxDr:xve,boxDR:Tve,boxh:Eve,boxH:Mve,boxhd:Nve,boxHd:Ove,boxhD:Ave,boxHD:Dve,boxhu:Lve,boxHu:Rve,boxhU:Ive,boxHU:Pve,boxminus:Bve,boxplus:_ve,boxtimes:Fve,boxul:qve,boxuL:zve,boxUl:Hve,boxUL:Vve,boxur:$ve,boxuR:Uve,boxUr:jve,boxUR:Wve,boxv:Gve,boxV:Kve,boxvh:Jve,boxvH:Qve,boxVh:Xve,boxVH:Yve,boxvl:Zve,boxvL:eme,boxVl:tme,boxVL:rme,boxvr:nme,boxvR:ime,boxVr:ame,boxVR:ome,bprime:sme,breve:lme,Breve:ume,brvbar:cme,bscr:fme,Bscr:dme,bsemi:hme,bsim:pme,bsime:vme,bsolb:mme,bsol:gme,bsolhsub:yme,bull:wme,bullet:kme,bump:bme,bumpE:Cme,bumpe:Sme,Bumpeq:xme,bumpeq:Tme,Cacute:Eme,cacute:Mme,capand:Nme,capbrcup:Ome,capcap:Ame,cap:Dme,Cap:Lme,capcup:Rme,capdot:Ime,CapitalDifferentialD:Pme,caps:Bme,caret:_me,caron:Fme,Cayleys:qme,ccaps:zme,Ccaron:Hme,ccaron:Vme,Ccedil:$me,ccedil:Ume,Ccirc:jme,ccirc:Wme,Cconint:Gme,ccups:Kme,ccupssm:Jme,Cdot:Qme,cdot:Xme,cedil:Yme,Cedilla:Zme,cemptyv:ege,cent:tge,centerdot:rge,CenterDot:nge,cfr:ige,Cfr:age,CHcy:oge,chcy:sge,check:lge,checkmark:uge,Chi:cge,chi:fge,circ:dge,circeq:hge,circlearrowleft:pge,circlearrowright:vge,circledast:mge,circledcirc:gge,circleddash:yge,CircleDot:wge,circledR:kge,circledS:bge,CircleMinus:Cge,CirclePlus:Sge,CircleTimes:xge,cir:Tge,cirE:Ege,cire:Mge,cirfnint:Nge,cirmid:Oge,cirscir:Age,ClockwiseContourIntegral:Dge,CloseCurlyDoubleQuote:Lge,CloseCurlyQuote:Rge,clubs:Ige,clubsuit:Pge,colon:Bge,Colon:_ge,Colone:Fge,colone:qge,coloneq:zge,comma:Hge,commat:Vge,comp:$ge,compfn:Uge,complement:jge,complexes:Wge,cong:Gge,congdot:Kge,Congruent:Jge,conint:Qge,Conint:Xge,ContourIntegral:Yge,copf:Zge,Copf:eye,coprod:tye,Coproduct:rye,copy:nye,COPY:iye,copysr:aye,CounterClockwiseContourIntegral:oye,crarr:sye,cross:lye,Cross:uye,Cscr:cye,cscr:fye,csub:dye,csube:hye,csup:pye,csupe:vye,ctdot:mye,cudarrl:gye,cudarrr:yye,cuepr:wye,cuesc:kye,cularr:bye,cularrp:Cye,cupbrcap:Sye,cupcap:xye,CupCap:Tye,cup:Eye,Cup:Mye,cupcup:Nye,cupdot:Oye,cupor:Aye,cups:Dye,curarr:Lye,curarrm:Rye,curlyeqprec:Iye,curlyeqsucc:Pye,curlyvee:Bye,curlywedge:_ye,curren:Fye,curvearrowleft:qye,curvearrowright:zye,cuvee:Hye,cuwed:Vye,cwconint:$ye,cwint:Uye,cylcty:jye,dagger:Wye,Dagger:Gye,daleth:Kye,darr:Jye,Darr:Qye,dArr:Xye,dash:Yye,Dashv:Zye,dashv:ewe,dbkarow:twe,dblac:rwe,Dcaron:nwe,dcaron:iwe,Dcy:awe,dcy:owe,ddagger:swe,ddarr:lwe,DD:uwe,dd:cwe,DDotrahd:fwe,ddotseq:dwe,deg:hwe,Del:pwe,Delta:vwe,delta:mwe,demptyv:gwe,dfisht:ywe,Dfr:wwe,dfr:kwe,dHar:bwe,dharl:Cwe,dharr:Swe,DiacriticalAcute:xwe,DiacriticalDot:Twe,DiacriticalDoubleAcute:Ewe,DiacriticalGrave:Mwe,DiacriticalTilde:Nwe,diam:Owe,diamond:Awe,Diamond:Dwe,diamondsuit:Lwe,diams:Rwe,die:Iwe,DifferentialD:Pwe,digamma:Bwe,disin:_we,div:Fwe,divide:qwe,divideontimes:zwe,divonx:Hwe,DJcy:Vwe,djcy:$we,dlcorn:Uwe,dlcrop:jwe,dollar:Wwe,Dopf:Gwe,dopf:Kwe,Dot:Jwe,dot:Qwe,DotDot:Xwe,doteq:Ywe,doteqdot:Zwe,DotEqual:e1e,dotminus:t1e,dotplus:r1e,dotsquare:n1e,doublebarwedge:i1e,DoubleContourIntegral:a1e,DoubleDot:o1e,DoubleDownArrow:s1e,DoubleLeftArrow:l1e,DoubleLeftRightArrow:u1e,DoubleLeftTee:c1e,DoubleLongLeftArrow:f1e,DoubleLongLeftRightArrow:d1e,DoubleLongRightArrow:h1e,DoubleRightArrow:p1e,DoubleRightTee:v1e,DoubleUpArrow:m1e,DoubleUpDownArrow:g1e,DoubleVerticalBar:y1e,DownArrowBar:w1e,downarrow:k1e,DownArrow:b1e,Downarrow:C1e,DownArrowUpArrow:S1e,DownBreve:x1e,downdownarrows:T1e,downharpoonleft:E1e,downharpoonright:M1e,DownLeftRightVector:N1e,DownLeftTeeVector:O1e,DownLeftVectorBar:A1e,DownLeftVector:D1e,DownRightTeeVector:L1e,DownRightVectorBar:R1e,DownRightVector:I1e,DownTeeArrow:P1e,DownTee:B1e,drbkarow:_1e,drcorn:F1e,drcrop:q1e,Dscr:z1e,dscr:H1e,DScy:V1e,dscy:$1e,dsol:U1e,Dstrok:j1e,dstrok:W1e,dtdot:G1e,dtri:K1e,dtrif:J1e,duarr:Q1e,duhar:X1e,dwangle:Y1e,DZcy:Z1e,dzcy:e0e,dzigrarr:t0e,Eacute:r0e,eacute:n0e,easter:i0e,Ecaron:a0e,ecaron:o0e,Ecirc:s0e,ecirc:l0e,ecir:u0e,ecolon:c0e,Ecy:f0e,ecy:d0e,eDDot:h0e,Edot:p0e,edot:v0e,eDot:m0e,ee:g0e,efDot:y0e,Efr:w0e,efr:k0e,eg:b0e,Egrave:C0e,egrave:S0e,egs:x0e,egsdot:T0e,el:E0e,Element:M0e,elinters:N0e,ell:O0e,els:A0e,elsdot:D0e,Emacr:L0e,emacr:R0e,empty:I0e,emptyset:P0e,EmptySmallSquare:B0e,emptyv:_0e,EmptyVerySmallSquare:F0e,emsp13:q0e,emsp14:z0e,emsp:H0e,ENG:V0e,eng:$0e,ensp:U0e,Eogon:j0e,eogon:W0e,Eopf:G0e,eopf:K0e,epar:J0e,eparsl:Q0e,eplus:X0e,epsi:Y0e,Epsilon:Z0e,epsilon:eke,epsiv:tke,eqcirc:rke,eqcolon:nke,eqsim:ike,eqslantgtr:ake,eqslantless:oke,Equal:ske,equals:lke,EqualTilde:uke,equest:cke,Equilibrium:fke,equiv:dke,equivDD:hke,eqvparsl:pke,erarr:vke,erDot:mke,escr:gke,Escr:yke,esdot:wke,Esim:kke,esim:bke,Eta:Cke,eta:Ske,ETH:xke,eth:Tke,Euml:Eke,euml:Mke,euro:Nke,excl:Oke,exist:Ake,Exists:Dke,expectation:Lke,exponentiale:Rke,ExponentialE:Ike,fallingdotseq:Pke,Fcy:Bke,fcy:_ke,female:Fke,ffilig:qke,fflig:zke,ffllig:Hke,Ffr:Vke,ffr:$ke,filig:Uke,FilledSmallSquare:jke,FilledVerySmallSquare:Wke,fjlig:Gke,flat:Kke,fllig:Jke,fltns:Qke,fnof:Xke,Fopf:Yke,fopf:Zke,forall:ebe,ForAll:tbe,fork:rbe,forkv:nbe,Fouriertrf:ibe,fpartint:abe,frac12:obe,frac13:sbe,frac14:lbe,frac15:ube,frac16:cbe,frac18:fbe,frac23:dbe,frac25:hbe,frac34:pbe,frac35:vbe,frac38:mbe,frac45:gbe,frac56:ybe,frac58:wbe,frac78:kbe,frasl:bbe,frown:Cbe,fscr:Sbe,Fscr:xbe,gacute:Tbe,Gamma:Ebe,gamma:Mbe,Gammad:Nbe,gammad:Obe,gap:Abe,Gbreve:Dbe,gbreve:Lbe,Gcedil:Rbe,Gcirc:Ibe,gcirc:Pbe,Gcy:Bbe,gcy:_be,Gdot:Fbe,gdot:qbe,ge:zbe,gE:Hbe,gEl:Vbe,gel:$be,geq:Ube,geqq:jbe,geqslant:Wbe,gescc:Gbe,ges:Kbe,gesdot:Jbe,gesdoto:Qbe,gesdotol:Xbe,gesl:Ybe,gesles:Zbe,Gfr:eCe,gfr:tCe,gg:rCe,Gg:nCe,ggg:iCe,gimel:aCe,GJcy:oCe,gjcy:sCe,gla:lCe,gl:uCe,glE:cCe,glj:fCe,gnap:dCe,gnapprox:hCe,gne:pCe,gnE:vCe,gneq:mCe,gneqq:gCe,gnsim:yCe,Gopf:wCe,gopf:kCe,grave:bCe,GreaterEqual:CCe,GreaterEqualLess:SCe,GreaterFullEqual:xCe,GreaterGreater:TCe,GreaterLess:ECe,GreaterSlantEqual:MCe,GreaterTilde:NCe,Gscr:OCe,gscr:ACe,gsim:DCe,gsime:LCe,gsiml:RCe,gtcc:ICe,gtcir:PCe,gt:BCe,GT:_Ce,Gt:FCe,gtdot:qCe,gtlPar:zCe,gtquest:HCe,gtrapprox:VCe,gtrarr:$Ce,gtrdot:UCe,gtreqless:jCe,gtreqqless:WCe,gtrless:GCe,gtrsim:KCe,gvertneqq:JCe,gvnE:QCe,Hacek:XCe,hairsp:YCe,half:ZCe,hamilt:eSe,HARDcy:tSe,hardcy:rSe,harrcir:nSe,harr:iSe,hArr:aSe,harrw:oSe,Hat:sSe,hbar:lSe,Hcirc:uSe,hcirc:cSe,hearts:fSe,heartsuit:dSe,hellip:hSe,hercon:pSe,hfr:vSe,Hfr:mSe,HilbertSpace:gSe,hksearow:ySe,hkswarow:wSe,hoarr:kSe,homtht:bSe,hookleftarrow:CSe,hookrightarrow:SSe,hopf:xSe,Hopf:TSe,horbar:ESe,HorizontalLine:MSe,hscr:NSe,Hscr:OSe,hslash:ASe,Hstrok:DSe,hstrok:LSe,HumpDownHump:RSe,HumpEqual:ISe,hybull:PSe,hyphen:BSe,Iacute:_Se,iacute:FSe,ic:qSe,Icirc:zSe,icirc:HSe,Icy:VSe,icy:$Se,Idot:USe,IEcy:jSe,iecy:WSe,iexcl:GSe,iff:KSe,ifr:JSe,Ifr:QSe,Igrave:XSe,igrave:YSe,ii:ZSe,iiiint:exe,iiint:txe,iinfin:rxe,iiota:nxe,IJlig:ixe,ijlig:axe,Imacr:oxe,imacr:sxe,image:lxe,ImaginaryI:uxe,imagline:cxe,imagpart:fxe,imath:dxe,Im:hxe,imof:pxe,imped:vxe,Implies:mxe,incare:gxe,in:"",infin:yxe,infintie:wxe,inodot:kxe,intcal:bxe,int:Cxe,Int:Sxe,integers:xxe,Integral:Txe,intercal:Exe,Intersection:Mxe,intlarhk:Nxe,intprod:Oxe,InvisibleComma:Axe,InvisibleTimes:Dxe,IOcy:Lxe,iocy:Rxe,Iogon:Ixe,iogon:Pxe,Iopf:Bxe,iopf:_xe,Iota:Fxe,iota:qxe,iprod:zxe,iquest:Hxe,iscr:Vxe,Iscr:$xe,isin:Uxe,isindot:jxe,isinE:Wxe,isins:Gxe,isinsv:Kxe,isinv:Jxe,it:Qxe,Itilde:Xxe,itilde:Yxe,Iukcy:Zxe,iukcy:eTe,Iuml:tTe,iuml:rTe,Jcirc:nTe,jcirc:iTe,Jcy:aTe,jcy:oTe,Jfr:sTe,jfr:lTe,jmath:uTe,Jopf:cTe,jopf:fTe,Jscr:dTe,jscr:hTe,Jsercy:pTe,jsercy:vTe,Jukcy:mTe,jukcy:gTe,Kappa:yTe,kappa:wTe,kappav:kTe,Kcedil:bTe,kcedil:CTe,Kcy:STe,kcy:xTe,Kfr:TTe,kfr:ETe,kgreen:MTe,KHcy:NTe,khcy:OTe,KJcy:ATe,kjcy:DTe,Kopf:LTe,kopf:RTe,Kscr:ITe,kscr:PTe,lAarr:BTe,Lacute:_Te,lacute:FTe,laemptyv:qTe,lagran:zTe,Lambda:HTe,lambda:VTe,lang:$Te,Lang:UTe,langd:jTe,langle:WTe,lap:GTe,Laplacetrf:KTe,laquo:JTe,larrb:QTe,larrbfs:XTe,larr:YTe,Larr:ZTe,lArr:eEe,larrfs:tEe,larrhk:rEe,larrlp:nEe,larrpl:iEe,larrsim:aEe,larrtl:oEe,latail:sEe,lAtail:lEe,lat:uEe,late:cEe,lates:fEe,lbarr:dEe,lBarr:hEe,lbbrk:pEe,lbrace:vEe,lbrack:mEe,lbrke:gEe,lbrksld:yEe,lbrkslu:wEe,Lcaron:kEe,lcaron:bEe,Lcedil:CEe,lcedil:SEe,lceil:xEe,lcub:TEe,Lcy:EEe,lcy:MEe,ldca:NEe,ldquo:OEe,ldquor:AEe,ldrdhar:DEe,ldrushar:LEe,ldsh:REe,le:IEe,lE:PEe,LeftAngleBracket:BEe,LeftArrowBar:_Ee,leftarrow:FEe,LeftArrow:qEe,Leftarrow:zEe,LeftArrowRightArrow:HEe,leftarrowtail:VEe,LeftCeiling:$Ee,LeftDoubleBracket:UEe,LeftDownTeeVector:jEe,LeftDownVectorBar:WEe,LeftDownVector:GEe,LeftFloor:KEe,leftharpoondown:JEe,leftharpoonup:QEe,leftleftarrows:XEe,leftrightarrow:YEe,LeftRightArrow:ZEe,Leftrightarrow:eMe,leftrightarrows:tMe,leftrightharpoons:rMe,leftrightsquigarrow:nMe,LeftRightVector:iMe,LeftTeeArrow:aMe,LeftTee:oMe,LeftTeeVector:sMe,leftthreetimes:lMe,LeftTriangleBar:uMe,LeftTriangle:cMe,LeftTriangleEqual:fMe,LeftUpDownVector:dMe,LeftUpTeeVector:hMe,LeftUpVectorBar:pMe,LeftUpVector:vMe,LeftVectorBar:mMe,LeftVector:gMe,lEg:yMe,leg:wMe,leq:kMe,leqq:bMe,leqslant:CMe,lescc:SMe,les:xMe,lesdot:TMe,lesdoto:EMe,lesdotor:MMe,lesg:NMe,lesges:OMe,lessapprox:AMe,lessdot:DMe,lesseqgtr:LMe,lesseqqgtr:RMe,LessEqualGreater:IMe,LessFullEqual:PMe,LessGreater:BMe,lessgtr:_Me,LessLess:FMe,lesssim:qMe,LessSlantEqual:zMe,LessTilde:HMe,lfisht:VMe,lfloor:$Me,Lfr:UMe,lfr:jMe,lg:WMe,lgE:GMe,lHar:KMe,lhard:JMe,lharu:QMe,lharul:XMe,lhblk:YMe,LJcy:ZMe,ljcy:eNe,llarr:tNe,ll:rNe,Ll:nNe,llcorner:iNe,Lleftarrow:aNe,llhard:oNe,lltri:sNe,Lmidot:lNe,lmidot:uNe,lmoustache:cNe,lmoust:fNe,lnap:dNe,lnapprox:hNe,lne:pNe,lnE:vNe,lneq:mNe,lneqq:gNe,lnsim:yNe,loang:wNe,loarr:kNe,lobrk:bNe,longleftarrow:CNe,LongLeftArrow:SNe,Longleftarrow:xNe,longleftrightarrow:TNe,LongLeftRightArrow:ENe,Longleftrightarrow:MNe,longmapsto:NNe,longrightarrow:ONe,LongRightArrow:ANe,Longrightarrow:DNe,looparrowleft:LNe,looparrowright:RNe,lopar:INe,Lopf:PNe,lopf:BNe,loplus:_Ne,lotimes:FNe,lowast:qNe,lowbar:zNe,LowerLeftArrow:HNe,LowerRightArrow:VNe,loz:$Ne,lozenge:UNe,lozf:jNe,lpar:WNe,lparlt:GNe,lrarr:KNe,lrcorner:JNe,lrhar:QNe,lrhard:XNe,lrm:YNe,lrtri:ZNe,lsaquo:eOe,lscr:tOe,Lscr:rOe,lsh:nOe,Lsh:iOe,lsim:aOe,lsime:oOe,lsimg:sOe,lsqb:lOe,lsquo:uOe,lsquor:cOe,Lstrok:fOe,lstrok:dOe,ltcc:hOe,ltcir:pOe,lt:vOe,LT:mOe,Lt:gOe,ltdot:yOe,lthree:wOe,ltimes:kOe,ltlarr:bOe,ltquest:COe,ltri:SOe,ltrie:xOe,ltrif:TOe,ltrPar:EOe,lurdshar:MOe,luruhar:NOe,lvertneqq:OOe,lvnE:AOe,macr:DOe,male:LOe,malt:ROe,maltese:IOe,Map:"",map:POe,mapsto:BOe,mapstodown:_Oe,mapstoleft:FOe,mapstoup:qOe,marker:zOe,mcomma:HOe,Mcy:VOe,mcy:$Oe,mdash:UOe,mDDot:jOe,measuredangle:WOe,MediumSpace:GOe,Mellintrf:KOe,Mfr:JOe,mfr:QOe,mho:XOe,micro:YOe,midast:ZOe,midcir:eAe,mid:tAe,middot:rAe,minusb:nAe,minus:iAe,minusd:aAe,minusdu:oAe,MinusPlus:sAe,mlcp:lAe,mldr:uAe,mnplus:cAe,models:fAe,Mopf:dAe,mopf:hAe,mp:pAe,mscr:vAe,Mscr:mAe,mstpos:gAe,Mu:yAe,mu:wAe,multimap:kAe,mumap:bAe,nabla:CAe,Nacute:SAe,nacute:xAe,nang:TAe,nap:EAe,napE:MAe,napid:NAe,napos:OAe,napprox:AAe,natural:DAe,naturals:LAe,natur:RAe,nbsp:IAe,nbump:PAe,nbumpe:BAe,ncap:_Ae,Ncaron:FAe,ncaron:qAe,Ncedil:zAe,ncedil:HAe,ncong:VAe,ncongdot:$Ae,ncup:UAe,Ncy:jAe,ncy:WAe,ndash:GAe,nearhk:KAe,nearr:JAe,neArr:QAe,nearrow:XAe,ne:YAe,nedot:ZAe,NegativeMediumSpace:eDe,NegativeThickSpace:tDe,NegativeThinSpace:rDe,NegativeVeryThinSpace:nDe,nequiv:iDe,nesear:aDe,nesim:oDe,NestedGreaterGreater:sDe,NestedLessLess:lDe,NewLine:uDe,nexist:cDe,nexists:fDe,Nfr:dDe,nfr:hDe,ngE:pDe,nge:vDe,ngeq:mDe,ngeqq:gDe,ngeqslant:yDe,nges:wDe,nGg:kDe,ngsim:bDe,nGt:CDe,ngt:SDe,ngtr:xDe,nGtv:TDe,nharr:EDe,nhArr:MDe,nhpar:NDe,ni:ODe,nis:ADe,nisd:DDe,niv:LDe,NJcy:RDe,njcy:IDe,nlarr:PDe,nlArr:BDe,nldr:_De,nlE:FDe,nle:qDe,nleftarrow:zDe,nLeftarrow:HDe,nleftrightarrow:VDe,nLeftrightarrow:$De,nleq:UDe,nleqq:jDe,nleqslant:WDe,nles:GDe,nless:KDe,nLl:JDe,nlsim:QDe,nLt:XDe,nlt:YDe,nltri:ZDe,nltrie:eLe,nLtv:tLe,nmid:rLe,NoBreak:nLe,NonBreakingSpace:iLe,nopf:aLe,Nopf:oLe,Not:sLe,not:lLe,NotCongruent:uLe,NotCupCap:cLe,NotDoubleVerticalBar:fLe,NotElement:dLe,NotEqual:hLe,NotEqualTilde:pLe,NotExists:vLe,NotGreater:mLe,NotGreaterEqual:gLe,NotGreaterFullEqual:yLe,NotGreaterGreater:wLe,NotGreaterLess:kLe,NotGreaterSlantEqual:bLe,NotGreaterTilde:CLe,NotHumpDownHump:SLe,NotHumpEqual:xLe,notin:TLe,notindot:ELe,notinE:MLe,notinva:NLe,notinvb:OLe,notinvc:ALe,NotLeftTriangleBar:DLe,NotLeftTriangle:LLe,NotLeftTriangleEqual:RLe,NotLess:ILe,NotLessEqual:PLe,NotLessGreater:BLe,NotLessLess:_Le,NotLessSlantEqual:FLe,NotLessTilde:qLe,NotNestedGreaterGreater:zLe,NotNestedLessLess:HLe,notni:VLe,notniva:$Le,notnivb:ULe,notnivc:jLe,NotPrecedes:WLe,NotPrecedesEqual:GLe,NotPrecedesSlantEqual:KLe,NotReverseElement:JLe,NotRightTriangleBar:QLe,NotRightTriangle:XLe,NotRightTriangleEqual:YLe,NotSquareSubset:ZLe,NotSquareSubsetEqual:eRe,NotSquareSuperset:tRe,NotSquareSupersetEqual:rRe,NotSubset:nRe,NotSubsetEqual:iRe,NotSucceeds:aRe,NotSucceedsEqual:oRe,NotSucceedsSlantEqual:sRe,NotSucceedsTilde:lRe,NotSuperset:uRe,NotSupersetEqual:cRe,NotTilde:fRe,NotTildeEqual:dRe,NotTildeFullEqual:hRe,NotTildeTilde:pRe,NotVerticalBar:vRe,nparallel:mRe,npar:gRe,nparsl:yRe,npart:wRe,npolint:kRe,npr:bRe,nprcue:CRe,nprec:SRe,npreceq:xRe,npre:TRe,nrarrc:ERe,nrarr:MRe,nrArr:NRe,nrarrw:ORe,nrightarrow:ARe,nRightarrow:DRe,nrtri:LRe,nrtrie:RRe,nsc:IRe,nsccue:PRe,nsce:BRe,Nscr:_Re,nscr:FRe,nshortmid:qRe,nshortparallel:zRe,nsim:HRe,nsime:VRe,nsimeq:$Re,nsmid:URe,nspar:jRe,nsqsube:WRe,nsqsupe:GRe,nsub:KRe,nsubE:JRe,nsube:QRe,nsubset:XRe,nsubseteq:YRe,nsubseteqq:ZRe,nsucc:eIe,nsucceq:tIe,nsup:rIe,nsupE:nIe,nsupe:iIe,nsupset:aIe,nsupseteq:oIe,nsupseteqq:sIe,ntgl:lIe,Ntilde:uIe,ntilde:cIe,ntlg:fIe,ntriangleleft:dIe,ntrianglelefteq:hIe,ntriangleright:pIe,ntrianglerighteq:vIe,Nu:mIe,nu:gIe,num:yIe,numero:wIe,numsp:kIe,nvap:bIe,nvdash:CIe,nvDash:SIe,nVdash:xIe,nVDash:TIe,nvge:EIe,nvgt:MIe,nvHarr:NIe,nvinfin:OIe,nvlArr:AIe,nvle:DIe,nvlt:LIe,nvltrie:RIe,nvrArr:IIe,nvrtrie:PIe,nvsim:BIe,nwarhk:_Ie,nwarr:FIe,nwArr:qIe,nwarrow:zIe,nwnear:HIe,Oacute:VIe,oacute:$Ie,oast:UIe,Ocirc:jIe,ocirc:WIe,ocir:GIe,Ocy:KIe,ocy:JIe,odash:QIe,Odblac:XIe,odblac:YIe,odiv:ZIe,odot:ePe,odsold:tPe,OElig:rPe,oelig:nPe,ofcir:iPe,Ofr:aPe,ofr:oPe,ogon:sPe,Ograve:lPe,ograve:uPe,ogt:cPe,ohbar:fPe,ohm:dPe,oint:hPe,olarr:pPe,olcir:vPe,olcross:mPe,oline:gPe,olt:yPe,Omacr:wPe,omacr:kPe,Omega:bPe,omega:CPe,Omicron:SPe,omicron:xPe,omid:TPe,ominus:EPe,Oopf:MPe,oopf:NPe,opar:OPe,OpenCurlyDoubleQuote:APe,OpenCurlyQuote:DPe,operp:LPe,oplus:RPe,orarr:IPe,Or:PPe,or:BPe,ord:_Pe,order:FPe,orderof:qPe,ordf:zPe,ordm:HPe,origof:VPe,oror:$Pe,orslope:UPe,orv:jPe,oS:WPe,Oscr:GPe,oscr:KPe,Oslash:JPe,oslash:QPe,osol:XPe,Otilde:YPe,otilde:ZPe,otimesas:eBe,Otimes:tBe,otimes:rBe,Ouml:nBe,ouml:iBe,ovbar:aBe,OverBar:oBe,OverBrace:sBe,OverBracket:lBe,OverParenthesis:uBe,para:cBe,parallel:fBe,par:dBe,parsim:hBe,parsl:pBe,part:vBe,PartialD:mBe,Pcy:gBe,pcy:yBe,percnt:wBe,period:kBe,permil:bBe,perp:CBe,pertenk:SBe,Pfr:xBe,pfr:TBe,Phi:EBe,phi:MBe,phiv:NBe,phmmat:OBe,phone:ABe,Pi:DBe,pi:LBe,pitchfork:RBe,piv:IBe,planck:PBe,planckh:BBe,plankv:_Be,plusacir:FBe,plusb:qBe,pluscir:zBe,plus:HBe,plusdo:VBe,plusdu:$Be,pluse:UBe,PlusMinus:jBe,plusmn:WBe,plussim:GBe,plustwo:KBe,pm:JBe,Poincareplane:QBe,pointint:XBe,popf:YBe,Popf:ZBe,pound:e_e,prap:t_e,Pr:r_e,pr:n_e,prcue:i_e,precapprox:a_e,prec:o_e,preccurlyeq:s_e,Precedes:l_e,PrecedesEqual:u_e,PrecedesSlantEqual:c_e,PrecedesTilde:f_e,preceq:d_e,precnapprox:h_e,precneqq:p_e,precnsim:v_e,pre:m_e,prE:g_e,precsim:y_e,prime:w_e,Prime:k_e,primes:b_e,prnap:C_e,prnE:S_e,prnsim:x_e,prod:T_e,Product:E_e,profalar:M_e,profline:N_e,profsurf:O_e,prop:A_e,Proportional:D_e,Proportion:L_e,propto:R_e,prsim:I_e,prurel:P_e,Pscr:B_e,pscr:__e,Psi:F_e,psi:q_e,puncsp:z_e,Qfr:H_e,qfr:V_e,qint:$_e,qopf:U_e,Qopf:j_e,qprime:W_e,Qscr:G_e,qscr:K_e,quaternions:J_e,quatint:Q_e,quest:X_e,questeq:Y_e,quot:Z_e,QUOT:e2e,rAarr:t2e,race:r2e,Racute:n2e,racute:i2e,radic:a2e,raemptyv:o2e,rang:s2e,Rang:l2e,rangd:u2e,range:c2e,rangle:f2e,raquo:d2e,rarrap:h2e,rarrb:p2e,rarrbfs:v2e,rarrc:m2e,rarr:g2e,Rarr:y2e,rArr:w2e,rarrfs:k2e,rarrhk:b2e,rarrlp:C2e,rarrpl:S2e,rarrsim:x2e,Rarrtl:T2e,rarrtl:E2e,rarrw:M2e,ratail:N2e,rAtail:O2e,ratio:A2e,rationals:D2e,rbarr:L2e,rBarr:R2e,RBarr:I2e,rbbrk:P2e,rbrace:B2e,rbrack:_2e,rbrke:F2e,rbrksld:q2e,rbrkslu:z2e,Rcaron:H2e,rcaron:V2e,Rcedil:$2e,rcedil:U2e,rceil:j2e,rcub:W2e,Rcy:G2e,rcy:K2e,rdca:J2e,rdldhar:Q2e,rdquo:X2e,rdquor:Y2e,rdsh:Z2e,real:eFe,realine:tFe,realpart:rFe,reals:nFe,Re:iFe,rect:aFe,reg:oFe,REG:sFe,ReverseElement:lFe,ReverseEquilibrium:uFe,ReverseUpEquilibrium:cFe,rfisht:fFe,rfloor:dFe,rfr:hFe,Rfr:pFe,rHar:vFe,rhard:mFe,rharu:gFe,rharul:yFe,Rho:wFe,rho:kFe,rhov:bFe,RightAngleBracket:CFe,RightArrowBar:SFe,rightarrow:xFe,RightArrow:TFe,Rightarrow:EFe,RightArrowLeftArrow:MFe,rightarrowtail:NFe,RightCeiling:OFe,RightDoubleBracket:AFe,RightDownTeeVector:DFe,RightDownVectorBar:LFe,RightDownVector:RFe,RightFloor:IFe,rightharpoondown:PFe,rightharpoonup:BFe,rightleftarrows:_Fe,rightleftharpoons:FFe,rightrightarrows:qFe,rightsquigarrow:zFe,RightTeeArrow:HFe,RightTee:VFe,RightTeeVector:$Fe,rightthreetimes:UFe,RightTriangleBar:jFe,RightTriangle:WFe,RightTriangleEqual:GFe,RightUpDownVector:KFe,RightUpTeeVector:JFe,RightUpVectorBar:QFe,RightUpVector:XFe,RightVectorBar:YFe,RightVector:ZFe,ring:e3e,risingdotseq:t3e,rlarr:r3e,rlhar:n3e,rlm:i3e,rmoustache:a3e,rmoust:o3e,rnmid:s3e,roang:l3e,roarr:u3e,robrk:c3e,ropar:f3e,ropf:d3e,Ropf:h3e,roplus:p3e,rotimes:v3e,RoundImplies:m3e,rpar:g3e,rpargt:y3e,rppolint:w3e,rrarr:k3e,Rrightarrow:b3e,rsaquo:C3e,rscr:S3e,Rscr:x3e,rsh:T3e,Rsh:E3e,rsqb:M3e,rsquo:N3e,rsquor:O3e,rthree:A3e,rtimes:D3e,rtri:L3e,rtrie:R3e,rtrif:I3e,rtriltri:P3e,RuleDelayed:B3e,ruluhar:_3e,rx:F3e,Sacute:q3e,sacute:z3e,sbquo:H3e,scap:V3e,Scaron:$3e,scaron:U3e,Sc:j3e,sc:W3e,sccue:G3e,sce:K3e,scE:J3e,Scedil:Q3e,scedil:X3e,Scirc:Y3e,scirc:Z3e,scnap:eqe,scnE:tqe,scnsim:rqe,scpolint:nqe,scsim:iqe,Scy:aqe,scy:oqe,sdotb:sqe,sdot:lqe,sdote:uqe,searhk:cqe,searr:fqe,seArr:dqe,searrow:hqe,sect:pqe,semi:vqe,seswar:mqe,setminus:gqe,setmn:yqe,sext:wqe,Sfr:kqe,sfr:bqe,sfrown:Cqe,sharp:Sqe,SHCHcy:xqe,shchcy:Tqe,SHcy:Eqe,shcy:Mqe,ShortDownArrow:Nqe,ShortLeftArrow:Oqe,shortmid:Aqe,shortparallel:Dqe,ShortRightArrow:Lqe,ShortUpArrow:Rqe,shy:Iqe,Sigma:Pqe,sigma:Bqe,sigmaf:_qe,sigmav:Fqe,sim:qqe,simdot:zqe,sime:Hqe,simeq:Vqe,simg:$qe,simgE:Uqe,siml:jqe,simlE:Wqe,simne:Gqe,simplus:Kqe,simrarr:Jqe,slarr:Qqe,SmallCircle:Xqe,smallsetminus:Yqe,smashp:Zqe,smeparsl:eze,smid:tze,smile:rze,smt:nze,smte:ize,smtes:aze,SOFTcy:oze,softcy:sze,solbar:lze,solb:uze,sol:cze,Sopf:fze,sopf:dze,spades:hze,spadesuit:pze,spar:vze,sqcap:mze,sqcaps:gze,sqcup:yze,sqcups:wze,Sqrt:kze,sqsub:bze,sqsube:Cze,sqsubset:Sze,sqsubseteq:xze,sqsup:Tze,sqsupe:Eze,sqsupset:Mze,sqsupseteq:Nze,square:Oze,Square:Aze,SquareIntersection:Dze,SquareSubset:Lze,SquareSubsetEqual:Rze,SquareSuperset:Ize,SquareSupersetEqual:Pze,SquareUnion:Bze,squarf:_ze,squ:Fze,squf:qze,srarr:zze,Sscr:Hze,sscr:Vze,ssetmn:$ze,ssmile:Uze,sstarf:jze,Star:Wze,star:Gze,starf:Kze,straightepsilon:Jze,straightphi:Qze,strns:Xze,sub:Yze,Sub:Zze,subdot:eHe,subE:tHe,sube:rHe,subedot:nHe,submult:iHe,subnE:aHe,subne:oHe,subplus:sHe,subrarr:lHe,subset:uHe,Subset:cHe,subseteq:fHe,subseteqq:dHe,SubsetEqual:hHe,subsetneq:pHe,subsetneqq:vHe,subsim:mHe,subsub:gHe,subsup:yHe,succapprox:wHe,succ:kHe,succcurlyeq:bHe,Succeeds:CHe,SucceedsEqual:SHe,SucceedsSlantEqual:xHe,SucceedsTilde:THe,succeq:EHe,succnapprox:MHe,succneqq:NHe,succnsim:OHe,succsim:AHe,SuchThat:DHe,sum:LHe,Sum:RHe,sung:IHe,sup1:PHe,sup2:BHe,sup3:_He,sup:FHe,Sup:qHe,supdot:zHe,supdsub:HHe,supE:VHe,supe:$He,supedot:UHe,Superset:jHe,SupersetEqual:WHe,suphsol:GHe,suphsub:KHe,suplarr:JHe,supmult:QHe,supnE:XHe,supne:YHe,supplus:ZHe,supset:eVe,Supset:tVe,supseteq:rVe,supseteqq:nVe,supsetneq:iVe,supsetneqq:aVe,supsim:oVe,supsub:sVe,supsup:lVe,swarhk:uVe,swarr:cVe,swArr:fVe,swarrow:dVe,swnwar:hVe,szlig:pVe,Tab:vVe,target:mVe,Tau:gVe,tau:yVe,tbrk:wVe,Tcaron:kVe,tcaron:bVe,Tcedil:CVe,tcedil:SVe,Tcy:xVe,tcy:TVe,tdot:EVe,telrec:MVe,Tfr:NVe,tfr:OVe,there4:AVe,therefore:DVe,Therefore:LVe,Theta:RVe,theta:IVe,thetasym:PVe,thetav:BVe,thickapprox:_Ve,thicksim:FVe,ThickSpace:qVe,ThinSpace:zVe,thinsp:HVe,thkap:VVe,thksim:$Ve,THORN:UVe,thorn:jVe,tilde:WVe,Tilde:GVe,TildeEqual:KVe,TildeFullEqual:JVe,TildeTilde:QVe,timesbar:XVe,timesb:YVe,times:ZVe,timesd:e$e,tint:t$e,toea:r$e,topbot:n$e,topcir:i$e,top:a$e,Topf:o$e,topf:s$e,topfork:l$e,tosa:u$e,tprime:c$e,trade:f$e,TRADE:d$e,triangle:h$e,triangledown:p$e,triangleleft:v$e,trianglelefteq:m$e,triangleq:g$e,triangleright:y$e,trianglerighteq:w$e,tridot:k$e,trie:b$e,triminus:C$e,TripleDot:S$e,triplus:x$e,trisb:T$e,tritime:E$e,trpezium:M$e,Tscr:N$e,tscr:O$e,TScy:A$e,tscy:D$e,TSHcy:L$e,tshcy:R$e,Tstrok:I$e,tstrok:P$e,twixt:B$e,twoheadleftarrow:_$e,twoheadrightarrow:F$e,Uacute:q$e,uacute:z$e,uarr:H$e,Uarr:V$e,uArr:$$e,Uarrocir:U$e,Ubrcy:j$e,ubrcy:W$e,Ubreve:G$e,ubreve:K$e,Ucirc:J$e,ucirc:Q$e,Ucy:X$e,ucy:Y$e,udarr:Z$e,Udblac:eUe,udblac:tUe,udhar:rUe,ufisht:nUe,Ufr:iUe,ufr:aUe,Ugrave:oUe,ugrave:sUe,uHar:lUe,uharl:uUe,uharr:cUe,uhblk:fUe,ulcorn:dUe,ulcorner:hUe,ulcrop:pUe,ultri:vUe,Umacr:mUe,umacr:gUe,uml:yUe,UnderBar:wUe,UnderBrace:kUe,UnderBracket:bUe,UnderParenthesis:CUe,Union:SUe,UnionPlus:xUe,Uogon:TUe,uogon:EUe,Uopf:MUe,uopf:NUe,UpArrowBar:OUe,uparrow:AUe,UpArrow:DUe,Uparrow:LUe,UpArrowDownArrow:RUe,updownarrow:IUe,UpDownArrow:PUe,Updownarrow:BUe,UpEquilibrium:_Ue,upharpoonleft:FUe,upharpoonright:qUe,uplus:zUe,UpperLeftArrow:HUe,UpperRightArrow:VUe,upsi:$Ue,Upsi:UUe,upsih:jUe,Upsilon:WUe,upsilon:GUe,UpTeeArrow:KUe,UpTee:JUe,upuparrows:QUe,urcorn:XUe,urcorner:YUe,urcrop:ZUe,Uring:e4e,uring:t4e,urtri:r4e,Uscr:n4e,uscr:i4e,utdot:a4e,Utilde:o4e,utilde:s4e,utri:l4e,utrif:u4e,uuarr:c4e,Uuml:f4e,uuml:d4e,uwangle:h4e,vangrt:p4e,varepsilon:v4e,varkappa:m4e,varnothing:g4e,varphi:y4e,varpi:w4e,varpropto:k4e,varr:b4e,vArr:C4e,varrho:S4e,varsigma:x4e,varsubsetneq:T4e,varsubsetneqq:E4e,varsupsetneq:M4e,varsupsetneqq:N4e,vartheta:O4e,vartriangleleft:A4e,vartriangleright:D4e,vBar:L4e,Vbar:R4e,vBarv:I4e,Vcy:P4e,vcy:B4e,vdash:_4e,vDash:F4e,Vdash:q4e,VDash:z4e,Vdashl:H4e,veebar:V4e,vee:$4e,Vee:U4e,veeeq:j4e,vellip:W4e,verbar:G4e,Verbar:K4e,vert:J4e,Vert:Q4e,VerticalBar:X4e,VerticalLine:Y4e,VerticalSeparator:Z4e,VerticalTilde:eje,VeryThinSpace:tje,Vfr:rje,vfr:nje,vltri:ije,vnsub:aje,vnsup:oje,Vopf:sje,vopf:lje,vprop:uje,vrtri:cje,Vscr:fje,vscr:dje,vsubnE:hje,vsubne:pje,vsupnE:vje,vsupne:mje,Vvdash:gje,vzigzag:yje,Wcirc:wje,wcirc:kje,wedbar:bje,wedge:Cje,Wedge:Sje,wedgeq:xje,weierp:Tje,Wfr:Eje,wfr:Mje,Wopf:Nje,wopf:Oje,wp:Aje,wr:Dje,wreath:Lje,Wscr:Rje,wscr:Ije,xcap:Pje,xcirc:Bje,xcup:_je,xdtri:Fje,Xfr:qje,xfr:zje,xharr:Hje,xhArr:Vje,Xi:$je,xi:Uje,xlarr:jje,xlArr:Wje,xmap:Gje,xnis:Kje,xodot:Jje,Xopf:Qje,xopf:Xje,xoplus:Yje,xotime:Zje,xrarr:e5e,xrArr:t5e,Xscr:r5e,xscr:n5e,xsqcup:i5e,xuplus:a5e,xutri:o5e,xvee:s5e,xwedge:l5e,Yacute:u5e,yacute:c5e,YAcy:f5e,yacy:d5e,Ycirc:h5e,ycirc:p5e,Ycy:v5e,ycy:m5e,yen:g5e,Yfr:y5e,yfr:w5e,YIcy:k5e,yicy:b5e,Yopf:C5e,yopf:S5e,Yscr:x5e,yscr:T5e,YUcy:E5e,yucy:M5e,yuml:N5e,Yuml:O5e,Zacute:A5e,zacute:D5e,Zcaron:L5e,zcaron:R5e,Zcy:I5e,zcy:P5e,Zdot:B5e,zdot:_5e,zeetrf:F5e,ZeroWidthSpace:q5e,Zeta:z5e,zeta:H5e,zfr:V5e,Zfr:$5e,ZHcy:U5e,zhcy:j5e,zigrarr:W5e,zopf:G5e,Zopf:K5e,Zscr:J5e,zscr:Q5e,zwj:X5e,zwnj:Y5e},Z5e="",e8e="",t8e="",r8e="",n8e="",i8e="",a8e="",o8e="",s8e="",l8e="&",u8e="&",c8e="",f8e="",d8e="",h8e="",p8e="",v8e="",m8e="",g8e="",y8e="",w8e="",k8e="",b8e="",C8e="",S8e="",x8e="",T8e="",E8e="",M8e="",N8e="",O8e="",A8e="",D8e="",L8e="",R8e="",I8e="",P8e="",B8e="",_8e="",F8e="",q8e=">",z8e=">",H8e="",V8e="",$8e="",U8e="",j8e="",W8e="",G8e="",K8e="",J8e="",Q8e="",X8e="",Y8e="<",Z8e="<",eWe="",tWe="",rWe="",nWe="",iWe="",aWe="",oWe="",sWe="",lWe="",uWe="",cWe="",fWe="",dWe="",hWe="",pWe="",vWe="",mWe="",gWe="",yWe="",wWe="",kWe="",bWe="",CWe="",SWe="",xWe='"',TWe='"',EWe="",MWe="",NWe="",OWe="",AWe="",DWe="",LWe="",RWe="",IWe="",PWe="",BWe="",_We="",FWe="",qWe="",zWe="",HWe="",VWe="",$We="",UWe="",jWe="",WWe="",GWe="",KWe="",JWe="",QWe="",XWe={Aacute:Z5e,aacute:e8e,Acirc:t8e,acirc:r8e,acute:n8e,AElig:i8e,aelig:a8e,Agrave:o8e,agrave:s8e,amp:l8e,AMP:u8e,Aring:c8e,aring:f8e,Atilde:d8e,atilde:h8e,Auml:p8e,auml:v8e,brvbar:m8e,Ccedil:g8e,ccedil:y8e,cedil:w8e,cent:k8e,copy:b8e,COPY:C8e,curren:S8e,deg:x8e,divide:T8e,Eacute:E8e,eacute:M8e,Ecirc:N8e,ecirc:O8e,Egrave:A8e,egrave:D8e,ETH:L8e,eth:R8e,Euml:I8e,euml:P8e,frac12:B8e,frac14:_8e,frac34:F8e,gt:q8e,GT:z8e,Iacute:H8e,iacute:V8e,Icirc:$8e,icirc:U8e,iexcl:j8e,Igrave:W8e,igrave:G8e,iquest:K8e,Iuml:J8e,iuml:Q8e,laquo:X8e,lt:Y8e,LT:Z8e,macr:eWe,micro:tWe,middot:rWe,nbsp:nWe,not:iWe,Ntilde:aWe,ntilde:oWe,Oacute:sWe,oacute:lWe,Ocirc:uWe,ocirc:cWe,Ograve:fWe,ograve:dWe,ordf:hWe,ordm:pWe,Oslash:vWe,oslash:mWe,Otilde:gWe,otilde:yWe,Ouml:wWe,ouml:kWe,para:bWe,plusmn:CWe,pound:SWe,quot:xWe,QUOT:TWe,raquo:EWe,reg:MWe,REG:NWe,sect:OWe,shy:AWe,sup1:DWe,sup2:LWe,sup3:RWe,szlig:IWe,THORN:PWe,thorn:BWe,times:_We,Uacute:FWe,uacute:qWe,Ucirc:zWe,ucirc:HWe,Ugrave:VWe,ugrave:$We,uml:UWe,Uuml:jWe,uuml:WWe,Yacute:GWe,yacute:KWe,yen:JWe,yuml:QWe},YWe="&",ZWe="'",e6e=">",t6e="<",r6e='"',EO={amp:YWe,apos:ZWe,gt:e6e,lt:t6e,quot:r6e},Ok={},n6e={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},i6e=Uf&&Uf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ok,"__esModule",{value:!0});var Ax=i6e(n6e),a6e=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function o6e(t){return t>=55296&&t<=57343||t>1114111?"":(t in Ax.default&&(t=Ax.default[t]),a6e(t))}Ok.default=o6e;var ly=Uf&&Uf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.decodeHTML=Ws.decodeHTMLStrict=Ws.decodeXML=void 0;var c0=ly(TO),s6e=ly(XWe),l6e=ly(EO),Dx=ly(Ok),u6e=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Ws.decodeXML=MO(l6e.default);Ws.decodeHTMLStrict=MO(c0.default);function MO(t){var e=NO(t);return function(r){return String(r).replace(u6e,e)}}var Lx=function(t,e){return t<e?1:-1};Ws.decodeHTML=function(){for(var t=Object.keys(s6e.default).sort(Lx),e=Object.keys(c0.default).sort(Lx),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=NO(c0.default);function s(u){return u.substr(-1)!==";"&&(u+=";"),a(u)}return function(u){return String(u).replace(i,s)}}();function NO(t){return function(r){if(r.charAt(1)==="#"){var n=r.charAt(2);return n==="X"||n==="x"?Dx.default(parseInt(r.substr(3),16)):Dx.default(parseInt(r.substr(2),10))}return t[r.slice(1,-1)]||r}}var wa={},OO=Uf&&Uf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wa,"__esModule",{value:!0});wa.escapeUTF8=wa.escape=wa.encodeNonAsciiHTML=wa.encodeHTML=wa.encodeXML=void 0;var c6e=OO(EO),AO=LO(c6e.default),DO=RO(AO);wa.encodeXML=BO(AO);var f6e=OO(TO),Ak=LO(f6e.default),d6e=RO(Ak);wa.encodeHTML=p6e(Ak,d6e);wa.encodeNonAsciiHTML=BO(Ak);function LO(t){return Object.keys(t).sort().reduce(function(e,r){return e[t[r]]="&"+r+";",e},{})}function RO(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):r.push(a)}e.sort();for(var s=0;s<e.length-1;s++){for(var u=s;u<e.length-1&&e[u].charCodeAt(1)+1===e[u+1].charCodeAt(1);)u+=1;var c=1+u-s;c<3||e.splice(s,c,e[s]+"-"+e[u])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}var IO=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,h6e=String.prototype.codePointAt!=null?function(t){return t.codePointAt(0)}:function(t){return(t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)-56320+65536};function uy(t){return"&#x"+(t.length>1?h6e(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function p6e(t,e){return function(r){return r.replace(e,function(n){return t[n]}).replace(IO,uy)}}var PO=new RegExp(DO.source+"|"+IO.source,"g");function v6e(t){return t.replace(PO,uy)}wa.escape=v6e;function m6e(t){return t.replace(DO,uy)}wa.escapeUTF8=m6e;function BO(t){return function(e){return e.replace(PO,function(r){return t[r]||uy(r)})}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=Ws,r=wa;function n(c,d){return(!d||d<=0?e.decodeXML:e.decodeHTML)(c)}t.decode=n;function i(c,d){return(!d||d<=0?e.decodeXML:e.decodeHTMLStrict)(c)}t.decodeStrict=i;function a(c,d){return(!d||d<=0?r.encodeXML:r.encodeHTML)(c)}t.encode=a;var s=wa;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return s.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var u=Ws;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return u.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return u.decodeXML}})})(Nk);var _O="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",g6e=92,y6e=/[\\&]/,Dk="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",w6e=new RegExp("\\\\"+Dk+"|"+_O,"gi"),k6e='[&<>"]',Rx=new RegExp(k6e,"g"),b6e=function(t){return t.charCodeAt(0)===g6e?t.charAt(1):Nk.decodeHTML(t)};function Yh(t){return y6e.test(t)?t.replace(w6e,b6e):t}function Lm(t){try{return Pde(t)}catch{return t}}function C6e(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function Tf(t){return Rx.test(t)?t.replace(Rx,C6e):t}function f0(t,e){for(var r=[],n=0;n<e;n++)r.push(t);return r.join("")}function Ix(t){return t?!/[^ \t]+/.test(t):!0}var S6e=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.next=function(){var e=this.current,r=this.entering;if(e===null)return null;var n=Lk(e);return r&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:r,node:e}},t.prototype.resumeAt=function(e,r){this.current=e,this.entering=r===!0},t}();function Lk(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var x6e=1,cy={};function T6e(t){return cy[t]}function d0(t){delete cy[t]}function E6e(){cy={}}var Op=function(){function t(e,r){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=x6e++,this.type=e,this.sourcepos=r,cy[this.id]=this}return t.prototype.isContainer=function(){return Lk(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},t.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},t.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},t.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.walker=function(){return new S6e(this)},t}(),Js=function(t){_a(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=r,i}return e}(Op),M6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.listData=null,r}return e}(Js),N6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.level=0,r.headingType="atx",r}return e}(Js),O6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isFenced=!1,r.fenceChar=null,r.fenceLength=0,r.fenceOffset=-1,r.info=null,r.infoPadding=0,r}return e}(Js),A6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.columns=[],r}return e}(Js),D6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startIdx=0,r.endIdx=0,r.paddingLeft=0,r.paddingRight=0,r.ignored=!1,r}return e}(Js),L6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.title="",r.dest="",r.label="",r}return e}(Js),R6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.syntaxLength=0,r.offset=-1,r.info="",r}return e}(Js),I6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.htmlBlockType=-1,r}return e}(Js),P6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.destination=null,r.title=null,r.extendedAutolink=!1,r}return e}(Op),B6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.tickCount=0,r}return e}(Op),_6e=function(t){_a(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.info="",r}return e}(Op);function fn(t,e){switch(t){case"heading":return new N6e(t,e);case"list":case"item":return new M6e(t,e);case"link":case"image":return new P6e(t,e);case"codeBlock":return new O6e(t,e);case"htmlBlock":return new I6e(t,e);case"table":return new A6e(t,e);case"tableCell":return new D6e(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Js(t,e);case"code":return new B6e(t,e);case"refDef":return new L6e(t,e);case"customBlock":return new R6e(t,e);case"customInline":return new _6e(t,e);default:return new Op(t,e)}}function FO(t){return t.type==="codeBlock"}function F6e(t){return t.type==="htmlBlock"}function q6e(t){return t.type==="heading"}function Px(t){return t.type==="list"}function z6e(t){return t.type==="table"}function wf(t){return t.type==="refDef"}function qO(t){return t.type==="customBlock"}function H6e(t){return t.type==="customInline"}function Mn(t,e){var r=fn("text",e);return r.literal=t,r}var zO="[A-Za-z][A-Za-z0-9-]*",V6e="[a-zA-Z_:][a-zA-Z0-9:._-]*",$6e="[^\"'=<>`\\x00-\\x20]+",U6e="'[^']*'",j6e='"[^"]*"',W6e="(?:"+$6e+"|"+U6e+"|"+j6e+")",G6e="(?:\\s*=\\s*"+W6e+")",K6e="(?:\\s+"+V6e+G6e+"?)",HO="<"+zO+K6e+"*\\s*/?>",VO="</"+zO+"\\s*[>]",J6e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Q6e="[<][?].*?[?][>]",X6e="<![A-Z]+\\s+[^>]*>",Y6e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Z6e="(?:"+HO+"|"+VO+"|"+J6e+"|"+Q6e+"|"+X6e+"|"+Y6e+")",e9e=new RegExp("^"+Z6e,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var h0;if(String.fromCodePoint)h0=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return"";throw e}};else{var t9e=String.fromCharCode,r9e=Math.floor;h0=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=16384,n=[],i,a,s=-1,u=t.length;if(!u)return"";for(var c="";++s<u;){var d=Number(t[s]);if(!isFinite(d)||d<0||d>1114111||r9e(d)!==d)return"";d<=65535?n.push(d):(d-=65536,i=(d>>10)+55296,a=d%1024+56320,n.push(i,a)),(s+1===u||n.length>r)&&(c+=t9e.apply(void 0,n),n.length=0)}return c}}var u1=h0,n9e="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",i9e="[^<\\s]*[^<?!.,:*_?~\\s]",a9e="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function o9e(t){var e=/\)+$/.exec(t);if(e){for(var r=0,n=0,i=t;n<i.length;n++){var a=i[n];a==="("?r<0?r=1:r+=1:a===")"&&(r-=1)}if(r<0){var s=Math.min(-r,e[0].length);return t.substring(0,t.length-s)}}return t}function s9e(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function l9e(t){for(var e=new RegExp(a9e,"g"),r=[],n;n=e.exec(t);){var i=n[0];/[_-]+$/.test(i)||r.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return r}function u9e(t){for(var e=new RegExp("(www|https?://)."+n9e+i9e,"g"),r=[],n;n=e.exec(t);){var i=s9e(o9e(n[0])),a=n[1]==="www"?"http://":"";r.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return r}function c9e(t){return u0(u0([],u9e(t)),l9e(t)).sort(function(e,r){return e.range[0]-r.range[0]})}function f9e(t,e){typeof e=="boolean"&&(e=c9e);for(var r,n=function(){var i=r.entering,a=r.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var s=a.literal,u=e(s);if(!u||!u.length)return"continue";for(var c=0,d=a.sourcepos[0],m=d[0],w=d[1],T=function(Ne,Ee){return[[m,w+Ne],[m,w+Ee]]},M=[],N=0,P=u;N<P.length;N++){var R=P[N],V=R.range,ee=R.url,te=R.text;V[0]>c&&M.push(Mn(s.substring(c,V[0]),T(c,V[0]-1)));var ne=fn("link",T.apply(void 0,V));ne.appendChild(Mn(te,T.apply(void 0,V))),ne.destination=ee,ne.extendedAutolink=!0,M.push(ne),c=V[1]+1}c<s.length&&M.push(Mn(s.substring(c),T(c,s.length-1)));for(var pe=0,ue=M;pe<ue.length;pe++){var be=ue[pe];a.insertBefore(be)}a.unlink()}};r=t.next();)n()}function Mg(t){return t[t.length-1]}function Bx(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Rm(t,e){Object.keys(t).forEach(function(r){e(r,t[r])})}function d9e(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=ei({},t);return e.forEach(function(i){delete n[i]}),n}function kf(t){return!Object.keys(t).length}function h9e(t){Object.keys(t).forEach(function(e){delete t[e]})}var p0=10,c1=42,Im=95,p9e=96,_x=91,v9e=93,Pm=126,Fx=60,m9e=33,qx=92,g9e=38,zx=40,f1=41,y9e=58,Mu=39,Nu=34,Ou=36,d1="\\\\"+Dk,Hx=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),w9e=new RegExp('^(?:"('+d1+'|[^"\\x00])*"|'+("'("+d1+"|[^'\\x00])*'")+"|"+("\\(("+d1+"|[^()\\x00])*\\))")),k9e=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,Vx=new RegExp("^"+Dk),b9e=new RegExp("^"+_O,"i"),C9e=/`+/,S9e=/^`+/,x9e=/\.\.\./g,T9e=/--+/g,E9e=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,M9e=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,N9e=/^ *(?:\n *)?/,h1=/^[ \t\n\x0b\x0c\x0d]/,$x=/^\s/,O9e=/ *$/,A9e=/^ */,Ux=/^ *(?:\n|$)/,D9e=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,L9e=/^[^\n`\[\]\\!<&*_'"~$]+/m,R9e=function(){function t(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return t.prototype.sourcepos=function(e,r){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof r=="number"?[a,[i,r+n]]:a},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(e){var r=e.exec(this.subject.slice(this.pos));return r===null?null:(this.pos+=r.index+r[0].length,r[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(N9e),!0},t.prototype.parseBackticks=function(e){var r=this.pos+1,n=this.match(S9e);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(C9e))!==null;)if(a===n){var s=this.subject.slice(i,this.pos-n.length),u=this.sourcepos(r,this.pos),c=s.split(`
`);if(c.length>1){var d=Mg(c);this.lineIdx+=c.length-1,this.linePosOffset=-(this.pos-d.length-n.length),u[1]=this.sourcepos(this.pos),s=c.join(" ")}var m=fn("code",u);return s.length>0&&s.match(/[^ ]/)!==null&&s[0]==" "&&s[s.length-1]==" "?m.literal=s.slice(1,s.length-1):m.literal=s,m.tickCount=n.length,e.appendChild(m),!0}return this.pos=i,e.appendChild(Mn(n,this.sourcepos(r,this.pos-1))),!0},t.prototype.parseBackslash=function(e){var r=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===p0?(this.pos+=1,n=fn("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):Vx.test(r.charAt(this.pos))?(e.appendChild(Mn(r.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(Mn("\\",this.sourcepos(i,i))),!0},t.prototype.parseAutolink=function(e){var r,n,i,a=this.pos+1;return(r=this.match(E9e))?(n=r.slice(1,r.length-1),i=fn("link",this.sourcepos(a,this.pos)),i.destination=Lm("mailto:"+n),i.title="",i.appendChild(Mn(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(r=this.match(M9e))?(n=r.slice(1,r.length-1),i=fn("link",this.sourcepos(a,this.pos)),i.destination=Lm(n),i.title="",i.appendChild(Mn(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},t.prototype.parseHtmlTag=function(e){var r=this.pos+1,n=this.match(e9e);if(n===null)return!1;var i=fn("htmlInline",this.sourcepos(r,this.pos));return i.literal=n,e.appendChild(i),!0},t.prototype.scanDelims=function(e){var r=0,n=this.pos;if(e===Mu||e===Nu)r++,this.pos++;else for(;this.peek()===e;)r++,this.pos++;if(r===0||r<2&&(e===Pm||e===Ou))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),s;a===-1?s=`
`:s=u1(a);var u=$x.test(s),c=Hx.test(s),d=$x.test(i),m=Hx.test(i),w=!u&&(!c||d||m),T=!d&&(!m||u||c),M,N;return e===Im?(M=w&&(!T||m),N=T&&(!w||c)):e===Mu||e===Nu?(M=w&&!T,N=T):e===Ou?(M=!u,N=!d):(M=w,N=T),this.pos=n,{numdelims:r,canOpen:M,canClose:N}},t.prototype.handleDelim=function(e,r){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,s;this.pos+=i,e===Mu?s="":e===Nu?s="":s=this.subject.slice(a-1,this.pos);var u=Mn(s,this.sourcepos(a,this.pos));return r.appendChild(u),(n.canOpen||n.canClose)&&(this.options.smart||e!==Mu&&e!==Nu)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:u,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},t.prototype.removeDelimitersBetween=function(e,r){e.next!==r&&(e.next=r,r.previous=e)},t.prototype.processEmphasis=function(e){var r,n,i,a,s,u,c,d=!1,m=(r={},r[Im]=[e,e,e],r[c1]=[e,e,e],r[Mu]=[e],r[Nu]=[e],r[Pm]=[e],r[Ou]=[e],r);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var w=i.cc,T=w===Im||w===c1;if(!i.canClose)i=i.next;else{for(n=i.previous,c=!1;n!==null&&n!==e&&n!==m[w][T?i.origdelims%3:0];){if(d=T&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!d){c=!0;break}n=n.previous}if(a=i,T||w===Pm||w===Ou){if(!c)i=i.next;else if(n){var M=i.numdelims>=2&&n.numdelims>=2?2:1,N=T?0:1;s=n.node,u=i.node;var P=T?M===1?"emph":"strong":"strike";w===Ou&&(P="customInline");var R=fn(P),V=s.sourcepos[1],ee=u.sourcepos[0];R.sourcepos=[[V[0],V[1]-M+1],[ee[0],ee[1]+M-1]],s.sourcepos[1][1]-=M,u.sourcepos[0][1]+=M,s.literal=s.literal.slice(M),u.literal=u.literal.slice(M),n.numdelims-=M,i.numdelims-=M;for(var te=s.next,ne=void 0;te&&te!==u;)ne=te.next,te.unlink(),R.appendChild(te),te=ne;if(w===Ou){var pe=R.firstChild,ue=pe.literal||"",be=ue.split(/\s/)[0];R.info=be,ue.length<=be.length?pe.unlink():(pe.sourcepos[0][1]+=be.length,pe.literal=ue.replace(be+" ",""))}if(s.insertAfter(R),this.removeDelimitersBetween(n,i),n.numdelims<=N&&(n.numdelims===0&&s.unlink(),this.removeDelimiter(n)),i.numdelims<=N){i.numdelims===0&&u.unlink();var Ne=i.next;this.removeDelimiter(i),i=Ne}}}else w===Mu?(i.node.literal="",c&&(n.node.literal=""),i=i.next):w===Nu&&(i.node.literal="",c&&(n.node.literal=""),i=i.next);c||(m[w][T?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var e=this.match(w9e);return e===null?null:Yh(e.substr(1,e.length-2))},t.prototype.parseLinkDestination=function(){var e=this.match(k9e);if(e===null){if(this.peek()===Fx)return null;for(var r=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===qx&&Vx.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===zx)this.pos+=1,n+=1;else if(i===f1){if(n<1)break;this.pos+=1,n-=1}else{if(h1.exec(u1(i))!==null)break;this.pos+=1}return this.pos===r&&i!==f1||n!==0?null:(e=this.subject.substr(r,this.pos-r),Lm(Yh(e)))}return Lm(Yh(e.substr(1,e.length-2)))},t.prototype.parseLinkLabel=function(){var e=this.match(D9e);return e===null||e.length>1001?0:e.length},t.prototype.parseOpenBracket=function(e){var r=this.pos;this.pos+=1;var n=Mn("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,r,!1),!0},t.prototype.parseBang=function(e){var r=this.pos;if(this.pos+=1,this.peek()===_x){this.pos+=1;var n=Mn("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,r+1,!0)}else{var n=Mn("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(e){var r=null,n=null,i=!1;this.pos+=1;var a=this.pos,s=this.brackets;if(s===null)return e.appendChild(Mn("]",this.sourcepos(a,a))),!0;if(!s.active)return e.appendChild(Mn("]",this.sourcepos(a,a))),this.removeBracket(),!0;var u=s.image,c=this.pos;this.peek()===zx&&(this.pos++,this.spnl()&&(r=this.parseLinkDestination())!==null&&this.spnl()&&(h1.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===f1?(this.pos+=1,i=!0):this.pos=c);var d="";if(!i){var m=this.pos,w=this.parseLinkLabel();if(w>2?d=this.subject.slice(m,m+w):s.bracketAfter||(d=this.subject.slice(s.index,a)),w===0&&(this.pos=c),d){d=Bx(d);var T=this.refMap[d];T&&(r=T.destination,n=T.title,i=!0)}}if(i){var M=fn(u?"image":"link");M.destination=r,M.title=n||"",M.sourcepos=[s.startpos,this.sourcepos(this.pos)];for(var N=s.node.next,P=void 0;N;)P=N.next,N.unlink(),M.appendChild(N),N=P;if(e.appendChild(M),this.processEmphasis(s.previousDelimiter),this.removeBracket(),s.node.unlink(),!u)for(s=this.brackets;s!==null;)s.image||(s.active=!1),s=s.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:d}),!0}return this.removeBracket(),this.pos=a,e.appendChild(Mn("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:d}),!0},t.prototype.addBracket=function(e,r,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(r+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:r,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(e){var r,n=this.pos+1;return(r=this.match(b9e))?(e.appendChild(Mn(Nk.decodeHTML(r),this.sourcepos(n,this.pos))),!0):!1},t.prototype.parseString=function(e){var r,n=this.pos+1;if(r=this.match(L9e)){if(this.options.smart){var i=r.replace(x9e,"").replace(T9e,function(s){var u=0,c=0;return s.length%3===0?c=s.length/3:s.length%2===0?u=s.length/2:s.length%3===2?(u=1,c=(s.length-2)/3):(u=2,c=(s.length-4)/3),f0("",c)+f0("",u)});e.appendChild(Mn(i,this.sourcepos(n,this.pos)))}else{var a=Mn(r,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},t.prototype.parseNewline=function(e){this.pos+=1;var r=e.lastChild;if(r&&r.type==="text"&&r.literal[r.literal.length-1]===" "){var n=r.literal[r.literal.length-2]===" ",i=r.literal.length;r.literal=r.literal.replace(O9e,"");var a=i-r.literal.length;r.sourcepos[1][1]-=a,e.appendChild(fn(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(fn("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(A9e),!0},t.prototype.parseReference=function(e,r){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var s=this.subject.substr(0,a);if(this.peek()===y9e)this.pos++;else return this.pos=i,0;this.spnl();var u=this.parseLinkDestination();if(u===null)return this.pos=i,0;var c=this.pos;this.spnl(),this.pos!==c&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=c);var d=!0;if(this.match(Ux)===null&&(n===""?d=!1:(n="",this.pos=c,d=this.match(Ux)!==null)),!d)return this.pos=i,0;var m=Bx(s);if(m==="")return this.pos=i,0;var w=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=w[1][0]+1;var T=fn("refDef",w);return T.title=n,T.dest=u,T.label=m,e.insertBefore(T),r[m]?this.refDefCandidateMap[T.id]=T:r[m]=g0(T),this.pos-i},t.prototype.mergeTextNodes=function(e){for(var r,n=[];r=e.next();){var i=r.entering,a=r.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var s=n[0],u=n[n.length-1];s.sourcepos&&u.sourcepos&&(s.sourcepos[1]=u.sourcepos[1]),s.next=u.next,s.next&&(s.next.prev=s);for(var c=1;c<n.length;c+=1)s.literal+=n[c].literal,n[c].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(e){for(var r=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},s=0;s<r.length;s+=1){var u=r[s];if(h1.test(u))break;if(/\:/.test(u)&&i===0){if(n)break;var c=u.indexOf(":")===u.length-1?s+1:s;a={line:c,ch:r[c].length},n=!0}var d=u.match(/'|"/g);if(d&&(i+=d.length),i===2){a={line:s,ch:u.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},t.prototype.parseInline=function(e){var r,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case p0:n=this.parseNewline(e);break;case qx:n=this.parseBackslash(e);break;case p9e:n=this.parseBackticks(e);break;case c1:case Im:case Pm:case Ou:n=this.handleDelim(i,e);break;case Mu:case Nu:n=!!(!((r=this.options)===null||r===void 0)&&r.smart)&&this.handleDelim(i,e);break;case _x:n=this.parseOpenBracket(e);break;case m9e:n=this.parseBang(e);break;case v9e:n=this.parseCloseBracket(e);break;case Fx:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case g9e:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(Mn(u1(i),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],q6e(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var r=this.options,n=r.extendedAutolinks,i=r.customParser;if(n&&f9e(e.walker(),n),i&&e.firstChild)for(var a,s=e.firstChild.walker();a=s.next();){var u=a.node,c=a.entering;i[u.type]&&i[u.type](u,{entering:c,options:this.options})}},t}(),I9e=/^\[([ \txX])\][ \t]+/;function P9e(t,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var r=e.firstChild,n=r.stringContent.match(I9e);if(n){var i=n[0].length;r.stringContent=r.stringContent.substring(i-1),r.sourcepos[0][1]+=i,r.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var B9e={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableHead"||t==="tableBody"},acceptsLines:!1},_9e={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableRow"},acceptsLines:!1},F9e={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableRow"||t==="tableDelimRow"},acceptsLines:!1},q9e={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableDelimCell"},acceptsLines:!1},z9e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},H9e={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableCell"},acceptsLines:!1},V9e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Ng=4,$O=9,UO=62,$9e=60,jO=32,WO=91,GO=/[^ \t\f\v\r\n]/,U9e=/^(?:`{3,}|~{3,})(?= *$)/;function jx(t){for(var e=t;e;){if(e.lastLineBlank)return!0;var r=e.type;if(!e.lastLineChecked&&(r==="list"||r==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function ba(t,e){return e<t.length?t.charCodeAt(e):-1}function KO(t){return!GO.test(t)}function jf(t){return t===jO||t===$O}var j9e=/^\$\$$/,W9e={continue:function(t,e){var r=t.currentLine,n=r.match(j9e);if(n)return t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2;for(var i=e.offset;i>0&&jf(ba(r,t.offset));)t.advanceOffset(1,!0),i--;return 0},finalize:function(t,e){if(e.stringContent!==null){var r=e.stringContent,n=r.indexOf(`
`),i=r.slice(0,n),a=r.slice(n+1),s=i.match(/^(\s*)(.*)/);e.info=Yh(s[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},JO={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},G9e={continue:function(){return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},K9e={continue:function(){return 0},finalize:function(t,e){for(var r=e.firstChild;r;){if(jx(r)&&r.next){e.listData.tight=!1;break}for(var n=r.firstChild;n;){if(jx(n)&&(r.next||n.next)){e.listData.tight=!1;break}n=n.next}r=r.next}},canContain:function(t){return t==="item"},acceptsLines:!1},J9e={continue:function(t){var e=t.currentLine;if(!t.indented&&ba(e,t.nextNonspace)===UO)t.advanceNextNonspace(),t.advanceOffset(1,!1),jf(ba(e,t.offset))&&t.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},Q9e={continue:function(t,e){if(t.blank){if(e.firstChild===null)return 1;t.advanceNextNonspace()}else if(t.indent>=e.listData.markerOffset+e.listData.padding)t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:P9e,canContain:function(t){return t!=="item"},acceptsLines:!1},X9e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Y9e={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Z9e={continue:function(t,e){var r=t.currentLine,n=t.indent;if(e.isFenced){var i=n<=3&&r.charAt(t.nextNonspace)===e.fenceChar&&r.slice(t.nextNonspace).match(U9e);if(i&&i[0].length>=e.fenceLength)return t.lastLineLength=t.offset+n+i[0].length,t.finalize(e,t.lineNumber),2;for(var a=e.fenceOffset;a>0&&jf(ba(r,t.offset));)t.advanceOffset(1,!0),a--}else if(n>=Ng)t.advanceOffset(Ng,!0);else if(t.blank)t.advanceNextNonspace();else return 1;return 0},finalize:function(t,e){var r;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),s=n.slice(i+1),u=a.match(/^(\s*)(.*)/);e.infoPadding=u[1].length,e.info=Yh(u[2].trim()),e.literal=s}else e.literal=(r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},e7e={continue:function(t,e){return t.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(t,e){var r;e.literal=((r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},t7e={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(e.stringContent!==null){for(var r,n=!1;ba(e.stringContent,0)===WO&&(r=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(r),n=!0;n&&KO(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},r7e=JO,n7e=JO,bf={document:G9e,list:K9e,blockQuote:J9e,item:Q9e,heading:X9e,thematicBreak:Y9e,codeBlock:Z9e,htmlBlock:e7e,paragraph:t7e,table:B9e,tableBody:_9e,tableHead:F9e,tableRow:H9e,tableCell:V9e,tableDelimRow:q9e,tableDelimCell:z9e,refDef:r7e,customBlock:W9e,frontMatter:n7e};function v0(t){for(var e=0,r=0,n=[],i=0;i<t.length;i+=1)if(t[i]==="|"&&t[i-1]!=="\\"){var a=t.substring(e,i);e===0&&Ix(a)?r=i+1:n.push(a),e=i+1}if(e<t.length){var a=t.substring(e,t.length);Ix(a)||n.push(a)}return[r,n]}function m0(t,e,r,n){for(var i=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.match(/^[ \t]+/),d=c?c[0].length:0,m=void 0,w=void 0;if(d===u.length)d=0,m=0,w="";else{var T=u.match(/[ \t]+$/);m=T?T[0].length:0,w=u.slice(d,u.length-m)}var M=n+d,N=fn(t,[[r,n],[r,n+u.length-1]]);N.stringContent=w.replace(/\\\|/g,"|"),N.startIdx=i.length,N.endIdx=i.length,N.lineOffsets=[M-1],N.paddingLeft=d,N.paddingRight=m,i.push(N),n+=u.length+1}return i}function i7e(t){var e=null,r=t.stringContent,n=r[0],i=r[r.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var a7e=function(t,e){var r=e.stringContent;if(e.type==="paragraph"&&!t.indented&&!t.blank){var n=r.length-1,i=r.lastIndexOf(`
`,n-1)+1,a=r.slice(i,n),s=t.currentLine.slice(t.nextNonspace),u=v0(a),c=u[0],d=u[1],m=v0(s),w=m[0],T=m[1],M=/^[ \t]*:?-+:?[ \t]*$/;if(!d.length||!T.length||T.some(function(Ne){return!M.test(Ne)})||T.length===1&&s.indexOf("|")!==0)return 0;var N=e.lineOffsets,P=t.lineNumber-1,R=Mg(N)+1,V=fn("table",[[P,R],[t.lineNumber,t.offset]]);if(V.columns=T.map(function(){return{align:null}}),e.insertAfter(V),N.length===1)e.unlink();else{e.stringContent=r.slice(0,i);var ee=r.lastIndexOf(`
`,i-2)+1,te=i-ee-1;t.lastLineLength=N[N.length-2]+te,t.finalize(e,P-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var ne=fn("tableHead",[[P,R],[t.lineNumber,t.offset]]);V.appendChild(ne);var pe=fn("tableRow",[[P,R],[P,R+a.length-1]]),ue=fn("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);ne.appendChild(pe),ne.appendChild(ue),m0("tableCell",d,P,R+c).forEach(function(Ne){pe.appendChild(Ne)});var be=m0("tableDelimCell",T,t.lineNumber,t.nextNonspace+1+w);return be.forEach(function(Ne){ue.appendChild(Ne)}),V.columns=be.map(i7e),t.tip=V,2}return 0},o7e=function(t,e){if(e.type!=="table"&&e.type!=="tableBody"||!t.blank&&t.currentLine.indexOf("|")===-1)return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var r=e;return e.type==="tableBody"&&(r=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(r,t.lineNumber-1),0}var n=e;e.type==="table"&&(n=t.addChild("tableBody",t.nextNonspace),n.stringContent=null);var i=fn("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);n.appendChild(i);var a=n.parent,s=t.currentLine.slice(t.nextNonspace),u=v0(s),c=u[0],d=u[1];return m0("tableCell",d,t.lineNumber,t.nextNonspace+1+c).forEach(function(m,w){w>=a.columns.length&&(m.ignored=!0),i.appendChild(m)}),2},s7e=/^(\$\$)(\s*[a-zA-Z])+/,l7e=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,u7e=function(t){var e;if(!t.indented&&!l7e.test(t.currentLine)&&(e=t.currentLine.match(s7e))){var r=e[1].length;t.closeUnmatchedBlocks();var n=t.addChild("customBlock",t.nextNonspace);return n.syntaxLength=r,n.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},c7e=/^`{3,}(?!.*`)|^~{3,}/,f7e=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+HO+"|"+VO+")\\s*$","i")],d7e=/^(?:=+|-+)[ \t]*$/,h7e=/^#{1,6}(?:[ \t]+|$)/,p7e=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,QO=/^[*+-]/,XO=/^(\d{1,9})([.)])/;function v7e(t,e){var r=t.currentLine.slice(t.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=r.match(QO))a.type="bullet",a.bulletChar=n[0][0];else if((n=r.match(XO))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=ba(t.currentLine,t.nextNonspace+n[0].length),!(i===-1||i===$O||i===jO)||e.type==="paragraph"&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(GO))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var s=t.column,u=t.offset;do t.advanceOffset(1,!0),i=ba(t.currentLine,t.offset);while(t.column-s<5&&jf(i));var c=ba(t.currentLine,t.offset)===-1,d=t.column-s;return d>=5||d<1||c?(a.padding=n[0].length+1,t.column=s,t.offset=u,jf(ba(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):a.padding=n[0].length+d,a}function m7e(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function YO(t,e){return t.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var g7e=function(t){return!t.indented&&ba(t.currentLine,t.nextNonspace)===UO?(t.advanceNextNonspace(),t.advanceOffset(1,!1),jf(ba(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1):0},y7e=function(t,e){var r;if(!t.indented&&!YO(t,e)&&(r=t.currentLine.slice(t.nextNonspace).match(h7e))){t.advanceNextNonspace(),t.advanceOffset(r[0].length,!1),t.closeUnmatchedBlocks();var n=t.addChild("heading",t.nextNonspace);return n.level=r[0].trim().length,n.headingType="atx",n.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},w7e=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(c7e))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("codeBlock",t.nextNonspace);return n.isFenced=!0,n.fenceLength=r,n.fenceChar=e[0][0],n.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},k7e=function(t,e){if(!t.indented&&ba(t.currentLine,t.nextNonspace)===$9e){var r=t.currentLine.slice(t.nextNonspace),n=t.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=r.match(f7e[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var s=new RegExp("</?(?:"+n.join("|")+")","i");if(s.test(a[0]))return 0}}t.closeUnmatchedBlocks();var u=t.addChild("htmlBlock",t.offset);return u.htmlBlockType=i,2}}}return 0},b7e=function(t,e){var r;if(e.stringContent!==null&&!t.indented&&e.type==="paragraph"&&!YO(t,e.parent)&&(r=t.currentLine.slice(t.nextNonspace).match(d7e))){t.closeUnmatchedBlocks();for(var n=void 0;ba(e.stringContent,0)===WO&&(n=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=fn("heading",e.sourcepos);return i.level=r[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),t.tip=i,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},C7e=function(t){return!t.indented&&p7e.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},S7e=function(t,e){var r,n=e;return(!t.indented||e.type==="list")&&(r=v7e(t,n))?(t.closeUnmatchedBlocks(),(t.tip.type!=="list"||!m7e(n.listData,r))&&(n=t.addChild("list",t.nextNonspace),n.listData=r),n=t.addChild("item",t.nextNonspace),n.listData=r,1):0},x7e=function(t){return t.indented&&t.tip.type!=="paragraph"&&!t.blank?(t.advanceOffset(Ng,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},p1=[g7e,y7e,w7e,k7e,b7e,C7e,S7e,x7e,a7e,o7e,u7e],ZO=/^(-{3}|\+{3}|;{3})$/,T7e=function(t,e){var r=t.currentLine,n=t.lineNumber,i=t.indented;if(n===1&&!i&&e.type==="document"&&ZO.test(r)){t.closeUnmatchedBlocks();var a=t.addChild("frontMatter",t.nextNonspace);return a.stringContent=r,t.advanceNextNonspace(),t.advanceOffset(r.length,!1),2}return 0},E7e={continue:function(t,e){var r=t.currentLine,n=r.match(ZO);return e.type==="frontMatter"&&n?(e.stringContent+=r,t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},M7e=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],N7e=/^[#`~*+_=<>0-9-;$]/,O7e=/\r\n|\n|\r/;function v1(){return fn("document",[[1,1],[0,0]])}var A7e={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},D7e=function(){function t(e){this.options=ei(ei({},A7e),e),this.doc=v1(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(bf.frontMatter=E7e,p1.unshift(T7e)),this.inlineParser=new R9e(this.options)}return t.prototype.advanceOffset=function(e,r){r===void 0&&(r=!1);for(var n=this.currentLine,i,a,s;e>0&&(s=n[this.offset]);)s==="	"?(i=4-this.column%4,r?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){for(var e=this.currentLine,r=this.offset,n=this.column,i;(i=e.charAt(r))!=="";)if(i===" ")r++,n++;else if(i==="	")r++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=Ng},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=f0(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},t.prototype.addChild=function(e,r){for(;!bf[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=r+1,i=fn(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},t.prototype.finalize=function(e,r){var n=e.parent;e.open=!1,e.sourcepos[1]=[r,this.lastLineLength],bf[e.type].finalize(this,e),this.tip=n},t.prototype.processInlines=function(e){var r,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;r=i.next();){var a=r.node,s=r.entering,u=a.type;n&&n[u]&&n[u](a,{entering:s,options:this.options}),!s&&(u==="paragraph"||u==="heading"||u==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},t.prototype.incorporateLine=function(e){var r=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n=!0,i;(i=r.lastChild)&&i.open;){switch(r=i,this.findNextNonspace(),bf[r.type].continue(this,r)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){r=r.parent;break}}this.allClosed=r===this.oldtip,this.lastMatchedContainer=r;for(var a=r.type!=="paragraph"&&bf[r.type].acceptsLines,s=p1.length;!a;){if(this.findNextNonspace(),r.type!=="table"&&r.type!=="tableBody"&&r.type!=="paragraph"&&!this.indented&&!N7e.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var u=0;u<s;){var c=p1[u](this,r);if(c===1){r=this.tip;break}else if(c===2){r=this.tip,a=!0;break}else u++}if(u===s){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&r.lastChild&&(r.lastChild.lastLineBlank=!0);for(var d=r.type,m=this.blank&&!(d==="blockQuote"||FO(r)&&r.isFenced||d==="item"&&!r.firstChild&&r.sourcepos[0][0]===this.lineNumber),w=r;w;)w.lastLineBlank=m,w=w.parent;bf[d].acceptsLines?(this.addLine(),F6e(r)&&r.htmlBlockType>=1&&r.htmlBlockType<=5&&M7e[r.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(r,this.lineNumber))):this.offset<e.length&&!this.blank&&(r=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},t.prototype.parse=function(e,r){this.doc=v1(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(O7e),i=n.length;this.lines=r||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===p0&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(e,r){this.doc=v1(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=r.length,i=0;i<n;i++)this.incorporateLine(r[i]);return this.doc},t.prototype.partialParseExtends=function(e){for(var r=0;r<e.length;r++)this.incorporateLine(e[r])},t.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(e,r,n){this.refMap=e,this.refLinkCandidateMap=r,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){h9e(e)})},t}();function Wx(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function L7e(t,e){var r=t[0],n=t[1];return Wx(n,e)===1?1:Wx(r,e)===-1?-1:0}function R7e(t,e){if(!(t.parent!==e.parent||t===e)){for(var r=t.next;r&&r!==e;){for(var n=r.next,i=0,a=["parent","prev","next"];i<a.length;i++){var s=a[i];r[s]&&(d0(r[s].id),r[s]=null)}r=n}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function I7e(t){for(var e=[],r=t.firstChild;r;)e.push(r),r=r.next;return e}function Gx(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r];t.insertBefore(i)}}function P7e(t,e){for(var r=e.length-1;r>=0;r-=1)t.prependChild(e[r])}function B7e(t,e){if(!(!t||!t.parent||e===0)){var r=t.parent.walker();r.resumeAt(t,!0);for(var n;n=r.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function eA(t,e){var r=t[0],n=t[1];return n[0]<e?1:r[0]>e?-1:0}function Bm(t,e){for(var r=t.firstChild;r;){var n=eA(r.sourcepos,e);if(n===0)return r;if(n===-1)return r.prev||r;r=r.next}return t.lastChild}function _7e(t){for(;t.lastChild;)t=t.lastChild;return t}function F7e(t){for(;t.parent&&t.parent.type!=="document"&&t.parent.sourcepos[0][0]===t.sourcepos[0][0];)t=t.parent;return t}function q7e(t,e){for(var r=t.firstChild,n=null;r;){var i=eA(r.sourcepos,e);if(i===0){if(r.sourcepos[0][0]===e||!r.firstChild)return r;n=r,r=r.firstChild}else{if(i===-1)break;n=r,r=r.next}}return n?F7e(_7e(n)):null}function z7e(t,e){for(var r=t,n=null;r;){var i=L7e(r.sourcepos,e);if(i===0)if(r.firstChild)n=r,r=r.firstChild;else return r;else{if(i===-1)return n;if(r.next)r=r.next;else return n}}return r}function tA(t){return T6e(t)||null}function m1(t,e,r){if(r===void 0&&(r=null),e)for(var n=e.walker();e&&e!==r;){t(e);var i=n.next();if(i)e=i.node;else break}}function H7e(t){var e=tA(t);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var Kx=/\r\n|\n|\r/;function V7e(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var r=e?t.slice(e.length):t;return QO.test(r)||XO.test(r)}function $7e(t){return!KO(t)&&t.indexOf("|")!==-1}function g0(t){var e=t.id,r=t.title,n=t.sourcepos,i=t.dest;return{id:e,title:r,sourcepos:n,unlinked:!1,destination:i}}var rA=function(){function t(e,r){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(r!=null&&r.referenceDefinition),this.parser=new D7e(r),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(Kx),this.root=this.parser.parse(e,this.lineTexts)}return t.prototype.updateLineTexts=function(e,r,n){var i,a=e[0],s=e[1],u=r[0],c=r[1],d=n.split(Kx),m=d.length,w=this.lineTexts[a-1],T=this.lineTexts[u-1];d[0]=w.slice(0,s-1)+d[0],d[m-1]=d[m-1]+T.slice(c-1);var M=u-a+1;return(i=this.lineTexts).splice.apply(i,u0([a-1,M],d)),m-M},t.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,r=e.length-1;e[r]==="";)r-=1;e.length-2>r&&(r+=1),this.root.sourcepos[1]=[r+1,e[r].length]},t.prototype.replaceRangeNodes=function(e,r,n){e?(Gx(e,n),R7e(e,r),[e.id,r.id].forEach(function(i){return d0(i)}),e.unlink()):r?(Gx(r,n),d0(r.id),r.unlink()):P7e(this.root,n)},t.prototype.getNodeRange=function(e,r){var n=Bm(this.root,e[0]),i=Bm(this.root,r[0]);return i&&i.next&&r[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},t.prototype.trigger=function(e,r){this.eventHandlerMap[e].forEach(function(n){n(r)})},t.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},t.prototype.parseRange=function(e,r,n,i){e&&e.prev&&(Px(e.prev)&&V7e(this.lineTexts[n-1])||z6e(e.prev)&&$7e(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),s=this.parser.partialParseStart(n,a),u=r?r.next:this.root.firstChild,c=s.lastChild,d=c&&FO(c)&&c.open,m=c&&qO(c)&&c.open,w=c&&Px(c);(d||m)&&u||w&&u&&(u.type==="list"||u.sourcepos[0][1]>=2);){var T=this.extendEndLine(u.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,T)),e||(e=r),r=u,i=T,u=u.next}this.parser.partialParseFinish();var M=I7e(s);return{newNodes:M,extStartNode:e,extEndNode:r}},t.prototype.getRemovedNodeRange=function(e,r){return!e||e&&wf(e)||r&&wf(r)?null:{id:[e.id,r.id],line:[e.sourcepos[0][0]-1,r.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(e,r){var n=this;if(!kf(this.refMap)){var i=function(a){if(wf(a)){var s=n.refMap[a.label];s&&a.id===s.id&&(s.unlinked=!0)}};e&&m1(i,e.parent,r),r&&m1(i,r)}},t.prototype.replaceWithNewRefDefState=function(e){var r=this;if(!kf(this.refMap)){var n=function(i){if(wf(i)){var a=i.label,s=r.refMap[a];(!s||s.unlinked)&&(r.refMap[a]=g0(i))}};e.forEach(function(i){m1(n,i)})}},t.prototype.replaceWithRefDefCandidate=function(){var e=this;kf(this.refDefCandidateMap)||Rm(this.refDefCandidateMap,function(r,n){var i=n.label,a=n.sourcepos,s=e.refMap[i];(!s||s.unlinked||s.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=g0(n))})},t.prototype.getRangeWithRefDef=function(e,r,n,i,a){if(this.referenceDefinition&&!kf(this.refMap)){var s=Bm(this.root,e-1),u=Bm(this.root,r+1);s&&wf(s)&&s!==n&&s!==i&&(n=s,e=n.sourcepos[0][0]),u&&wf(u)&&u!==n&&u!==i&&(i=u,r=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,r]},t.prototype.parse=function(e,r,n){n===void 0&&(n=0);var i=this.getNodeRange(e,r),a=i[0],s=i[1],u=a?Math.min(a.sourcepos[0][0],e[0]):e[0],c=this.extendEndLine((s?Math.max(s.sourcepos[1][0],r[0]):r[0])+n),d=this.parseRange.apply(this,this.getRangeWithRefDef(u,c,a,s,n)),m=d.newNodes,w=d.extStartNode,T=d.extEndNode,M=this.getRemovedNodeRange(w,T),N=T?T.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(w,T),this.replaceRangeNodes(w,T,m),this.replaceWithNewRefDefState(m)):this.replaceRangeNodes(w,T,m),{nodes:m,removedNodeRange:M,nextNode:N}},t.prototype.parseRefLink=function(){var e=this,r=[];return kf(this.refMap)||Rm(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],Rm(e.refLinkCandidateMap,function(a,s){var u=s.node,c=s.refLabel;c===n&&r.push(e.parse(u.sourcepos[0],u.sourcepos[1]))})}),r},t.prototype.removeUnlinkedCandidate=function(){kf(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Rm(e,function(r){H7e(r)&&delete e[r]})})},t.prototype.editMarkdown=function(e,r,n){var i=this.updateLineTexts(e,r,n),a=this.parse(e,r,i),s=d9e(a,"nextNode");B7e(a.nextNode,i),this.updateRootNodeState();var u=[s];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),u=u.concat(this.parseRefLink())),this.trigger("change",u),u},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(e){var r=z7e(this.root,e);return!r||r===this.root?null:r},t.prototype.findFirstNodeAtLine=function(e){return q7e(this.root,e)},t.prototype.on=function(e,r){this.eventHandlerMap[e].push(r)},t.prototype.off=function(e,r){var n=this.eventHandlerMap[e],i=n.indexOf(r);n.splice(i,1)},t.prototype.findNodeById=function(e){return tA(e)},t.prototype.removeAllNode=function(){E6e()},t}(),U7e=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],Jx=new RegExp("<(/?(?:"+U7e.join("|")+")[^>]*>)","ig");function Qx(t){return Jx.test(t)?t.replace(Jx,function(e,r){return"&lt;"+r}):t}var Xx={heading:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var r=e.options;return{type:"html",content:r.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var r,n=e.entering,i=(r=t.parent)===null||r===void 0?void 0:r.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var r=e.entering,n=t.listData,i=n.type,a=n.start,s=i==="bullet"?"ul":"ol",u={};return s==="ol"&&a!==null&&a!==1&&(u.start=a.toString()),{type:r?"openTag":"closeTag",tagName:s,attributes:u,outerNewLine:!0}},item:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var r=e.options,n=r.tagFilter?Qx(t.literal):t.literal;return{type:"html",content:n}},htmlBlock:function(t,e){var r=e.options,n=r.tagFilter?Qx(t.literal):t.literal;return r.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,r=e?e.split(/\s+/):[],n=[];return r.length>0&&r[0].length>0&&n.push("language-"+Tf(r[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var r=e.entering;if(r){var n=t,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:ei({href:Tf(a)},i&&{title:Tf(i)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var r=e.getChildrenText,n=e.skipChildren,i=t,a=i.title,s=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:ei({src:Tf(s),alt:r(t)},a&&{title:Tf(a)})}},customBlock:function(t,e,r){var n=t.info.trim().toLowerCase(),i=r[n];if(i)try{return i(t,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,r){var n=t,i=n.info,a=n.firstChild,s=i.trim().toLowerCase(),u=r[s],c=e.entering;if(u)try{return u(t,e)}catch(d){console.warn("[@toast-ui/editor] - The error occurred when "+s+" inline node was parsed in markdown renderer: "+d)}return c?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Yx={strike:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var r=e.entering,n=t.listData,i=n.checked,a=n.task;if(r){var s={type:"openTag",tagName:"li",outerNewLine:!0};return a?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:ei(ei({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var r=e.entering;if(r)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(t.lastChild)for(var i=t.parent.parent.columns.length,a=t.lastChild.endIdx,s=a+1;s<i;s+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(t,e){var r=e.entering;if(t.ignored)return{type:"text",content:""};var n=t.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,s=a.columns[t.startIdx],u=s!=null&&s.align?{align:s.align}:null;return r?ei({type:"openTag",tagName:i,outerNewLine:!0},u&&{attributes:u}):{type:"closeTag",tagName:i,outerNewLine:!0}}},j7e={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function W7e(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Rk=function(){function t(e){this.buffer=[],this.options=ei(ei({},j7e),e),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var e=ei({},Xx);if(this.options.gfm&&(e=ei(ei({},e),Yx)),this.options.convertors){var r=this.options.convertors,n=Object.keys(r),i=ei(ei({},Xx),Yx);n.forEach(function(a){var s=e[a],u=r[a],c=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;s?e[c]=function(d,m,w){return m.origin=function(){return s(d,m,w)},u(d,m)}:e[c]=u})}return e},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(e){var r=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var u=i.node,c=i.entering,d=s.convertors[u.type];if(!d)return"continue";var m=!1,w={entering:c,leaf:!Lk(u),options:s.options,getChildrenText:W7e,skipChildren:function(){m=!0}},T=qO(u)||H6e(u)?d(u,w,s.convertors):d(u,w);if(T){var M=Array.isArray(T)?T:[T];M.forEach(function(N,P){N.type==="openTag"&&r.options.nodeId&&P===0&&(N.attributes||(N.attributes={}),N.attributes["data-nodeid"]=String(u.id)),r.renderHTMLNode(N)}),m&&(n.resumeAt(u,!1),n.next())}},s=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},t.prototype.generateOpenTagString=function(e){var r=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(s){var u=a[s];r.buffer.push(" "+s+'="'+u+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(e){var r=e.tagName;this.buffer.push("</"+r+">")},t.prototype.addNewLine=function(){this.buffer.length&&Mg(Mg(this.buffer))!==`
`&&this.buffer.push(`
`)},t.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(e){this.buffer.push(Tf(e.content))},t.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},t.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},t}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function G7e(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var K7e=Object.hasOwnProperty,Zx=Object.setPrototypeOf,J7e=Object.isFrozen,Q7e=Object.getPrototypeOf,X7e=Object.getOwnPropertyDescriptor,qi=Object.freeze,Gs=Object.seal,Y7e=Object.create,nA=typeof Reflect<"u"&&Reflect,Og=nA.apply,y0=nA.construct;Og||(Og=function(e,r,n){return e.apply(r,n)});qi||(qi=function(e){return e});Gs||(Gs=function(e){return e});y0||(y0=function(e,r){return new(Function.prototype.bind.apply(e,[null].concat(G7e(r))))});var Z7e=po(Array.prototype.forEach),eT=po(Array.prototype.pop),Ah=po(Array.prototype.push),Km=po(String.prototype.toLowerCase),tT=po(String.prototype.match),kl=po(String.prototype.replace),eGe=po(String.prototype.indexOf),tGe=po(String.prototype.trim),_s=po(RegExp.prototype.test),rT=rGe(TypeError);function po(t){return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Og(t,e,n)}}function rGe(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return y0(t,r)}}function or(t,e){Zx&&Zx(t,null);for(var r=e.length;r--;){var n=e[r];if(typeof n=="string"){var i=Km(n);i!==n&&(J7e(e)||(e[r]=i),n=i)}t[n]=!0}return t}function Au(t){var e=Y7e(null),r=void 0;for(r in t)Og(K7e,t,[r])&&(e[r]=t[r]);return e}function _m(t,e){for(;t!==null;){var r=X7e(t,e);if(r){if(r.get)return po(r.get);if(typeof r.value=="function")return po(r.value)}t=Q7e(t)}function n(i){return console.warn("fallback value for",i),null}return n}var nT=qi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),g1=qi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),y1=qi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nGe=qi(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),w1=qi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),iGe=qi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),iT=qi(["#text"]),aT=qi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),k1=qi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),oT=qi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fm=qi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),aGe=Gs(/\{\{[\s\S]*|[\s\S]*\}\}/gm),oGe=Gs(/<%[\s\S]*|[\s\S]*%>/gm),sGe=Gs(/^data-[\-\w.\u00B7-\uFFFF]/),lGe=Gs(/^aria-[\-\w]+$/),uGe=Gs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cGe=Gs(/^(?:\w+script|data):/i),fGe=Gs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function $o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var dGe=function(){return typeof window>"u"?null:window},hGe=function(e,r){if((typeof e>"u"?"undefined":$h(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function iA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dGe(),e=function(ae){return iA(ae)};if(e.version="2.3.3",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,u=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,m=d===void 0?t.NamedNodeMap||t.MozNamedAttrMap:d,w=t.Text,T=t.Comment,M=t.DOMParser,N=t.trustedTypes,P=u.prototype,R=_m(P,"cloneNode"),V=_m(P,"nextSibling"),ee=_m(P,"childNodes"),te=_m(P,"parentNode");if(typeof a=="function"){var ne=n.createElement("template");ne.content&&ne.content.ownerDocument&&(n=ne.content.ownerDocument)}var pe=hGe(N,r),ue=pe&&Yt?pe.createHTML(""):"",be=n,Ne=be.implementation,Ee=be.createNodeIterator,je=be.createDocumentFragment,ct=be.getElementsByTagName,Ge=r.importNode,Ct={};try{Ct=Au(n).documentMode?n.documentMode:{}}catch{}var Mt={};e.isSupported=typeof te=="function"&&Ne&&typeof Ne.createHTMLDocument<"u"&&Ct!==9;var Pt=aGe,Nt=oGe,It=sGe,Ke=lGe,vt=cGe,He=fGe,ve=uGe,Le=null,dt=or({},[].concat($o(nT),$o(g1),$o(y1),$o(w1),$o(iT))),mt=null,_t=or({},[].concat($o(aT),$o(k1),$o(oT),$o(Fm))),xe=null,Ce=null,se=!0,fe=!0,ce=!1,_e=!1,Ve=!1,at=!1,Ut=!1,Kt=!1,jt=!1,Er=!0,Yt=!1,zr=!0,Sr=!0,Or=!1,sr={},Gr=null,xi=or({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),$n=null,Hr=or({},["audio","video","img","source","image","track"]),ht=null,pt=or({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zt="http://www.w3.org/1998/Math/MathML",Wt="http://www.w3.org/2000/svg",rr="http://www.w3.org/1999/xhtml",nn=rr,wr=!1,Mr=void 0,Dn=["application/xhtml+xml","text/html"],Un="text/html",Ir=void 0,hn=null,ai=n.createElement("form"),jn=function(ae){hn&&hn===ae||((!ae||(typeof ae>"u"?"undefined":$h(ae))!=="object")&&(ae={}),ae=Au(ae),Le="ALLOWED_TAGS"in ae?or({},ae.ALLOWED_TAGS):dt,mt="ALLOWED_ATTR"in ae?or({},ae.ALLOWED_ATTR):_t,ht="ADD_URI_SAFE_ATTR"in ae?or(Au(pt),ae.ADD_URI_SAFE_ATTR):pt,$n="ADD_DATA_URI_TAGS"in ae?or(Au(Hr),ae.ADD_DATA_URI_TAGS):Hr,Gr="FORBID_CONTENTS"in ae?or({},ae.FORBID_CONTENTS):xi,xe="FORBID_TAGS"in ae?or({},ae.FORBID_TAGS):{},Ce="FORBID_ATTR"in ae?or({},ae.FORBID_ATTR):{},sr="USE_PROFILES"in ae?ae.USE_PROFILES:!1,se=ae.ALLOW_ARIA_ATTR!==!1,fe=ae.ALLOW_DATA_ATTR!==!1,ce=ae.ALLOW_UNKNOWN_PROTOCOLS||!1,_e=ae.SAFE_FOR_TEMPLATES||!1,Ve=ae.WHOLE_DOCUMENT||!1,Kt=ae.RETURN_DOM||!1,jt=ae.RETURN_DOM_FRAGMENT||!1,Er=ae.RETURN_DOM_IMPORT!==!1,Yt=ae.RETURN_TRUSTED_TYPE||!1,Ut=ae.FORCE_BODY||!1,zr=ae.SANITIZE_DOM!==!1,Sr=ae.KEEP_CONTENT!==!1,Or=ae.IN_PLACE||!1,ve=ae.ALLOWED_URI_REGEXP||ve,nn=ae.NAMESPACE||rr,Mr=Dn.indexOf(ae.PARSER_MEDIA_TYPE)===-1?Mr=Un:Mr=ae.PARSER_MEDIA_TYPE,Ir=Mr==="application/xhtml+xml"?function(Re){return Re}:Km,_e&&(fe=!1),jt&&(Kt=!0),sr&&(Le=or({},[].concat($o(iT))),mt=[],sr.html===!0&&(or(Le,nT),or(mt,aT)),sr.svg===!0&&(or(Le,g1),or(mt,k1),or(mt,Fm)),sr.svgFilters===!0&&(or(Le,y1),or(mt,k1),or(mt,Fm)),sr.mathMl===!0&&(or(Le,w1),or(mt,oT),or(mt,Fm))),ae.ADD_TAGS&&(Le===dt&&(Le=Au(Le)),or(Le,ae.ADD_TAGS)),ae.ADD_ATTR&&(mt===_t&&(mt=Au(mt)),or(mt,ae.ADD_ATTR)),ae.ADD_URI_SAFE_ATTR&&or(ht,ae.ADD_URI_SAFE_ATTR),ae.FORBID_CONTENTS&&(Gr===xi&&(Gr=Au(Gr)),or(Gr,ae.FORBID_CONTENTS)),Sr&&(Le["#text"]=!0),Ve&&or(Le,["html","head","body"]),Le.table&&(or(Le,["tbody"]),delete xe.tbody),qi&&qi(ae),hn=ae)},an=or({},["mi","mo","mn","ms","mtext"]),Zr=or({},["foreignobject","desc","title","annotation-xml"]),Cn=or({},g1);or(Cn,y1),or(Cn,nGe);var Vr=or({},w1);or(Vr,iGe);var Wn=function(ae){var Re=te(ae);(!Re||!Re.tagName)&&(Re={namespaceURI:rr,tagName:"template"});var Fe=Km(ae.tagName),ot=Km(Re.tagName);if(ae.namespaceURI===Wt)return Re.namespaceURI===rr?Fe==="svg":Re.namespaceURI===zt?Fe==="svg"&&(ot==="annotation-xml"||an[ot]):!!Cn[Fe];if(ae.namespaceURI===zt)return Re.namespaceURI===rr?Fe==="math":Re.namespaceURI===Wt?Fe==="math"&&Zr[ot]:!!Vr[Fe];if(ae.namespaceURI===rr){if(Re.namespaceURI===Wt&&!Zr[ot]||Re.namespaceURI===zt&&!an[ot])return!1;var Rt=or({},["title","style","font","a","script"]);return!Vr[Fe]&&(Rt[Fe]||!Cn[Fe])}return!1},kr=function(ae){Ah(e.removed,{element:ae});try{ae.parentNode.removeChild(ae)}catch{try{ae.outerHTML=ue}catch{ae.remove()}}},Kr=function(ae,Re){try{Ah(e.removed,{attribute:Re.getAttributeNode(ae),from:Re})}catch{Ah(e.removed,{attribute:null,from:Re})}if(Re.removeAttribute(ae),ae==="is"&&!mt[ae])if(Kt||jt)try{kr(Re)}catch{}else try{Re.setAttribute(ae,"")}catch{}},X=function(ae){var Re=void 0,Fe=void 0;if(Ut)ae="<remove></remove>"+ae;else{var ot=tT(ae,/^[\r\n\t ]+/);Fe=ot&&ot[0]}Mr==="application/xhtml+xml"&&(ae='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ae+"</body></html>");var Rt=pe?pe.createHTML(ae):ae;if(nn===rr)try{Re=new M().parseFromString(Rt,Mr)}catch{}if(!Re||!Re.documentElement){Re=Ne.createDocument(nn,"template",null);try{Re.documentElement.innerHTML=wr?"":Rt}catch{}}var $=Re.body||Re.documentElement;return ae&&Fe&&$.insertBefore(n.createTextNode(Fe),$.childNodes[0]||null),nn===rr?ct.call(Re,Ve?"html":"body")[0]:Ve?Re.documentElement:$},Z=function(ae){return Ee.call(ae.ownerDocument||ae,ae,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},H=function(ae){return ae instanceof w||ae instanceof T?!1:typeof ae.nodeName!="string"||typeof ae.textContent!="string"||typeof ae.removeChild!="function"||!(ae.attributes instanceof m)||typeof ae.removeAttribute!="function"||typeof ae.setAttribute!="function"||typeof ae.namespaceURI!="string"||typeof ae.insertBefore!="function"},q=function(ae){return(typeof s>"u"?"undefined":$h(s))==="object"?ae instanceof s:ae&&(typeof ae>"u"?"undefined":$h(ae))==="object"&&typeof ae.nodeType=="number"&&typeof ae.nodeName=="string"},U=function(ae,Re,Fe){Mt[ae]&&Z7e(Mt[ae],function(ot){ot.call(e,Re,Fe,hn)})},G=function(ae){var Re=void 0;if(U("beforeSanitizeElements",ae,null),H(ae)||tT(ae.nodeName,/[\u0080-\uFFFF]/))return kr(ae),!0;var Fe=Ir(ae.nodeName);if(U("uponSanitizeElement",ae,{tagName:Fe,allowedTags:Le}),!q(ae.firstElementChild)&&(!q(ae.content)||!q(ae.content.firstElementChild))&&_s(/<[/\w]/g,ae.innerHTML)&&_s(/<[/\w]/g,ae.textContent)||Fe==="select"&&_s(/<template/i,ae.innerHTML))return kr(ae),!0;if(!Le[Fe]||xe[Fe]){if(Sr&&!Gr[Fe]){var ot=te(ae)||ae.parentNode,Rt=ee(ae)||ae.childNodes;if(Rt&&ot)for(var $=Rt.length,I=$-1;I>=0;--I)ot.insertBefore(R(Rt[I],!0),V(ae))}return kr(ae),!0}return ae instanceof u&&!Wn(ae)||(Fe==="noscript"||Fe==="noembed")&&_s(/<\/no(script|embed)/i,ae.innerHTML)?(kr(ae),!0):(_e&&ae.nodeType===3&&(Re=ae.textContent,Re=kl(Re,Pt," "),Re=kl(Re,Nt," "),ae.textContent!==Re&&(Ah(e.removed,{element:ae.cloneNode()}),ae.textContent=Re)),U("afterSanitizeElements",ae,null),!1)},ie=function(ae,Re,Fe){if(zr&&(Re==="id"||Re==="name")&&(Fe in n||Fe in ai))return!1;if(!(fe&&!Ce[Re]&&_s(It,Re))){if(!(se&&_s(Ke,Re))){if(!mt[Re]||Ce[Re])return!1;if(!ht[Re]){if(!_s(ve,kl(Fe,He,""))){if(!((Re==="src"||Re==="xlink:href"||Re==="href")&&ae!=="script"&&eGe(Fe,"data:")===0&&$n[ae])){if(!(ce&&!_s(vt,kl(Fe,He,"")))){if(Fe)return!1}}}}}}return!0},Oe=function(ae){var Re=void 0,Fe=void 0,ot=void 0,Rt=void 0;U("beforeSanitizeAttributes",ae,null);var $=ae.attributes;if($){var I={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:mt};for(Rt=$.length;Rt--;){Re=$[Rt];var C=Re,O=C.name,_=C.namespaceURI;if(Fe=tGe(Re.value),ot=Ir(O),I.attrName=ot,I.attrValue=Fe,I.keepAttr=!0,I.forceKeepAttr=void 0,U("uponSanitizeAttribute",ae,I),Fe=I.attrValue,!I.forceKeepAttr&&(Kr(O,ae),!!I.keepAttr)){if(_s(/\/>/i,Fe)){Kr(O,ae);continue}_e&&(Fe=kl(Fe,Pt," "),Fe=kl(Fe,Nt," "));var K=Ir(ae.nodeName);if(ie(K,ot,Fe))try{_?ae.setAttributeNS(_,O,Fe):ae.setAttribute(O,Fe),eT(e.removed)}catch{}}}U("afterSanitizeAttributes",ae,null)}},$e=function ge(ae){var Re=void 0,Fe=Z(ae);for(U("beforeSanitizeShadowDOM",ae,null);Re=Fe.nextNode();)U("uponSanitizeShadowNode",Re,null),!G(Re)&&(Re.content instanceof i&&ge(Re.content),Oe(Re));U("afterSanitizeShadowDOM",ae,null)};return e.sanitize=function(ge,ae){var Re=void 0,Fe=void 0,ot=void 0,Rt=void 0,$=void 0;if(wr=!ge,wr&&(ge="<!-->"),typeof ge!="string"&&!q(ge)){if(typeof ge.toString!="function")throw rT("toString is not a function");if(ge=ge.toString(),typeof ge!="string")throw rT("dirty is not a string, aborting")}if(!e.isSupported){if($h(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ge=="string")return t.toStaticHTML(ge);if(q(ge))return t.toStaticHTML(ge.outerHTML)}return ge}if(at||jn(ae),e.removed=[],typeof ge=="string"&&(Or=!1),!Or)if(ge instanceof s)Re=X("<!---->"),Fe=Re.ownerDocument.importNode(ge,!0),Fe.nodeType===1&&Fe.nodeName==="BODY"||Fe.nodeName==="HTML"?Re=Fe:Re.appendChild(Fe);else{if(!Kt&&!_e&&!Ve&&ge.indexOf("<")===-1)return pe&&Yt?pe.createHTML(ge):ge;if(Re=X(ge),!Re)return Kt?null:ue}Re&&Ut&&kr(Re.firstChild);for(var I=Z(Or?ge:Re);ot=I.nextNode();)ot.nodeType===3&&ot===Rt||G(ot)||(ot.content instanceof i&&$e(ot.content),Oe(ot),Rt=ot);if(Rt=null,Or)return ge;if(Kt){if(jt)for($=je.call(Re.ownerDocument);Re.firstChild;)$.appendChild(Re.firstChild);else $=Re;return Er&&($=Ge.call(r,$,!0)),$}var C=Ve?Re.outerHTML:Re.innerHTML;return _e&&(C=kl(C,Pt," "),C=kl(C,Nt," ")),pe&&Yt?pe.createHTML(C):C},e.setConfig=function(ge){jn(ge),at=!0},e.clearConfig=function(){hn=null,at=!1},e.isValidAttribute=function(ge,ae,Re){hn||jn({});var Fe=Ir(ge),ot=Ir(ae);return ie(Fe,ot,Re)},e.addHook=function(ge,ae){typeof ae=="function"&&(Mt[ge]=Mt[ge]||[],Ah(Mt[ge],ae))},e.removeHook=function(ge){Mt[ge]&&eT(Mt[ge])},e.removeHooks=function(ge){Mt[ge]&&(Mt[ge]=[])},e.removeAllHooks=function(){Mt={}},e}var pGe=iA(),vGe=["iframe","embed"],aA=[];function oA(t){ii(vGe,t)&&aA.push(t.toLowerCase())}function tc(t,e){return pGe.sanitize(t,qe({ADD_TAGS:aA,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function sA(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function w0(t){t=t.match(Vf)[0];var e=t.match(new RegExp(rO,"g"));return e?e.reduce(function(r,n){var i=n.trim().split("="),a=i[0],s=i.slice(1);return s.length&&(r[a]=s.join("=").replace(/'|"/g,"").trim()),r},{}):{}}function k0(t){return es(t.attributes).reduce(function(e,r){return e[r.nodeName]=r.nodeValue,e},{})}function sT(t,e,r,n){var i=n.getToDOMNode(e)(t),a=r(i.outerHTML),s=document.createElement("div");s.innerHTML=a,i=s.firstChild;var u=k0(i);return{dom:i,htmlAttrs:u}}var mGe={htmlBlock:function(t,e,r){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:k0(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=sT(n,t,e,r),a=i.dom,s=i.htmlAttrs;return s.class=s.class?s.class+" html-block":"html-block",ra([t,s],es(a.childNodes))}}},htmlInline:function(t,e,r){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:k0(n)}}}],toDOM:function(n){var i=sT(n,t,e,r).htmlAttrs;return[t,i,0]}}}};function gGe(t,e,r){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){t[i]&&Object.keys(t[i]).forEach(function(a){var s=i==="htmlBlock"?"nodes":"marks";oA(a),n[s][a]=mGe[i](a,e,r)})}),n}var yGe=/^\s*<\s*\//,wGe={paragraph:function(t,e){var r=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:r?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(t){var e=t.prev&&t.prev.type==="htmlInline",r=e&&/<br ?\/?>/.test(t.prev.literal),n=r?`
`:`<br>
`;return{type:"html",content:n}},item:function(t,e){var r=e.entering;if(r){var n={},i=[];return t.listData.task&&(n["data-task"]="",i.push("task-list-item"),t.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,r=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],s={};if(r>3&&(s["data-backticks"]=r),i.length>0&&i[0].length>0){var u=i[0];a.push("lang-"+u),s["data-language"]=u}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:s},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var r=e.origin,n=e.entering,i=e.skipChildren,a=t.info;if(a.indexOf("widget")!==-1&&n){i();var s=YN(t),u=XN(a,s).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:u},{type:"closeTag",tagName:"span"}]}return r()}};function Ik(t,e){var r=qe({},wGe);return t&&(r.link=function(n,i){var a=i.entering,s=i.origin,u=s();return a&&(u.attributes=qe(qe({},u.attributes),t)),u}),e&&Object.keys(e).forEach(function(n){var i=r[n],a=e[n];i&&Ba(a)?r[n]=function(s,u){var c=qe({},u);return c.origin=function(){return i(s,u)},a(s,c)}:ii(["htmlBlock","htmlInline"],n)&&!Ba(a)?r[n]=function(s,u){var c=s.literal.match(Vf);if(c){var d=c[0],m=c[1],w=c[3],T=(m||w).toLowerCase(),M=a[T],N=sA(s,T);if(M){var P=qe({},s);return P.attrs=w0(d),P.childrenHTML=N,P.type=T,u.entering=!yGe.test(s.literal),M(P,u)}}return u.origin()}:r[n]=a}),r}var kGe=["list","item","blockQuote"],bGe=["UL","OL","BLOCKQUOTE"];function CGe(t,e){var r,n=t.child(e);return!n.childCount||n.childCount===1&&!(!((r=n.firstChild.text)===null||r===void 0)&&r.trim())}function lT(t,e,r){var n=Np(e)-1,i=ty(e)-1,a=r[n].getBoundingClientRect(),s=r[i].offsetTop-r[n].offsetTop+r[i].clientHeight;return{height:s<=0?r[n].clientHeight:s+SGe(t,r,Math.min(i+1,t.childCount-1)),rect:a}}function SGe(t,e,r){for(var n=t.childCount-1,i=0;r<=n&&CGe(t,r);)i+=e[r].clientHeight,r+=1;return i}function xGe(t,e){for(;!t.getAttribute("data-nodeid")&&t.parentElement!==e;)t=t.parentElement;return t}function Ag(t,e){for(var r=0;t&&t!==e&&(ii(bGe,t.tagName)||(r+=t.offsetTop),t.offsetParent!==e.offsetParent);)t=t.parentElement;return r}function TGe(t,e){for(var r=e,n=null;r;){var i=r.firstElementChild;if(!i)break;var a=lA(i,t,Ag(r,e));n=r,r=a}var s=r||n;return s===e?null:s}function lA(t,e,r){return t&&e>r+t.offsetTop?lA(t.nextElementSibling,e,r)||t:null}function EGe(t,e,r,n){var i=Math.min((t-e)/r,1);return i*n}function b1(t,e){for(var r=t.querySelector('[data-nodeid="'+e.id+'"]');!r||pce(e);)e=e.parent,r=t.querySelector('[data-nodeid="'+e.id+'"]');return MGe({mdNode:e,el:r})}function MGe(t){for(var e=t.mdNode,r=t.el;(ii(kGe,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,r=r.firstElementChild;return{mdNode:e,el:r}}var lo={};function NGe(t,e){lo[t]=lo[t]||{},lo[t].height=e}function OGe(t,e){lo[t]=lo[t]||{},lo[t].offsetTop=e}function AGe(t){return lo[t]&&lo[t].height}function DGe(t){return lo[t]&&lo[t].offsetTop}function b0(t){t&&(delete lo[Number(t.getAttribute("data-nodeid"))],es(t.children).forEach(function(e){b0(e)}))}function LGe(t,e,r){var n=AGe(r),i=DGe(r),a=n||t.clientHeight,s=i||Ag(t,e)||t.offsetTop;return n||NGe(r,a),i||OGe(r,s),{nodeHeight:a,offsetTop:s}}var C1=Lt("md-preview-highlight");function RGe(t,e){for(var r=t.firstChild;r&&r.next&&!(ry(r.next)>e+1);)r=r.next;return r}var uA=function(){function t(e,r){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!r.isViewer,this.el.className=Lt("md-preview");var i=r.linkAttributes,a=r.customHTMLRenderer,s=r.sanitizer,u=r.highlight,c=u===void 0?!1:u;this.renderer=new Rk({gfm:!0,nodeId:!0,convertors:Ik(i,a)}),this.cursorNodeId=null,this.sanitizer=s,this.initEvent(c),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return t.prototype.initContentSection=function(){this.previewContent=sO('<div class="'+Lt("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(e){wk(this.el,"active",e)},t.prototype.initEvent=function(e){var r=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;r.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){r.removeHighlight()})),xO(this.el,"scroll",function(n){r.eventEmitter.emit("scroll","preview",TGe(n.target.scrollTop,r.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return r.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return r.toggleActive(!1)}))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&so(e,C1)}},t.prototype.updateCursorNode=function(e,r){e&&(e=Hf(e,function(s){return!gce(s)}),e.type==="tableRow"?e=RGe(e,r[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&so(i,C1),a&&Ko(a,C1),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},t.prototype.update=function(e){var r=this;e.forEach(function(n){return r.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(e){var r=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,s=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(N){return r.renderer.render(N)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",s);else{var u=i.id,c=u[0],d=u[1],m=this.getElementByNodeId(c),w=this.getElementByNodeId(d);if(m){m.insertAdjacentHTML("beforebegin",s);for(var T=m;T&&T!==w;){var M=T.nextElementSibling;Yu(T),b0(T),T=M}T!=null&&T.parentNode&&(Yu(T),b0(T))}}},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){SO(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return Ck(this.previewContent.innerHTML)},t.prototype.setHTML=function(e){this.previewContent.innerHTML=e},t.prototype.setHeight=function(e){Zo(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){Zo(this.el,{minHeight:e+"px"})},t}();function $s(t,e){for(var r=t.depth;r;){var n=t.node(r);if(e(n,r))return{node:n,depth:r,offset:r>0?t.before(r):0};r-=1}return null}function Wf(t){return!!$s(t,function(e){var r=e.type;return r.name==="listItem"||r.name==="bulletList"||r.name==="orderedList"})}function Dg(t){return!!$s(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Gf(t){return $s(t,function(e){var r=e.type;return r.name==="listItem"})}function fy(t){return{tag:t,getAttrs:function(e){var r=e.getAttribute("data-raw-html");return qe({},r&&{rawHTML:r})}}}function cA(t){return Object.keys(t).reduce(function(e,r){return r!=="rawHTML"&&t[r]&&(r=r==="className"?"class":r,e[r]=t[r]),e},{})}function fA(t){return{tag:t,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(r,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(r[n]=ii(["rawHTML","extended"],n)?a:Number(a)),r},{})}}}function Vn(){return{htmlAttrs:{default:null},classNames:{default:null}}}function bn(t){var e=t.htmlAttrs,r=t.classNames;return qe(qe({},e),{class:r?r.join(" "):null})}function IGe(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,a=r.contentMatchAt(n).findWrapping(e);if(a){var s=a.length?a[0]:e;return r.canReplaceWith(n,i,s)?a:null}return null}function PGe(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,a=r.child(n),s=e.contentMatch.findWrapping(a.type);if(s){for(var u=s.length?s[s.length-1]:e,c=u.contentMatch,d=n;c&&d<i;d+=1)c=c.matchType(r.child(d).type);if(c&&c.validEnd)return s}return null}function BGe(t,e,r,n){var i=IGe(t,r),a=PGe(e,r);if(i&&a){var s=i.map(function(c){return{type:c}}),u=a.map(function(c){return{type:c,attrs:n}});return s.concat({type:r}).concat(u)}return null}function _Ge(t,e,r,n,i){for(var a=e.start,s=e.end,u=e.startIndex,c=e.endIndex,d=e.parent,m=Ze.empty,w=r.length-1;w>=0;w-=1)m=Ze.from(r[w].type.create(r[w].attrs,m));t.step(new zn(a-(n?2:0),s,a,s,new yt(m,0,0),r.length,!0));for(var T=0,w=0;w<r.length;w+=1)if(r[w].type===i){T=w+1;break}for(var M=r.length-T,N=a+r.length-(n?2:0),w=u,P=c;w<P;w+=1){var R=w===u;!R&&Df(t.doc,N,M)&&(t.split(N,M),N+=M*2),N+=d.child(w).nodeSize}return t}function dA(t,e,r,n){var i=e.$from,a=e.$to,s=e.depth,u=e,c=!1;if(s>=2&&i.node(s-1).type.compatibleContent(r)&&e.startIndex===0&&i.index(s-1)){var d=t.doc.resolve(e.start-2);u=new lg(d,d,s),e.endIndex<e.parent.childCount&&(e=new lg(i,t.doc.resolve(a.end(s)),s)),c=!0}var m=BGe(u,e,r,n);return m?_Ge(t,e,m,c,r):t}function hA(t,e){for(var r=t.resolve(e);r.node().type.name!=="paragraph";)e-=2,r=t.resolve(e);return Gf(r)}function FGe(t,e){var r=e.$from,n=e.$to,i=Gf(r),a=Gf(n);if(i&&a)for(;a;){var s=a.offset,u=a.node,c={task:!u.attrs.task,checked:!1};if(t.setNodeMarkup(s,null,c),s===i.offset)break;a=hA(t.doc,s)}return t}function qGe(t,e,r){var n=e.$from,i=e.$to,a=Gf(n),s=Gf(i);if(a&&s)for(;s;){var u=s.offset,c=s.node,d=s.depth;c.attrs.task&&t.setNodeMarkup(u,null,{task:!1,checked:!1});var m=t.doc.resolve(u);if(m.parent.type!==r){var w=m.before(d-1);t.setNodeMarkup(w,r)}if(u===a.offset)break;s=hA(t.doc,u)}return t}function pA(t){return function(e,r){var n=e.selection,i=e.tr,a=n.$from,s=n.$to,u=a.blockRange(s);if(u){var c=Wf(a)?qGe(i,u,t):dA(i,u,t);return r(c),!0}return!1}}function zGe(){return function(t,e){var r=t.selection,n=t.tr,i=t.schema,a=r.$from,s=r.$to,u=a.blockRange(s);if(u){var c=Wf(a)?FGe(n,u):dA(n,u,i.nodes.bulletList,{task:!0});return e(c),!0}return!1}}function HGe(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,s=i.$to,u=a.blockRange(s,function(P){var R=P.childCount,V=P.firstChild;return!!R&&V.type===t});if(u&&u.startIndex>0){var c=u.parent,d=c.child(u.startIndex-1);if(d.type!==t)return!1;var m=d.lastChild&&d.lastChild.type===c.type,w=m?Ze.from(t.create()):null,T=new yt(Ze.from(t.create(null,Ze.from(c.type.create(null,w)))),m?3:1,0),M=u.start,N=u.end;return n.step(new zn(M-(m?3:1),N,M,N,T,1,!0)),r(n),!0}return!1}}function VGe(t,e,r){var n=e.$from,i=e.$to,a=e.end,s=e.depth,u=e.parent,c=i.end(s);return a<c&&(t.step(new zn(a-1,c,a,c,new yt(Ze.from(r.create(null,u.copy())),1,0),1,!0)),e=new lg(t.doc.resolve(n.pos),t.doc.resolve(c),s)),t.lift(e,Kg(e)),t}function $Ge(t,e){for(var r=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=r.child(i).nodeSize,t.delete(n-1,n+1);var s=t.doc.resolve(e.start),u=s.nodeAfter,c=e.startIndex===0,d=e.endIndex===r.childCount,m=s.node(-1),w=s.index(-1),T=m.canReplace(w+(c?0:1),w+1,u==null?void 0:u.content.append(d?Ze.empty:Ze.from(r)));if(u&&T){var M=s.pos,N=M+u.nodeSize;t.step(new zn(M-(c?1:0),N+(d?1:0),M+1,N-1,new yt((c?Ze.empty:Ze.from(r.copy(Ze.empty))).append(d?Ze.empty:Ze.from(r.copy(Ze.empty))),c?0:1,d?0:1),c?0:1))}return t}function UGe(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,s=i.$to,u=a.blockRange(s,function(m){var w=m.childCount,T=m.firstChild;return!!w&&T.type===t});if(u){var c=a.node(u.depth-1).type===t,d=c?VGe(n,u,t):$Ge(n,u);return r(d),!0}return!1}}function jGe(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,s=i.$to;if(a.depth<2||!a.sameParent(s))return!1;var u=a.node(-1);if(u.type!==t)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==t||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var c=a.index(-1)>0,d=Ze.empty,m=a.depth-(c?1:2);m>=a.depth-3;m-=1)d=Ze.from(a.node(m).copy(d));return d=d.append(Ze.from(t.createAndFill())),n.replace(c?a.before():a.before(-1),a.after(-3),new yt(d,c?3:2,2)),n.setSelection(ur.near(n.doc.resolve(a.pos+(c?3:2)))),r(n),!0}var w=s.pos===a.end()?u.contentMatchAt(0).defaultType:null,T=w&&[null,{type:w}];return n.delete(a.pos,s.pos),Df(n.doc,a.pos,2,T)?(n.split(a.pos,2,T),r(n),!0):!1}}function WGe(){return function(){return function(t,e){var r=t.selection,n=t.schema,i=r.$from,a=r.$to,s=i.blockRange(a);return s&&Wf(i)?HGe(n.nodes.listItem)(t,e):!1}}}function GGe(){return function(){return function(t,e){var r=t.selection,n=t.schema,i=r.$from,a=r.$to,s=i.blockRange(a);return s&&Wf(i)?UGe(n.nodes.listItem)(t,e):!1}}}function Pk(){return{indent:WGe(),outdent:GGe()}}var uT=new Map,Zn=function(){function t(e,r,n,i){this.table=e,this.tableRows=r,this.tableStartPos=n,this.rowInfo=i}return t.create=function(e){var r=$s(e,function(N){var P=N.type;return P.name==="table"});if(r){var n=r.node,i=r.depth,a=r.offset,s=uT.get(n);if((s==null?void 0:s.tableStartPos)===a+1)return s;var u=[],c=e.start(i),d=n.child(0),m=n.child(1),w=C0(d,c),T=C0(m,c+d.nodeSize);d.forEach(function(N){return u.push(N)}),m.forEach(function(N){return u.push(N)});var M=new t(n,u,c,w.concat(T));return uT.set(n,M),M}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(e,r){return this.rowInfo[e][r]},t.prototype.posAt=function(e,r){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var s=r;s<this.totalColumnCount&&this.rowInfo[n][s].offset<i;)s+=1;return s===this.totalColumnCount?a:this.rowInfo[n][s].offset}i=a}},t.prototype.getNodeAndPos=function(e,r){var n=this.rowInfo[e][r];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},t.prototype.extendedRowspan=function(e,r){return!1},t.prototype.extendedColspan=function(e,r){return!1},t.prototype.getRowspanCount=function(e,r){return 0},t.prototype.getColspanCount=function(e,r){return 0},t.prototype.decreaseColspanCount=function(e,r){return 0},t.prototype.decreaseRowspanCount=function(e,r){return 0},t.prototype.getColspanStartInfo=function(e,r){return null},t.prototype.getRowspanStartInfo=function(e,r){return null},t.prototype.getCellStartOffset=function(e,r){var n=this.rowInfo[e][r].offset;return this.extendedRowspan(e,r)?this.posAt(e,r):n},t.prototype.getCellEndOffset=function(e,r){var n=this.rowInfo[e][r],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,r)?this.posAt(e,r):i+a},t.prototype.getCellIndex=function(e){for(var r=0;r<this.totalRowCount;r+=1)for(var n=this.rowInfo[r],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[r,i];return[0,0]},t.prototype.getRectOffsets=function(e,r){var n,i,a;r===void 0&&(r=e),e.pos>r.pos&&(n=[r,e],e=n[0],r=n[1]);var s=this.getCellIndex(e),u=s[0],c=s[1],d=this.getCellIndex(r),m=d[0],w=d[1];return i=cx(u,m),u=i[0],m=i[1],a=cx(c,w),c=a[0],w=a[1],this.getSpannedOffsets({startRowIdx:u,startColIdx:c,endRowIdx:m,endColIdx:w})},t.prototype.getSpannedOffsets=function(e){return e},t}(),C0=function(t,e){var r=[];return t.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(s,u){for(var c=s.nodeSize,d=0;a[d];)d+=1;a[d]={offset:e+i+u+2,nodeSize:c},a.length+=1}),r.push(a)}),r};function KGe(t,e){return vk(Zn.prototype,t),C0=e,Zn}function JGe(t,e,r){for(var n=r.startRowIdx,i=r.startColIdx,a=r.endRowIdx,s=r.endColIdx,u=[],c=n;c<=a;c+=1)for(var d=i;d<=s;d+=1){var m=e.getCellInfo(c,d),w=m.offset,T=m.nodeSize;u.push(new XM(t.resolve(w+1),t.resolve(w+T-1)))}return u}function QGe(t,e){var r=[];return t.childCount&&r.push(t),e.childCount&&r.push(e),Ze.from(r)}var Bk=function(t){Tt(e,t);function e(r,n){n===void 0&&(n=r);var i=this,a=r.node(0),s=Zn.create(r),u=s.getRectOffsets(r,n),c=JGe(a,s,u);return i=t.call(this,c[0].$from,c[0].$to,c)||this,i.startCell=r,i.endCell=n,i.offsetMap=s,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(r,n){var i=this.startCell.pos,a=this.endCell.pos,s=r.resolve(n.map(i)),u=r.resolve(n.map(a)),c=Zn.create(s);if(this.offsetMap.totalColumnCount>c.totalColumnCount||this.offsetMap.totalRowCount>c.totalRowCount){var d={tableBody:1,tableRow:2,tableCell:3,paragraph:4},m=d[u.parent.type.name],w=u.end(u.depth-m),T=Math.min(w-4,u.pos);return pr.create(r,T)}return new e(s,u)},e.prototype.eq=function(r){return r instanceof e&&r.startCell.pos===this.startCell.pos&&r.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var r=this.startCell.node(-2),n=this.startCell.start(-2),i=r.child(1).firstChild,a=r.child(0).type.create(),s=r.child(1).type.create(),u=Zn.create(this.startCell),c=u.getRectOffsets(this.startCell,this.endCell),d=c.startRowIdx,m=c.startColIdx,w=c.endRowIdx,T=c.endColIdx,M=!1,N=d;N<=w;N+=1){for(var P=[],R=m;R<=T;R+=1){var V=u.getCellInfo(N,R).offset,ee=r.nodeAt(V-n);ee&&(M=ee.type.name==="tableHeadCell",u.extendedRowspan(N,R)||u.extendedColspan(N,R)?P.push(ee.type.create({extended:!0})):P.push(ee.copy(ee.content)))}var te=i.copy(Ze.from(P)),ne=M?a:s;ne.content=ne.content.append(Ze.from(te))}return new yt(QGe(a,s),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(ur);function XGe(t,e,r){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,s=n.paragraph,u=[],c=0;c<t;c+=1){var d=r&&r[c],m=s.create(null,d?e.text(d):[]);u.push(a.create(null,m))}return[i.create(null,u)]}function vA(t,e,r,n){for(var i=r.nodes,a=i.tableRow,s=i.tableBodyCell,u=i.paragraph,c=[],d=0;d<t;d+=1){for(var m=[],w=0;w<e;w+=1){var T=n&&n[d*e+w],M=u.create(null,T?r.text(T):[]);m.push(s.create(null,M))}c.push(a.create(null,m))}return c}function Jm(t,e,r,n){n===void 0&&(n=null);for(var i=r.nodes,a=i.tableHeadCell,s=i.tableBodyCell,u=i.paragraph,c=e===0?a:s,d=[],m=0;m<t;m+=1)d.push(c.create(n,u.create()));return d}function mA(t,e){for(;t&&t!==e;){if(t.nodeName==="TD"||t.nodeName==="TH")return t;t=t.parentNode}return null}function gA(t){return $s(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Uo(t){if(t instanceof pr){var e=t.$anchor,r=gA(e);if(r){var n=e.node(0).resolve(e.before(r.depth));return{anchor:n,head:n}}}var i=t,a=i.startCell,s=i.endCell;return{anchor:a,head:s}}function yA(t){var e;if(t.size){var r=t.content,n=t.openStart,i=t.openEnd;if(r.childCount!==1)return null;for(;r.childCount===1&&(n>0&&i>0||((e=r.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,r=r.firstChild.content;if(r.firstChild.type.name==="tableHead"||r.firstChild.type.name==="tableBody")return r}return null}function Mf(t){var e=t.startRowIdx,r=t.startColIdx,n=t.endRowIdx,i=t.endColIdx,a=n-e+1,s=i-r+1;return{rowCount:a,columnCount:s}}function YGe(t,e){return qe(qe({},t.attrs),e)}var El=new Sp("cellSelection"),ZGe=2,eKe=function(){function t(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(e){var r=mA(e.target,this.view.dom);if(e.button===ZGe){e.preventDefault();return}if(r){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},t.prototype.handleMousemove=function(e){var r=El.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;r?a=this.view.state.doc.resolve(r):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),El.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(El,-1))},t.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(e){var r=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:r,top:n});if(i){var a=this.view.state.doc,s=a.resolve(i.pos),u=gA(s);if(u){var c=s.before(u.depth);return a.resolve(c)}}return null},t.prototype.setCellSelection=function(e,r){var n=this.view.state,i=n.selection,a=n.tr,s=El.getState(this.view.state)===null,u=new Bk(e,r);if(s||!i.eq(u)){var c=a.setSelection(u);s&&c.setMeta(El,r.pos),this.view.dispatch(c)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t}(),tKe=Lt("cell-selected");function rKe(t){var e=t.selection,r=t.doc;if(e instanceof Bk){var n=[],i=e.ranges;return i.forEach(function(a){var s=a.$from,u=a.$to;n.push(ea.node(s.pos-1,u.pos+1,{class:tKe}))}),dn.create(r,n)}return null}function nKe(){return new na({key:El,state:{init:function(){return null},apply:function(t,e){var r=t.getMeta(El);if(r)return r===-1?null:r;if(gg(e)||!t.docChanged)return e;var n=t.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:rKe,createSelectionBetween:function(t){var e=t.state;return gg(El.getState(e))?null:e.selection}},view:function(t){return new eKe(t)}})}var wA=function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(e){return Qu(e,this.keys)},t.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},t.prototype.set=function(e,r){var n=this.getKeyIndex(e);return n>-1?this.values[n]=r:(this.keys.push(e),this.values.push(r)),this},t.prototype.has=function(e){return this.getKeyIndex(e)>-1},t.prototype.delete=function(e){var r=this.getKeyIndex(e);return r>-1?(this.keys.splice(r,1),this.values.splice(r,1),!0):!1},t.prototype.forEach=function(e,r){var n=this;r===void 0&&(r=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(r,i,n.keys[a],n)})},t.prototype.clear=function(){this.keys=[],this.values=[]},t}(),S1="en-US",iKe=function(){function t(){this.code=S1,this.langs=new wA}return t.prototype.setCode=function(e){this.code=e||S1},t.prototype.setLanguage=function(e,r){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,r);else{var a=n.langs.get(i);n.langs.set(i,uk(a,r))}})},t.prototype.get=function(e,r){r||(r=this.code);var n=this.langs.get(r);n||(n=this.langs.get(S1));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+r);return i},t}(),tr=new iKe,aKe=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function oKe(t,e){return aKe.map(function(r){return r.map(function(n){var i=n.action,a=n.command,s=n.payload,u=n.disableInThead,c=n.className;return{label:tr.get(i),onClick:function(){t.emit("command",a,s)},disabled:e&&!!u,className:c}})}).concat()}function sKe(t){return new na({props:{handleDOMEvents:{contextmenu:function(e,r){var n=mA(r.target,e.dom);if(n){r.preventDefault();var i=r,a=i.clientX,s=i.clientY,u=e.dom.parentNode.getBoundingClientRect(),c=u.left,d=u.top,m=n.nodeName==="TH";return t.emit("contextmenu",{pos:{left:a-c+10+"px",top:s-d+30+"px"},menuGroups:oKe(t,m),tableCell:n}),!0}return!1}}}})}function lKe(){return new na({props:{handleDOMEvents:{mousedown:function(t,e){var r=e,n=r.clientX,i=r.clientY,a=t.posAtCoords({left:n,top:i});if(a){var s=t.state,u=s.doc,c=s.tr,d=u.resolve(a.pos),m=Gf(d),w=e.target,T=getComputedStyle(w,":before"),M=e,N=M.offsetX,P=M.offsetY;if(!m||!yk(T,N,P))return!1;e.preventDefault();var R=d.before(m.depth),V=m.node.attrs;return c.setNodeMarkup(R,null,qe(qe({},V),{checked:!V.checked})),t.dispatch(c),!0}return!1}}}})}var uKe=["image","link","customBlock","frontMatter"],cKe=["strong","strike","emph","code"],kA=["bulletList","orderedList","taskList"];function fKe(t,e){var r=t.type.name;return r==="listItem"?t.attrs.task?"taskList":e.type.name:r.indexOf("table")!==-1?"table":r}function dKe(t,e){e[t]={active:!0},kA.filter(function(r){return r!==t}).forEach(function(r){e[r]&&delete e[r]})}function hKe(t,e,r,n){cKe.forEach(function(i){var a=r.marks[i],s=t.marksAcross(e)||[],u=!!a.isInSet(s);u&&(n[i]={active:!0})})}function pKe(t,e,r){var n=t.$from,i=t.$to,a=t.from,s=t.to,u={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,s,function(c,d,m){var w=fKe(c,m);ii(uKe,w)||(ii(kA,w)?(dKe(w,u),u.indent.disabled=!1,u.outdent.disabled=!1):w==="paragraph"||w==="text"?hKe(n,i,r,u):u[w]={active:!0})}),u}function vKe(t){return new na({view:function(){return{update:function(e){var r=e.state,n=r.selection,i=r.doc,a=r.schema;t.emit("changeToolbarState",{toolbarState:pKe(n,i,a)})}}}})}var mKe=function(){function t(e,r,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new nk(a.innerViewContainer,{state:Pu.create({doc:a.node,plugins:[gp({"Mod-z":function(){return Xh(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return lk(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(s,u){return u(s.tr.insertText("	")),!0},Enter:_N,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),UN()]}),dispatchTransaction:function(s){return a.dispatchInner(s)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=r,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Lt("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Lt("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var e=this,r=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");r.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),r.appendChild(n),r.appendChild(i),this.wrapper.appendChild(r)},t.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var r=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);r&&this.wrapper.appendChild(r),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Lt("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(Xr(r.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var e=due(this.innerEditorView.state);for(this.canceled=!0;e--;)Xh(this.innerEditorView.state,this.innerEditorView.dispatch),Xh(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var r=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(pr.create(n.doc,r))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(e){var r=this.innerEditorView.state.applyTransaction(e),n=r.state,i=r.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Ba(this.getPos)){for(var a=this.editorView.state.tr,s=Zi.offset(this.getPos()+1),u=0;u<i.length;u+=1)for(var c=i[u].steps,d=0;d<c.length;d+=1)a.step(c[d].map(s));a.docChanged&&this.editorView.dispatch(a)}},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},t.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t}(),cT="image-link",gKe=function(){function t(e,r,n,i){var a=this,s;this.handleMousedown=function(u){u.preventDefault();var c=u.target,d=u.offsetX,m=u.offsetY;if(a.imageLink&&Ba(a.getPos)&&eO(c,cT)){var w=getComputedStyle(c,":before");if(u.stopPropagation(),yk(w,d,m)){var T=a.view.state.tr,M=a.getPos();T.setSelection(Xr(T,M,M+1)),a.view.dispatch(T),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=i,this.imageLink=(s=e.marks.filter(function(u){var c=u.type;return c.name==="link"})[0])!==null&&s!==void 0?s:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var r=document.createElement("span");return r.className=cT,r.appendChild(e),r}return e},t.prototype.createImageElement=function(e){var r=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,s=bn(e.attrs);return r.src=i,a&&(r.alt=a),bk(s,r),r},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t}(),yKe="toastui-editor-ww-code-block",wKe="toastui-editor-ww-code-block-language",kKe=function(){function t(e,r,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(s){var u=s.target,c=getComputedStyle(u,":after");if(c.backgroundImage!=="none"&&Ba(a.getPos)){var d=a.view.coordsAtPos(a.getPos()),m=d.top,w=d.right;a.createLanguageEditor({top:m,right:w})}},this.handleKeydown=function(s){s.key==="Enter"&&a.input&&(s.preventDefault(),a.changeLanguage())},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.node.attrs.language,r=document.createElement("div");r.setAttribute("data-language",e||"text"),r.className=yKe;var n=this.createCodeBlockElement(),i=n.firstChild;r.appendChild(n),this.dom=r,this.contentDOM=i},t.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),r=document.createElement("code"),n=this.node.attrs.language,i=bn(this.node.attrs);return n&&r.setAttribute("data-language",n),bk(i,e),e.appendChild(r),e},t.prototype.createLanguageEditor=function(e){var r=this,n=e.top,i=e.right,a=document.createElement("span");a.className=wKe;var s=document.createElement("input");s.type="text",s.value=this.node.attrs.language,a.appendChild(s),this.view.dom.parentElement.appendChild(a);var u=a.clientWidth;Zo(a,{top:n+10+"px",left:i-u-10+"px",width:u+"px"}),this.input=s,this.input.addEventListener("blur",function(){return r.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){r.input.focus()})},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},t.prototype.changeLanguage=function(){if(this.input&&Ba(this.getPos)){var e=this.input.value;this.reset();var r=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(r,null,{language:e}),this.view.dispatch(n)}},t.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var r=this.input.parentElement;this.input=null,Yu(r)}},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},t.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t}(),bKe=/MsoListParagraph/,bA=/style=(.|\n)*mso-/,CA=/mso-list:(.*)/,CKe=/O:P/,SKe=/^(n|u|l)/,xKe="p.MsoListParagraph";function TKe(t){return bA.test(t)}function EKe(t){for(var e=[],r=document.createTreeWalker(t,1,null,!1);r.nextNode();){var n=r.currentNode;if(iy(n)){var i=n,a=i.outerHTML,s=i.textContent,u=bA.test(a),c=CA.test(a);u&&!c&&s?e.push([n,!0]):(CKe.test(n.nodeName)||u&&!s||c)&&e.push([n,!1])}}return e.forEach(function(d){var m=d[0],w=d[1];w?jce(m):Yu(m)}),t.innerHTML.trim()}function MKe(t,e){var r=t.getAttribute("style");if(r){var n=r.match(CA),i=n[1],a=i.trim().split(" "),s=a[1],u=parseInt(s.replace("level",""),10),c=SKe.test(t.textContent||"");return{id:e,level:u,prev:null,parent:null,children:[],unordered:c,contents:EKe(t)}}return null}function NKe(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{for(;e&&e.level!==t.level;)e=e.parent;e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function OKe(t){var e=[];return t.forEach(function(r,n){var i=e[n-1],a=MKe(r,n);a&&(i&&NKe(a,i),e.push(a))}),e}function SA(t){var e=t[0].unordered?"ul":"ol",r=document.createElement(e);return t.forEach(function(n){var i=n.children,a=n.contents,s=document.createElement("li");s.innerHTML=a,r.appendChild(s),i.length&&r.appendChild(SA(i))}),r}function AKe(t){var e=OKe(t),r=e.filter(function(n){var i=n.parent;return!i});return SA(r)}function DKe(t){for(;t&&!iy(t);)t=t.nextSibling;return t?!bKe.test(t.className):!0}function LKe(t){var e=document.createElement("div");e.innerHTML=t;var r=[],n=Vce(e,xKe);n.forEach(function(a){var s=DKe(a.nextSibling);if(r.push(a),s){var u=AKe(r),c=a.nextSibling;c?Uce(u,c):$ce(e,u),r=[]}Yu(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var fT="<!--StartFragment-->",RKe="<!--EndFragment-->";function IKe(t){var e=t.indexOf(fT),r=t.lastIndexOf(RKe);return e>-1&&r>-1&&(t=t.slice(e+fT.length,r)),t.replace(/<br[^>]*>/g,aO)}function PKe(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function BKe(t){return t=IKe(t),t=PKe(t),TKe(t)&&(t=LKe(t)),t}function _Ke(t){var e=t.reduce(function(r,n){return r.childCount>n.childCount?r:n});return e.childCount}function xA(t,e,r){for(var n=[],i=t.childCount,a=0;a<i;a+=1)if(!t.child(a).attrs.extended){var s=a<i?r.create(t.child(a).attrs,t.child(a).content):r.createAndFill();n.push(s)}return n}function TA(t,e,r){var n=r.nodes,i=n.tableRow,a=n.tableHeadCell,s=xA(t,e,a);return i.create(null,s)}function EA(t,e,r){var n=r.nodes,i=n.tableRow,a=n.tableBodyCell,s=xA(t,e,a);return i.create(null,s)}function FKe(t,e){for(var r=e.nodes,n=r.tableRow,i=r.tableBodyCell,a=[],s=0;s<t;s+=1){var u=i.createAndFill();a.push(u)}return n.create({dummyRowForPasting:!0},a)}function MA(t){var e=[],r=[];if(t.firstChild.type.name==="tableHead"){var n=t.firstChild;n.forEach(function(a){return e.push(a)})}if(t.lastChild.type.name==="tableBody"){var i=t.lastChild;i.forEach(function(a){return r.push(a)})}return ra(ra([],e),r)}function qKe(t,e,r){var n=TA(t,e,r);return r.nodes.tableHead.create(null,n)}function dT(t,e,r){var n=t.map(function(a){return EA(a,e,r)});if(!t.length){var i=FKe(e,r);n.push(i)}return r.nodes.tableBody.create(null,n)}function zKe(t,e,r,n){var i=_Ke(t);if(r&&n)return e.nodes.table.create(null,[dT(t,i,e)]);var a=t[0],s=t.slice(1),u=[qKe(a,i,e)];return s.length&&u.push(dT(s,i,e)),e.nodes.table.create(null,u)}function HKe(t,e,r){var n=[],i=t.content,a=t.openStart,s=t.openEnd;return i.forEach(function(u){if(u.type.name==="table"){var c=yA(new yt(Ze.from(u),0,0));if(c){var d=MA(c),m=c.firstChild.type.name==="tableBody",w=zKe(d,e,m,r);n.push(w)}}else n.push(u)}),new yt(Ze.from(n),a,s)}var VKe=4,$Ke=2;function Qm(t){return t*VKe}function UKe(t,e,r){var n=[],i=MA(t),a=i[0].childCount,s=i.length,u=e.startRowIdx===0,c=i.slice(0,s);if(u){var d=c.shift();if(d){var m=TA(d,a,r).content;n.push(m)}}return c.forEach(function(w){if(!w.attrs.dummyRowForPasting){var T=EA(w,a,r).content;n.push(T)}}),n}function jKe(t,e,r){for(var n=e.startRowIdx,i=e.startColIdx,a=r.length,s=0,u=function(M){var N=r[M].childCount;r[M].forEach(function(P){var R=P.attrs,V=R.colspan;V>1&&(N+=V-1)}),s=Math.max(s,N)},c=0;c<a;c+=1)u(c);var d=n+a-1,m=i+s-1,w=Math.max(d+1-t.totalRowCount,0),T=Math.max(m+1-t.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:d,endColIdx:m,addedRowCount:w,addedColumnCount:T}}function WKe(t,e){for(var r=t.startRowIdx,n=t.startColIdx,i=t.endRowIdx,a=t.endColIdx,s=t.addedRowCount,u=t.addedColumnCount,c=r;c<=i-s;c+=1)e.push({rowIdx:c,startColIdx:n,endColIdx:a-u})}function GKe(t,e,r,n,i){for(var a=n.startRowIdx,s=n.startColIdx,u=n.endRowIdx,c=n.endColIdx,d=n.addedRowCount,m=n.addedColumnCount,w=r.totalRowCount,T=0,M=0;M<w;M+=1){var N=r.getCellInfo(M,c-m),P=N.offset,R=N.nodeSize,V=t.mapping.map(P+R),ee=Jm(m,M,e);if(t.insert(V,ee),M>=a&&M<=u-d){var te=r.getCellInfo(M,c-m),ne=t.mapping.map(te.offset),pe=V+Qm(m);i[T]={rowIdx:M,startColIdx:s,endColIdx:c,dummyOffsets:[ne,pe]},T+=1}}}function KKe(t,e,r,n,i){var a=n.addedRowCount,s=n.addedColumnCount,u=n.startColIdx,c=n.endColIdx,d=t.mapping.maps.length,m=r.tableEndOffset-2,w=vA(a,r.totalColumnCount+s,e),T=m;t.insert(t.mapping.slice(d).map(T),w);for(var M=0;M<a;M+=1){var N=T+Qm(u)+1,P=T+Qm(c+1)+1,R=T+Qm(r.totalColumnCount+s)+$Ke;i.push({rowIdx:M+r.totalRowCount,startColIdx:u,endColIdx:c,dummyOffsets:[N,P]}),T=R}}function JKe(t,e,r,n){var i=t.mapping.maps.length;r.forEach(function(a,s){var u=a.rowIdx,c=a.startColIdx,d=a.endColIdx,m=a.dummyOffsets,w=t.mapping.slice(i),T=new yt(e[s],0,0),M=m?m[0]:n.getCellStartOffset(u,c),N=m?m[1]:n.getCellEndOffset(u,d);t.replace(w.map(M),w.map(N),T)})}function QKe(t,e){var r=t.state,n=r.selection,i=r.schema,a=r.tr,s=Uo(n),u=s.anchor,c=s.head;if(u&&c){var d=yA(e);if(!d)return!1;var m=Zn.create(u),w=m.getRectOffsets(u,c),T=UKe(d,w,i),M=jKe(m,w,T),N=[];return YKe(m,M)&&(WKe(M,N),M.addedColumnCount&&GKe(a,i,m,M,N),M.addedRowCount&&KKe(a,i,m,M,N),JKe(a,T,N,m),t.dispatch(a),XKe(t,N,m.getCellInfo(0,0).offset)),!0}return!1}function XKe(t,e,r){var n=t.state,i=n.tr,a=n.doc,s=Zn.create(a.resolve(r)),u=e[0],c=u.rowIdx,d=u.startColIdx,m=bi(e),w=m.rowIdx,T=m.endColIdx,M=s.getCellInfo(c,d).offset,N=s.getCellInfo(w,T).offset;t.dispatch(i.setSelection(new Bk(a.resolve(M),a.resolve(N))))}function YKe(t,e){var r=t.getSpannedOffsets(e),n=Mf(r),i=n.rowCount,a=n.columnCount,s=Mf(e),u=s.rowCount,c=s.columnCount;return i===u&&a===c}var ZKe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Wr),eJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:qe({},Vn()),parseDOM:[{tag:"p"}],toDOM:function(r){var n=r.attrs;return["p",bn(n),0]}}},enumerable:!1,configurable:!0}),e}(Wr),tJe=/\s{1,4}$/,rJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(r,n){var i=r.selection,a=r.tr,s=i.$from,u=i.$to,c=s.blockRange(u);return c&&!Wf(s)&&!Dg(s)?(n(a.insertText("    ",s.pos,u.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(r,n){var i=r.selection,a=r.tr,s=i.$from,u=i.$to,c=i.from,d=s.blockRange(u);if(d&&!Wf(s)&&!Dg(s)){var m=s.nodeBefore;if(m&&m.isText){var w=m.text,T=w.replace(tJe,""),M=w.length-T.length;return n(a.delete(c-M,c)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Wr),nJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return qe({level:n},a&&{rawHTML:a})}}});return{attrs:qe({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},Vn()),content:"inline*",group:"block",defining:!0,parseDOM:r,toDOM:function(n){var i=n.attrs;return["h"+i.level,bn(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){var a=n.schema.nodes[r.level?"heading":"paragraph"];return sk(a,r)(n,i)}}},e}(Wr),iJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:qe({language:{default:null},rawHTML:{default:null}},Vn()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(r){var n=r.getAttribute("data-raw-html"),i=r.firstElementChild;return qe({language:(i==null?void 0:i.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"pre",["code",qe({"data-language":n.language},bn(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return sk(r.schema.nodes.codeBlock)(r,n)}}},e.prototype.moveCursor=function(r){var n=this;return function(i,a){var s=i.tr,u=i.doc,c=i.schema,d=i.selection.$from,m=n.context.view;if(m.endOfTextblock(r)&&d.node().type.name==="codeBlock"){var w=d.parent.textContent.split(`
`),T=r==="up"?d.start():d.end(),M=r==="up"?[T,w[0].length+T]:[T-bi(w).length,T],N=u.resolve(r==="up"?d.before():d.after()),P=r==="up"?N.nodeBefore:N.nodeAfter;if(cce(d.pos,M[0],M[1])&&!P){var R=mk(s,N,c);if(R)return a(R),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Wr),aJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:[fy("ul")],toDOM:function(r){var n=r.attrs;return["ul",bn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(r,n){return pA(r.schema.nodes.bulletList)(r,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:zGe}},e.prototype.keymaps=function(){var r=this.changeList(),n=Pk(),i=n.indent,a=n.outdent;return{"Mod-u":r,"Mod-U":r,Tab:i(),"Shift-Tab":a()}},e}(Wr),oJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:qe({order:{default:1},rawHTML:{default:null}},Vn()),parseDOM:[{tag:"ol",getAttrs:function(r){var n=r.getAttribute("start"),i=r.getAttribute("data-raw-html");return qe({order:r.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"ol",qe({start:n.order===1?null:n.order},bn(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return pA(r.schema.nodes.orderedList)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()(),n=Pk(),i=n.indent,a=n.outdent;return{"Mod-o":r,"Mod-O":r,Tab:i(),"Shift-Tab":a()}},e}(Wr),sJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return qe({task:r.hasAttribute("data-task"),checked:r.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var s=["task-list-item"];return a&&s.push("checked"),[n.rawHTML||"li",qe({class:s.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(r,n){var i=r.selection,a=r.tr,s=r.schema,u=i.$from,c=i.empty,d=s.nodes.listItem,m=u.parent,w=u.node(-1);if(c&&!m.childCount&&w.type===d){if(u.index(-2)>=1)return a.delete(u.start(-1)-1,u.end(-1)),n(a),!0;var T=u.node(-3);if(T.type===d)return a.delete(u.start(-2)-1,u.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var r=function(n,i){return jGe(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:r}},e}(Wr),lJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:qe({rawHTML:{default:null}},Vn()),content:"block+",group:"block",parseDOM:[fy("blockquote")],toDOM:function(r){var n=r.attrs;return["blockquote",bn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Yle(r.schema.nodes.blockQuote)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Alt-q":r,"Alt-Q":r}},e}(Wr),uJe={left:gJe,right:mJe,up:yJe,down:wJe};function cJe(t,e,r){var n=r[0],i=r[1],a=e.resolve(t.before(n-1));return i===n&&!a.nodeBefore}function fJe(t){for(var e,r=t.depth,n;r&&(n=t.node(r),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=t.node(r-1),a=i.lastChild===n,s=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!s:!1}r-=1}return!1}function dJe(t,e,r,n,i){var a=e[0],s=e[1],u=e[2];if(t==="left"||t==="up"){if(i&&!cJe(r,n,[a,s]))return!1;var c=r.before(u),d=n.resolve(c).nodeBefore;if(d)return!1}return!0}function hJe(t,e,r,n,i){if(t==="right"||t==="down"){if(i&&!fJe(r))return!1;var a=r.after(e),s=n.resolve(a).nodeAfter;if(s)return!1}return!0}function pJe(t,e,r,n){var i=e[0],a=e[1],s=i+3,u=a>=s,c=u?i+1:a,d=dJe(t,[a,s,c],r,n,u),m=hJe(t,c,r,n,u);return d&&m}function hT(t,e,r){var n=r[0],i=r[1],a=e.getRowspanStartInfo(n,i),s=t==="up"&&n===0,u=t==="down"&&((a==null?void 0:a.count)>1?n+a.count-1:n)===e.totalRowCount-1;return s||u}function vJe(t,e,r){var n=t.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?t.setSelection(ur.near(n,-1)):mk(t,n,r)}function x1(t,e,r,n){n===void 0&&(n=!1);var i=t.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?mk(t,i,r):t.setSelection(ur.near(i,1))}function mJe(t,e){var r=t[0],n=t[1],i=e.totalRowCount,a=e.totalColumnCount,s=n===a-1,u=r===i-1&&s;if(!u){var c=n+1,d=e.getColspanStartInfo(r,n);(d==null?void 0:d.count)>1&&(c+=d.count-1),(s||c===a)&&(r+=1,c=0);var m=e.getCellInfo(r,c).offset;return m+2}return null}function gJe(t,e){var r=t[0],n=t[1],i=e.totalColumnCount,a=n===0,s=r===0&&a;if(!s){n-=1,a&&(r-=1,n=i-1);var u=e.getCellInfo(r,n),c=u.offset,d=u.nodeSize;return c+d-2}return null}function yJe(t,e){var r=t[0],n=t[1];if(r>0){var i=e.getCellInfo(r-1,n),a=i.offset,s=i.nodeSize;return a+s-2}return null}function wJe(t,e){var r=t[0],n=t[1],i=e.totalRowCount;if(r<i-1){var a=r+1,s=e.getRowspanStartInfo(r,n);(s==null?void 0:s.count)>1&&(a+=s.count-1);var u=e.getCellInfo(a,n).offset;return u+2}return null}function pT(t,e,r,n){var i=uJe[t],a=i(r,n);if(a){var s=t==="right"||t==="down"?1:-1;return e.setSelection(ur.near(e.doc.resolve(a),s))}return null}function kJe(t,e,r){var n=r[0],i=r[1];if(t==="up"||t==="down")return!1;var a=e.tableStartOffset,s=e.tableEndOffset,u=e.getCellInfo(n,i),c=u.offset,d=u.nodeSize,m=t==="left"?a:s,w=t==="left"?c-2:c+d+3;return m===w}function bJe(t,e,r){var n=t.doc.resolve(e.before(r-3));return t.setSelection(new Qt(n))}function CJe(t,e,r){var n,i,a;return t==="up"?(n=r.startRowIdx,i=0,a=-1):(n=r.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function SJe(t,e,r){var n=t.getCellInfo(e,0).offset,i=t.getCellInfo(e,r-1),a=i.offset,s=i.nodeSize;return{from:n,to:a+s}}var xJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:[fy("table")],toDOM:function(r){var n=r.attrs;return["table",bn(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(r){return r===void 0&&(r={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=r.rowCount,s=r.columnCount,u=r.data,c=n.schema,d=n.selection,m=n.tr,w=d.from,T=d.to,M=d.$from,N=w===T;if(N&&!Dg(M)){var P=c.nodes,R=P.tableHead,V=P.tableBody,ee=u==null?void 0:u.slice(0,s),te=u==null?void 0:u.slice(s,u.length),ne=XGe(s,c,ee),pe=vA(a-1,s,c,te),ue=c.nodes.table.create(null,[R.create(null,ne),V.create(null,pe)]);return i(m.replaceSelectionWith(ue)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,s=Zn.create(i.$anchor);if(s){var u=s.tableStartOffset,c=s.tableEndOffset,d=u-1,m=Xr(a.delete(d,c),d);return n(a.setSelection(m)),!0}return!1}}},e.prototype.addColumn=function(r){return function(){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,c=Uo(a),d=c.anchor,m=c.head;if(d&&m){for(var w=Zn.create(d),T=w.getRectOffsets(d,m),M=r==="left"?T.startColIdx:T.endColIdx+1,N=Mf(T).columnCount,P=w.totalRowCount,R=0;R<P;R+=1){var V=Jm(N,R,u);s.insert(s.mapping.map(w.posAt(R,M)),V)}return i(s),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,s=Uo(i),u=s.anchor,c=s.head;if(u&&c){var d=Zn.create(u),m=d.getRectOffsets(u,c),w=d.totalColumnCount,T=d.totalRowCount,M=Mf(m).columnCount,N=M===w;if(N)return!1;for(var P=m.startColIdx,R=m.endColIdx,V=a.mapping.maps.length,ee=0;ee<T;ee+=1)for(var te=R;te>=P;te-=1){var ne=d.getCellInfo(ee,te),pe=ne.offset,ue=ne.nodeSize,be=a.mapping.slice(V).map(pe),Ne=be+ue;a.delete(be,Ne)}return n(a),!0}return!1}}},e.prototype.addRow=function(r){return function(){return function(n,i){var a=n.selection,s=n.schema,u=n.tr,c=Uo(a),d=c.anchor,m=c.head;if(d&&m){var w=Zn.create(d),T=w.totalColumnCount,M=w.getRectOffsets(d,m),N=Mf(M).rowCount,P=CJe(r,w,M),R=P.targetRowIdx,V=P.insertColIdx,ee=P.nodeSize,te=R===0;if(!te){for(var ne=[],pe=u.mapping.map(w.posAt(R,V))+ee,ue=[],be=0;be<T;be+=1)ue=ue.concat(Jm(1,R,s));for(var Ne=0;Ne<N;Ne+=1)ne.push(s.nodes.tableRow.create(null,ue));return i(u.insert(pe,ne)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,s=Uo(i),u=s.anchor,c=s.head;if(u&&c){var d=Zn.create(u),m=d.totalRowCount,w=d.totalColumnCount,T=d.getRectOffsets(u,c),M=Mf(T).rowCount,N=T.startRowIdx,P=T.endRowIdx,R=N===0,V=M===m-1;if(V||R)return!1;for(var ee=P;ee>=N;ee-=1){var te=SJe(d,ee,w),ne=te.from,pe=te.to;a.delete(ne-1,pe+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(r){return r===void 0&&(r={align:"center"}),function(n,i){var a=r.align,s=n.selection,u=n.tr,c=Uo(s),d=c.anchor,m=c.head;if(d&&m){for(var w=Zn.create(d),T=w.totalRowCount,M=w.getRectOffsets(d,m),N=M.startColIdx,P=M.endColIdx,R=0;R<T;R+=1)for(var V=N;V<=P;V+=1)if(!w.extendedRowspan(R,V)&&!w.extendedColspan(R,V)){var ee=w.getNodeAndPos(R,V),te=ee.node,ne=ee.pos,pe=YGe(te,{align:a});u.setNodeMarkup(ne,null,pe)}return i(u),!0}return!1}}},e.prototype.moveToCell=function(r){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,c=Uo(a),d=c.anchor,m=c.head;if(d&&m){var w=Zn.create(d),T=w.getCellIndex(d),M=void 0;if(hT(r,w,T)?M=x1(s,w,u):M=pT(r,s,T,w),M)return i(M),!0}return!1}},e.prototype.moveInCell=function(r){var n=this;return function(i,a){var s=i.selection,u=i.tr,c=i.doc,d=i.schema,m=s.$from,w=n.context.view;if(!w.endOfTextblock(r))return!1;var T=$s(m,function(te){var ne=te.type;return ne.name==="tableHeadCell"||ne.name==="tableBodyCell"});if(T){var M=$s(m,function(te){var ne=te.type;return ne.name==="paragraph"}),N=T.depth;if(M&&pJe(r,[N,M.depth],m,c)){var P=Uo(s).anchor,R=Zn.create(P),V=R.getCellIndex(P),ee=void 0;if(kJe(r,R,V)?ee=bJe(u,m,N):hT(r,R,V)?r==="up"?ee=vJe(u,R,d):r==="down"&&(ee=x1(u,R,d)):ee=pT(r,u,V,R),ee)return a(ee),!0}}return!1}},e.prototype.deleteCells=function(){return function(r,n){var i=r.schema,a=r.selection,s=r.tr,u=Uo(a),c=u.anchor,d=u.head,m=a instanceof pr;if(c&&d&&!m){for(var w=Zn.create(c),T=w.getRectOffsets(c,d),M=T.startRowIdx,N=T.startColIdx,P=T.endRowIdx,R=T.endColIdx,V=M;V<=P;V+=1)for(var ee=N;ee<=R;ee+=1)if(!w.extendedRowspan(V,ee)&&!w.extendedColspan(V,ee)){var te=w.getNodeAndPos(V,ee),ne=te.node,pe=te.pos,ue=Jm(1,V,i,ne.attrs);s.replaceWith(s.mapping.map(pe),s.mapping.map(pe+ne.nodeSize),ue)}return n(s),!0}return!1}},e.prototype.exitTable=function(){return function(r,n){var i=r.selection,a=r.tr,s=r.schema,u=i.$from,c=$s(u,function(T){var M=T.type;return M.name==="tableHeadCell"||M.name==="tableBodyCell"});if(c){var d=$s(u,function(T){var M=T.type;return M.name==="paragraph"});if(d){var m=Uo(i).anchor,w=Zn.create(m);return n(x1(a,w,s,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var r=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:r,"Mod-Backspace":r,Delete:r,"Mod-Delete":r,"Mod-Enter":this.exitTable()}},e}(Wr),TJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:[fy("thead")],toDOM:function(r){var n=r.attrs;return["thead",bn(n),0]}}},enumerable:!1,configurable:!0}),e}(Wr),EJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:[{tag:"tbody",getAttrs:function(r){var n=r.querySelectorAll("tr"),i=n[0].children.length,a=r.getAttribute("data-raw-html");return i?qe({},a&&{rawHTML:a}):!1}}],toDOM:function(r){var n=r.attrs;return["tbody",bn(n),0]}}},enumerable:!1,configurable:!0}),e}(Wr),MJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:[{tag:"tr",getAttrs:function(r){var n=r.children.length,i=r.getAttribute("data-raw-html");return n?qe({},i&&{rawHTML:i}):!1}}],toDOM:function(r){var n=r.attrs;return["tr",bn(n),0]}}},enumerable:!1,configurable:!0}),e}(Wr),NJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:qe({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},Vn()),isolating:!0,parseDOM:[fA("th")],toDOM:function(r){var n=r.attrs,i=cA(n);return["th",qe(qe({},i),bn(n)),0]}}},enumerable:!1,configurable:!0}),e}(Wr),OJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[fA("td")],toDOM:function(r){var n=r.attrs,i=cA(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}(Wr),AJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:qe({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},Vn()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(r){var n=tc(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),s=n.getAttribute("alt");return qe({imageUrl:i,altText:s},a&&{rawHTML:a})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"img",qe(qe({src:Ef(n.imageUrl)},n.altText&&{alt:n.altText}),bn(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(r){return function(n,i){var a=n.schema,s=n.tr,u=r,c=u.imageUrl,d=u.altText;if(!c)return!1;var m=a.nodes.image.createAndFill(qe({imageUrl:c},d&&{altText:d}));return i(s.replaceSelectionWith(m).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Wr),vT=1,DJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:qe({rawHTML:{default:null}},Vn()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(r){var n=r.attrs;return["div",bn(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var r=this;return function(){return function(n,i){var a,s=n.selection,u=s.$from,c=s.$to;if(u===c){var d=n.doc,m=n.schema.nodes,w=m.thematicBreak,T=m.paragraph,M=[w.create()],N=u.node(vT),P=d.child(d.childCount-1)===N,R=d.resolve(u.after(vT)),V=((a=u.nodeAfter)===null||a===void 0?void 0:a.type.name)===r.name;return(P||V)&&M.push(T.create()),i(n.tr.insert(R.pos,M).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(Wr),LJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return qe({},a&&{rawHTML:a})}}});return{attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",bn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(r,n){return Mp(r.schema.marks.strong)(r,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(Yr),RJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return qe({},a&&{rawHTML:a})}}});return{attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",bn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(r,n){return Mp(r.schema.marks.emph)(r,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(Yr),IJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return qe({},a&&{rawHTML:a})}}});return{attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",bn(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Mp(r.schema.marks.strike)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(Yr),PJe=function(t){Tt(e,t);function e(r){var n=t.call(this)||this;return n.linkAttributes=r,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this;return{attrs:qe({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},Vn()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=tc(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",s=i.getAttribute("title")||"",u=i.getAttribute("data-raw-html");return qe({linkUrl:a,title:s},u&&{rawHTML:u})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",qe(qe({href:Ef(i.linkUrl)},r.linkAttributes),bn(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(r){return function(n,i){var a=r,s=a.linkUrl,u=a.linkText,c=u===void 0?"":u,d=n.schema,m=n.tr,w=n.selection,T=w.empty,M=w.from,N=w.to;if(M&&N&&s){var P={linkUrl:s},R=d.mark("link",P);if(T&&c){var V=ni(d,c,R);m.replaceRangeWith(M,N,V)}else m.addMark(M,N,R);return i(m.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(r){return function(n,i){return Mp(n.schema.marks.link,r)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(Yr),BJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:qe({rawHTML:{default:null}},Vn()),parseDOM:[{tag:"code",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return qe({},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"code",bn(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Mp(r.schema.marks.code)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(Yr),_Je=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(r){var n=r.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(r){var n=r.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){return r!=null&&r.info?sk(n.schema.nodes.customBlock,r)(n,i):!1}}},e}(Wr),FJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,i){var a=r.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?ok(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Wr),qJe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,i){var a=r.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?ok(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Wr);function zJe(t){return new pO([new ZKe,new eJe,new rJe,new nJe,new iJe,new aJe,new oJe,new sJe,new lJe,new xJe,new TJe,new EJe,new MJe,new NJe,new OJe,new AJe,new DJe,new LJe,new RJe,new IJe,new PJe(t),new BJe,new _Je,new FJe,new dO,new qJe])}var HJe=Lt("contents"),VJe=function(t){Tt(e,t);function e(r,n){var i=t.call(this,r)||this,a=n.toDOMAdaptor,s=n.htmlSchemaMap,u=s===void 0?{}:s,c=n.linkAttributes,d=c===void 0?{}:c,m=n.useCommandShortcut,w=m===void 0?!0:m,T=n.wwPlugins,M=T===void 0?[]:T,N=n.wwNodeViews,P=N===void 0?{}:N;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=d,i.extraPlugins=M,i.pluginNodeViews=P,i.specs=i.createSpecs(),i.schema=i.createSchema(u),i.context=i.createContext(),i.keymaps=i.createKeymaps(w),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(qe(qe({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return zJe(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(r){return new BM({nodes:qe(qe({},this.specs.nodes),r.nodes),marks:qe(qe({},this.specs.marks),r.marks)})},e.prototype.createPlugins=function(){return ra([nKe(),sKe(this.eventEmitter),lKe(),vKe(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var r=this,n=r.eventEmitter,i=r.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(s){a[s]=function(u,c,d){return i[s](u,c,d,n)}}),a},e.prototype.createView=function(){var r=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new nk(this.el,{state:this.createState(),attributes:{class:HJe},nodeViews:qe({customBlock:function(s,u,c){return new mKe(s,u,c,i)},image:function(s,u,c){return new gKe(s,u,c,a)},codeBlock:function(s,u,c){return new kKe(s,u,c,a)},widget:fO},this.createPluginNodeViews()),dispatchTransaction:function(s){var u=r.view.state.applyTransaction(s).state;r.view.updateState(u),r.emitChangeEvent(s.scrollIntoView()),r.eventEmitter.emit("setFocusedNode",u.selection.$from.node(1))},transformPastedHTML:BKe,transformPasted:function(s){return HKe(s,r.schema,Dg(r.view.state.selection.$from))},handlePaste:function(s,u,c){return QKe(s,c)},handleKeyDown:function(s,u){return r.eventEmitter.emit("keydown",r.editorType,u),!1},handleDOMEvents:{paste:function(s,u){var c=u.clipboardData||window.clipboardData,d=c==null?void 0:c.items;if(d){var m=es(d).some(function(T){return T.kind==="string"&&T.type==="text/rtf"});if(!m){var w=cO(d);w&&(u.preventDefault(),Sk(r.eventEmitter,w,u.type))}}return!1},keyup:function(s,u){return r.eventEmitter.emit("keyup",r.editorType,u),!1},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Pk())},e.prototype.getHTML=function(){return Ck(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,i=r.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(r,n,i){var a=this.view.state,s=a.schema,u=a.tr,c=r.split(`
`),d=c.map(function(T){return bg(s,Uu(T,s))}),m=new yt(Ze.from(d),1,1),w=Hs(n)&&Hs(i)?u.replaceRange(n,i,m):u.replaceSelection(m);this.view.dispatch(w),this.focus()},e.prototype.deleteSelection=function(r,n){var i=this.view.state.tr,a=Hs(r)&&Hs(n)?i.deleteRange(r,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var i=this.view.state,a=i.doc,s=i.selection,u=s.from,c=s.to;return Hs(r)&&Hs(n)&&(u=r,c=n),a.textBetween(u,c,`
`)},e.prototype.setModel=function(r,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,s=i.doc;this.view.dispatch(a.replaceWith(0,s.content.size,r)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var i=this.view.state.tr,a=Xr(i,r,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(r,n,i){var a=this.view,s=a.dispatch,u=a.state;s(u.tr.setMeta("widget",{pos:i??u.selection.to,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,i){var a=this.view.state,s=a.tr,u=a.schema,c=Uu(i,u);this.view.dispatch(s.replaceWith(r,n,c))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,i=n.doc,a=n.selection,s=r?i.resolve(r):a.$from,u=s.marks(),c=s.node(),d=s.start(),m=s.end(),w=c.type.name;if(u.length||w==="paragraph"){var T=u[u.length-1],M=function(N){return N.length?ii(N,T):!0};w=T?T.type.name:"text",c.forEach(function(N,P){var R=N.isText,V=N.nodeSize,ee=N.marks,te=s.pos-d;R&&P<=te&&P+V>=te&&M(ee)&&(d=d+P,m=d+V)})}return{range:[d,m],type:w}},e}(hO),$Je=ho,UJe=gg;function jJe(t){return!$Je(t)&&!UJe(t)}var WJe=jJe,GJe=WJe;function KJe(t){return GJe(t)&&t!==!1}var JJe=KJe,QJe=JJe;function XJe(t){return!QJe(t)}var YJe=XJe,mT=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],NA=function(){function t(){var e=this;this.events=new wA,this.eventTypes=mT.reduce(function(r,n){return qe(qe({},r),{type:n})},{}),this.hold=!1,mT.forEach(function(r){e.addEventType(r)})}return t.prototype.listen=function(e,r){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(r.namespace=n.namespace),i.push(r),this.events.set(n.type,i)},t.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),s=[];return!this.hold&&a&&a.forEach(function(u){var c=u.apply(void 0,r);ho(c)||s.push(c)}),s},t.prototype.emitReduce=function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(s){var u=s.apply(void 0,ra([r],n));YJe(u)||(r=u)}),r},t.prototype.getTypeInfo=function(e){var r=e.split(".");return{type:r[0],namespace:r[1]}},t.prototype.hasEventType=function(e){return!ho(this.eventTypes[this.getTypeInfo(e).type])},t.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},t.prototype.removeEventHandler=function(e,r){var n=this,i=this.getTypeInfo(e),a=i.type,s=i.namespace;a&&r?this.removeEventHandlerWithHandler(a,r):a&&!s?this.events.delete(a):!a&&s?this.events.forEach(function(u,c){n.removeEventHandlerWithTypeInfo(c,s)}):a&&s&&this.removeEventHandlerWithTypeInfo(a,s)},t.prototype.removeEventHandlerWithHandler=function(e,r){var n=this.events.get(e);if(n){var i=n.indexOf(r);n.indexOf(r)>=0&&n.splice(i,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(e,r){var n=[],i=this.events.get(e);i&&(i.map(function(a){return a.namespace!==r&&n.push(a),null}),this.events.set(e,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},t}(),ZJe=function(){function t(e,r,n,i){this.eventEmitter=e,this.mdCommands=r,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return t.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(r,n){e.exec(r,n)})},t.prototype.addCommand=function(e,r,n){e==="markdown"?this.mdCommands[r]=n:this.wwCommands[r]=n},t.prototype.deleteCommand=function(e,r){e==="markdown"?delete this.mdCommands[r]:delete this.wwCommands[r]},t.prototype.exec=function(e,r){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](r):this.wwCommands[e](r)},t}();function Xm(t){return t[t.length-1]===`
`?t.slice(0,t.length-1):t}function S0(t,e){var r=t.schema,n=e.literal,i=n.match(Vf);if(i){var a=i[1],s=i[3],u=(a||s).toLowerCase();return e.type==="htmlInline"&&!!(r.marks[u]||r.nodes[u])}return!1}function x0(t){var e=t.type;return ii(["text","strong","emph","strike","image","link","code"],e)}function gT(t){return(t==null?void 0:t.type)==="softbreak"}function Dh(t){var e=t.type,r=t.literal,n=e==="htmlInline"&&r.match(Vf);if(n){var i=n[1],a=n[3],s=i||a;if(s)return ii(["ul","ol","li"],s.toLowerCase())}return!1}function eQe(t){var e=t.literal,r=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:r,checked:n}}function yT(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=document.createElement("div");n.innerHTML=tc(t);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function tQe(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=t[r]})}),e}var rQe={"b, strong":function(t,e,r){var n=t.schema.marks.strong;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"i, em":function(t,e,r){var n=t.schema.marks.emph;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"s, del":function(t,e,r){var n=t.schema.marks.strike;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},code:function(t,e,r){var n=t.schema.marks.code;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},a:function(t,e,r){var n=e.literal,i=t.schema.marks.link;if(r){var a=yT(n,"href")[0];t.openMark(i.create({linkUrl:a,rawHTML:r}))}else t.closeMark(i)},img:function(t,e,r){var n=e.literal;if(r){var i=yT(n,"src","alt"),a=i[0],s=i[1],u=t.schema.nodes.image;t.addNode(u,qe({rawHTML:r,imageUrl:a},s&&{altText:s}))}},hr:function(t,e,r){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:r})},br:function(t,e){var r=t.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;(n==null?void 0:n.type)==="paragraph"?(gT(i)&&t.openNode(r),gT(a)?t.closeNode():a&&(t.closeNode(),t.openNode(r))):(n==null?void 0:n.type)==="tableCell"&&(i&&(x0(i)||S0(t,i))&&t.closeNode(),a&&(x0(a)||S0(t,a))&&t.openNode(r))},pre:function(t,e,r){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var s=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:r}),t.addText(Xm(s)),t.closeNode()},"ul, ol":function(t,e,r){if(e.parent.type==="tableCell"){var n=t.schema.nodes,i=n.bulletList,a=n.orderedList,s=n.paragraph,u=r==="ul"?i:a;r?(e.prev&&!Dh(e.prev)&&t.closeNode(),t.openNode(u,{rawHTML:r})):(t.closeNode(),e.next&&!Dh(e.next)&&t.openNode(s))}},li:function(t,e,r){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=t.schema.nodes,a=i.listItem,s=i.paragraph;if(r){var u=eQe(e);e.prev&&!Dh(e.prev)&&t.closeNode(),t.openNode(a,qe({rawHTML:r},u)),e.next&&!Dh(e.next)&&t.openNode(s)}else e.prev&&!Dh(e.prev)&&t.closeNode(),t.closeNode()}}},nQe=tQe(rQe);function wT(t){return t.type==="htmlInline"&&i0.test(t.literal)}function OA(t){es(t.childNodes).forEach(function(e){if(iy(e)){var r=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",r),e.childNodes&&OA(e)}})}var kT={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,r,n){var i,a=r.entering;if(a){var s=t.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(t.openNode(s,n),t.closeNode()),t.openNode(s,n)}else t.closeNode()},heading:function(t,e,r,n){var i=r.entering;if(i){var a=e,s=a.level,u=a.headingType;t.openNode(t.schema.nodes.heading,qe({level:s,headingType:u},n))}else t.closeNode()},codeBlock:function(t,e,r){var n=t.schema.nodes.codeBlock,i=e,a=i.info,s=i.literal;t.openNode(n,qe({language:a},r)),t.addText(Xm(s||"")),t.closeNode()},list:function(t,e,r,n){var i=r.entering;if(i){var a=t.schema.nodes,s=a.bulletList,u=a.orderedList,c=e.listData,d=c.type,m=c.start;d==="bullet"?t.openNode(s,n):t.openNode(u,qe({order:m},n))}else t.closeNode()},item:function(t,e,r,n){var i=r.entering,a=t.schema.nodes.listItem,s=e.listData,u=s.task,c=s.checked;if(i){var d=qe(qe(qe({},u&&{task:u}),c&&{checked:c}),n);t.openNode(a,d)}else t.closeNode()},blockQuote:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.blockQuote,n):t.closeNode()},image:function(t,e,r,n){var i=r.entering,a=r.skipChildren,s=t.schema.nodes.image,u=e,c=u.destination,d=u.firstChild;i&&a&&a(),t.addNode(s,qe(qe({imageUrl:c},d&&{altText:d.literal}),n))},thematicBreak:function(t,e,r,n){t.addNode(t.schema.nodes.thematicBreak,n)},strong:function(t,e,r,n){var i=r.entering,a=t.schema.marks.strong;i?t.openMark(a.create(n)):t.closeMark(a)},emph:function(t,e,r,n){var i=r.entering,a=t.schema.marks.emph;i?t.openMark(a.create(n)):t.closeMark(a)},link:function(t,e,r,n){var i=r.entering,a=t.schema.marks.link,s=e,u=s.destination,c=s.title;if(i){var d=qe({linkUrl:u,title:c},n);t.openMark(a.create(d))}else t.closeMark(a)},softbreak:function(t,e){if(e.parent.type==="paragraph"){var r=e.prev,n=e.next;r&&!wT(r)&&t.closeNode(),n&&!wT(n)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.table,n):t.closeNode()},tableHead:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableHead,n):t.closeNode()},tableBody:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableBody,n):t.closeNode()},tableRow:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableRow,n):t.closeNode()},tableCell:function(t,e,r){var n=r.entering;if(!e.ignored){var i=function(N){return N&&(x0(N)||S0(t,N))};if(n){var a=t.schema.nodes,s=a.tableHeadCell,u=a.tableBodyCell,c=a.paragraph,d=e.parent.parent,m=d.type==="tableHead"?s:u,w=d.parent,T=(w.columns[e.startIdx]||{}).align,M=qe({},e.attrs);T&&(M.align=T),t.openNode(m,M),i(e.firstChild)&&t.openNode(c)}else i(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,r,n){var i=r.entering,a=t.schema.marks.strike;i?t.openMark(a.create(n)):t.closeMark(a)},code:function(t,e,r,n){var i=t.schema.marks.code;t.openMark(i.create(n)),t.addText(Xm(e.literal||"")),t.closeMark(i)},customBlock:function(t,e){var r=t.schema.nodes,n=r.customBlock,i=r.paragraph,a=e,s=a.info,u=a.literal;t.openNode(n,{info:s}),t.addText(Xm(u||"")),t.closeNode(),e.next||(t.openNode(i),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var r=e.literal,n=r.match(Vf),i=n[1],a=n[3],s=(i||a).toLowerCase(),u=t.schema.marks[s],c=tc(r);if(u!=null&&u.spec.attrs.htmlInline)if(i){var d=w0(c);t.openMark(u.create({htmlAttrs:d}))}else t.closeMark(u);else{var m=nQe[s];m&&m(t,e,i)}},htmlBlock:function(t,e){var r=e.literal,n=document.createElement("div"),i=zce.test(r);if(i)t.openNode(t.schema.nodes.htmlComment),t.addText(e.literal),t.closeNode();else{var a=r.match(Vf),s=a[1],u=a[3],c=(s||u).toLowerCase(),d=t.schema.nodes[c],m=tc(r);if(d!=null&&d.spec.attrs.htmlBlock){var w=w0(m),T=sA(e,c);t.addNode(d,{htmlAttrs:w,childrenHTML:T})}else n.innerHTML=m,OA(n),t.convertByDOMParser(n)}},customInline:function(t,e,r){var n=r.entering,i=r.skipChildren,a=e,s=a.info,u=a.firstChild,c=t.schema;if(s.indexOf("widget")!==-1&&n){var d=YN(e);i(),t.addNode(c.nodes.widget,{info:s},[c.text(QN(s,d))])}else{var m="$$";n&&(m+=u?s+" ":s),t.addText(m)}}};function iQe(t){var e=Object.keys(t),r=qe({},kT),n=new Rk({gfm:!0,nodeId:!0,convertors:t}),i=n.getConvertors();return e.forEach(function(a){var s=kT[a];s&&!ii(["htmlBlock","htmlInline"],a)&&(r[a]=function(u,c,d){d.origin=function(){return i[a](c,d,i)};var m=t[a](c,d),w;if(m){var T=Array.isArray(m)?m[0]:m,M=T.attributes,N=T.classNames;w={htmlAttrs:M,classNames:N}}s(u,c,d,w)})}),r}function aQe(t,e){return t.isText&&e.isText&&xr.sameSet(t.marks,e.marks)?t.withText(t.text+e.text):!1}var oQe=function(){function t(e,r){this.schema=e,this.convertors=r,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=xr.none}return t.prototype.top=function(){return bi(this.stack)},t.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},t.prototype.addText=function(e){if(e){var r=this.top().content,n=bi(r),i=this.schema.text(e,this.marks),a=n&&aQe(n,i);a?r[r.length-1]=a:r.push(i)}},t.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},t.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},t.prototype.addNode=function(e,r,n){var i=e.createAndFill(r,n,this.marks);return i?(this.push(i),i):null},t.prototype.openNode=function(e,r){this.stack.push({type:e,attrs:r,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=xr.none);var e=this.stack.pop(),r=e.type,n=e.attrs,i=e.content;return this.addNode(r,n,i)},t.prototype.convertByDOMParser=function(e){var r=this,n=Gu.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return r.push(i)})},t.prototype.closeUnmatchedHTMLInline=function(e,r){var n;if(!r&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var s=this.stack[a];if(!((n=s.attrs)===null||n===void 0)&&n.rawHTML)s.content.length?this.closeNode():this.stack.pop();else break}},t.prototype.convert=function(e,r){for(var n=e.walker(),i=n.next(),a=function(){var u=i.node,c=i.entering,d=s.convertors[u.type],m=!1;if(d){var w={entering:c,leaf:!kce(u),getChildrenText:bce,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){m=!0}};if(s.closeUnmatchedHTMLInline(u,c),d(s,u,w),(r==null?void 0:r.node)===u){var T=s.stack.reduce(function(M,N){return M+N.content.reduce(function(P,R){return P+R.nodeSize},0)},0)+1;r.setMappedPos(T)}}m&&(n.resumeAt(u,!1),n.next()),i=n.next()},s=this;i;)a()},t.prototype.convertNode=function(e,r){return this.convert(e,r),this.stack.length?this.closeNode():null},t}();function sQe(t,e,r){var n=r[0],i=r[1];t.write(n),t.convertInline(e),t.write(i)}function lQe(t,e,r){var n=e.node,i=e.parent,a=r[0],s=r[1];t.stopNewline=!0,t.write(a),t.convertNode(n),t.write(s),(i==null?void 0:i.type.name)==="doc"&&(t.closeBlock(n),t.stopNewline=!1)}function uQe(t,e){var r=t.length,n="",i="";return e==="left"?(n=":",r-=1):e==="right"?(i=":",r-=1):e==="center"&&(n=":",i=":",r-=2),""+n+yg("-",Math.max(r,3))+i}var T0={text:function(t,e){var r,n=e.node,i=(r=n.text)!==null&&r!==void 0?r:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?t.text(wg(i),!1):t.text(i)},paragraph:function(t,e){var r=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(t.stopNewline)t.convertInline(r);else{var s=a===0,u=!s&&n.child(a-1),c=u&&u.childCount===0,d=a<n.childCount-1&&n.child(a+1),m=d&&d.type.name==="paragraph",w=r.childCount===0;if(w&&c)t.write(`<br>
`);else if(w&&!c&&!s){if((n==null?void 0:n.type.name)==="listItem"){var T=t.getDelim();t.setDelim(""),t.write("<br>"),t.setDelim(T)}t.write(`
`)}else t.convertInline(r),m?t.write(`
`):t.closeBlock(r)}},heading:function(t,e,r){var n=e.node,i=r.delim,a=n.attrs.headingType;a==="atx"?(t.write(i+" "),t.convertInline(n),t.closeBlock(n)):(t.convertInline(n),t.ensureNewLine(),t.write(i),t.closeBlock(n))},codeBlock:function(t,e,r){var n=e.node,i=r.delim,a=r.text,s=i,u=s[0],c=s[1];t.write(u),t.ensureNewLine(),t.text(a,!1),t.ensureNewLine(),t.write(c),t.closeBlock(n)},blockQuote:function(t,e,r){var n=e.node,i=e.parent,a=r.delim;(i==null?void 0:i.type.name)===n.type.name&&t.flushClose(1),t.wrapBlock(a,null,n,function(){return t.convertNode(n)})},bulletList:function(t,e,r){var n=e.node,i=r.delim;t.convertList(n,yg(" ",4),function(){return i+" "})},orderedList:function(t,e){var r=e.node,n=r.attrs.order||1;t.convertList(r,yg(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(t,e){var r=e.node,n=r.attrs,i=n.task,a=n.checked;i&&t.write("["+(a?"x":" ")+"] "),t.convertNode(r)},image:function(t,e,r){var n=r.attrs;t.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(t,e,r){var n=e.node,i=r.delim;t.write(i),t.closeBlock(n)},table:function(t,e){var r=e.node;t.convertNode(r),t.closeBlock(r)},tableHead:function(t,e,r){var n=e.node,i=r.delim,a=n.firstChild;t.convertNode(n);var s=i??"";!i&&a&&a.forEach(function(u){var c=u.textContent,d=u.attrs,m=uQe(c,d.align);s+="| "+m+" "}),t.write(s+"|"),t.ensureNewLine()},tableBody:function(t,e){var r=e.node;t.convertNode(r)},tableRow:function(t,e){var r=e.node;t.convertNode(r),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,r){var n=e.node,i=r.delim,a=i===void 0?"| ":i;t.write(a),t.convertTableCell(n),t.write(" ")},tableBodyCell:function(t,e,r){var n=e.node,i=r.delim,a=i===void 0?"| ":i;t.write(a),t.convertTableCell(n),t.write(" ")},customBlock:function(t,e,r){var n=e.node,i=r.delim,a=r.text,s=i,u=s[0],c=s[1];t.write(u),t.ensureNewLine(),t.text(a,!1),t.ensureNewLine(),t.write(c),t.closeBlock(n)},frontMatter:function(t,e,r){var n=e.node,i=r.text;t.text(i,!1),t.closeBlock(n)},widget:function(t,e,r){var n=r.text;t.write(n)},html:function(t,e,r){var n=e.node,i=r.text;t.write(i),n.attrs.htmlBlock&&t.closeBlock(n)},htmlComment:function(t,e,r){var n=e.node,i=r.text;t.write(i),t.closeBlock(n)}};function cQe(t,e){var r=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?Qu(t,["heading","codeBlock"])>-1?sQe(r,n.node,a):Qu(t,["image","thematicBreak"])>-1?r.write(a):lQe(r,n,a):T0[t](r,n,i)}function bT(t,e){var r=t.text,n=/`+/g,i=0;if(t.isText&&r)for(var a=n.exec(r);a;)i=Math.max(i,a[0].length),a=n.exec(r);for(var s=i>0&&e>0?" `":"`",u=0;u<i;u+=1)s+="`";return i>0&&e<0&&(s+=" "),s}function ro(t){return t?["<"+t+">","</"+t+">"]:null}function Lh(t){return t?"<"+t+">":null}function Rh(t){return t?"</"+t+">":null}var Ih={heading:function(t){var e=t.node,r=e.attrs,n=r.level,i=yg("#",n);return r.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:ro(r.rawHTML)}},codeBlock:function(t){var e=t.node,r=e,n=r.attrs,i=r.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:ro(n.rawHTML),text:i}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:ro(e.attrs.rawHTML)}},bulletList:function(t,e){var r=t.node,n=e.inTable,i=r.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:ro(i)}},orderedList:function(t,e){var r=t.node,n=e.inTable,i=r.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:ro(i)}},listItem:function(t,e){var r=t.node,n=e.inTable,i=r.attrs,a=i.task,s=i.checked,u=r.attrs.rawHTML;n&&(u=u||"li");var c=a?' class="task-list-item'+(s?" checked":"")+'"':"",d=a?" data-task"+(s?" data-task-checked":""):"";return{rawHTML:u?["<"+u+c+d+">","</"+u+">"]:null}},table:function(t){var e=t.node;return{rawHTML:ro(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:ro(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:ro(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:ro(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:ro(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:ro(e.attrs.rawHTML)}},image:function(t){var e=t.node,r=e.attrs,n=r.rawHTML,i=r.altText,a=r.imageUrl.replace(/&amp;/g,"&"),s=i?' alt="'+Ef(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+Ef(a)+'"'+s+">":null,attrs:{altText:wg(i||""),imageUrl:a}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:Lh(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,r=e,n=r.attrs,i=r.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"**",rawHTML:n?Lh(i):Rh(i)}},emph:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"*",rawHTML:n?Lh(i):Rh(i)}},strike:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"~~",rawHTML:n?Lh(i):Rh(i)}},link:function(t,e){var r=t.node,n=e.entering,i=r.attrs,a=i.title,s=i.rawHTML,u=i.linkUrl.replace(/&amp;/g,"&"),c=a?' title="'+Ef(a)+'"':"";return n?{delim:"[",rawHTML:s?"<"+s+' href="'+Ef(u)+'"'+c+">":null}:{delim:"]("+u+(a?" "+uce(wg(a)):"")+")",rawHTML:Rh(s)}},code:function(t,e){var r=t.node,n=t.parent,i=t.index,a=i===void 0?0:i,s=e.entering,u=s?bT(n.child(a),-1):bT(n.child(a-1),1),c=s?Lh(r.attrs.rawHTML):Rh(r.attrs.rawHTML);return{delim:u,rawHTML:c}},htmlComment:function(t){var e=t.node;return{text:e.textContent}},html:function(t,e){var r=t.node,n=e.entering,i=r.type.name,a=r.attrs.htmlAttrs,s="<"+i,u="</"+i+">";return Object.keys(a).forEach(function(c){s+=" "+c+'="'+a[c].replace(/"/g,"'")+'"'}),s+=">",r.attrs.htmlInline?{rawHTML:n?s:u}:{text:""+s+r.attrs.childrenHTML+u}}},CT={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function fQe(t){var e={},r=Object.keys(T0);return r.forEach(function(n){e[n]=function(i,a){var s=T0[n];if(s){var u=t[n],c=u?u(a,{inTable:i.inTable}):{};cQe(n,{state:i,nodeInfo:a,params:c})}}}),e}function dQe(t){var e={},r=Object.keys(CT);return r.forEach(function(n){e[n]=function(i,a){var s=CT[n],u=t[n],c=u&&i&&!ho(a),d=c?u(i,{entering:a}):{};return qe(qe({},d),s)}}),e}function hQe(t){var e=Object.keys(t);e.forEach(function(i){var a=Ih[i],s=t[i];a?Ih[i]=function(u,c){return c.origin=function(){return a(u,c)},s(u,c)}:Ih[i]=s,delete t[i]});var r=fQe(Ih),n=dQe(Ih);return{nodeTypeConvertors:r,markTypeConvertors:n}}var pQe=function(){function t(e){var r=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=r,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(e){var r=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[r]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(e,r,n,i){var a=this.getMarkConvertor(e);if(a){var s=a({node:e,parent:n,index:i},r),u=s.delim,c=s.rawHTML;return c||u}return""},t.prototype.setDelim=function(e){this.delim=e},t.prototype.getDelim=function(){return this.delim},t.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var r=this.delim,n=/\s+$/.exec(r);n&&(r=r.slice(0,r.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=r+`
`}this.closed=!1}},t.prototype.wrapBlock=function(e,r,n,i){var a=this.getDelim();this.write(r||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},t.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},t.prototype.closeBlock=function(e){this.closed=e},t.prototype.text=function(e,r){r===void 0&&(r=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=r?lce(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},t.prototype.convertBlock=function(e,r,n){var i=e.type.name,a=this.nodeTypeConvertors[i],s={node:e,parent:r,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,s):a&&a(this,s)},t.prototype.convertInline=function(e){var r=this,n=[],i="",a=function(s,u,c){var d=s?s.marks:[],m=i;i="";var w=s&&s.isText&&d.some(function(je){var ct=r.getMarkConvertor(je),Ge=ct&&ct();return Ge&&Ge.removedEnclosingWhitespace});if(w&&s&&s.text){var T=/^(\s*)(.*?)(\s*)$/m.exec(s.text),M=T[1],N=T[2],P=T[3];m+=M,i=P,(M||P)&&(s=N?s.withText(N):null,s||(d=n))}for(var R=d.length&&bi(d),V=R&&r.getMarkConvertor(R),ee=V&&V(),te=ee&&ee.escape===!1,ne=d.length-(te?1:0),pe=0;pe<ne;pe+=1){var N=d[pe];if(ee&&!ee.mixable)break;for(var ue=0;ue<n.length;ue+=1){var be=n[ue];if(ee&&!ee.mixable)break;if(N.eq(be)){pe>ue?d=d.slice(0,ue).concat(N).concat(d.slice(ue,pe)).concat(d.slice(pe+1,ne)):ue>pe&&(d=d.slice(0,pe).concat(d.slice(pe+1,ue)).concat(N).concat(d.slice(ue,ne)));break}}}for(var Ne=0;Ne<Math.min(n.length,ne)&&d[Ne].eq(n[Ne]);)Ne+=1;for(;Ne<n.length;){var Ee=n.pop();Ee&&r.text(r.markText(Ee,!1,e,c),!1)}if(m&&r.text(m),s){for(;n.length<ne;){var N=d[n.length];n.push(N),r.text(r.markText(N,!0,e,c),!1)}te&&s.isText?r.text(r.markText(R,!0,e,c)+s.text+r.markText(R,!1,e,c+1),!1):r.convertBlock(s,e,c)}};e.forEach(a),a(null,null,e.childCount)},t.prototype.convertList=function(e,r,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var s=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,u=this.tightList;this.tightList=s,e.forEach(function(c,d,m){m&&s&&i.flushClose(1),i.wrapBlock(r,n(m),e,function(){return i.convertBlock(c,e,m)})}),this.tightList=u},t.prototype.convertTableCell=function(e){var r=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(ii(["bulletList","orderedList"],n.type.name))r.convertBlock(n,e,a),r.closed=!1;else if(r.convertInline(n),a<e.childCount-1){var s=e.child(a+1);s.type.name==="paragraph"&&r.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(e,r){var n=this;return e.forEach(function(i,a,s){if(n.convertBlock(i,e,s),(r==null?void 0:r.node)===i){var u=n.result.split(`
`);r.setMappedPos([u.length,bi(u).length+1])}}),this.result},t}(),vQe=function(){function t(e,r,n,i){var a=this;this.setMappedPos=function(s){a.mappedPosWhenConverting=s},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=iQe(n),this.toMdConvertors=hQe(r||{}),this.eventEmitter.listen("setFocusedNode",function(s){return a.focusedNode=s})}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(e){var r=new oQe(this.schema,this.toWwConvertors);return r.convertNode(e,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(e){var r=new pQe(this.toMdConvertors),n=r.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t}();function mQe(t){var e=t.plugin,r=t.eventEmitter,n=t.usageStatistics,i=t.instance,a={Plugin:na,PluginKey:Sp,Selection:ur,TextSelection:pr},s={Decoration:ea,DecorationSet:dn},u={Fragment:Ze},c={InputRule:jl,inputRules:VN,undoInputRule:nue},d={keymap:gp},m={eventEmitter:r,usageStatistics:n,instance:i,pmState:a,pmView:s,pmModel:u,pmRules:c,pmKeymap:d,i18n:tr};if(Zf(e)){var w=e[0],T=e[1],M=T===void 0?{}:T;return w(m,M)}return e(m)}function AA(t){var e=t.plugins,r=t.eventEmitter,n=t.usageStatistics,i=t.instance;return r.listen("mixinTableOffsetMapPrototype",KGe),(e??[]).reduce(function(a,s){var u=mQe({plugin:s,eventEmitter:r,usageStatistics:n,instance:i});if(!u)throw new Error("The return value of the executed plugin is empty.");var c=u.markdownParsers,d=u.toHTMLRenderers,m=u.toMarkdownRenderers,w=u.markdownPlugins,T=u.wysiwygPlugins,M=u.wysiwygNodeViews,N=u.markdownCommands,P=u.wysiwygCommands,R=u.toolbarItems;return d&&(a.toHTMLRenderers=kg(a.toHTMLRenderers,d)),m&&(a.toMarkdownRenderers=kg(a.toMarkdownRenderers,m)),w&&(a.mdPlugins=a.mdPlugins.concat(w)),T&&(a.wwPlugins=a.wwPlugins.concat(T)),M&&(a.wwNodeViews=qe(qe({},a.wwNodeViews),M)),N&&(a.mdCommands=qe(qe({},a.mdCommands),N)),P&&(a.wwCommands=qe(qe({},a.wwCommands),P)),R&&(a.toolbarItems=a.toolbarItems.concat(R)),c&&(a.markdownParsers=qe(qe({},a.markdownParsers),c)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var gQe="data-task",yQe="data-task-disabled",wQe="checked";function kQe(t){["htmlBlock","htmlInline"].forEach(function(e){t[e]&&Object.keys(t[e]).forEach(function(r){return oA(r)})})}var DA=function(){function t(e){var r=this;this.options=uk({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new NA;var n=GN(this.options.linkAttributes),i=AA({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,s=i.markdownParsers,u=this.options,c=u.customHTMLRenderer,d=u.extendedAutolinks,m=u.referenceDefinition,w=u.frontMatter,T=u.customHTMLSanitizer,M={linkAttributes:n,customHTMLRenderer:qe(qe({},a),c),extendedAutolinks:d,referenceDefinition:m,frontMatter:w,sanitizer:T||tc};kQe(M.customHTMLRenderer),this.options.events&&qf(this.options.events,function(te,ne){r.on(ne,te)});var N=this.options,P=N.el,R=N.initialValue,V=N.theme,ee=P.innerHTML;V!=="light"&&P.classList.add(Lt(V)),P.innerHTML="",this.toastMark=new rA("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:d,referenceDefinition:m,disallowDeepHeading:!0,frontMatter:w,customParser:s}),this.preview=new uA(this.eventEmitter,qe(qe({},M),{isViewer:!0})),xO(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),R?this.setMarkdown(R):ee&&this.preview.setHTML(ee),P.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(e){var r=e.target,n=getComputedStyle(r,":before");!r.hasAttribute(yQe)&&r.hasAttribute(gQe)&&yk(n,e.offsetX,e.offsetY)&&(wk(r,wQe),this.eventEmitter.emit("change",{source:"viewer",date:e}))},t.prototype.setMarkdown=function(e){var r=this.toastMark.getLineTexts(),n=r.length,i=bi(r),a=[n,i.length+1],s=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",s)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.destroy=function(){SO(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}();function Ym(t){return t instanceof Il}function LA(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return ii(e,t)}function bQe(t){var e=t.attrs,r=t.type,n=r.name,i={type:n,wysiwygNode:!0,literal:!LA(n)&&Ym(t)?t.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},s=a[n],u=qe(qe({},i),s),c=t.attrs,d=c.htmlAttrs,m=c.childrenHTML;return d?qe(qe({},u),{attrs:d,childrenHTML:m}):u}var CQe={openTag:function(t,e){var r=t,n=r.tagName,i=r.classNames,a=r.attributes,s=document.createElement(n),u={};i&&(s.className=i.join(" ")),a&&(u=qe(qe({},u),a)),bk(u,s),e.push(s)},closeTag:function(t,e){if(e.length>1){var r=e.pop();bi(e).appendChild(r)}},html:function(t,e){bi(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var r=document.createTextNode(t.content);bi(e).appendChild(r)}},SQe=function(){function t(e,r){var n=Ik(e,r),i=qe(qe({},r.htmlBlock),r.htmlInline);this.customConvertorKeys=Object.keys(r).concat(Object.keys(i)),this.renderer=new Rk({gfm:!0,convertors:qe(qe({},n),i)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(e){var r=bQe(e),n={entering:!0,leaf:Ym(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Ym(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(r,n,this.convertors),s=Zf(a)?a:[a];return(LA(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,s.push({type:"text",content:Ym(e)?e.textContent:""}),s=s.concat(i(r,n,this.convertors))),s},t.prototype.toDOMNode=function(e){var r=this.generateTokens(e),n=[];return r.forEach(function(i){return CQe[i.type](i,n)}),n[0]},t.prototype.getToDOMNode=function(e){return ii(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},t}(),xQe=100,TQe=15,qm=null,T1=null;function ST(t,e){var r=e.syncScrollTop,n=e.releaseEventBlock;T1&&clearTimeout(T1),r(t),T1=setTimeout(function(){n()},TQe)}function EQe(t,e,r){var n=e-t,i=Date.now(),a=function(){var s=Date.now(),u=(s-i)/xQe,c;qm&&clearTimeout(qm),u<1?(c=t+n*Math.cos((1-u)*Math.PI/2),ST(Math.ceil(c),r),qm=setTimeout(a,1)):(ST(e,r),qm=null)};a()}var MQe=18,NQe=function(){function t(e,r,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=r.previewContent,a=r.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(r,n){e.active&&(r==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():r==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(r){e.active=r})},t.prototype.getMdNodeAtPos=function(e,r){var n=e.content.findIndex(r.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},t.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),r=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=b1(this.previewRoot,r).el,a=Ag(i,this.previewRoot)||i.offsetTop,s=i.clientHeight,u=a+s-n*.5;this.latestEditorScrollTop=null;var c=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return c<n?null:u},t.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var r=this,n=r.editorView,i=r.previewEl,a=r.previewRoot,s=n.dom.getBoundingClientRect(),u=s.left,c=s.top,d=n.posAtCoords({left:u,top:c}),m=n.state.doc,w=this.getMdNodeAtPos(m,d);if(!(!w||hce(w))){var T=i.scrollTop,M=n.dom,N=M.scrollTop,P=M.scrollHeight,R=M.clientHeight,V=M.children,ee=P-N<=R+MQe,te=ee?i.scrollHeight:0;if(N&&!ee){if(e){var ne=this.getScrollTopByCaretPos();if(!ne)return;te=ne}else{var pe=b1(this.previewRoot,w),ue=pe.el,be=pe.mdNode,Ne=lT(m,be,V),Ee=Ne.height,je=Ne.rect,ct=Ag(ue,a)||ue.offsetTop,Ge=ue.clientHeight,Ct=c>je.top?Math.min((c-je.top)/Ee,1):0;te=ct+Ge*Ct}te=this.getResolvedScrollTop("editor",N,te,T),this.latestEditorScrollTop=N}te!==T&&this.run("editor",te,T)}},t.prototype.syncEditorScrollTop=function(e){var r=this,n=r.toastMark,i=r.editorView,a=r.previewRoot,s=r.previewEl,u=i.dom,c=i.state,d=s.scrollTop,m=s.clientHeight,w=s.scrollHeight,T=w-d<=m,M=u.scrollTop,N=T?u.scrollHeight:0;if(d&&e&&!T){if(e=xGe(e,a),!e.getAttribute("data-nodeid"))return;var P=u.children,R=Number(e.getAttribute("data-nodeid")),V=b1(this.previewRoot,n.findNodeById(R)),ee=V.mdNode,te=V.el,ne=Np(ee);N=P[ne-1].offsetTop;var pe=lT(c.doc,ee,P).height,ue=LGe(te,a,R),be=ue.nodeHeight,Ne=ue.offsetTop;N+=EGe(d,Ne,be,pe),N=this.getResolvedScrollTop("preview",d,N,M),this.latestPreviewScrollTop=d}N!==M&&this.run("preview",N,M)},t.prototype.getResolvedScrollTop=function(e,r,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<r?Math.max(n,i):Math.min(n,i)},t.prototype.run=function(e,r,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var s={syncScrollTop:function(u){return a.scrollTop=u},releaseEventBlock:function(){return i.blockedScroll=null}};EQe(n,r,s)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t}(),OQe={getPopupInitialValues:function(t,e){var r=e.popupName;return r==="link"?{linkText:t.getSelectedText()}:{}}};function AQe(t){t.eventEmitter.listen("query",function(e,r){return OQe[e](t,r)})}var RA=function(){function t(e){var r=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=uk({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,s=n.referenceDefinition,u=n.frontMatter,c=n.customMarkdownRenderer,d=n.useCommandShortcut,m=n.initialEditType,w=n.widgetRules,T=n.customHTMLSanitizer;this.mode=m||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=tr,this.i18n.setCode(this.options.language),this.eventEmitter=new NA,Sce(w);var M=GN(this.options.linkAttributes);this.pluginInfo=AA({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var N=this.pluginInfo,P=N.toHTMLRenderers,R=N.toMarkdownRenderers,V=N.mdPlugins,ee=N.wwPlugins,te=N.wwNodeViews,ne=N.mdCommands,pe=N.wwCommands,ue=N.markdownParsers,be={linkAttributes:M,customHTMLRenderer:kg(P,i),extendedAutolinks:a,referenceDefinition:s,frontMatter:u,sanitizer:T||tc},Ne=new SQe(M,be.customHTMLRenderer),Ee=gGe(be.customHTMLRenderer,be.sanitizer,Ne);this.toastMark=new rA("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:s,disallowDeepHeading:!0,frontMatter:u,customParser:ue}),this.mdEditor=new Tde(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:d,mdPlugins:V}),this.preview=new uA(this.eventEmitter,qe(qe({},be),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new VJe(this.eventEmitter,{toDOMAdaptor:Ne,useCommandShortcut:d,htmlSchemaMap:Ee,linkAttributes:M,wwPlugins:ee,wwNodeViews:te}),this.convertor=new vQe(this.wwEditor.getSchema(),qe(qe({},R),c),Ik(M,be.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new ZJe(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return r.mode}),this.options.usageStatistics&&ice(),this.scrollSync=new NQe(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(ne,pe),AQe(this),this.options.hooks&&qf(this.options.hooks,function(je,ct){return r.addHook(ct,je)}),this.options.events&&qf(this.options.events,function(je,ct){return r.on(ct,je)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var r=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(r)}}),Jce(this.eventEmitter)},t.prototype.addInitCommand=function(e,r){var n=this,i=function(a,s){Object.keys(s).forEach(function(u){n.addCommand(a,u,s[u])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",r)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new DA(e):new t(e)},t.setLanguage=function(e,r){tr.setLanguage(e,r)},t.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},t.prototype.exec=function(e,r){this.commandManager.exec(e,r)},t.prototype.addCommand=function(e,r,n){var i=this,a=function(s){s===void 0&&(s={});var u=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(s,u.state,u.dispatch,u)};this.commandManager.addCommand(e,r,a)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},t.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},t.prototype.setMarkdown=function(e,r){if(e===void 0&&(e=""),r===void 0&&(r=!0),this.mdEditor.setMarkdown(e,r),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,r)}},t.prototype.setHTML=function(e,r){e===void 0&&(e=""),r===void 0&&(r=!0);var n=document.createElement("div");n.innerHTML=Wce(e);var i=Gu.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),r):this.wwEditor.setModel(i,r)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var r=Ck(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return r.replace(n,"")}return r},t.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},t.prototype.setSelection=function(e,r){this.getCurrentModeEditor().setSelection(e,r)},t.prototype.replaceSelection=function(e,r,n){this.getCurrentModeEditor().replaceSelection(e,r,n)},t.prototype.deleteSelection=function(e,r){this.getCurrentModeEditor().deleteSelection(e,r)},t.prototype.getSelectedText=function(e,r){return this.getCurrentModeEditor().getSelectedText(e,r)},t.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},t.prototype.addWidget=function(e,r,n){this.getCurrentModeEditor().addWidget(e,r,n)},t.prototype.replaceWithWidget=function(e,r,n){this.getCurrentModeEditor().replaceWithWidget(e,r,n)},t.prototype.setHeight=function(e){var r=this.options.el;Ks(e)&&(e==="auto"?Ko(r,"auto-height"):so(r,"auto-height"),this.setMinHeight(this.getMinHeight())),Zo(r,{height:e}),this.height=e},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(e){if(e!==this.minHeight){var r=this.height||this.options.height;r!=="auto"&&this.options.el.querySelector("."+Lt("main"))&&(e=Math.min(parseInt(e,10),parseInt(r,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return this.mode==="markdown"},t.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(e,r){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!r)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!r){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&Hs(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},t.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(r,n){return e.off(n)})},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t.prototype.convertPosToMatchEditorMode=function(e,r,n){var i,a;r===void 0&&(r=e),n===void 0&&(n=this.mode);var s=this.mdEditor.view.state.doc,u=Array.isArray(e),c=Array.isArray(r),d=e,m=r;if(u!==c)throw new Error("Types of arguments must be same");return n==="markdown"&&!u&&!c?(i=Wm(s,e,r),d=i[0],m=i[1]):n==="wysiwyg"&&u&&c&&(a=Du(s,e,r),d=a[0],m=a[1]),[d,m]},t}();function DQe(t){for(var e,r,n=arguments,i=1,a="",s="",u=[0],c=function(m){i===1&&(m||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(m?n[m]:a):i===3&&(m||a)?(u[1]=m?n[m]:a,i=2):i===2&&a==="..."&&m?u[2]=vk(u[2]||{},n[m]):i===2&&a&&!m?(u[2]=u[2]||{})[a]=!0:i>=5&&(i===5?((u[2]=u[2]||{})[r]=m?a?a+n[m]:n[m]:a,i=6):(m||a)&&(u[2][r]+=m?a+n[m]:a)),a=""},d=0;d<t.length;d++){d&&(i===1&&c(),c(d));for(let m=0;m<t[d].length;m++)e=t[d][m],i===1?e==="<"?(c(),u=[u,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:s?e===s?s="":a+=e:e==='"'||e==="'"?s=e:e===">"?(c(),i=1):i&&(e==="="?(i=5,r=a,a=""):e==="/"&&(i<5||t[d][m+1]===">")?(c(),i===3&&(u=u[0]),i=u,(u=u[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(c(),i=2):a+=e),i===3&&a==="!--"&&(i=4,u=u[0])}return c(),u.length>2?u.slice(1):u[1]}function LQe(t){return typeof t=="boolean"||t instanceof Boolean}var RQe=LQe,IQe=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.walk=function(){var e=this,r=e.entering,n=e.current;return n?(r?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:r}):null},t}(),uo=function(){function t(e,r,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=r,this.children=n,this.props.children=n,r.ref&&(this.ref=r.ref,delete r.ref),r.key&&(this.key=r.key,delete r.key)}return t.prototype.walker=function(){return new IQe(this)},t.removalNodes=[],t}();function PQe(t){return new uo("TEXT_NODE",{nodeValue:t},[])}function xT(t,e){var r=t;RQe(t)||t==null?r=null:(Ks(t)||Hs(t))&&(r=PQe(String(t))),r&&e.push(r)}function BQe(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=[];return r.forEach(function(a){Array.isArray(a)?a.forEach(function(s){xT(s,i)}):xT(a,i)}),new uo(t,e||{},i)}var gr=DQe.bind(BQe);function _Qe(t){return t===Object(t)}var FQe=_Qe;function qQe(t){var e;return t.type==="TEXT_NODE"?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),PA(e,{},t.props)),e}function IA(t,e){t.node?e.removeChild(t.node):IA(t.firstChild,e)}function zQe(t,e,r){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!r[n]||e[n]!==r[n]){var i=n.slice(2).toLowerCase();t.removeEventListener(i,e[n])}}else n!=="children"&&!r[n]&&!Hce(t)&&t.removeAttribute(n)}),PA(t,e,r,function(n){return!fk(e[n],r[n])})}var HQe=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function PA(t,e,r,n){Object.keys(r).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();t.addEventListener(a,r[i])}else i==="nodeValue"?t[i]=r[i]:i==="style"&&FQe(r[i])?VQe(t,e[i],r[i]):i!=="children"&&(r[i]===!1?t.removeAttribute(i):t.setAttribute(i,r[i]))})}function VQe(t,e,r){e&&Object.keys(e).forEach(function(n){t.style[n]=""}),Object.keys(r).forEach(function(n){var i=r[n];t.style[n]=Hs(i)&&!HQe.test(n)?i+"px":i})}function _k(t){if(uo.removalNodes.forEach(function(a){return ET(a)}),t){for(var e=void 0,r=t.walker();e=r.walk();)if(t=e.vnode,e.entering)ET(t);else if(Ba(t.type)){var n=t.component;if(!t.old&&n.mounted&&n.mounted(),t.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function TT(t){for(var e=t.parent;!e.node;)e=e.parent;return e.node}function ET(t){if(!(!t||!t.parent)){if(t.node){var e=TT(t);t.effect==="A"?e.appendChild(t.node):t.effect==="U"&&zQe(t.node,t.old.props,t.props)}if(t.effect==="D"){for(var r=void 0,n=t.walker();r=n.walk();)if(t=r.vnode,!r.entering)if(Ba(t.type)){var i=t.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=TT(t);IA(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function $Qe(t,e){var r=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new t(r)}function BA(t){for(var e=t;t&&!t.skip;){if(Ba(t.type)){var r=$Qe(t.type,t);r.vnode=t,t.component=r,t.props.children=t.children=[r.render()],MT(t)}else t.node||(t.node=qQe(t)),MT(t);if(t.firstChild)t=t.firstChild;else{for(;t&&t.parent&&!t.next&&(t=t.parent,t!==e););t=t.next}}}function UQe(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function MT(t){var e=t.children,r=t.old?t.old.firstChild:null,n=null;e.forEach(function(a,s){var u=UQe(r,a);u&&(a.old=r,a.parent=t,a.node=r.node,a.component=r.component,a.effect="U"),a&&!u&&(a.old=null,a.parent=t,a.node=null,a.effect="A"),r&&!u&&(uo.removalNodes.push(r),r.effect="D"),r&&(r=r.next),s===0?t.firstChild=a:a&&(n.next=a),n=a});var i=bi(e);if(!e.length)for(;r;)uo.removalNodes.push(r),r.effect="D",r=r.next;for(;r&&i;)r&&i.old!==r&&(uo.removalNodes.push(r),r.effect="D",r=r.next)}function jQe(t){t.effect="D",uo.removalNodes=[t],_k(),uo.removalNodes=[]}function WQe(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),uo.removalNodes=[],BA(e),_k(e),e.next&&(e.next.skip=!1)}function GQe(t,e){var r=new uo(t.tagName.toLowerCase(),{},[e]);return r.node=t,uo.removalNodes=[],BA(r),_k(r),function(){return jQe(r.firstChild)}}var Si=function(){function t(e){this.props=e,this.state={},this.refs={}}return t.prototype.setState=function(e){var r=qe(qe({},this.state),e);fk(this.state,r)||(this.state=r,WQe(this))},t}(),KQe=function(t){Tt(e,t);function e(r){var n=t.call(this,r)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var r=this.props,n=r.editorType,i=r.eventEmitter;return gr(NT||(NT=mr([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),Lt("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},tr.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},tr.get("WYSIWYG"))},e}(Si),NT;function JQe(t,e){var r,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(r),r=window.setTimeout(function(){t.apply(null,n)},e)}return i}var QQe=JQe,XQe=QQe;function YQe(t,e){var r,n=!0,i=function(m){t.apply(null,m),r=null},a,s,u;e=e||0,a=XQe(i,e);function c(){if(u=Array.prototype.slice.call(arguments),n){i(u),n=!1;return}s=Number(new Date),r=r||s,a(u),s-r>=e&&i(u)}function d(){n=!0,r=null}return c.reset=d,c}var ZQe=YQe,_A=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var s=a[i];r.call(n,s[1],s[0])}},e}()}(),E0=typeof window<"u"&&typeof document<"u"&&window.document===document,Lg=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),eXe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Lg):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),tXe=2;function rXe(t,e){var r=!1,n=!1,i=0;function a(){r&&(r=!1,t()),n&&u()}function s(){eXe(a)}function u(){var c=Date.now();if(r){if(c-i<tXe)return;n=!0}else r=!0,n=!1,setTimeout(s,e);i=c}return u}var nXe=20,iXe=["top","right","bottom","left","width","height","size","weight"],aXe=typeof MutationObserver<"u",oXe=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=rXe(this.refresh.bind(this),nXe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!E0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),aXe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!E0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=iXe.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),FA=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Kf=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Lg},qA=dy(0,0,0,0);function Rg(t){return parseFloat(t)||0}function OT(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var a=t["border-"+i+"-width"];return n+Rg(a)},0)}function sXe(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var a=i[n],s=t["padding-"+a];r[a]=Rg(s)}return r}function lXe(t){var e=t.getBBox();return dy(0,0,e.width,e.height)}function uXe(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return qA;var n=Kf(t).getComputedStyle(t),i=sXe(n),a=i.left+i.right,s=i.top+i.bottom,u=Rg(n.width),c=Rg(n.height);if(n.boxSizing==="border-box"&&(Math.round(u+a)!==e&&(u-=OT(n,"left","right")+a),Math.round(c+s)!==r&&(c-=OT(n,"top","bottom")+s)),!fXe(t)){var d=Math.round(u+a)-e,m=Math.round(c+s)-r;Math.abs(d)!==1&&(u-=d),Math.abs(m)!==1&&(c-=m)}return dy(i.left,i.top,u,c)}var cXe=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Kf(t).SVGGraphicsElement}:function(t){return t instanceof Kf(t).SVGElement&&typeof t.getBBox=="function"}}();function fXe(t){return t===Kf(t).document.documentElement}function dXe(t){return E0?cXe(t)?lXe(t):uXe(t):qA}function hXe(t){var e=t.x,r=t.y,n=t.width,i=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(a.prototype);return FA(s,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),s}function dy(t,e,r,n){return{x:t,y:e,width:r,height:n}}var pXe=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=dy(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=dXe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),vXe=function(){function t(e,r){var n=hXe(r);FA(this,{target:e,contentRect:n})}return t}(),mXe=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new _A,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Kf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new pXe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Kf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new vXe(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),zA=typeof WeakMap<"u"?new WeakMap:new _A,HA=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=oXe.getInstance(),n=new mXe(e,r,this);zA.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){HA.prototype[t]=function(){var e;return(e=zA.get(this))[t].apply(e,arguments)}});var gXe=function(){return typeof Lg.ResizeObserver<"u"?Lg.ResizeObserver:HA}(),yXe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execCommand=function(r){var n=Jo(r.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var r=this;return gr(DT||(DT=mr([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return r.execCommand(n)},tr.get("Headings"),[1,2,3,4,5,6].map(function(n){return gr(AT||(AT=mr([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,tr.get("Heading"),n)}),tr.get("Paragraph"))},e}(Si),AT,DT,VA=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.toggleTab=function(r,n){this.props.onClick(r,n)},e.prototype.render=function(){var r=this;return gr(RT||(RT=mr([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),Lt("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,s=r.props.activeTab===i;return gr(LT||(LT=mr([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),s?" active":"",function(u){return r.toggleTab(u,i)},tr.get(a),s?"true":"false",s?"0":"-1",tr.get(a))}))},e}(Si),LT,RT,wXe="ui",kXe=function(t){Tt(e,t);function e(r){var n=t.call(this,r)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",so(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var r=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n!=null&&n.length){a="";var s=n.item(0),u=function(c,d){return r.props.execCommand("addImage",{imageUrl:c,altText:d||i.value})};this.props.eventEmitter.emit("addImageBlobHook",s,u,wXe)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var r=this.refs.url,n=this.refs.altText,i=r.value,a=n.value||"image";if(so(r,"wrong"),!i.length){Ko(r,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(r){r.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var r=this,n=this.state,i=n.activeTab,a=n.file,s=n.fileNameElClassName;return gr(IT||(IT=mr([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),tr.get("Insert image"),VA,this.tabs,i,this.toggleTab,i==="url"?"block":"none",tr.get("Image URL"),function(u){return r.refs.url=u},i==="file"?"block":"none",tr.get("Select image file"),Lt("file-name"),a?" has-file":s,this.showFileSelectBox,this.preventSelectStart,a?a.name:tr.get("No file"),Lt("file-select-button"),this.showFileSelectBox,tr.get("Choose a file"),this.changeFile,function(u){return r.refs.file=u},tr.get("Description"),function(u){return r.refs.altText=u},Lt("button-container"),Lt("close-button"),this.props.hidePopup,tr.get("Cancel"),Lt("ok-button"),this.execCommand,tr.get("OK"))},e}(Si),IT,bXe=function(t){Tt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.execCommand=function(){var n=r.refs.url,i=r.refs.text;if(so(n,"wrong"),so(i,"wrong"),n.value.length<1){Ko(n,"wrong");return}var a=ho(r.props.initialValues.linkUrl);if(a&&i.value.length<1){Ko(i,"wrong");return}r.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},r}return e.prototype.initialize=function(){var r=this.props.initialValues,n=r.linkUrl,i=r.linkText,a=this.refs.url,s=this.refs.text;so(a,"wrong"),so(s,"wrong","disabled"),s.removeAttribute("disabled"),n&&(Ko(s,"disabled"),s.setAttribute("disabled","disabled")),a.value=n||"",s.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(r){!r.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var r=this;return gr(PT||(PT=mr([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),tr.get("Insert link"),tr.get("URL"),function(n){return r.refs.url=n},tr.get("Link text"),function(n){return r.refs.text=n},Lt("button-container"),Lt("close-button"),this.props.hidePopup,tr.get("Cancel"),Lt("ok-button"),this.execCommand,tr.get("OK"))},e}(Si),PT,BT=20,_T=20,FT=5,qT=14,zT=5,HT=9,CXe=1,SXe=1,VT=1,xXe=function(t){Tt(e,t);function e(r){var n=t.call(this,r)||this;return n.extendSelectionRange=function(i){var a=i.pageX,s=i.pageY,u=a-n.offsetRect.left,c=s-n.offsetRect.top,d=n.getSelectionRangeByOffset(u,c);n.setState(qe({},d))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(r,n){return{width:(r+1)*BT,height:(n+1)*_T}},e.prototype.getRangeByOffset=function(r,n){return{colIdx:Math.floor(r/BT),rowIdx:Math.floor(n/_T)}},e.prototype.getTableRange=function(){var r=this.state,n=r.colIdx,i=r.rowIdx,a=Math.max(n,zT),s=Math.max(i,FT);return n>=zT&&a<HT&&(a+=1),i>=FT&&s<qT&&(s+=1),{colIdx:a+1,rowIdx:s+1}},e.prototype.getSelectionAreaBound=function(){var r=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=r.width,i=r.height;return!n&&!i?{display:"none"}:{width:n-VT,height:i-VT,display:"block"}},e.prototype.getSelectionRangeByOffset=function(r,n){var i=this.getRangeByOffset(r,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,CXe),qT),i.colIdx=Math.min(Math.max(i.colIdx,SXe),HT),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var r=this.refs.tableEl.getBoundingClientRect(),n=r.left,i=r.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(r){for(var n=r.colIdx,i=r.rowIdx,a=[],s=0;s<i;s+=1){for(var u=[],c=0;c<n;c+=1){var d=""+Lt("table-cell")+(s>0?"":" header");u.push(gr($T||($T=mr(['<div class="','"></div>'],['<div class="','"></div>'])),d))}a.push(gr(UT||(UT=mr(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Lt("table-row"),u))}return gr(jT||(jT=mr(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Lt("table"),a)},e.prototype.render=function(){var r=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return gr(WT||(WT=mr([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),tr.get("Insert table"),Lt("table-selection"),function(a){return r.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),Lt("table-selection-layer"),i,Lt("table-description"),this.getDescription())},e}(Si),$T,UT,jT,WT,TXe=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(r){this.refs.el.replaceChild(this.props.body,r.body)},e.prototype.render=function(){var r=this;return gr(GT||(GT=mr(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return r.refs.el=n})},e}(Si),GT;function M0(t){return Ks(t)?MXe(t):t}function EXe(){var t=document.createElement("label"),e=document.createElement("input"),r=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,r.className="switch";var n=function(i){return e.addEventListener("change",function(a){var s=a.target.checked;s?Ko(t,"active"):so(t,"active"),i("toggleScrollSync",{active:s})})};return t.appendChild(e),t.appendChild(r),{name:"scrollSync",el:t,onMounted:n}}function MXe(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:tr.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:tr.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:tr.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:tr.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:tr.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:tr.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:tr.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:tr.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:tr.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:tr.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:tr.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:tr.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:tr.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:tr.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:tr.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:tr.get("Outdent"),state:"outdent"};break;case"scrollSync":e=EXe();break;case"more":e={name:"more",className:"more",tooltip:tr.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+Lt("toolbar-icons")),e}function Fk(t,e){var r=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(t){case"heading":return{render:function(s){return gr(KT||(KT=mr(["<"," ..."," />"],["<"," ..."," />"])),yXe,s)},className:Lt("popup-add-heading"),fromEl:r,pos:n};case"link":return{render:function(s){return gr(JT||(JT=mr(["<"," ..."," />"],["<"," ..."," />"])),bXe,s)},className:Lt("popup-add-link"),fromEl:r,pos:n,initialValues:a};case"image":return{render:function(s){return gr(QT||(QT=mr(["<"," ..."," />"],["<"," ..."," />"])),kXe,s)},className:Lt("popup-add-image"),fromEl:r,pos:n};case"table":return{render:function(s){return gr(XT||(XT=mr(["<"," ..."," />"],["<"," ..."," />"])),xXe,s)},className:Lt("popup-add-table"),fromEl:r,pos:n};case"customPopupBody":return i?qe({render:function(s){return gr(YT||(YT=mr(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),TXe,s,i.body)},fromEl:r,pos:n},i):null;default:return null}}function Ig(t){t.hidden=t.length===t.filter(function(e){return e.hidden}).length}function NXe(t,e){var r=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return t.reduce(function(n,i){n.push(i.map(function(s){return r(M0(s))}));var a=n[(n.length||1)-1];return a&&Ig(a),n},[])}function OXe(t,e){t.forEach(function(r){r.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),Ig(r)})}var KT,JT,QT,XT,YT,AXe=20,DXe=function(t){Tt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handleMousedown=function(n){!Jo(n.target,"."+Lt("popup"))&&!Jo(n.target,r.props.info.fromEl)&&r.props.hidePopup()},r}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(r){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&r.show!==i){var s=qe({},a.pos),u=this.refs.el.offsetWidth,c=Jo(this.refs.el,"."+Lt("toolbar")),d=c.offsetWidth;s.left+u>=d&&(s.left=d-u-AXe),fk(this.state.popupPos,s)||this.setState({popupPos:s})}},e.prototype.render=function(){var r=this,n=this.props,i=n.info,a=n.show,s=n.hidePopup,u=n.eventEmitter,c=n.execCommand,d=i||{},m=d.className,w=m===void 0?"":m,T=d.style,M=d.render,N=d.initialValues,P=N===void 0?{}:N,R=qe(qe({display:a?"block":"none"},T),this.state.popupPos);return gr(ZT||(ZT=mr([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),Lt("popup"),w,R,function(V){return r.refs.el=V},Lt("popup-body"),M&&M({eventEmitter:u,show:a,hidePopup:s,execCommand:c,initialValues:P}))},e}(Si),ZT,eE=6;function qk(t){return function(e){Tt(r,e);function r(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var s=i.props.item.tooltip;if(!i.props.disabled&&s){var u=i.getBound(a),c=u.left+eE+"px",d=u.top+eE+"px";Zo(i.props.tooltipRef.current,{display:"block",left:c,top:d}),i.props.tooltipRef.current.querySelector(".text").textContent=s}},i.hideTooltip=function(){Zo(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return r.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,s=i.eventEmitter;a.state&&s.listen("changeToolbarState",function(u){var c,d=u.toolbarState,m=(c=d[a.state])!==null&&c!==void 0?c:{},w=m.active,T=m.disabled;n.setState({active:!!w,disabled:T??n.props.disabled})})},r.prototype.getBound=function(n){var i=lO(n,Jo(n,"."+Lt("toolbar"))),a=i.offsetLeft,s=i.offsetTop;return{left:a,top:n.offsetHeight+s}},r.prototype.render=function(){return gr(tE||(tE=mr([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},r}(Si)}var tE,LXe=80,RXe=function(t){Tt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.execCommand=function(){var n=r.props,i=n.item,a=n.execCommand,s=n.setPopupInfo,u=n.getBound,c=n.eventEmitter,d=i.command,m=i.name,w=i.popup;if(d)a(d);else{var T=w?"customPopupBody":m,M=c.emit("query","getPopupInitialValues",{popupName:T})[0],N=Fk(T,{el:r.refs.el,pos:u(r.refs.el),popup:w,initialValues:M});N&&s(N)}},r}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(r){r.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var r=this.props,n=r.setItemWidth,i=r.item;n&&n(i.name,kk(this.refs.el)+(i.hidden?LXe:0))},e.prototype.render=function(){var r=this,n=this.props,i=n.hideTooltip,a=n.disabled,s=n.item,u=n.active,c=qe({display:s.hidden?"none":null},s.style),d=""+(s.className||"")+(u?" active":"");return gr(rE||(rE=mr([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(m){return r.refs.el=m},c,d,this.execCommand,this.showTooltip,i,!!a,s.text||s.tooltip||"",s.text||"")},e}(Si),IXe=qk(RXe),rE,PXe=function(t){Tt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.showPopup=function(){var n=Fk("customPopupBody",{el:r.refs.el,pos:r.props.getBound(r.refs.el),popup:r.props.item.popup});n&&r.props.setPopupInfo(n)},r}return e.prototype.mounted=function(){var r=this.props,n=r.setItemWidth,i=r.item;this.refs.el.appendChild(i.el),n&&n(i.name,kk(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(r){var n,i=this.props,a=i.item,s=i.active,u=i.disabled;(r.active!==s||r.disabled!==u)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:s,disabled:u}))},e.prototype.render=function(){var r=this,n=this.props,i=n.disabled,a=n.item,s={display:a.hidden?"none":"inline-block"},u=function(c){return i?null:c};return gr(nE||(nE=mr([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(c){return r.refs.el=c},s,Lt("toolbar-item-wrapper"),u(this.showPopup),u(this.showTooltip),u(this.props.hideTooltip))},e}(Si),BXe=qk(PXe),nE,$A=function(t){Tt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this,n=this.props,i=n.group,a=n.hiddenDivider,s=i.hidden?{display:"none"}:null,u=a?{display:"none"}:null;return gr(aE||(aE=mr([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),Lt("toolbar-group"),s,i.map(function(c){var d=c.el?BXe:IXe;return gr(iE||(iE=mr(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),d,c.name,r.props,c)}),Lt("toolbar-divider"),u)},e}(Si),iE,aE,_Xe=4,FXe=function(t){Tt(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(i){var a=i.target;!Jo(a,"."+Lt("dropdown-toolbar"))&&!Jo(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var r=this.props.getBound(this.refs.el);return r.top+=_Xe,qe(qe({},r),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var r=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,s=this.props,u=s.disabled,c=s.item,d=s.items,m=s.hideTooltip,w=d.filter(function(N){return!N.hidden}),T=w.length?null:{display:"none"},M=i?null:{display:"none"};return gr(sE||(sE=mr([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),Lt("toolbar-group"),T,function(N){return r.refs.el=N},c.className,function(){return r.setState({showDropdown:!0})},this.showTooltip,m,u,Lt("dropdown-toolbar"),qe(qe({},M),a),function(N){return r.refs.dropdownEl=N},w.length?w.map(function(N,P){var R;return gr(oE||(oE=mr([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),$A,N,P===w.length-1||((R=w[P+1])===null||R===void 0?void 0:R.hidden),r.props)}):null)},e}(Si),qXe=qk(FXe),oE,sE,zXe=50,HXe=function(t){Tt(e,t);function e(r){var n=t.call(this,r)||this;return n.toggleTab=function(i,a){var s=n.props.eventEmitter;if(n.state.activeTab!==a){var u=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";s.emit(u),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var s=n.refs.el.querySelector("."+Lt("toolbar-group")+" ."+i);if(s){var u=lO(s,Jo(s,"."+Lt("toolbar"))),c=u.offsetLeft,d=u.offsetTop,m=Fk(i,{el:s,pos:{left:c,top:s.offsetHeight+d},initialValues:a});m&&n.setPopupInfo(m)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var s=n.props.eventEmitter;s.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=NXe(r.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new gXe(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(r,n){var i=r.groupIndex,a=r.itemIndex,s=this.initialItems[i];n=M0(n),s?s.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(r){var n=this;zf(this.initialItems,function(i){var a=!1;return zf(i,function(s,u){return s.name===r?(a=!0,i.splice(u,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var r=this,n=this.props.eventEmitter;this.handleResize=ZQe(function(){r.setState({items:r.initialItems,dropdownItems:[]}),r.setState(r.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var r='<div class="'+Lt("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=sO(r,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(r,n,i,a){var s=function(c){var d=c.pop();d&&a.push(d)};if(r>1)s(i);else{var u=bi(n);u&&s(u)}},e.prototype.classifyToolbarItems=function(){var r=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+Lt("toolbar-divider")),s=a?kk(a):0,u=[],c=[],d=!1;return this.initialItems.forEach(function(m,w){var T=[],M=[];m.forEach(function(N,P){N.hidden||(n+=r.itemWidthMap[N.name],n>i-zXe?(d||(r.movePrevItemToDropdownToolbar(P,u,T,M),d=!0),M.push(N)):T.push(N))}),T.length&&(Ig(T),u.push(T)),M.length&&(Ig(M),c.push(M)),w<r.state.items.length-1&&(n+=s)}),{items:u,dropdownItems:c}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(r){var n=this.props,i=n.editorType,a=n.previewStyle,s=n.eventEmitter,u=a!==r.previewStyle,c=i!==r.editorType;if(u||c){OXe(this.initialItems,this.hiddenScrollSync());var d=this.classifyToolbarItems();(u||a==="tab"&&i==="markdown")&&(s.emit("changePreviewTabWrite"),d.activeTab="write"),this.setState(d)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Yu(this.tooltipRef.current)},e.prototype.render=function(){var r=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,s=n.editorType,u=this.state,c=u.popupInfo,d=u.showPopup,m=u.activeTab,w=u.items,T=u.dropdownItems,M={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:s==="markdown"&&i==="tab"&&m==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},N=i==="tab"?{borderTopLeftRadius:0}:null;return gr(uE||(uE=mr([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),Lt("toolbar"),Lt("md-tab-container"),s==="wysiwyg"||i==="vertical"?"none":"block",VA,this.tabs,m,this.toggleTab,Lt("defaultUI-toolbar"),function(P){return r.refs.el=P},N,w.map(function(P,R){var V;return gr(lE||(lE=mr([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),$A,P,R===w.length-1||((V=w[R+1])===null||V===void 0?void 0:V.hidden),r.setItemWidth,M)}),qXe,M0("more"),T,M,DXe,c,d,a,this.hidePopup,this.execCommand)},e}(Si),lE,uE,VXe=function(t){Tt(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(i){Jo(i.target,"."+Lt("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var r=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;r.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var r=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(s,u){var c=[];return u.forEach(function(d){var m=d.label,w=d.className,T=w===void 0?!1:w,M=d.disabled,N=d.onClick,P=function(){M||(N(),r.setState({pos:null}))};c.push(gr(cE||(cE=mr([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),P,M?" disabled":"",T,m))}),s.push(gr(fE||(fE=mr([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),c)),s},[]):[]},e.prototype.render=function(){var r=qe({display:this.state.pos?"block":"none"},this.state.pos);return gr(dE||(dE=mr(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),Lt("context-menu"),r,this.getMenuGroupElements())},e}(Si),cE,fE,dE,$Xe=function(t){Tt(e,t);function e(r){var n=t.call(this,r)||this;n.changeMode=function(s){s!==n.state.editorType&&n.setState({editorType:s})},n.changePreviewStyle=function(s){s!==n.state.previewStyle&&n.setState({previewStyle:s})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=r.editorType,a=r.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var r=this.props.slots,n=r.wwEditor,i=r.mdEditor,a=r.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(r,n){this.toolbar.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.toolbar.removeToolbarItem(r)},e.prototype.render=function(){var r=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,s=n.toolbarItems,u=n.theme,c=this.state,d=c.hide,m=c.previewStyle,w=c.editorType,T=d?" hidden":"",M=Lt(w==="markdown"?"md-mode":"ww-mode"),N=Lt("md")+"-"+m+"-style",P=Lt([u!=="light",u+" "]);return gr(pE||(pE=mr([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),P,Lt("defaultUI"),T,function(R){return r.refs.el=R},HXe,function(R){return r.toolbar=R},i,m,s,w,Lt("main"),M,function(R){return r.refs.editorSection=R},Lt("main-container"),Lt("md-container"),N,function(R){return r.refs.mdContainer=R},Lt("md-splitter"),Lt("ww-container"),function(R){return r.refs.wwContainer=R},!a&&gr(hE||(hE=mr(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),KQe,i,w),VXe,i)},e.prototype.addEvent=function(){var r=this.props.eventEmitter;r.listen("hide",this.hide),r.listen("show",this.show),r.listen("changeMode",this.changeMode),r.listen("changePreviewStyle",this.changePreviewStyle)},e}(Si),hE,pE,UXe=function(t){Tt(e,t);function e(r){var n,i=t.call(this,r)||this,a,s=GQe(i.options.el,gr(vE||(vE=mr([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),$Xe,function(u){return a=u},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:s},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(u){var c=u.groupIndex,d=u.itemIndex,m=u.item;i.defaultUI.insertToolbarItem({groupIndex:c,itemIndex:d},m)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(r){return r.viewer?new DA(r):new e(r)},e.prototype.insertToolbarItem=function(r,n){this.defaultUI.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.defaultUI.removeToolbarItem(r)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e}(RA),vE;RA.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var E1={exports:{}},Xi={},Aa={},Ii={},M1,mE;function jXe(){if(mE)return M1;mE=1;function t(e){this.content=e}return t.prototype={constructor:t,find:function(e){for(var r=0;r<this.content.length;r+=2)if(this.content[r]===e)return r;return-1},get:function(e){var r=this.find(e);return r==-1?void 0:this.content[r+1]},update:function(e,r,n){var i=n&&n!=e?this.remove(n):this,a=i.find(e),s=i.content.slice();return a==-1?s.push(n||e,r):(s[a+1]=r,n&&(s[a]=n)),new t(s)},remove:function(e){var r=this.find(e);if(r==-1)return this;var n=this.content.slice();return n.splice(r,2),new t(n)},addToStart:function(e,r){return new t([e,r].concat(this.remove(e).content))},addToEnd:function(e,r){var n=this.remove(e).content.slice();return n.push(e,r),new t(n)},addBefore:function(e,r,n){var i=this.remove(r),a=i.content.slice(),s=i.find(e);return a.splice(s==-1?a.length:s,0,r,n),new t(a)},forEach:function(e){for(var r=0;r<this.content.length;r+=2)e(this.content[r],this.content[r+1])},prepend:function(e){return e=t.from(e),e.size?new t(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=t.from(e),e.size?new t(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var r=this;e=t.from(e);for(var n=0;n<e.content.length;n+=2)r=r.remove(e.content[n]);return r},toObject:function(){var e={};return this.forEach(function(r,n){e[r]=n}),e},get size(){return this.content.length>>1}},t.from=function(e){if(e instanceof t)return e;var r=[];if(e)for(var n in e)r.push(n,e[n]);return new t(r)},M1=t,M1}var gE;function hy(){if(gE)return Ii;gE=1;function t($,I){var C=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!C){if(Array.isArray($)||(C=e($))||I){C&&($=C);var O=0,_=function(){};return{s:_,n:function(){return O>=$.length?{done:!0}:{done:!1,value:$[O++]}},e:function(Ie){throw Ie},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var K=!0,Y=!1,le;return{s:function(){C=C.call($)},n:function(){var Ie=C.next();return K=Ie.done,Ie},e:function(Ie){Y=!0,le=Ie},f:function(){try{!K&&C.return!=null&&C.return()}finally{if(Y)throw le}}}}function e($,I){if($){if(typeof $=="string")return r($,I);var C=Object.prototype.toString.call($).slice(8,-1);if(C==="Object"&&$.constructor&&(C=$.constructor.name),C==="Map"||C==="Set")return Array.from($);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return r($,I)}}function r($,I){(I==null||I>$.length)&&(I=$.length);for(var C=0,O=new Array(I);C<I;C++)O[C]=$[C];return O}function n(){return typeof Reflect<"u"&&Reflect.get?n=Reflect.get.bind():n=function(I,C,O){var _=i(I,C);if(_){var K=Object.getOwnPropertyDescriptor(_,C);return K.get?K.get.call(arguments.length<3?I:O):K.value}},n.apply(this,arguments)}function i($,I){for(;!Object.prototype.hasOwnProperty.call($,I)&&($=N($),$!==null););return $}function a($,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(I&&I.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),I&&M($,I)}function s($){var I=w();return function(){var O=N($),_;if(I){var K=N(this).constructor;_=Reflect.construct(O,arguments,K)}else _=O.apply(this,arguments);return u(this,_)}}function u($,I){if(I&&(P(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c($)}function c($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function d($){var I=typeof Map=="function"?new Map:void 0;return d=function(O){if(O===null||!T(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof I<"u"){if(I.has(O))return I.get(O);I.set(O,_)}function _(){return m(O,arguments,N(this).constructor)}return _.prototype=Object.create(O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),M(_,O)},d($)}function m($,I,C){return w()?m=Reflect.construct.bind():m=function(_,K,Y){var le=[null];le.push.apply(le,K);var we=Function.bind.apply(_,le),Ie=new we;return Y&&M(Ie,Y.prototype),Ie},m.apply(null,arguments)}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T($){try{return Function.toString.call($).indexOf("[native code]")!==-1}catch{return typeof $=="function"}}function M($,I){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,_){return O.__proto__=_,O},M($,I)}function N($){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},N($)}function P($){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},P($)}function R($,I){if(!($ instanceof I))throw new TypeError("Cannot call a class as a function")}function V($,I){for(var C=0;C<I.length;C++){var O=I[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty($,te(O.key),O)}}function ee($,I,C){return I&&V($.prototype,I),C&&V($,C),Object.defineProperty($,"prototype",{writable:!1}),$}function te($){var I=ne($,"string");return P(I)==="symbol"?I:String(I)}function ne($,I){if(P($)!=="object"||$===null)return $;var C=$[Symbol.toPrimitive];if(C!==void 0){var O=C.call($,I);if(P(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}var pe=jXe();function ue($,I,C){for(var O=0;;O++){if(O==$.childCount||O==I.childCount)return $.childCount==I.childCount?null:C;var _=$.child(O),K=I.child(O);if(_==K){C+=_.nodeSize;continue}if(!_.sameMarkup(K))return C;if(_.isText&&_.text!=K.text){for(var Y=0;_.text[Y]==K.text[Y];Y++)C++;return C}if(_.content.size||K.content.size){var le=ue(_.content,K.content,C+1);if(le!=null)return le}C+=_.nodeSize}}function be($,I,C,O){for(var _=$.childCount,K=I.childCount;;){if(_==0||K==0)return _==K?null:{a:C,b:O};var Y=$.child(--_),le=I.child(--K),we=Y.nodeSize;if(Y==le){C-=we,O-=we;continue}if(!Y.sameMarkup(le))return{a:C,b:O};if(Y.isText&&Y.text!=le.text){for(var Ie=0,et=Math.min(Y.text.length,le.text.length);Ie<et&&Y.text[Y.text.length-Ie-1]==le.text[le.text.length-Ie-1];)Ie++,C--,O--;return{a:C,b:O}}if(Y.content.size||le.content.size){var rt=be(Y.content,le.content,C-1,O-1);if(rt)return rt}C-=we,O-=we}}var Ne=function(){function $(I,C){if(R(this,$),this.content=I,this.size=C||0,C==null)for(var O=0;O<I.length;O++)this.size+=I[O].nodeSize}return ee($,[{key:"nodesBetween",value:function(C,O,_){for(var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Y=arguments.length>4?arguments[4]:void 0,le=0,we=0;we<O;le++){var Ie=this.content[le],et=we+Ie.nodeSize;if(et>C&&_(Ie,K+we,Y||null,le)!==!1&&Ie.content.size){var rt=we+1;Ie.nodesBetween(Math.max(0,C-rt),Math.min(Ie.content.size,O-rt),_,K+rt)}we=et}}},{key:"descendants",value:function(C){this.nodesBetween(0,this.size,C)}},{key:"textBetween",value:function(C,O,_,K){var Y="",le=!0;return this.nodesBetween(C,O,function(we,Ie){var et=we.isText?we.text.slice(Math.max(C,Ie)-Ie,O-Ie):we.isLeaf?K?typeof K=="function"?K(we):K:we.type.spec.leafText?we.type.spec.leafText(we):"":"";we.isBlock&&(we.isLeaf&&et||we.isTextblock)&&_&&(le?le=!1:Y+=_),Y+=et},0),Y}},{key:"append",value:function(C){if(!C.size)return this;if(!this.size)return C;var O=this.lastChild,_=C.firstChild,K=this.content.slice(),Y=0;for(O.isText&&O.sameMarkup(_)&&(K[K.length-1]=O.withText(O.text+_.text),Y=1);Y<C.content.length;Y++)K.push(C.content[Y]);return new $(K,this.size+C.size)}},{key:"cut",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(C==0&&O==this.size)return this;var _=[],K=0;if(O>C)for(var Y=0,le=0;le<O;Y++){var we=this.content[Y],Ie=le+we.nodeSize;Ie>C&&((le<C||Ie>O)&&(we.isText?we=we.cut(Math.max(0,C-le),Math.min(we.text.length,O-le)):we=we.cut(Math.max(0,C-le-1),Math.min(we.content.size,O-le-1))),_.push(we),K+=we.nodeSize),le=Ie}return new $(_,K)}},{key:"cutByIndex",value:function(C,O){return C==O?$.empty:C==0&&O==this.content.length?this:new $(this.content.slice(C,O))}},{key:"replaceChild",value:function(C,O){var _=this.content[C];if(_==O)return this;var K=this.content.slice(),Y=this.size+O.nodeSize-_.nodeSize;return K[C]=O,new $(K,Y)}},{key:"addToStart",value:function(C){return new $([C].concat(this.content),this.size+C.nodeSize)}},{key:"addToEnd",value:function(C){return new $(this.content.concat(C),this.size+C.nodeSize)}},{key:"eq",value:function(C){if(this.content.length!=C.content.length)return!1;for(var O=0;O<this.content.length;O++)if(!this.content[O].eq(C.content[O]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(C){var O=this.content[C];if(!O)throw new RangeError("Index "+C+" out of range for "+this);return O}},{key:"maybeChild",value:function(C){return this.content[C]||null}},{key:"forEach",value:function(C){for(var O=0,_=0;O<this.content.length;O++){var K=this.content[O];C(K,_,O),_+=K.nodeSize}}},{key:"findDiffStart",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ue(this,C,O)}},{key:"findDiffEnd",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C.size;return be(this,C,O,_)}},{key:"findIndex",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(C==0)return je(0,C);if(C==this.size)return je(this.content.length,C);if(C>this.size||C<0)throw new RangeError("Position ".concat(C," outside of fragment (").concat(this,")"));for(var _=0,K=0;;_++){var Y=this.child(_),le=K+Y.nodeSize;if(le>=C)return le==C||O>0?je(_+1,le):je(_,K);K=le}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(C){return C.toJSON()}):null}}],[{key:"fromJSON",value:function(C,O){if(!O)return $.empty;if(!Array.isArray(O))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(O.map(C.nodeFromJSON))}},{key:"fromArray",value:function(C){if(!C.length)return $.empty;for(var O,_=0,K=0;K<C.length;K++){var Y=C[K];_+=Y.nodeSize,K&&Y.isText&&C[K-1].sameMarkup(Y)?(O||(O=C.slice(0,K)),O[O.length-1]=Y.withText(O[O.length-1].text+Y.text)):O&&O.push(Y)}return new $(O||C,_)}},{key:"from",value:function(C){if(!C)return $.empty;if(C instanceof $)return C;if(Array.isArray(C))return this.fromArray(C);if(C.attrs)return new $([C],C.nodeSize);throw new RangeError("Can not convert "+C+" to a Fragment"+(C.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),$}();Ne.empty=new Ne([],0);var Ee={index:0,offset:0};function je($,I){return Ee.index=$,Ee.offset=I,Ee}function ct($,I){if($===I)return!0;if(!($&&P($)=="object")||!(I&&P(I)=="object"))return!1;var C=Array.isArray($);if(Array.isArray(I)!=C)return!1;if(C){if($.length!=I.length)return!1;for(var O=0;O<$.length;O++)if(!ct($[O],I[O]))return!1}else{for(var _ in $)if(!(_ in I)||!ct($[_],I[_]))return!1;for(var K in I)if(!(K in $))return!1}return!0}var Ge=function(){function $(I,C){R(this,$),this.type=I,this.attrs=C}return ee($,[{key:"addToSet",value:function(C){for(var O,_=!1,K=0;K<C.length;K++){var Y=C[K];if(this.eq(Y))return C;if(this.type.excludes(Y.type))O||(O=C.slice(0,K));else{if(Y.type.excludes(this.type))return C;!_&&Y.type.rank>this.type.rank&&(O||(O=C.slice(0,K)),O.push(this),_=!0),O&&O.push(Y)}}return O||(O=C.slice()),_||O.push(this),O}},{key:"removeFromSet",value:function(C){for(var O=0;O<C.length;O++)if(this.eq(C[O]))return C.slice(0,O).concat(C.slice(O+1));return C}},{key:"isInSet",value:function(C){for(var O=0;O<C.length;O++)if(this.eq(C[O]))return!0;return!1}},{key:"eq",value:function(C){return this==C||this.type==C.type&&ct(this.attrs,C.attrs)}},{key:"toJSON",value:function(){var C={type:this.type.name};for(var O in this.attrs){C.attrs=this.attrs;break}return C}}],[{key:"fromJSON",value:function(C,O){if(!O)throw new RangeError("Invalid input for Mark.fromJSON");var _=C.marks[O.type];if(!_)throw new RangeError("There is no mark type ".concat(O.type," in this schema"));var K=_.create(O.attrs);return _.checkAttrs(K.attrs),K}},{key:"sameSet",value:function(C,O){if(C==O)return!0;if(C.length!=O.length)return!1;for(var _=0;_<C.length;_++)if(!C[_].eq(O[_]))return!1;return!0}},{key:"setFrom",value:function(C){if(!C||Array.isArray(C)&&C.length==0)return $.none;if(C instanceof $)return[C];var O=C.slice();return O.sort(function(_,K){return _.type.rank-K.type.rank}),O}}]),$}();Ge.none=[];var Ct=function($){a(C,$);var I=s(C);function C(){return R(this,C),I.apply(this,arguments)}return ee(C)}(d(Error)),Mt=function(){function $(I,C,O){R(this,$),this.content=I,this.openStart=C,this.openEnd=O}return ee($,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(C,O){var _=Nt(this.content,C+this.openStart,O);return _&&new $(_,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(C,O){return new $(Pt(this.content,C+this.openStart,O+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(C){return this.content.eq(C.content)&&this.openStart==C.openStart&&this.openEnd==C.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var C={content:this.content.toJSON()};return this.openStart>0&&(C.openStart=this.openStart),this.openEnd>0&&(C.openEnd=this.openEnd),C}}],[{key:"fromJSON",value:function(C,O){if(!O)return $.empty;var _=O.openStart||0,K=O.openEnd||0;if(typeof _!="number"||typeof K!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new $(Ne.fromJSON(C,O.content),_,K)}},{key:"maxOpen",value:function(C){for(var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=0,K=0,Y=C.firstChild;Y&&!Y.isLeaf&&(O||!Y.type.spec.isolating);Y=Y.firstChild)_++;for(var le=C.lastChild;le&&!le.isLeaf&&(O||!le.type.spec.isolating);le=le.lastChild)K++;return new $(C,_,K)}}]),$}();Mt.empty=new Mt(Ne.empty,0,0);function Pt($,I,C){var O=$.findIndex(I),_=O.index,K=O.offset,Y=$.maybeChild(_),le=$.findIndex(C),we=le.index,Ie=le.offset;if(K==I||Y.isText){if(Ie!=C&&!$.child(we).isText)throw new RangeError("Removing non-flat range");return $.cut(0,I).append($.cut(C))}if(_!=we)throw new RangeError("Removing non-flat range");return $.replaceChild(_,Y.copy(Pt(Y.content,I-K-1,C-K-1)))}function Nt($,I,C,O){var _=$.findIndex(I),K=_.index,Y=_.offset,le=$.maybeChild(K);if(Y==I||le.isText)return $.cut(0,I).append(C).append($.cut(I));var we=Nt(le.content,I-Y-1,C);return we&&$.replaceChild(K,le.copy(we))}function It($,I,C){if(C.openStart>$.depth)throw new Ct("Inserted content deeper than insertion position");if($.depth-C.openStart!=I.depth-C.openEnd)throw new Ct("Inconsistent open depths");return Ke($,I,C,0)}function Ke($,I,C,O){var _=$.index(O),K=$.node(O);if(_==I.index(O)&&O<$.depth-C.openStart){var Y=Ke($,I,C,O+1);return K.copy(K.content.replaceChild(_,Y))}else if(C.content.size)if(!C.openStart&&!C.openEnd&&$.depth==O&&I.depth==O){var le=$.parent,we=le.content;return dt(le,we.cut(0,$.parentOffset).append(C.content).append(we.cut(I.parentOffset)))}else{var Ie=xe(C,$),et=Ie.start,rt=Ie.end;return dt(K,mt($,et,rt,I,O))}else return dt(K,_t($,I,O))}function vt($,I){if(!I.type.compatibleContent($.type))throw new Ct("Cannot join "+I.type.name+" onto "+$.type.name)}function He($,I,C){var O=$.node(C);return vt(O,I.node(C)),O}function ve($,I){var C=I.length-1;C>=0&&$.isText&&$.sameMarkup(I[C])?I[C]=$.withText(I[C].text+$.text):I.push($)}function Le($,I,C,O){var _=(I||$).node(C),K=0,Y=I?I.index(C):_.childCount;$&&(K=$.index(C),$.depth>C?K++:$.textOffset&&(ve($.nodeAfter,O),K++));for(var le=K;le<Y;le++)ve(_.child(le),O);I&&I.depth==C&&I.textOffset&&ve(I.nodeBefore,O)}function dt($,I){return $.type.checkContent(I),$.copy(I)}function mt($,I,C,O,_){var K=$.depth>_&&He($,I,_+1),Y=O.depth>_&&He(C,O,_+1),le=[];return Le(null,$,_,le),K&&Y&&I.index(_)==C.index(_)?(vt(K,Y),ve(dt(K,mt($,I,C,O,_+1)),le)):(K&&ve(dt(K,_t($,I,_+1)),le),Le(I,C,_,le),Y&&ve(dt(Y,_t(C,O,_+1)),le)),Le(O,null,_,le),new Ne(le)}function _t($,I,C){var O=[];if(Le(null,$,C,O),$.depth>C){var _=He($,I,C+1);ve(dt(_,_t($,I,C+1)),O)}return Le(I,null,C,O),new Ne(O)}function xe($,I){for(var C=I.depth-$.openStart,O=I.node(C),_=O.copy($.content),K=C-1;K>=0;K--)_=I.node(K).copy(Ne.from(_));return{start:_.resolveNoCache($.openStart+C),end:_.resolveNoCache(_.content.size-$.openEnd-C)}}var Ce=function(){function $(I,C,O){R(this,$),this.pos=I,this.path=C,this.parentOffset=O,this.depth=C.length/3-1}return ee($,[{key:"resolveDepth",value:function(C){return C==null?this.depth:C<0?this.depth+C:C}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(C){return this.path[this.resolveDepth(C)*3]}},{key:"index",value:function(C){return this.path[this.resolveDepth(C)*3+1]}},{key:"indexAfter",value:function(C){return C=this.resolveDepth(C),this.index(C)+(C==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(C){return C=this.resolveDepth(C),C==0?0:this.path[C*3-1]+1}},{key:"end",value:function(C){return C=this.resolveDepth(C),this.start(C)+this.node(C).content.size}},{key:"before",value:function(C){if(C=this.resolveDepth(C),!C)throw new RangeError("There is no position before the top-level node");return C==this.depth+1?this.pos:this.path[C*3-1]}},{key:"after",value:function(C){if(C=this.resolveDepth(C),!C)throw new RangeError("There is no position after the top-level node");return C==this.depth+1?this.pos:this.path[C*3-1]+this.path[C*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var C=this.parent,O=this.index(this.depth);if(O==C.childCount)return null;var _=this.pos-this.path[this.path.length-1],K=C.child(O);return _?C.child(O).cut(_):K}},{key:"nodeBefore",get:function(){var C=this.index(this.depth),O=this.pos-this.path[this.path.length-1];return O?this.parent.child(C).cut(0,O):C==0?null:this.parent.child(C-1)}},{key:"posAtIndex",value:function(C,O){O=this.resolveDepth(O);for(var _=this.path[O*3],K=O==0?0:this.path[O*3-1]+1,Y=0;Y<C;Y++)K+=_.child(Y).nodeSize;return K}},{key:"marks",value:function(){var C=this.parent,O=this.index();if(C.content.size==0)return Ge.none;if(this.textOffset)return C.child(O).marks;var _=C.maybeChild(O-1),K=C.maybeChild(O);if(!_){var Y=_;_=K,K=Y}for(var le=_.marks,we=0;we<le.length;we++)le[we].type.spec.inclusive===!1&&(!K||!le[we].isInSet(K.marks))&&(le=le[we--].removeFromSet(le));return le}},{key:"marksAcross",value:function(C){var O=this.parent.maybeChild(this.index());if(!O||!O.isInline)return null;for(var _=O.marks,K=C.parent.maybeChild(C.index()),Y=0;Y<_.length;Y++)_[Y].type.spec.inclusive===!1&&(!K||!_[Y].isInSet(K.marks))&&(_=_[Y--].removeFromSet(_));return _}},{key:"sharedDepth",value:function(C){for(var O=this.depth;O>0;O--)if(this.start(O)<=C&&this.end(O)>=C)return O;return 0}},{key:"blockRange",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,O=arguments.length>1?arguments[1]:void 0;if(C.pos<this.pos)return C.blockRange(this);for(var _=this.depth-(this.parent.inlineContent||this.pos==C.pos?1:0);_>=0;_--)if(C.pos<=this.end(_)&&(!O||O(this.node(_))))return new _e(this,C,_);return null}},{key:"sameParent",value:function(C){return this.pos-this.parentOffset==C.pos-C.parentOffset}},{key:"max",value:function(C){return C.pos>this.pos?C:this}},{key:"min",value:function(C){return C.pos<this.pos?C:this}},{key:"toString",value:function(){for(var C="",O=1;O<=this.depth;O++)C+=(C?"/":"")+this.node(O).type.name+"_"+this.index(O-1);return C+":"+this.parentOffset}}],[{key:"resolve",value:function(C,O){if(!(O>=0&&O<=C.content.size))throw new RangeError("Position "+O+" out of range");for(var _=[],K=0,Y=O,le=C;;){var we=le.content.findIndex(Y),Ie=we.index,et=we.offset,rt=Y-et;if(_.push(le,Ie,K+et),!rt||(le=le.child(Ie),le.isText))break;Y=rt-1,K+=et+1}return new $(O,_,Y)}},{key:"resolveCached",value:function(C,O){var _=ce.get(C);if(_)for(var K=0;K<_.elts.length;K++){var Y=_.elts[K];if(Y.pos==O)return Y}else ce.set(C,_=new se);var le=_.elts[_.i]=$.resolve(C,O);return _.i=(_.i+1)%fe,le}}]),$}(),se=ee(function $(){R(this,$),this.elts=[],this.i=0}),fe=12,ce=new WeakMap,_e=function(){function $(I,C,O){R(this,$),this.$from=I,this.$to=C,this.depth=O}return ee($,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),$}(),Ve=Object.create(null),at=function(){function $(I,C,O){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ge.none;R(this,$),this.type=I,this.attrs=C,this.marks=_,this.content=O||Ne.empty}return ee($,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(C){return this.content.child(C)}},{key:"maybeChild",value:function(C){return this.content.maybeChild(C)}},{key:"forEach",value:function(C){this.content.forEach(C)}},{key:"nodesBetween",value:function(C,O,_){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(C,O,_,K,this)}},{key:"descendants",value:function(C){this.nodesBetween(0,this.content.size,C)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(C,O,_,K){return this.content.textBetween(C,O,_,K)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(C){return this==C||this.sameMarkup(C)&&this.content.eq(C.content)}},{key:"sameMarkup",value:function(C){return this.hasMarkup(C.type,C.attrs,C.marks)}},{key:"hasMarkup",value:function(C,O,_){return this.type==C&&ct(this.attrs,O||C.defaultAttrs||Ve)&&Ge.sameSet(this.marks,_||Ge.none)}},{key:"copy",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return C==this.content?this:new $(this.type,this.attrs,C,this.marks)}},{key:"mark",value:function(C){return C==this.marks?this:new $(this.type,this.attrs,this.content,C)}},{key:"cut",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return C==0&&O==this.content.size?this:this.copy(this.content.cut(C,O))}},{key:"slice",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(C==O)return Mt.empty;var K=this.resolve(C),Y=this.resolve(O),le=_?0:K.sharedDepth(O),we=K.start(le),Ie=K.node(le),et=Ie.content.cut(K.pos-we,Y.pos-we);return new Mt(et,K.depth-le,Y.depth-le)}},{key:"replace",value:function(C,O,_){return It(this.resolve(C),this.resolve(O),_)}},{key:"nodeAt",value:function(C){for(var O=this;;){var _=O.content.findIndex(C),K=_.index,Y=_.offset;if(O=O.maybeChild(K),!O)return null;if(Y==C||O.isText)return O;C-=Y+1}}},{key:"childAfter",value:function(C){var O=this.content.findIndex(C),_=O.index,K=O.offset;return{node:this.content.maybeChild(_),index:_,offset:K}}},{key:"childBefore",value:function(C){if(C==0)return{node:null,index:0,offset:0};var O=this.content.findIndex(C),_=O.index,K=O.offset;if(K<C)return{node:this.content.child(_),index:_,offset:K};var Y=this.content.child(_-1);return{node:Y,index:_-1,offset:K-Y.nodeSize}}},{key:"resolve",value:function(C){return Ce.resolveCached(this,C)}},{key:"resolveNoCache",value:function(C){return Ce.resolve(this,C)}},{key:"rangeHasMark",value:function(C,O,_){var K=!1;return O>C&&this.nodesBetween(C,O,function(Y){return _.isInSet(Y.marks)&&(K=!0),!K}),K}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var C=this.type.name;return this.content.size&&(C+="("+this.content.toStringInner()+")"),Kt(this.marks,C)}},{key:"contentMatchAt",value:function(C){var O=this.type.contentMatch.matchFragment(this.content,0,C);if(!O)throw new Error("Called contentMatchAt on a node with invalid content");return O}},{key:"canReplace",value:function(C,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.empty,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_.childCount,le=this.contentMatchAt(C).matchFragment(_,K,Y),we=le&&le.matchFragment(this.content,O);if(!we||!we.validEnd)return!1;for(var Ie=K;Ie<Y;Ie++)if(!this.type.allowsMarks(_.child(Ie).marks))return!1;return!0}},{key:"canReplaceWith",value:function(C,O,_,K){if(K&&!this.type.allowsMarks(K))return!1;var Y=this.contentMatchAt(C).matchType(_),le=Y&&Y.matchFragment(this.content,O);return le?le.validEnd:!1}},{key:"canAppend",value:function(C){return C.content.size?this.canReplace(this.childCount,this.childCount,C.content):this.type.compatibleContent(C.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var C=Ge.none,O=0;O<this.marks.length;O++){var _=this.marks[O];_.type.checkAttrs(_.attrs),C=_.addToSet(C)}if(!Ge.sameSet(C,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(K){return K.type.name})));this.content.forEach(function(K){return K.check()})}},{key:"toJSON",value:function(){var C={type:this.type.name};for(var O in this.attrs){C.attrs=this.attrs;break}return this.content.size&&(C.content=this.content.toJSON()),this.marks.length&&(C.marks=this.marks.map(function(_){return _.toJSON()})),C}}],[{key:"fromJSON",value:function(C,O){if(!O)throw new RangeError("Invalid input for Node.fromJSON");var _=void 0;if(O.marks){if(!Array.isArray(O.marks))throw new RangeError("Invalid mark data for Node.fromJSON");_=O.marks.map(C.markFromJSON)}if(O.type=="text"){if(typeof O.text!="string")throw new RangeError("Invalid text node in JSON");return C.text(O.text,_)}var K=Ne.fromJSON(C,O.content),Y=C.nodeType(O.type).create(O.attrs,K,_);return Y.type.checkAttrs(Y.attrs),Y}}]),$}();at.prototype.text=void 0;var Ut=function($){a(C,$);var I=s(C);function C(O,_,K,Y){var le;if(R(this,C),le=I.call(this,O,_,null,Y),!K)throw new RangeError("Empty text nodes are not allowed");return le.text=K,le}return ee(C,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Kt(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(_,K){return this.text.slice(_,K)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(_){return _==this.marks?this:new C(this.type,this.attrs,this.text,_)}},{key:"withText",value:function(_){return _==this.text?this:new C(this.type,this.attrs,_,this.marks)}},{key:"cut",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return _==0&&K==this.text.length?this:this.withText(this.text.slice(_,K))}},{key:"eq",value:function(_){return this.sameMarkup(_)&&this.text==_.text}},{key:"toJSON",value:function(){var _=n(N(C.prototype),"toJSON",this).call(this);return _.text=this.text,_}}]),C}(at);function Kt($,I){for(var C=$.length-1;C>=0;C--)I=$[C].type.name+"("+I+")";return I}var jt=function(){function $(I){R(this,$),this.validEnd=I,this.next=[],this.wrapCache=[]}return ee($,[{key:"matchType",value:function(C){for(var O=0;O<this.next.length;O++)if(this.next[O].type==C)return this.next[O].next;return null}},{key:"matchFragment",value:function(C){for(var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C.childCount,K=this,Y=O;K&&Y<_;Y++)K=K.matchType(C.child(Y).type);return K}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var C=0;C<this.next.length;C++){var O=this.next[C].type;if(!(O.isText||O.hasRequiredAttrs()))return O}return null}},{key:"compatible",value:function(C){for(var O=0;O<this.next.length;O++)for(var _=0;_<C.next.length;_++)if(this.next[O].type==C.next[_].type)return!0;return!1}},{key:"fillBefore",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,K=[this];function Y(le,we){var Ie=le.matchFragment(C,_);if(Ie&&(!O||Ie.validEnd))return Ne.from(we.map(function(vr){return vr.createAndFill()}));for(var et=0;et<le.next.length;et++){var rt=le.next[et],ut=rt.type,Ft=rt.next;if(!(ut.isText||ut.hasRequiredAttrs())&&K.indexOf(Ft)==-1){K.push(Ft);var nr=Y(Ft,we.concat(ut));if(nr)return nr}}return null}return Y(this,[])}},{key:"findWrapping",value:function(C){for(var O=0;O<this.wrapCache.length;O+=2)if(this.wrapCache[O]==C)return this.wrapCache[O+1];var _=this.computeWrapping(C);return this.wrapCache.push(C,_),_}},{key:"computeWrapping",value:function(C){for(var O=Object.create(null),_=[{match:this,type:null,via:null}];_.length;){var K=_.shift(),Y=K.match;if(Y.matchType(C)){for(var le=[],we=K;we.type;we=we.via)le.push(we.type);return le.reverse()}for(var Ie=0;Ie<Y.next.length;Ie++){var et=Y.next[Ie],rt=et.type,ut=et.next;!rt.isLeaf&&!rt.hasRequiredAttrs()&&!(rt.name in O)&&(!K.type||ut.validEnd)&&(_.push({match:rt.contentMatch,type:rt,via:K}),O[rt.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(C){if(C>=this.next.length)throw new RangeError("There's no ".concat(C,"th edge in this content match"));return this.next[C]}},{key:"toString",value:function(){var C=[];function O(_){C.push(_);for(var K=0;K<_.next.length;K++)C.indexOf(_.next[K].next)==-1&&O(_.next[K].next)}return O(this),C.map(function(_,K){for(var Y=K+(_.validEnd?"*":" ")+" ",le=0;le<_.next.length;le++)Y+=(le?", ":"")+_.next[le].type.name+"->"+C.indexOf(_.next[le].next);return Y}).join(`
`)}}],[{key:"parse",value:function(C,O){var _=new Er(C,O);if(_.next==null)return $.empty;var K=Yt(_);_.next&&_.err("Unexpected trailing text");var Y=pt($n(K));return zt(Y,_),Y}}]),$}();jt.empty=new jt(!0);var Er=function(){function $(I,C){R(this,$),this.string=I,this.nodeTypes=C,this.inline=null,this.pos=0,this.tokens=I.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return ee($,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(C){return this.next==C&&(this.pos++||!0)}},{key:"err",value:function(C){throw new SyntaxError(C+" (in content expression '"+this.string+"')")}}]),$}();function Yt($){var I=[];do I.push(zr($));while($.eat("|"));return I.length==1?I[0]:{type:"choice",exprs:I}}function zr($){var I=[];do I.push(Sr($));while($.next&&$.next!=")"&&$.next!="|");return I.length==1?I[0]:{type:"seq",exprs:I}}function Sr($){for(var I=xi($);;)if($.eat("+"))I={type:"plus",expr:I};else if($.eat("*"))I={type:"star",expr:I};else if($.eat("?"))I={type:"opt",expr:I};else if($.eat("{"))I=sr($,I);else break;return I}function Or($){/\D/.test($.next)&&$.err("Expected number, got '"+$.next+"'");var I=Number($.next);return $.pos++,I}function sr($,I){var C=Or($),O=C;return $.eat(",")&&($.next!="}"?O=Or($):O=-1),$.eat("}")||$.err("Unclosed braced range"),{type:"range",min:C,max:O,expr:I}}function Gr($,I){var C=$.nodeTypes,O=C[I];if(O)return[O];var _=[];for(var K in C){var Y=C[K];Y.isInGroup(I)&&_.push(Y)}return _.length==0&&$.err("No node type or group '"+I+"' found"),_}function xi($){if($.eat("(")){var I=Yt($);return $.eat(")")||$.err("Missing closing paren"),I}else if(/\W/.test($.next))$.err("Unexpected token '"+$.next+"'");else{var C=Gr($,$.next).map(function(O){return $.inline==null?$.inline=O.isInline:$.inline!=O.isInline&&$.err("Mixing inline and block content"),{type:"name",value:O}});return $.pos++,C.length==1?C[0]:{type:"choice",exprs:C}}}function $n($){var I=[[]];return _(K($,0),C()),I;function C(){return I.push([])-1}function O(Y,le,we){var Ie={term:we,to:le};return I[Y].push(Ie),Ie}function _(Y,le){Y.forEach(function(we){return we.to=le})}function K(Y,le){if(Y.type=="choice")return Y.exprs.reduce(function(ia,en){return ia.concat(K(en,le))},[]);if(Y.type=="seq")for(var we=0;;we++){var Ie=K(Y.exprs[we],le);if(we==Y.exprs.length-1)return Ie;_(Ie,le=C())}else if(Y.type=="star"){var et=C();return O(le,et),_(K(Y.expr,et),et),[O(et)]}else if(Y.type=="plus"){var rt=C();return _(K(Y.expr,le),rt),_(K(Y.expr,rt),rt),[O(rt)]}else{if(Y.type=="opt")return[O(le)].concat(K(Y.expr,le));if(Y.type=="range"){for(var ut=le,Ft=0;Ft<Y.min;Ft++){var nr=C();_(K(Y.expr,ut),nr),ut=nr}if(Y.max==-1)_(K(Y.expr,ut),ut);else for(var vr=Y.min;vr<Y.max;vr++){var Pr=C();O(ut,Pr),_(K(Y.expr,ut),Pr),ut=Pr}return[O(ut)]}else{if(Y.type=="name")return[O(le,void 0,Y.value)];throw new Error("Unknown expr type")}}}}function Hr($,I){return I-$}function ht($,I){var C=[];return O(I),C.sort(Hr);function O(_){var K=$[_];if(K.length==1&&!K[0].term)return O(K[0].to);C.push(_);for(var Y=0;Y<K.length;Y++){var le=K[Y],we=le.term,Ie=le.to;!we&&C.indexOf(Ie)==-1&&O(Ie)}}}function pt($){var I=Object.create(null);return C(ht($,0));function C(O){var _=[];O.forEach(function(we){$[we].forEach(function(Ie){var et=Ie.term,rt=Ie.to;if(et){for(var ut,Ft=0;Ft<_.length;Ft++)_[Ft][0]==et&&(ut=_[Ft][1]);ht($,rt).forEach(function(nr){ut||_.push([et,ut=[]]),ut.indexOf(nr)==-1&&ut.push(nr)})}})});for(var K=I[O.join(",")]=new jt(O.indexOf($.length-1)>-1),Y=0;Y<_.length;Y++){var le=_[Y][1].sort(Hr);K.next.push({type:_[Y][0],next:I[le.join(",")]||C(le)})}return K}}function zt($,I){for(var C=0,O=[$];C<O.length;C++){for(var _=O[C],K=!_.validEnd,Y=[],le=0;le<_.next.length;le++){var we=_.next[le],Ie=we.type,et=we.next;Y.push(Ie.name),K&&!(Ie.isText||Ie.hasRequiredAttrs())&&(K=!1),O.indexOf(et)==-1&&O.push(et)}K&&I.err("Only non-generatable nodes ("+Y.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Wt($){var I=Object.create(null);for(var C in $){var O=$[C];if(!O.hasDefault)return null;I[C]=O.default}return I}function rr($,I){var C=Object.create(null);for(var O in $){var _=I&&I[O];if(_===void 0){var K=$[O];if(K.hasDefault)_=K.default;else throw new RangeError("No value supplied for attribute "+O)}C[O]=_}return C}function nn($,I,C,O){for(var _ in I)if(!(_ in $))throw new RangeError("Unsupported attribute ".concat(_," for ").concat(C," of type ").concat(_));for(var K in $){var Y=$[K];Y.validate&&Y.validate(I[K])}}function wr($,I){var C=Object.create(null);if(I)for(var O in I)C[O]=new Un($,O,I[O]);return C}var Mr=function(){function $(I,C,O){R(this,$),this.name=I,this.schema=C,this.spec=O,this.markSet=null,this.groups=O.group?O.group.split(" "):[],this.attrs=wr(I,O.attrs),this.defaultAttrs=Wt(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(O.inline||I=="text"),this.isText=I=="text"}return ee($,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==jt.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(C){return this.groups.indexOf(C)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var C in this.attrs)if(this.attrs[C].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(C){return this==C||this.contentMatch.compatible(C.contentMatch)}},{key:"computeAttrs",value:function(C){return!C&&this.defaultAttrs?this.defaultAttrs:rr(this.attrs,C)}},{key:"create",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,O=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new at(this,this.computeAttrs(C),Ne.from(O),Ge.setFrom(_))}},{key:"createChecked",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,O=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0;return O=Ne.from(O),this.checkContent(O),new at(this,this.computeAttrs(C),O,Ge.setFrom(_))}},{key:"createAndFill",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,O=arguments.length>1?arguments[1]:void 0,_=arguments.length>2?arguments[2]:void 0;if(C=this.computeAttrs(C),O=Ne.from(O),O.size){var K=this.contentMatch.fillBefore(O);if(!K)return null;O=K.append(O)}var Y=this.contentMatch.matchFragment(O),le=Y&&Y.fillBefore(Ne.empty,!0);return le?new at(this,C,O.append(le),Ge.setFrom(_)):null}},{key:"validContent",value:function(C){var O=this.contentMatch.matchFragment(C);if(!O||!O.validEnd)return!1;for(var _=0;_<C.childCount;_++)if(!this.allowsMarks(C.child(_).marks))return!1;return!0}},{key:"checkContent",value:function(C){if(!this.validContent(C))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(C.toString().slice(0,50)))}},{key:"checkAttrs",value:function(C){nn(this.attrs,C,"node",this.name)}},{key:"allowsMarkType",value:function(C){return this.markSet==null||this.markSet.indexOf(C)>-1}},{key:"allowsMarks",value:function(C){if(this.markSet==null)return!0;for(var O=0;O<C.length;O++)if(!this.allowsMarkType(C[O].type))return!1;return!0}},{key:"allowedMarks",value:function(C){if(this.markSet==null)return C;for(var O,_=0;_<C.length;_++)this.allowsMarkType(C[_].type)?O&&O.push(C[_]):O||(O=C.slice(0,_));return O?O.length?O:Ge.none:C}}],[{key:"compile",value:function(C,O){var _=Object.create(null);C.forEach(function(le,we){return _[le]=new $(le,O,we)});var K=O.spec.topNode||"doc";if(!_[K])throw new RangeError("Schema is missing its top node type ('"+K+"')");if(!_.text)throw new RangeError("Every schema needs a 'text' type");for(var Y in _.text.attrs)throw new RangeError("The text node type should not have attributes");return _}}]),$}();function Dn($,I,C){var O=C.split("|");return function(_){var K=_===null?"null":P(_);if(O.indexOf(K)<0)throw new RangeError("Expected value of type ".concat(O," for attribute ").concat(I," on type ").concat($,", got ").concat(K))}}var Un=function(){function $(I,C,O){R(this,$),this.hasDefault=Object.prototype.hasOwnProperty.call(O,"default"),this.default=O.default,this.validate=typeof O.validate=="string"?Dn(I,C,O.validate):O.validate}return ee($,[{key:"isRequired",get:function(){return!this.hasDefault}}]),$}(),Ir=function(){function $(I,C,O,_){R(this,$),this.name=I,this.rank=C,this.schema=O,this.spec=_,this.attrs=wr(I,_.attrs),this.excluded=null;var K=Wt(this.attrs);this.instance=K?new Ge(this,K):null}return ee($,[{key:"create",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!C&&this.instance?this.instance:new Ge(this,rr(this.attrs,C))}},{key:"removeFromSet",value:function(C){for(var O=0;O<C.length;O++)C[O].type==this&&(C=C.slice(0,O).concat(C.slice(O+1)),O--);return C}},{key:"isInSet",value:function(C){for(var O=0;O<C.length;O++)if(C[O].type==this)return C[O]}},{key:"checkAttrs",value:function(C){nn(this.attrs,C,"mark",this.name)}},{key:"excludes",value:function(C){return this.excluded.indexOf(C)>-1}}],[{key:"compile",value:function(C,O){var _=Object.create(null),K=0;return C.forEach(function(Y,le){return _[Y]=new $(Y,K++,O,le)}),_}}]),$}(),hn=function(){function $(I){R(this,$),this.linebreakReplacement=null,this.cached=Object.create(null);var C=this.spec={};for(var O in I)C[O]=I[O];C.nodes=pe.from(I.nodes),C.marks=pe.from(I.marks||{}),this.nodes=Mr.compile(this.spec.nodes,this),this.marks=Ir.compile(this.spec.marks,this);var _=Object.create(null);for(var K in this.nodes){if(K in this.marks)throw new RangeError(K+" can not be both a node and a mark");var Y=this.nodes[K],le=Y.spec.content||"",we=Y.spec.marks;if(Y.contentMatch=_[le]||(_[le]=jt.parse(le,this.nodes)),Y.inlineContent=Y.contentMatch.inlineContent,Y.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!Y.isInline||!Y.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=Y}Y.markSet=we=="_"?null:we?ai(this,we.split(" ")):we==""||!Y.inlineContent?[]:null}for(var Ie in this.marks){var et=this.marks[Ie],rt=et.spec.excludes;et.excluded=rt==null?[et]:rt==""?[]:ai(this,rt.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return ee($,[{key:"node",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2?arguments[2]:void 0,K=arguments.length>3?arguments[3]:void 0;if(typeof C=="string")C=this.nodeType(C);else if(C instanceof Mr){if(C.schema!=this)throw new RangeError("Node type from different schema used ("+C.name+")")}else throw new RangeError("Invalid node type: "+C);return C.createChecked(O,_,K)}},{key:"text",value:function(C,O){var _=this.nodes.text;return new Ut(_,_.defaultAttrs,C,Ge.setFrom(O))}},{key:"mark",value:function(C,O){return typeof C=="string"&&(C=this.marks[C]),C.create(O)}},{key:"nodeFromJSON",value:function(C){return at.fromJSON(this,C)}},{key:"markFromJSON",value:function(C){return Ge.fromJSON(this,C)}},{key:"nodeType",value:function(C){var O=this.nodes[C];if(!O)throw new RangeError("Unknown node type: "+C);return O}}]),$}();function ai($,I){for(var C=[],O=0;O<I.length;O++){var _=I[O],K=$.marks[_],Y=K;if(K)C.push(K);else for(var le in $.marks){var we=$.marks[le];(_=="_"||we.spec.group&&we.spec.group.split(" ").indexOf(_)>-1)&&C.push(Y=we)}if(!Y)throw new SyntaxError("Unknown mark type: '"+I[O]+"'")}return C}function jn($){return $.tag!=null}function an($){return $.style!=null}var Zr=function(){function $(I,C){var O=this;R(this,$),this.schema=I,this.rules=C,this.tags=[],this.styles=[];var _=this.matchedStyles=[];C.forEach(function(K){if(jn(K))O.tags.push(K);else if(an(K)){var Y=/[^=]*/.exec(K.style)[0];_.indexOf(Y)<0&&_.push(Y),O.styles.push(K)}}),this.normalizeLists=!this.tags.some(function(K){if(!/^(ul|ol)\b/.test(K.tag)||!K.node)return!1;var Y=I.nodes[K.node];return Y.contentMatch.matchType(Y)})}return ee($,[{key:"parse",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=new q(this,O,!1);return _.addAll(C,Ge.none,O.from,O.to),_.finish()}},{key:"parseSlice",value:function(C){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=new q(this,O,!0);return _.addAll(C,Ge.none,O.from,O.to),Mt.maxOpen(_.finish())}},{key:"matchTag",value:function(C,O,_){for(var K=_?this.tags.indexOf(_)+1:0;K<this.tags.length;K++){var Y=this.tags[K];if(G(C,Y.tag)&&(Y.namespace===void 0||C.namespaceURI==Y.namespace)&&(!Y.context||O.matchesContext(Y.context))){if(Y.getAttrs){var le=Y.getAttrs(C);if(le===!1)continue;Y.attrs=le||void 0}return Y}}}},{key:"matchStyle",value:function(C,O,_,K){for(var Y=K?this.styles.indexOf(K)+1:0;Y<this.styles.length;Y++){var le=this.styles[Y],we=le.style;if(!(we.indexOf(C)!=0||le.context&&!_.matchesContext(le.context)||we.length>C.length&&(we.charCodeAt(C.length)!=61||we.slice(C.length+1)!=O))){if(le.getAttrs){var Ie=le.getAttrs(O);if(Ie===!1)continue;le.attrs=Ie||void 0}return le}}}}],[{key:"schemaRules",value:function(C){var O=[];function _(Ie){for(var et=Ie.priority==null?50:Ie.priority,rt=0;rt<O.length;rt++){var ut=O[rt],Ft=ut.priority==null?50:ut.priority;if(Ft<et)break}O.splice(rt,0,Ie)}var K=function(et){var rt=C.marks[et].spec.parseDOM;rt&&rt.forEach(function(ut){_(ut=ie(ut)),ut.mark||ut.ignore||ut.clearMark||(ut.mark=et)})};for(var Y in C.marks)K(Y);var le=function(et){var rt=C.nodes[et].spec.parseDOM;rt&&rt.forEach(function(ut){_(ut=ie(ut)),ut.node||ut.ignore||ut.mark||(ut.node=et)})};for(var we in C.nodes)le(we);return O}},{key:"fromSchema",value:function(C){return C.cached.domParser||(C.cached.domParser=new $(C,$.schemaRules(C)))}}]),$}(),Cn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Vr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Wn={ol:!0,ul:!0},kr=1,Kr=2,X=4;function Z($,I,C){return I!=null?(I?kr:0)|(I==="full"?Kr:0):$&&$.whitespace=="pre"?kr|Kr:C&-5}var H=function(){function $(I,C,O,_,K,Y){R(this,$),this.type=I,this.attrs=C,this.marks=O,this.solid=_,this.options=Y,this.content=[],this.activeMarks=Ge.none,this.match=K||(Y&X?null:I.contentMatch)}return ee($,[{key:"findWrapping",value:function(C){if(!this.match){if(!this.type)return[];var O=this.type.contentMatch.fillBefore(Ne.from(C));if(O)this.match=this.type.contentMatch.matchFragment(O);else{var _=this.type.contentMatch,K;return(K=_.findWrapping(C.type))?(this.match=_,K):null}}return this.match.findWrapping(C.type)}},{key:"finish",value:function(C){if(!(this.options&kr)){var O=this.content[this.content.length-1],_;if(O&&O.isText&&(_=/[ \t\r\n\u000c]+$/.exec(O.text))){var K=O;O.text.length==_[0].length?this.content.pop():this.content[this.content.length-1]=K.withText(K.text.slice(0,K.text.length-_[0].length))}}var Y=Ne.from(this.content);return!C&&this.match&&(Y=Y.append(this.match.fillBefore(Ne.empty,!0))),this.type?this.type.create(this.attrs,Y,this.marks):Y}},{key:"inlineContext",value:function(C){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:C.parentNode&&!Cn.hasOwnProperty(C.parentNode.nodeName.toLowerCase())}}]),$}(),q=function(){function $(I,C,O){R(this,$),this.parser=I,this.options=C,this.isOpen=O,this.open=0,this.localPreserveWS=!1;var _=C.topNode,K,Y=Z(null,C.preserveWhitespace,0)|(O?X:0);_?K=new H(_.type,_.attrs,Ge.none,!0,C.topMatch||_.type.contentMatch,Y):O?K=new H(null,null,Ge.none,!0,null,Y):K=new H(I.schema.topNodeType,null,Ge.none,!0,null,Y),this.nodes=[K],this.find=C.findPositions,this.needsBlock=!1}return ee($,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(C,O){C.nodeType==3?this.addTextNode(C,O):C.nodeType==1&&this.addElement(C,O)}},{key:"addTextNode",value:function(C,O){var _=C.nodeValue,K=this.top,Y=K.options&Kr?"full":this.localPreserveWS||(K.options&kr)>0;if(Y==="full"||K.inlineContext(C)||/[^ \t\r\n\u000c]/.test(_)){if(Y)Y!=="full"?_=_.replace(/\r?\n|\r/g," "):_=_.replace(/\r\n?/g,`
`);else if(_=_.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(_)&&this.open==this.nodes.length-1){var le=K.content[K.content.length-1],we=C.previousSibling;(!le||we&&we.nodeName=="BR"||le.isText&&/[ \t\r\n\u000c]$/.test(le.text))&&(_=_.slice(1))}_&&this.insertNode(this.parser.schema.text(_),O),this.findInText(C)}else this.findInside(C)}},{key:"addElement",value:function(C,O,_){var K=this.localPreserveWS,Y=this.top;(C.tagName=="PRE"||/pre/.test(C.style&&C.style.whiteSpace))&&(this.localPreserveWS=!0);var le=C.nodeName.toLowerCase(),we;Wn.hasOwnProperty(le)&&this.parser.normalizeLists&&U(C);var Ie=this.options.ruleFromNode&&this.options.ruleFromNode(C)||(we=this.parser.matchTag(C,this,_));e:if(Ie?Ie.ignore:Vr.hasOwnProperty(le))this.findInside(C),this.ignoreFallback(C,O);else if(!Ie||Ie.skip||Ie.closeParent){Ie&&Ie.closeParent?this.open=Math.max(0,this.open-1):Ie&&Ie.skip.nodeType&&(C=Ie.skip);var et,rt=this.needsBlock;if(Cn.hasOwnProperty(le))Y.content.length&&Y.content[0].isInline&&this.open&&(this.open--,Y=this.top),et=!0,Y.type||(this.needsBlock=!0);else if(!C.firstChild){this.leafFallback(C,O);break e}var ut=Ie&&Ie.skip?O:this.readStyles(C,O);ut&&this.addAll(C,ut),et&&this.sync(Y),this.needsBlock=rt}else{var Ft=this.readStyles(C,O);Ft&&this.addElementByRule(C,Ie,Ft,Ie.consuming===!1?we:void 0)}this.localPreserveWS=K}},{key:"leafFallback",value:function(C,O){C.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(C.ownerDocument.createTextNode(`
`),O)}},{key:"ignoreFallback",value:function(C,O){C.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),O)}},{key:"readStyles",value:function(C,O){var _=this,K=C.style;if(K&&K.length)for(var Y=0;Y<this.parser.matchedStyles.length;Y++){var le=this.parser.matchedStyles[Y],we=K.getPropertyValue(le);if(we){for(var Ie=function(Ft){var nr=_.parser.matchStyle(le,we,_,Ft);if(!nr)return rt=Ft,0;if(nr.ignore)return{v:null};if(nr.clearMark?O=O.filter(function(vr){return!nr.clearMark(vr)}):O=O.concat(_.parser.schema.marks[nr.mark].create(nr.attrs)),nr.consuming===!1)Ft=nr;else return rt=Ft,0;rt=Ft},et,rt=void 0;et=Ie(rt),et!==0;)if(et)return et.v}}return O}},{key:"addElementByRule",value:function(C,O,_,K){var Y=this,le,we;if(O.node)if(we=this.parser.schema.nodes[O.node],we.isLeaf)this.insertNode(we.create(O.attrs),_)||this.leafFallback(C,_);else{var Ie=this.enter(we,O.attrs||null,_,O.preserveWhitespace);Ie&&(le=!0,_=Ie)}else{var et=this.parser.schema.marks[O.mark];_=_.concat(et.create(O.attrs))}var rt=this.top;if(we&&we.isLeaf)this.findInside(C);else if(K)this.addElement(C,_,K);else if(O.getContent)this.findInside(C),O.getContent(C,this.parser.schema).forEach(function(Ft){return Y.insertNode(Ft,_)});else{var ut=C;typeof O.contentElement=="string"?ut=C.querySelector(O.contentElement):typeof O.contentElement=="function"?ut=O.contentElement(C):O.contentElement&&(ut=O.contentElement),this.findAround(C,ut,!0),this.addAll(ut,_),this.findAround(C,ut,!1)}le&&this.sync(rt)&&this.open--}},{key:"addAll",value:function(C,O,_,K){for(var Y=_||0,le=_?C.childNodes[_]:C.firstChild,we=K==null?null:C.childNodes[K];le!=we;le=le.nextSibling,++Y)this.findAtPoint(C,Y),this.addDOM(le,O);this.findAtPoint(C,Y)}},{key:"findPlace",value:function(C,O){for(var _,K,Y=this.open;Y>=0;Y--){var le=this.nodes[Y],we=le.findWrapping(C);if(we&&(!_||_.length>we.length)&&(_=we,K=le,!we.length)||le.solid)break}if(!_)return null;this.sync(K);for(var Ie=0;Ie<_.length;Ie++)O=this.enterInner(_[Ie],null,O,!1);return O}},{key:"insertNode",value:function(C,O){if(C.isInline&&this.needsBlock&&!this.top.type){var _=this.textblockFromContext();_&&(O=this.enterInner(_,null,O))}var K=this.findPlace(C,O);if(K){this.closeExtra();var Y=this.top;Y.match&&(Y.match=Y.match.matchType(C.type));var le=Ge.none,we=t(K.concat(C.marks)),Ie;try{for(we.s();!(Ie=we.n()).done;){var et=Ie.value;(Y.type?Y.type.allowsMarkType(et.type):Oe(et.type,C.type))&&(le=et.addToSet(le))}}catch(rt){we.e(rt)}finally{we.f()}return Y.content.push(C.mark(le)),!0}return!1}},{key:"enter",value:function(C,O,_,K){var Y=this.findPlace(C.create(O),_);return Y&&(Y=this.enterInner(C,O,_,!0,K)),Y}},{key:"enterInner",value:function(C,O,_){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Y=arguments.length>4?arguments[4]:void 0;this.closeExtra();var le=this.top;le.match=le.match&&le.match.matchType(C);var we=Z(C,Y,le.options);le.options&X&&le.content.length==0&&(we|=X);var Ie=Ge.none;return _=_.filter(function(et){return(le.type?le.type.allowsMarkType(et.type):Oe(et.type,C))?(Ie=et.addToSet(Ie),!1):!0}),this.nodes.push(new H(C,O,Ie,K,null,we)),this.open++,_}},{key:"closeExtra",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,O=this.nodes.length-1;if(O>this.open){for(;O>this.open;O--)this.nodes[O-1].content.push(this.nodes[O].finish(C));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(C){for(var O=this.open;O>=0;O--){if(this.nodes[O]==C)return this.open=O,!0;this.localPreserveWS&&(this.nodes[O].options|=kr)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var C=0,O=this.open;O>=0;O--){for(var _=this.nodes[O].content,K=_.length-1;K>=0;K--)C+=_[K].nodeSize;O&&C++}return C}},{key:"findAtPoint",value:function(C,O){if(this.find)for(var _=0;_<this.find.length;_++)this.find[_].node==C&&this.find[_].offset==O&&(this.find[_].pos=this.currentPos)}},{key:"findInside",value:function(C){if(this.find)for(var O=0;O<this.find.length;O++)this.find[O].pos==null&&C.nodeType==1&&C.contains(this.find[O].node)&&(this.find[O].pos=this.currentPos)}},{key:"findAround",value:function(C,O,_){if(C!=O&&this.find){for(var K=0;K<this.find.length;K++)if(this.find[K].pos==null&&C.nodeType==1&&C.contains(this.find[K].node)){var Y=O.compareDocumentPosition(this.find[K].node);Y&(_?2:4)&&(this.find[K].pos=this.currentPos)}}}},{key:"findInText",value:function(C){if(this.find)for(var O=0;O<this.find.length;O++)this.find[O].node==C&&(this.find[O].pos=this.currentPos-(C.nodeValue.length-this.find[O].offset))}},{key:"matchesContext",value:function(C){var O=this;if(C.indexOf("|")>-1)return C.split(/\s*\|\s*/).some(this.matchesContext,this);var _=C.split("/"),K=this.options.context,Y=!this.isOpen&&(!K||K.parent.type==this.nodes[0].type),le=-(K?K.depth+1:0)+(Y?0:1),we=function Ie(et,rt){for(;et>=0;et--){var ut=_[et];if(ut==""){if(et==_.length-1||et==0)continue;for(;rt>=le;rt--)if(Ie(et-1,rt))return!0;return!1}else{var Ft=rt>0||rt==0&&Y?O.nodes[rt].type:K&&rt>=le?K.node(rt-le).type:null;if(!Ft||Ft.name!=ut&&!Ft.isInGroup(ut))return!1;rt--}}return!0};return we(_.length-1,this.open)}},{key:"textblockFromContext",value:function(){var C=this.options.context;if(C)for(var O=C.depth;O>=0;O--){var _=C.node(O).contentMatchAt(C.indexAfter(O)).defaultType;if(_&&_.isTextblock&&_.defaultAttrs)return _}for(var K in this.parser.schema.nodes){var Y=this.parser.schema.nodes[K];if(Y.isTextblock&&Y.defaultAttrs)return Y}}}]),$}();function U($){for(var I=$.firstChild,C=null;I;I=I.nextSibling){var O=I.nodeType==1?I.nodeName.toLowerCase():null;O&&Wn.hasOwnProperty(O)&&C?(C.appendChild(I),I=C):O=="li"?C=I:O&&(C=null)}}function G($,I){return($.matches||$.msMatchesSelector||$.webkitMatchesSelector||$.mozMatchesSelector).call($,I)}function ie($){var I={};for(var C in $)I[C]=$[C];return I}function Oe($,I){var C=I.schema.nodes,O=function(){var le=C[K];if(!le.allowsMarkType($))return 0;var we=[],Ie=function et(rt){we.push(rt);for(var ut=0;ut<rt.edgeCount;ut++){var Ft=rt.edge(ut),nr=Ft.type,vr=Ft.next;if(nr==I||we.indexOf(vr)<0&&et(vr))return!0}};if(Ie(le.contentMatch))return{v:!0}},_;for(var K in C)if(_=O(),_!==0&&_)return _.v}var $e=function(){function $(I,C){R(this,$),this.nodes=I,this.marks=C}return ee($,[{key:"serializeFragment",value:function(C){var O=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=arguments.length>2?arguments[2]:void 0;K||(K=ae(_).createDocumentFragment());var Y=K,le=[];return C.forEach(function(we){if(le.length||we.marks.length){for(var Ie=0,et=0;Ie<le.length&&et<we.marks.length;){var rt=we.marks[et];if(!O.marks[rt.type.name]){et++;continue}if(!rt.eq(le[Ie][0])||rt.type.spec.spanning===!1)break;Ie++,et++}for(;Ie<le.length;)Y=le.pop()[1];for(;et<we.marks.length;){var ut=we.marks[et++],Ft=O.serializeMark(ut,we.isInline,_);Ft&&(le.push([ut,Y]),Y.appendChild(Ft.dom),Y=Ft.contentDOM||Ft.dom)}}Y.appendChild(O.serializeNodeInner(we,_))}),K}},{key:"serializeNodeInner",value:function(C,O){var _=Rt(ae(O),this.nodes[C.type.name](C),null,C.attrs),K=_.dom,Y=_.contentDOM;if(Y){if(C.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(C.content,O,Y)}return K}},{key:"serializeNode",value:function(C){for(var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=this.serializeNodeInner(C,O),K=C.marks.length-1;K>=0;K--){var Y=this.serializeMark(C.marks[K],C.isInline,O);Y&&((Y.contentDOM||Y.dom).appendChild(_),_=Y.dom)}return _}},{key:"serializeMark",value:function(C,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=this.marks[C.type.name];return K&&Rt(ae(_),K(C,O),null,C.attrs)}}],[{key:"renderSpec",value:function(C,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,K=arguments.length>3?arguments[3]:void 0;return Rt(C,O,_,K)}},{key:"fromSchema",value:function(C){return C.cached.domSerializer||(C.cached.domSerializer=new $(this.nodesFromSchema(C),this.marksFromSchema(C)))}},{key:"nodesFromSchema",value:function(C){var O=ge(C.nodes);return O.text||(O.text=function(_){return _.text}),O}},{key:"marksFromSchema",value:function(C){return ge(C.marks)}}]),$}();function ge($){var I={};for(var C in $){var O=$[C].spec.toDOM;O&&(I[C]=O)}return I}function ae($){return $.document||window.document}var Re=new WeakMap;function Fe($){var I=Re.get($);return I===void 0&&Re.set($,I=ot($)),I}function ot($){var I=null;function C(O){if(O&&P(O)=="object")if(Array.isArray(O))if(typeof O[0]=="string")I||(I=[]),I.push(O);else for(var _=0;_<O.length;_++)C(O[_]);else for(var K in O)C(O[K])}return C($),I}function Rt($,I,C,O){if(typeof I=="string")return{dom:$.createTextNode(I)};if(I.nodeType!=null)return{dom:I};if(I.dom&&I.dom.nodeType!=null)return I;var _=I[0],K;if(typeof _!="string")throw new RangeError("Invalid array passed to renderSpec");if(O&&(K=Fe(O))&&K.indexOf(I)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var Y=_.indexOf(" ");Y>0&&(C=_.slice(0,Y),_=_.slice(Y+1));var le,we=C?$.createElementNS(C,_):$.createElement(_),Ie=I[1],et=1;if(Ie&&P(Ie)=="object"&&Ie.nodeType==null&&!Array.isArray(Ie)){et=2;for(var rt in Ie)if(Ie[rt]!=null){var ut=rt.indexOf(" ");ut>0?we.setAttributeNS(rt.slice(0,ut),rt.slice(ut+1),Ie[rt]):we.setAttribute(rt,Ie[rt])}}for(var Ft=et;Ft<I.length;Ft++){var nr=I[Ft];if(nr===0){if(Ft<I.length-1||Ft>et)throw new RangeError("Content hole must be the only child of its parent node");return{dom:we,contentDOM:we}}else{var vr=Rt($,nr,C,O),Pr=vr.dom,ia=vr.contentDOM;if(we.appendChild(Pr),ia){if(le)throw new RangeError("Multiple content holes");le=ia}}}return{dom:we,contentDOM:le}}return Ii.ContentMatch=jt,Ii.DOMParser=Zr,Ii.DOMSerializer=$e,Ii.Fragment=Ne,Ii.Mark=Ge,Ii.MarkType=Ir,Ii.Node=at,Ii.NodeRange=_e,Ii.NodeType=Mr,Ii.ReplaceError=Ct,Ii.ResolvedPos=Ce,Ii.Schema=hn,Ii.Slice=Mt,Ii}var N1={},yE;function zk(){return yE||(yE=1,function(t){function e(X){var Z=typeof Map=="function"?new Map:void 0;return e=function(q){if(q===null||!n(q))return q;if(typeof q!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Z<"u"){if(Z.has(q))return Z.get(q);Z.set(q,U)}function U(){return r(q,arguments,m(this).constructor)}return U.prototype=Object.create(q.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),a(U,q)},e(X)}function r(X,Z,H){return d()?r=Reflect.construct.bind():r=function(U,G,ie){var Oe=[null];Oe.push.apply(Oe,G);var $e=Function.bind.apply(U,Oe),ge=new $e;return ie&&a(ge,ie.prototype),ge},r.apply(null,arguments)}function n(X){try{return Function.toString.call(X).indexOf("[native code]")!==-1}catch{return typeof X=="function"}}function i(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(Z&&Z.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),Z&&a(X,Z)}function a(X,Z){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,U){return q.__proto__=U,q},a(X,Z)}function s(X){var Z=d();return function(){var q=m(X),U;if(Z){var G=m(this).constructor;U=Reflect.construct(q,arguments,G)}else U=q.apply(this,arguments);return u(this,U)}}function u(X,Z){if(Z&&(w(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(X)}function c(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(X){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},m(X)}function w(X){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},w(X)}function T(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}function M(X,Z){for(var H=0;H<Z.length;H++){var q=Z[H];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(X,P(q.key),q)}}function N(X,Z,H){return Z&&M(X.prototype,Z),H&&M(X,H),Object.defineProperty(X,"prototype",{writable:!1}),X}function P(X){var Z=R(X,"string");return w(Z)==="symbol"?Z:String(Z)}function R(X,Z){if(w(X)!=="object"||X===null)return X;var H=X[Symbol.toPrimitive];if(H!==void 0){var q=H.call(X,Z);if(w(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}var V=hy(),ee=65535,te=Math.pow(2,16);function ne(X,Z){return X+Z*te}function pe(X){return X&ee}function ue(X){return(X-(X&ee))/te}var be=1,Ne=2,Ee=4,je=8,ct=function(){function X(Z,H,q){T(this,X),this.pos=Z,this.delInfo=H,this.recover=q}return N(X,[{key:"deleted",get:function(){return(this.delInfo&je)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(be|Ee))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(Ne|Ee))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&Ee)>0}}]),X}(),Ge=function(){function X(Z){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T(this,X),this.ranges=Z,this.inverted=H,!Z.length&&X.empty)return X.empty}return N(X,[{key:"recover",value:function(H){var q=0,U=pe(H);if(!this.inverted)for(var G=0;G<U;G++)q+=this.ranges[G*3+2]-this.ranges[G*3+1];return this.ranges[U*3]+q+ue(H)}},{key:"mapResult",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(H,q,!1)}},{key:"map",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(H,q,!0)}},{key:"_map",value:function(H,q,U){for(var G=0,ie=this.inverted?2:1,Oe=this.inverted?1:2,$e=0;$e<this.ranges.length;$e+=3){var ge=this.ranges[$e]-(this.inverted?G:0);if(ge>H)break;var ae=this.ranges[$e+ie],Re=this.ranges[$e+Oe],Fe=ge+ae;if(H<=Fe){var ot=ae?H==ge?-1:H==Fe?1:q:q,Rt=ge+G+(ot<0?0:Re);if(U)return Rt;var $=H==(q<0?ge:Fe)?null:ne($e/3,H-ge),I=H==ge?Ne:H==Fe?be:Ee;return(q<0?H!=ge:H!=Fe)&&(I|=je),new ct(Rt,I,$)}G+=Re-ae}return U?H+G:new ct(H+G,0,null)}},{key:"touches",value:function(H,q){for(var U=0,G=pe(q),ie=this.inverted?2:1,Oe=this.inverted?1:2,$e=0;$e<this.ranges.length;$e+=3){var ge=this.ranges[$e]-(this.inverted?U:0);if(ge>H)break;var ae=this.ranges[$e+ie],Re=ge+ae;if(H<=Re&&$e==G*3)return!0;U+=this.ranges[$e+Oe]-ae}return!1}},{key:"forEach",value:function(H){for(var q=this.inverted?2:1,U=this.inverted?1:2,G=0,ie=0;G<this.ranges.length;G+=3){var Oe=this.ranges[G],$e=Oe-(this.inverted?ie:0),ge=Oe+(this.inverted?0:ie),ae=this.ranges[G+q],Re=this.ranges[G+U];H($e,$e+ae,ge,ge+Re),ie+=Re-ae}}},{key:"invert",value:function(){return new X(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(H){return H==0?X.empty:new X(H<0?[0,-H,0]:[0,0,H])}}]),X}();Ge.empty=new Ge([]);var Ct=function(){function X(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],H=arguments.length>1?arguments[1]:void 0,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Z.length;T(this,X),this.maps=Z,this.mirror=H,this.from=q,this.to=U}return N(X,[{key:"slice",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new X(this.maps,this.mirror,H,q)}},{key:"copy",value:function(){return new X(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}},{key:"appendMap",value:function(H,q){this.to=this.maps.push(H),q!=null&&this.setMirror(this.maps.length-1,q)}},{key:"appendMapping",value:function(H){for(var q=0,U=this.maps.length;q<H.maps.length;q++){var G=H.getMirror(q);this.appendMap(H.maps[q],G!=null&&G<q?U+G:void 0)}}},{key:"getMirror",value:function(H){if(this.mirror){for(var q=0;q<this.mirror.length;q++)if(this.mirror[q]==H)return this.mirror[q+(q%2?-1:1)]}}},{key:"setMirror",value:function(H,q){this.mirror||(this.mirror=[]),this.mirror.push(H,q)}},{key:"appendMappingInverted",value:function(H){for(var q=H.maps.length-1,U=this.maps.length+H.maps.length;q>=0;q--){var G=H.getMirror(q);this.appendMap(H.maps[q].invert(),G!=null&&G>q?U-G-1:void 0)}}},{key:"invert",value:function(){var H=new X;return H.appendMappingInverted(this),H}},{key:"map",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(H,q,!0);for(var U=this.from;U<this.to;U++)H=this.maps[U].map(H,q);return H}},{key:"mapResult",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(H,q,!1)}},{key:"_map",value:function(H,q,U){for(var G=0,ie=this.from;ie<this.to;ie++){var Oe=this.maps[ie],$e=Oe.mapResult(H,q);if($e.recover!=null){var ge=this.getMirror(ie);if(ge!=null&&ge>ie&&ge<this.to){ie=ge,H=this.maps[ge].recover($e.recover);continue}}G|=$e.delInfo,H=$e.pos}return U?H:new ct(H,G,null)}}]),X}(),Mt=Object.create(null),Pt=function(){function X(){T(this,X)}return N(X,[{key:"getMap",value:function(){return Ge.empty}},{key:"merge",value:function(H){return null}}],[{key:"fromJSON",value:function(H,q){if(!q||!q.stepType)throw new RangeError("Invalid input for Step.fromJSON");var U=Mt[q.stepType];if(!U)throw new RangeError("No step type ".concat(q.stepType," defined"));return U.fromJSON(H,q)}},{key:"jsonID",value:function(H,q){if(H in Mt)throw new RangeError("Duplicate use of step JSON ID "+H);return Mt[H]=q,q.prototype.jsonID=H,q}}]),X}(),Nt=function(){function X(Z,H){T(this,X),this.doc=Z,this.failed=H}return N(X,null,[{key:"ok",value:function(H){return new X(H,null)}},{key:"fail",value:function(H){return new X(null,H)}},{key:"fromReplace",value:function(H,q,U,G){try{return X.ok(H.replace(q,U,G))}catch(ie){if(ie instanceof V.ReplaceError)return X.fail(ie.message);throw ie}}}]),X}();function It(X,Z,H){for(var q=[],U=0;U<X.childCount;U++){var G=X.child(U);G.content.size&&(G=G.copy(It(G.content,Z,G))),G.isInline&&(G=Z(G,H,U)),q.push(G)}return V.Fragment.fromArray(q)}var Ke=function(X){i(H,X);var Z=s(H);function H(q,U,G){var ie;return T(this,H),ie=Z.call(this),ie.from=q,ie.to=U,ie.mark=G,ie}return N(H,[{key:"apply",value:function(U){var G=this,ie=U.slice(this.from,this.to),Oe=U.resolve(this.from),$e=Oe.node(Oe.sharedDepth(this.to)),ge=new V.Slice(It(ie.content,function(ae,Re){return!ae.isAtom||!Re.type.allowsMarkType(G.mark.type)?ae:ae.mark(G.mark.addToSet(ae.marks))},$e),ie.openStart,ie.openEnd);return Nt.fromReplace(U,this.from,this.to,ge)}},{key:"invert",value:function(){return new vt(this.from,this.to,this.mark)}},{key:"map",value:function(U){var G=U.mapResult(this.from,1),ie=U.mapResult(this.to,-1);return G.deleted&&ie.deleted||G.pos>=ie.pos?null:new H(G.pos,ie.pos,this.mark)}},{key:"merge",value:function(U){return U instanceof H&&U.mark.eq(this.mark)&&this.from<=U.to&&this.to>=U.from?new H(Math.min(this.from,U.from),Math.max(this.to,U.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(U,G){if(typeof G.from!="number"||typeof G.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new H(G.from,G.to,U.markFromJSON(G.mark))}}]),H}(Pt);Pt.jsonID("addMark",Ke);var vt=function(X){i(H,X);var Z=s(H);function H(q,U,G){var ie;return T(this,H),ie=Z.call(this),ie.from=q,ie.to=U,ie.mark=G,ie}return N(H,[{key:"apply",value:function(U){var G=this,ie=U.slice(this.from,this.to),Oe=new V.Slice(It(ie.content,function($e){return $e.mark(G.mark.removeFromSet($e.marks))},U),ie.openStart,ie.openEnd);return Nt.fromReplace(U,this.from,this.to,Oe)}},{key:"invert",value:function(){return new Ke(this.from,this.to,this.mark)}},{key:"map",value:function(U){var G=U.mapResult(this.from,1),ie=U.mapResult(this.to,-1);return G.deleted&&ie.deleted||G.pos>=ie.pos?null:new H(G.pos,ie.pos,this.mark)}},{key:"merge",value:function(U){return U instanceof H&&U.mark.eq(this.mark)&&this.from<=U.to&&this.to>=U.from?new H(Math.min(this.from,U.from),Math.max(this.to,U.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(U,G){if(typeof G.from!="number"||typeof G.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new H(G.from,G.to,U.markFromJSON(G.mark))}}]),H}(Pt);Pt.jsonID("removeMark",vt);var He=function(X){i(H,X);var Z=s(H);function H(q,U){var G;return T(this,H),G=Z.call(this),G.pos=q,G.mark=U,G}return N(H,[{key:"apply",value:function(U){var G=U.nodeAt(this.pos);if(!G)return Nt.fail("No node at mark step's position");var ie=G.type.create(G.attrs,null,this.mark.addToSet(G.marks));return Nt.fromReplace(U,this.pos,this.pos+1,new V.Slice(V.Fragment.from(ie),0,G.isLeaf?0:1))}},{key:"invert",value:function(U){var G=U.nodeAt(this.pos);if(G){var ie=this.mark.addToSet(G.marks);if(ie.length==G.marks.length){for(var Oe=0;Oe<G.marks.length;Oe++)if(!G.marks[Oe].isInSet(ie))return new H(this.pos,G.marks[Oe]);return new H(this.pos,this.mark)}}return new ve(this.pos,this.mark)}},{key:"map",value:function(U){var G=U.mapResult(this.pos,1);return G.deletedAfter?null:new H(G.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(U,G){if(typeof G.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new H(G.pos,U.markFromJSON(G.mark))}}]),H}(Pt);Pt.jsonID("addNodeMark",He);var ve=function(X){i(H,X);var Z=s(H);function H(q,U){var G;return T(this,H),G=Z.call(this),G.pos=q,G.mark=U,G}return N(H,[{key:"apply",value:function(U){var G=U.nodeAt(this.pos);if(!G)return Nt.fail("No node at mark step's position");var ie=G.type.create(G.attrs,null,this.mark.removeFromSet(G.marks));return Nt.fromReplace(U,this.pos,this.pos+1,new V.Slice(V.Fragment.from(ie),0,G.isLeaf?0:1))}},{key:"invert",value:function(U){var G=U.nodeAt(this.pos);return!G||!this.mark.isInSet(G.marks)?this:new He(this.pos,this.mark)}},{key:"map",value:function(U){var G=U.mapResult(this.pos,1);return G.deletedAfter?null:new H(G.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(U,G){if(typeof G.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new H(G.pos,U.markFromJSON(G.mark))}}]),H}(Pt);Pt.jsonID("removeNodeMark",ve);var Le=function(X){i(H,X);var Z=s(H);function H(q,U,G){var ie,Oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return T(this,H),ie=Z.call(this),ie.from=q,ie.to=U,ie.slice=G,ie.structure=Oe,ie}return N(H,[{key:"apply",value:function(U){return this.structure&&mt(U,this.from,this.to)?Nt.fail("Structure replace would overwrite content"):Nt.fromReplace(U,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new Ge([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(U){return new H(this.from,this.from+this.slice.size,U.slice(this.from,this.to))}},{key:"map",value:function(U){var G=U.mapResult(this.from,1),ie=U.mapResult(this.to,-1);return G.deletedAcross&&ie.deletedAcross?null:new H(G.pos,Math.max(G.pos,ie.pos),this.slice)}},{key:"merge",value:function(U){if(!(U instanceof H)||U.structure||this.structure)return null;if(this.from+this.slice.size==U.from&&!this.slice.openEnd&&!U.slice.openStart){var G=this.slice.size+U.slice.size==0?V.Slice.empty:new V.Slice(this.slice.content.append(U.slice.content),this.slice.openStart,U.slice.openEnd);return new H(this.from,this.to+(U.to-U.from),G,this.structure)}else if(U.to==this.from&&!this.slice.openStart&&!U.slice.openEnd){var ie=this.slice.size+U.slice.size==0?V.Slice.empty:new V.Slice(U.slice.content.append(this.slice.content),U.slice.openStart,this.slice.openEnd);return new H(U.from,this.to,ie,this.structure)}else return null}},{key:"toJSON",value:function(){var U={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(U.slice=this.slice.toJSON()),this.structure&&(U.structure=!0),U}}],[{key:"fromJSON",value:function(U,G){if(typeof G.from!="number"||typeof G.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new H(G.from,G.to,V.Slice.fromJSON(U,G.slice),!!G.structure)}}]),H}(Pt);Pt.jsonID("replace",Le);var dt=function(X){i(H,X);var Z=s(H);function H(q,U,G,ie,Oe,$e){var ge,ae=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return T(this,H),ge=Z.call(this),ge.from=q,ge.to=U,ge.gapFrom=G,ge.gapTo=ie,ge.slice=Oe,ge.insert=$e,ge.structure=ae,ge}return N(H,[{key:"apply",value:function(U){if(this.structure&&(mt(U,this.from,this.gapFrom)||mt(U,this.gapTo,this.to)))return Nt.fail("Structure gap-replace would overwrite content");var G=U.slice(this.gapFrom,this.gapTo);if(G.openStart||G.openEnd)return Nt.fail("Gap is not a flat range");var ie=this.slice.insertAt(this.insert,G.content);return ie?Nt.fromReplace(U,this.from,this.to,ie):Nt.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new Ge([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(U){var G=this.gapTo-this.gapFrom;return new H(this.from,this.from+this.slice.size+G,this.from+this.insert,this.from+this.insert+G,U.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(U){var G=U.mapResult(this.from,1),ie=U.mapResult(this.to,-1),Oe=this.from==this.gapFrom?G.pos:U.map(this.gapFrom,-1),$e=this.to==this.gapTo?ie.pos:U.map(this.gapTo,1);return G.deletedAcross&&ie.deletedAcross||Oe<G.pos||$e>ie.pos?null:new H(G.pos,ie.pos,Oe,$e,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var U={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(U.slice=this.slice.toJSON()),this.structure&&(U.structure=!0),U}}],[{key:"fromJSON",value:function(U,G){if(typeof G.from!="number"||typeof G.to!="number"||typeof G.gapFrom!="number"||typeof G.gapTo!="number"||typeof G.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new H(G.from,G.to,G.gapFrom,G.gapTo,V.Slice.fromJSON(U,G.slice),G.insert,!!G.structure)}}]),H}(Pt);Pt.jsonID("replaceAround",dt);function mt(X,Z,H){for(var q=X.resolve(Z),U=H-Z,G=q.depth;U>0&&G>0&&q.indexAfter(G)==q.node(G).childCount;)G--,U--;if(U>0)for(var ie=q.node(G).maybeChild(q.indexAfter(G));U>0;){if(!ie||ie.isLeaf)return!0;ie=ie.firstChild,U--}return!1}function _t(X,Z,H,q){var U=[],G=[],ie,Oe;X.doc.nodesBetween(Z,H,function($e,ge,ae){if($e.isInline){var Re=$e.marks;if(!q.isInSet(Re)&&ae.type.allowsMarkType(q.type)){for(var Fe=Math.max(ge,Z),ot=Math.min(ge+$e.nodeSize,H),Rt=q.addToSet(Re),$=0;$<Re.length;$++)Re[$].isInSet(Rt)||(ie&&ie.to==Fe&&ie.mark.eq(Re[$])?ie.to=ot:U.push(ie=new vt(Fe,ot,Re[$])));Oe&&Oe.to==Fe?Oe.to=ot:G.push(Oe=new Ke(Fe,ot,q))}}}),U.forEach(function($e){return X.step($e)}),G.forEach(function($e){return X.step($e)})}function xe(X,Z,H,q){var U=[],G=0;X.doc.nodesBetween(Z,H,function(ie,Oe){if(ie.isInline){G++;var $e=null;if(q instanceof V.MarkType)for(var ge=ie.marks,ae;ae=q.isInSet(ge);)($e||($e=[])).push(ae),ge=ae.removeFromSet(ge);else q?q.isInSet(ie.marks)&&($e=[q]):$e=ie.marks;if($e&&$e.length)for(var Re=Math.min(Oe+ie.nodeSize,H),Fe=0;Fe<$e.length;Fe++){for(var ot=$e[Fe],Rt=void 0,$=0;$<U.length;$++){var I=U[$];I.step==G-1&&ot.eq(U[$].style)&&(Rt=I)}Rt?(Rt.to=Re,Rt.step=G):U.push({style:ot,from:Math.max(Oe,Z),to:Re,step:G})}}}),U.forEach(function(ie){return X.step(new vt(ie.from,ie.to,ie.style))})}function Ce(X,Z,H){for(var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.contentMatch,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,G=X.doc.nodeAt(Z),ie=[],Oe=Z+1,$e=0;$e<G.childCount;$e++){var ge=G.child($e),ae=Oe+ge.nodeSize,Re=q.matchType(ge.type);if(!Re)ie.push(new Le(Oe,ae,V.Slice.empty));else{q=Re;for(var Fe=0;Fe<ge.marks.length;Fe++)H.allowsMarkType(ge.marks[Fe].type)||X.step(new vt(Oe,ae,ge.marks[Fe]));if(U&&ge.isText&&H.whitespace!="pre")for(var ot=void 0,Rt=/\r?\n|\r/g,$=void 0;ot=Rt.exec(ge.text);)$||($=new V.Slice(V.Fragment.from(H.schema.text(" ",H.allowedMarks(ge.marks))),0,0)),ie.push(new Le(Oe+ot.index,Oe+ot.index+ot[0].length,$))}Oe=ae}if(!q.validEnd){var I=q.fillBefore(V.Fragment.empty,!0);X.replace(Oe,Oe,new V.Slice(I,0,0))}for(var C=ie.length-1;C>=0;C--)X.step(ie[C])}function se(X,Z,H){return(Z==0||X.canReplace(Z,X.childCount))&&(H==X.childCount||X.canReplace(0,H))}function fe(X){for(var Z=X.parent,H=Z.content.cutByIndex(X.startIndex,X.endIndex),q=X.depth;;--q){var U=X.$from.node(q),G=X.$from.index(q),ie=X.$to.indexAfter(q);if(q<X.depth&&U.canReplace(G,ie,H))return q;if(q==0||U.type.spec.isolating||!se(U,G,ie))break}return null}function ce(X,Z,H){for(var q=Z.$from,U=Z.$to,G=Z.depth,ie=q.before(G+1),Oe=U.after(G+1),$e=ie,ge=Oe,ae=V.Fragment.empty,Re=0,Fe=G,ot=!1;Fe>H;Fe--)ot||q.index(Fe)>0?(ot=!0,ae=V.Fragment.from(q.node(Fe).copy(ae)),Re++):$e--;for(var Rt=V.Fragment.empty,$=0,I=G,C=!1;I>H;I--)C||U.after(I+1)<U.end(I)?(C=!0,Rt=V.Fragment.from(U.node(I).copy(Rt)),$++):ge++;X.step(new dt($e,ge,ie,Oe,new V.Slice(ae.append(Rt),Re,$),ae.size-Re,!0))}function _e(X,Z){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X,U=at(X,Z),G=U&&Ut(q,Z);return G?U.map(Ve).concat({type:Z,attrs:H}).concat(G.map(Ve)):null}function Ve(X){return{type:X,attrs:null}}function at(X,Z){var H=X.parent,q=X.startIndex,U=X.endIndex,G=H.contentMatchAt(q).findWrapping(Z);if(!G)return null;var ie=G.length?G[0]:Z;return H.canReplaceWith(q,U,ie)?G:null}function Ut(X,Z){var H=X.parent,q=X.startIndex,U=X.endIndex,G=H.child(q),ie=Z.contentMatch.findWrapping(G.type);if(!ie)return null;for(var Oe=ie.length?ie[ie.length-1]:Z,$e=Oe.contentMatch,ge=q;$e&&ge<U;ge++)$e=$e.matchType(H.child(ge).type);return!$e||!$e.validEnd?null:ie}function Kt(X,Z,H){for(var q=V.Fragment.empty,U=H.length-1;U>=0;U--){if(q.size){var G=H[U].type.contentMatch.matchFragment(q);if(!G||!G.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}q=V.Fragment.from(H[U].type.create(H[U].attrs,q))}var ie=Z.start,Oe=Z.end;X.step(new dt(ie,Oe,ie,Oe,new V.Slice(q,0,0),H.length,!0))}function jt(X,Z,H,q,U){if(!q.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var G=X.steps.length;X.doc.nodesBetween(Z,H,function(ie,Oe){var $e=typeof U=="function"?U(ie):U;if(ie.isTextblock&&!ie.hasMarkup(q,$e)&&zr(X.doc,X.mapping.slice(G).map(Oe),q)){var ge=null;if(q.schema.linebreakReplacement){var ae=q.whitespace=="pre",Re=!!q.contentMatch.matchType(q.schema.linebreakReplacement);ae&&!Re?ge=!1:!ae&&Re&&(ge=!0)}ge===!1&&Yt(X,ie,Oe,G),Ce(X,X.mapping.slice(G).map(Oe,1),q,void 0,ge===null);var Fe=X.mapping.slice(G),ot=Fe.map(Oe,1),Rt=Fe.map(Oe+ie.nodeSize,1);return X.step(new dt(ot,Rt,ot+1,Rt-1,new V.Slice(V.Fragment.from(q.create($e,null,ie.marks)),0,0),1,!0)),ge===!0&&Er(X,ie,Oe,G),!1}})}function Er(X,Z,H,q){Z.forEach(function(U,G){if(U.isText)for(var ie,Oe=/\r?\n|\r/g;ie=Oe.exec(U.text);){var $e=X.mapping.slice(q).map(H+1+G+ie.index);X.replaceWith($e,$e+1,Z.type.schema.linebreakReplacement.create())}})}function Yt(X,Z,H,q){Z.forEach(function(U,G){if(U.type==U.type.schema.linebreakReplacement){var ie=X.mapping.slice(q).map(H+1+G);X.replaceWith(ie,ie+1,Z.type.schema.text(`
`))}})}function zr(X,Z,H){var q=X.resolve(Z),U=q.index();return q.parent.canReplaceWith(U,U+1,H)}function Sr(X,Z,H,q,U){var G=X.doc.nodeAt(Z);if(!G)throw new RangeError("No node at given position");H||(H=G.type);var ie=H.create(q,null,U||G.marks);if(G.isLeaf)return X.replaceWith(Z,Z+G.nodeSize,ie);if(!H.validContent(G.content))throw new RangeError("Invalid content for node type "+H.name);X.step(new dt(Z,Z+G.nodeSize,Z+1,Z+G.nodeSize-1,new V.Slice(V.Fragment.from(ie),0,0),1,!0))}function Or(X,Z){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,q=arguments.length>3?arguments[3]:void 0,U=X.resolve(Z),G=U.depth-H,ie=q&&q[q.length-1]||U.parent;if(G<0||U.parent.type.spec.isolating||!U.parent.canReplace(U.index(),U.parent.childCount)||!ie.type.validContent(U.parent.content.cutByIndex(U.index(),U.parent.childCount)))return!1;for(var Oe=U.depth-1,$e=H-2;Oe>G;Oe--,$e--){var ge=U.node(Oe),ae=U.index(Oe);if(ge.type.spec.isolating)return!1;var Re=ge.content.cutByIndex(ae,ge.childCount),Fe=q&&q[$e+1];Fe&&(Re=Re.replaceChild(0,Fe.type.create(Fe.attrs)));var ot=q&&q[$e]||ge;if(!ge.canReplace(ae+1,ge.childCount)||!ot.type.validContent(Re))return!1}var Rt=U.indexAfter(G),$=q&&q[0];return U.node(G).canReplaceWith(Rt,Rt,$?$.type:U.node(G+1).type)}function sr(X,Z){for(var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,q=arguments.length>3?arguments[3]:void 0,U=X.doc.resolve(Z),G=V.Fragment.empty,ie=V.Fragment.empty,Oe=U.depth,$e=U.depth-H,ge=H-1;Oe>$e;Oe--,ge--){G=V.Fragment.from(U.node(Oe).copy(G));var ae=q&&q[ge];ie=V.Fragment.from(ae?ae.type.create(ae.attrs,ie):U.node(Oe).copy(ie))}X.step(new Le(Z,Z,new V.Slice(G.append(ie),H,H),!0))}function Gr(X,Z){var H=X.resolve(Z),q=H.index();return $n(H.nodeBefore,H.nodeAfter)&&H.parent.canReplace(q,q+1)}function xi(X,Z){Z.content.size||X.type.compatibleContent(Z.type);for(var H=X.contentMatchAt(X.childCount),q=X.type.schema.linebreakReplacement,U=0;U<Z.childCount;U++){var G=Z.child(U),ie=G.type==q?X.type.schema.nodes.text:G.type;if(H=H.matchType(ie),!H||!X.type.allowsMarks(G.marks))return!1}return H.validEnd}function $n(X,Z){return!!(X&&Z&&!X.isLeaf&&xi(X,Z))}function Hr(X,Z){for(var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,q=X.resolve(Z),U=q.depth;;U--){var G=void 0,ie=void 0,Oe=q.index(U);if(U==q.depth?(G=q.nodeBefore,ie=q.nodeAfter):H>0?(G=q.node(U+1),Oe++,ie=q.node(U).maybeChild(Oe)):(G=q.node(U).maybeChild(Oe-1),ie=q.node(U+1)),G&&!G.isTextblock&&$n(G,ie)&&q.node(U).canReplace(Oe,Oe+1))return Z;if(U==0)break;Z=H<0?q.before(U):q.after(U)}}function ht(X,Z,H){var q=null,U=X.doc.type.schema.linebreakReplacement,G=X.doc.resolve(Z-H),ie=G.node().type;if(U&&ie.inlineContent){var Oe=ie.whitespace=="pre",$e=!!ie.contentMatch.matchType(U);Oe&&!$e?q=!1:!Oe&&$e&&(q=!0)}var ge=X.steps.length;if(q===!1){var ae=X.doc.resolve(Z+H);Yt(X,ae.node(),ae.before(),ge)}ie.inlineContent&&Ce(X,Z+H-1,ie,G.node().contentMatchAt(G.index()),q==null);var Re=X.mapping.slice(ge),Fe=Re.map(Z-H);if(X.step(new Le(Fe,Re.map(Z+H,-1),V.Slice.empty,!0)),q===!0){var ot=X.doc.resolve(Fe);Er(X,ot.node(),ot.before(),X.steps.length)}return X}function pt(X,Z,H){var q=X.resolve(Z);if(q.parent.canReplaceWith(q.index(),q.index(),H))return Z;if(q.parentOffset==0)for(var U=q.depth-1;U>=0;U--){var G=q.index(U);if(q.node(U).canReplaceWith(G,G,H))return q.before(U+1);if(G>0)return null}if(q.parentOffset==q.parent.content.size)for(var ie=q.depth-1;ie>=0;ie--){var Oe=q.indexAfter(ie);if(q.node(ie).canReplaceWith(Oe,Oe,H))return q.after(ie+1);if(Oe<q.node(ie).childCount)return null}return null}function zt(X,Z,H){var q=X.resolve(Z);if(!H.content.size)return Z;for(var U=H.content,G=0;G<H.openStart;G++)U=U.firstChild.content;for(var ie=1;ie<=(H.openStart==0&&H.size?2:1);ie++)for(var Oe=q.depth;Oe>=0;Oe--){var $e=Oe==q.depth?0:q.pos<=(q.start(Oe+1)+q.end(Oe+1))/2?-1:1,ge=q.index(Oe)+($e>0?1:0),ae=q.node(Oe),Re=!1;if(ie==1)Re=ae.canReplace(ge,ge,U);else{var Fe=ae.contentMatchAt(ge).findWrapping(U.firstChild.type);Re=Fe&&ae.canReplaceWith(ge,ge,Fe[0])}if(Re)return $e==0?q.pos:$e<0?q.before(Oe+1):q.after(Oe+1)}return null}function Wt(X,Z){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V.Slice.empty;if(Z==H&&!q.size)return null;var U=X.resolve(Z),G=X.resolve(H);return rr(U,G,q)?new Le(Z,H,q):new nn(U,G,q).fit()}function rr(X,Z,H){return!H.openStart&&!H.openEnd&&X.start()==Z.start()&&X.parent.canReplace(X.index(),Z.index(),H.content)}var nn=function(){function X(Z,H,q){T(this,X),this.$from=Z,this.$to=H,this.unplaced=q,this.frontier=[],this.placed=V.Fragment.empty;for(var U=0;U<=Z.depth;U++){var G=Z.node(U);this.frontier.push({type:G.type,match:G.contentMatchAt(Z.indexAfter(U))})}for(var ie=Z.depth;ie>0;ie--)this.placed=V.Fragment.from(Z.node(ie).copy(this.placed))}return N(X,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var H=this.findFittable();H?this.placeNodes(H):this.openMore()||this.dropNode()}var q=this.mustMoveInline(),U=this.placed.size-this.depth-this.$from.depth,G=this.$from,ie=this.close(q<0?this.$to:G.doc.resolve(q));if(!ie)return null;for(var Oe=this.placed,$e=G.depth,ge=ie.depth;$e&&ge&&Oe.childCount==1;)Oe=Oe.firstChild.content,$e--,ge--;var ae=new V.Slice(Oe,$e,ge);return q>-1?new dt(G.pos,q,this.$to.pos,this.$to.end(),ae,U):ae.size||G.pos!=this.$to.pos?new Le(G.pos,ie.pos,ae):null}},{key:"findFittable",value:function(){for(var H=this.unplaced.openStart,q=this.unplaced.content,U=0,G=this.unplaced.openEnd;U<H;U++){var ie=q.firstChild;if(q.childCount>1&&(G=0),ie.type.spec.isolating&&G<=U){H=U;break}q=ie.content}for(var Oe=1;Oe<=2;Oe++)for(var $e=Oe==1?H:this.unplaced.openStart;$e>=0;$e--){var ge=void 0,ae=null;$e?(ae=Dn(this.unplaced.content,$e-1).firstChild,ge=ae.content):ge=this.unplaced.content;for(var Re=ge.firstChild,Fe=this.depth;Fe>=0;Fe--){var ot=this.frontier[Fe],Rt=ot.type,$=ot.match,I=void 0,C=null;if(Oe==1&&(Re?$.matchType(Re.type)||(C=$.fillBefore(V.Fragment.from(Re),!1)):ae&&Rt.compatibleContent(ae.type)))return{sliceDepth:$e,frontierDepth:Fe,parent:ae,inject:C};if(Oe==2&&Re&&(I=$.findWrapping(Re.type)))return{sliceDepth:$e,frontierDepth:Fe,parent:ae,wrap:I};if(ae&&$.matchType(ae.type))break}}}},{key:"openMore",value:function(){var H=this.unplaced,q=H.content,U=H.openStart,G=H.openEnd,ie=Dn(q,U);return!ie.childCount||ie.firstChild.isLeaf?!1:(this.unplaced=new V.Slice(q,U+1,Math.max(G,ie.size+U>=q.size-G?U+1:0)),!0)}},{key:"dropNode",value:function(){var H=this.unplaced,q=H.content,U=H.openStart,G=H.openEnd,ie=Dn(q,U);if(ie.childCount<=1&&U>0){var Oe=q.size-U<=U+ie.size;this.unplaced=new V.Slice(wr(q,U-1,1),U-1,Oe?U-1:G)}else this.unplaced=new V.Slice(wr(q,U,1),U,G)}},{key:"placeNodes",value:function(H){for(var q=H.sliceDepth,U=H.frontierDepth,G=H.parent,ie=H.inject,Oe=H.wrap;this.depth>U;)this.closeFrontierNode();if(Oe)for(var $e=0;$e<Oe.length;$e++)this.openFrontierNode(Oe[$e]);var ge=this.unplaced,ae=G?G.content:ge.content,Re=ge.openStart-q,Fe=0,ot=[],Rt=this.frontier[U],$=Rt.match,I=Rt.type;if(ie){for(var C=0;C<ie.childCount;C++)ot.push(ie.child(C));$=$.matchFragment(ie)}for(var O=ae.size+q-(ge.content.size-ge.openEnd);Fe<ae.childCount;){var _=ae.child(Fe),K=$.matchType(_.type);if(!K)break;Fe++,(Fe>1||Re==0||_.content.size)&&($=K,ot.push(Un(_.mark(I.allowedMarks(_.marks)),Fe==1?Re:0,Fe==ae.childCount?O:-1)))}var Y=Fe==ae.childCount;Y||(O=-1),this.placed=Mr(this.placed,U,V.Fragment.from(ot)),this.frontier[U].match=$,Y&&O<0&&G&&G.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var le=0,we=ae;le<O;le++){var Ie=we.lastChild;this.frontier.push({type:Ie.type,match:Ie.contentMatchAt(Ie.childCount)}),we=Ie.content}this.unplaced=Y?q==0?V.Slice.empty:new V.Slice(wr(ge.content,q-1,1),q-1,O<0?ge.openEnd:q-1):new V.Slice(wr(ge.content,q,Fe),ge.openStart,ge.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var H=this.frontier[this.depth],q;if(!H.type.isTextblock||!Ir(this.$to,this.$to.depth,H.type,H.match,!1)||this.$to.depth==this.depth&&(q=this.findCloseLevel(this.$to))&&q.depth==this.depth)return-1;for(var U=this.$to.depth,G=this.$to.after(U);U>1&&G==this.$to.end(--U);)++G;return G}},{key:"findCloseLevel",value:function(H){e:for(var q=Math.min(this.depth,H.depth);q>=0;q--){var U=this.frontier[q],G=U.match,ie=U.type,Oe=q<H.depth&&H.end(q+1)==H.pos+(H.depth-(q+1)),$e=Ir(H,q,ie,G,Oe);if($e){for(var ge=q-1;ge>=0;ge--){var ae=this.frontier[ge],Re=ae.match,Fe=ae.type,ot=Ir(H,ge,Fe,Re,!0);if(!ot||ot.childCount)continue e}return{depth:q,fit:$e,move:Oe?H.doc.resolve(H.after(q+1)):H}}}}},{key:"close",value:function(H){var q=this.findCloseLevel(H);if(!q)return null;for(;this.depth>q.depth;)this.closeFrontierNode();q.fit.childCount&&(this.placed=Mr(this.placed,q.depth,q.fit)),H=q.move;for(var U=q.depth+1;U<=H.depth;U++){var G=H.node(U),ie=G.type.contentMatch.fillBefore(G.content,!0,H.index(U));this.openFrontierNode(G.type,G.attrs,ie)}return H}},{key:"openFrontierNode",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,U=arguments.length>2?arguments[2]:void 0,G=this.frontier[this.depth];G.match=G.match.matchType(H),this.placed=Mr(this.placed,this.depth,V.Fragment.from(H.create(q,U))),this.frontier.push({type:H,match:H.contentMatch})}},{key:"closeFrontierNode",value:function(){var H=this.frontier.pop(),q=H.match.fillBefore(V.Fragment.empty,!0);q.childCount&&(this.placed=Mr(this.placed,this.frontier.length,q))}}]),X}();function wr(X,Z,H){return Z==0?X.cutByIndex(H,X.childCount):X.replaceChild(0,X.firstChild.copy(wr(X.firstChild.content,Z-1,H)))}function Mr(X,Z,H){return Z==0?X.append(H):X.replaceChild(X.childCount-1,X.lastChild.copy(Mr(X.lastChild.content,Z-1,H)))}function Dn(X,Z){for(var H=0;H<Z;H++)X=X.firstChild.content;return X}function Un(X,Z,H){if(Z<=0)return X;var q=X.content;return Z>1&&(q=q.replaceChild(0,Un(q.firstChild,Z-1,q.childCount==1?H-1:0))),Z>0&&(q=X.type.contentMatch.fillBefore(q).append(q),H<=0&&(q=q.append(X.type.contentMatch.matchFragment(q).fillBefore(V.Fragment.empty,!0)))),X.copy(q)}function Ir(X,Z,H,q,U){var G=X.node(Z),ie=U?X.indexAfter(Z):X.index(Z);if(ie==G.childCount&&!H.compatibleContent(G.type))return null;var Oe=q.fillBefore(G.content,!0,ie);return Oe&&!hn(H,G.content,ie)?Oe:null}function hn(X,Z,H){for(var q=H;q<Z.childCount;q++)if(!X.allowsMarks(Z.child(q).marks))return!0;return!1}function ai(X){return X.spec.defining||X.spec.definingForContent}function jn(X,Z,H,q){if(!q.size)return X.deleteRange(Z,H);var U=X.doc.resolve(Z),G=X.doc.resolve(H);if(rr(U,G,q))return X.step(new Le(Z,H,q));var ie=Vr(U,X.doc.resolve(H));ie[ie.length-1]==0&&ie.pop();var Oe=-(U.depth+1);ie.unshift(Oe);for(var $e=U.depth,ge=U.pos-1;$e>0;$e--,ge--){var ae=U.node($e).type.spec;if(ae.defining||ae.definingAsContext||ae.isolating)break;ie.indexOf($e)>-1?Oe=$e:U.before($e)==ge&&ie.splice(1,0,-$e)}for(var Re=ie.indexOf(Oe),Fe=[],ot=q.openStart,Rt=q.content,$=0;;$++){var I=Rt.firstChild;if(Fe.push(I),$==q.openStart)break;Rt=I.content}for(var C=ot-1;C>=0;C--){var O=Fe[C],_=ai(O.type);if(_&&!O.sameMarkup(U.node(Math.abs(Oe)-1)))ot=C;else if(_||!O.type.isTextblock)break}for(var K=q.openStart;K>=0;K--){var Y=(K+ot+1)%(q.openStart+1),le=Fe[Y];if(le)for(var we=0;we<ie.length;we++){var Ie=ie[(we+Re)%ie.length],et=!0;Ie<0&&(et=!1,Ie=-Ie);var rt=U.node(Ie-1),ut=U.index(Ie-1);if(rt.canReplaceWith(ut,ut,le.type,le.marks))return X.replace(U.before(Ie),et?G.after(Ie):H,new V.Slice(an(q.content,0,q.openStart,Y),Y,q.openEnd))}}for(var Ft=X.steps.length,nr=ie.length-1;nr>=0&&(X.replace(Z,H,q),!(X.steps.length>Ft));nr--){var vr=ie[nr];vr<0||(Z=U.before(vr),H=G.after(vr))}}function an(X,Z,H,q,U){if(Z<H){var G=X.firstChild;X=X.replaceChild(0,G.copy(an(G.content,Z+1,H,q,G)))}if(Z>q){var ie=U.contentMatchAt(0),Oe=ie.fillBefore(X).append(X);X=Oe.append(ie.matchFragment(Oe).fillBefore(V.Fragment.empty,!0))}return X}function Zr(X,Z,H,q){if(!q.isInline&&Z==H&&X.doc.resolve(Z).parent.content.size){var U=pt(X.doc,Z,q.type);U!=null&&(Z=H=U)}X.replaceRange(Z,H,new V.Slice(V.Fragment.from(q),0,0))}function Cn(X,Z,H){for(var q=X.doc.resolve(Z),U=X.doc.resolve(H),G=Vr(q,U),ie=0;ie<G.length;ie++){var Oe=G[ie],$e=ie==G.length-1;if($e&&Oe==0||q.node(Oe).type.contentMatch.validEnd)return X.delete(q.start(Oe),U.end(Oe));if(Oe>0&&($e||q.node(Oe-1).canReplace(q.index(Oe-1),U.indexAfter(Oe-1))))return X.delete(q.before(Oe),U.after(Oe))}for(var ge=1;ge<=q.depth&&ge<=U.depth;ge++)if(Z-q.start(ge)==q.depth-ge&&H>q.end(ge)&&U.end(ge)-H!=U.depth-ge&&q.start(ge-1)==U.start(ge-1)&&q.node(ge-1).canReplace(q.index(ge-1),U.index(ge-1)))return X.delete(q.before(ge),H);X.delete(Z,H)}function Vr(X,Z){for(var H=[],q=Math.min(X.depth,Z.depth),U=q;U>=0;U--){var G=X.start(U);if(G<X.pos-(X.depth-U)||Z.end(U)>Z.pos+(Z.depth-U)||X.node(U).type.spec.isolating||Z.node(U).type.spec.isolating)break;(G==Z.start(U)||U==X.depth&&U==Z.depth&&X.parent.inlineContent&&Z.parent.inlineContent&&U&&Z.start(U-1)==G-1)&&H.push(U)}return H}var Wn=function(X){i(H,X);var Z=s(H);function H(q,U,G){var ie;return T(this,H),ie=Z.call(this),ie.pos=q,ie.attr=U,ie.value=G,ie}return N(H,[{key:"apply",value:function(U){var G=U.nodeAt(this.pos);if(!G)return Nt.fail("No node at attribute step's position");var ie=Object.create(null);for(var Oe in G.attrs)ie[Oe]=G.attrs[Oe];ie[this.attr]=this.value;var $e=G.type.create(ie,null,G.marks);return Nt.fromReplace(U,this.pos,this.pos+1,new V.Slice(V.Fragment.from($e),0,G.isLeaf?0:1))}},{key:"getMap",value:function(){return Ge.empty}},{key:"invert",value:function(U){return new H(this.pos,this.attr,U.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(U){var G=U.mapResult(this.pos,1);return G.deletedAfter?null:new H(G.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(U,G){if(typeof G.pos!="number"||typeof G.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new H(G.pos,G.attr,G.value)}}]),H}(Pt);Pt.jsonID("attr",Wn);var kr=function(X){i(H,X);var Z=s(H);function H(q,U){var G;return T(this,H),G=Z.call(this),G.attr=q,G.value=U,G}return N(H,[{key:"apply",value:function(U){var G=Object.create(null);for(var ie in U.attrs)G[ie]=U.attrs[ie];G[this.attr]=this.value;var Oe=U.type.create(G,U.content,U.marks);return Nt.ok(Oe)}},{key:"getMap",value:function(){return Ge.empty}},{key:"invert",value:function(U){return new H(this.attr,U.attrs[this.attr])}},{key:"map",value:function(U){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(U,G){if(typeof G.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new H(G.attr,G.value)}}]),H}(Pt);Pt.jsonID("docAttr",kr),t.TransformError=function(X){i(H,X);var Z=s(H);function H(){return T(this,H),Z.apply(this,arguments)}return N(H)}(e(Error)),t.TransformError=function X(Z){var H=Error.call(this,Z);return H.__proto__=X.prototype,H},t.TransformError.prototype=Object.create(Error.prototype),t.TransformError.prototype.constructor=t.TransformError,t.TransformError.prototype.name="TransformError";var Kr=function(){function X(Z){T(this,X),this.doc=Z,this.steps=[],this.docs=[],this.mapping=new Ct}return N(X,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(H){var q=this.maybeStep(H);if(q.failed)throw new t.TransformError(q.failed);return this}},{key:"maybeStep",value:function(H){var q=H.apply(this.doc);return q.failed||this.addStep(H,q.doc),q}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(H,q){this.docs.push(this.doc),this.steps.push(H),this.mapping.appendMap(H.getMap()),this.doc=q}},{key:"replace",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.Slice.empty,G=Wt(this.doc,H,q,U);return G&&this.step(G),this}},{key:"replaceWith",value:function(H,q,U){return this.replace(H,q,new V.Slice(V.Fragment.from(U),0,0))}},{key:"delete",value:function(H,q){return this.replace(H,q,V.Slice.empty)}},{key:"insert",value:function(H,q){return this.replaceWith(H,H,q)}},{key:"replaceRange",value:function(H,q,U){return jn(this,H,q,U),this}},{key:"replaceRangeWith",value:function(H,q,U){return Zr(this,H,q,U),this}},{key:"deleteRange",value:function(H,q){return Cn(this,H,q),this}},{key:"lift",value:function(H,q){return ce(this,H,q),this}},{key:"join",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return ht(this,H,q),this}},{key:"wrap",value:function(H,q){return Kt(this,H,q),this}},{key:"setBlockType",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,U=arguments.length>2?arguments[2]:void 0,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return jt(this,H,q,U,G),this}},{key:"setNodeMarkup",value:function(H,q){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,G=arguments.length>3?arguments[3]:void 0;return Sr(this,H,q,U,G),this}},{key:"setNodeAttribute",value:function(H,q,U){return this.step(new Wn(H,q,U)),this}},{key:"setDocAttribute",value:function(H,q){return this.step(new kr(H,q)),this}},{key:"addNodeMark",value:function(H,q){return this.step(new He(H,q)),this}},{key:"removeNodeMark",value:function(H,q){if(!(q instanceof V.Mark)){var U=this.doc.nodeAt(H);if(!U)throw new RangeError("No node at position "+H);if(q=q.isInSet(U.marks),!q)return this}return this.step(new ve(H,q)),this}},{key:"split",value:function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,U=arguments.length>2?arguments[2]:void 0;return sr(this,H,q,U),this}},{key:"addMark",value:function(H,q,U){return _t(this,H,q,U),this}},{key:"removeMark",value:function(H,q,U){return xe(this,H,q,U),this}},{key:"clearIncompatible",value:function(H,q,U){return Ce(this,H,q,U),this}}]),X}();t.AddMarkStep=Ke,t.AddNodeMarkStep=He,t.AttrStep=Wn,t.DocAttrStep=kr,t.MapResult=ct,t.Mapping=Ct,t.RemoveMarkStep=vt,t.RemoveNodeMarkStep=ve,t.ReplaceAroundStep=dt,t.ReplaceStep=Le,t.Step=Pt,t.StepMap=Ge,t.StepResult=Nt,t.Transform=Kr,t.canJoin=Gr,t.canSplit=Or,t.dropPoint=zt,t.findWrapping=_e,t.insertPoint=pt,t.joinPoint=Hr,t.liftTarget=fe,t.replaceStep=Wt}(N1)),N1}var wE;function py(){if(wE)return Aa;wE=1;function t(xe){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},t(xe)}function e(){return typeof Reflect<"u"&&Reflect.get?e=Reflect.get:e=function(Ce,se,fe){var ce=r(Ce,se);if(ce){var _e=Object.getOwnPropertyDescriptor(ce,se);return _e.get?_e.get.call(arguments.length<3?Ce:fe):_e.value}},e.apply(this,arguments)}function r(xe,Ce){for(;!Object.prototype.hasOwnProperty.call(xe,Ce)&&(xe=d(xe),xe!==null););return xe}function n(xe,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),Ce&&i(xe,Ce)}function i(xe,Ce){return i=Object.setPrototypeOf||function(fe,ce){return fe.__proto__=ce,fe},i(xe,Ce)}function a(xe){var Ce=c();return function(){var fe=d(xe),ce;if(Ce){var _e=d(this).constructor;ce=Reflect.construct(fe,arguments,_e)}else ce=fe.apply(this,arguments);return s(this,ce)}}function s(xe,Ce){if(Ce&&(t(Ce)==="object"||typeof Ce=="function"))return Ce;if(Ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(xe)}function u(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(xe){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(se){return se.__proto__||Object.getPrototypeOf(se)},d(xe)}function m(xe,Ce){if(!(xe instanceof Ce))throw new TypeError("Cannot call a class as a function")}function w(xe,Ce){for(var se=0;se<Ce.length;se++){var fe=Ce[se];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(xe,fe.key,fe)}}function T(xe,Ce,se){return Ce&&w(xe.prototype,Ce),se&&w(xe,se),Object.defineProperty(xe,"prototype",{writable:!1}),xe}Object.defineProperty(Aa,"__esModule",{value:!0});var M=hy(),N=zk(),P=Object.create(null),R=function(){function xe(Ce,se,fe){m(this,xe),this.$anchor=Ce,this.$head=se,this.ranges=fe||[new V(Ce.min(se),Ce.max(se))]}return T(xe,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var se=this.ranges,fe=0;fe<se.length;fe++)if(se[fe].$from.pos!=se[fe].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(se){for(var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty,ce=fe.content.lastChild,_e=null,Ve=0;Ve<fe.openEnd;Ve++)_e=ce,ce=ce.lastChild;for(var at=se.steps.length,Ut=this.ranges,Kt=0;Kt<Ut.length;Kt++){var jt=Ut[Kt],Er=jt.$from,Yt=jt.$to,zr=se.mapping.slice(at);se.replaceRange(zr.map(Er.pos),zr.map(Yt.pos),Kt?M.Slice.empty:fe),Kt==0&&ct(se,at,(ce?ce.isInline:_e&&_e.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(se,fe){for(var ce=se.steps.length,_e=this.ranges,Ve=0;Ve<_e.length;Ve++){var at=_e[Ve],Ut=at.$from,Kt=at.$to,jt=se.mapping.slice(ce),Er=jt.map(Ut.pos),Yt=jt.map(Kt.pos);Ve?se.deleteRange(Er,Yt):(se.replaceRangeWith(Er,Yt,fe),ct(se,ce,fe.isInline?-1:1))}}},{key:"getBookmark",value:function(){return ne.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(se,fe){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_e=se.parent.inlineContent?new ne(se):je(se.node(0),se.parent,se.pos,se.index(),fe,ce);if(_e)return _e;for(var Ve=se.depth-1;Ve>=0;Ve--){var at=fe<0?je(se.node(0),se.node(Ve),se.before(Ve+1),se.index(Ve),fe,ce):je(se.node(0),se.node(Ve),se.after(Ve+1),se.index(Ve)+1,fe,ce);if(at)return at}return null}},{key:"near",value:function(se){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(se,fe)||this.findFrom(se,-fe)||new Ne(se.node(0))}},{key:"atStart",value:function(se){return je(se,se,0,0,1)||new Ne(se)}},{key:"atEnd",value:function(se){return je(se,se,se.content.size,se.childCount,-1)||new Ne(se)}},{key:"fromJSON",value:function(se,fe){if(!fe||!fe.type)throw new RangeError("Invalid input for Selection.fromJSON");var ce=P[fe.type];if(!ce)throw new RangeError("No selection type ".concat(fe.type," defined"));return ce.fromJSON(se,fe)}},{key:"jsonID",value:function(se,fe){if(se in P)throw new RangeError("Duplicate use of selection JSON ID "+se);return P[se]=fe,fe.prototype.jsonID=se,fe}}]),xe}();R.prototype.visible=!0;var V=T(function xe(Ce,se){m(this,xe),this.$from=Ce,this.$to=se}),ee=!1;function te(xe){!ee&&!xe.parent.inlineContent&&(ee=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+xe.parent.type.name+")"))}var ne=function(xe){n(se,xe);var Ce=a(se);function se(fe){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe;return m(this,se),te(fe),te(ce),Ce.call(this,fe,ce)}return T(se,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(ce,_e){var Ve=ce.resolve(_e.map(this.head));if(!Ve.parent.inlineContent)return R.near(Ve);var at=ce.resolve(_e.map(this.anchor));return new se(at.parent.inlineContent?at:Ve,Ve)}},{key:"replace",value:function(ce){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty;if(e(d(se.prototype),"replace",this).call(this,ce,_e),_e==M.Slice.empty){var Ve=this.$from.marksAcross(this.$to);Ve&&ce.ensureMarks(Ve)}}},{key:"eq",value:function(ce){return ce instanceof se&&ce.anchor==this.anchor&&ce.head==this.head}},{key:"getBookmark",value:function(){return new pe(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(ce,_e){if(typeof _e.anchor!="number"||typeof _e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new se(ce.resolve(_e.anchor),ce.resolve(_e.head))}},{key:"create",value:function(ce,_e){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e,at=ce.resolve(_e);return new this(at,Ve==_e?at:ce.resolve(Ve))}},{key:"between",value:function(ce,_e,Ve){var at=ce.pos-_e.pos;if((!Ve||at)&&(Ve=at>=0?1:-1),!_e.parent.inlineContent){var Ut=R.findFrom(_e,Ve,!0)||R.findFrom(_e,-Ve,!0);if(Ut)_e=Ut.$head;else return R.near(_e,Ve)}return ce.parent.inlineContent||(at==0?ce=_e:(ce=(R.findFrom(ce,-Ve,!0)||R.findFrom(ce,Ve,!0)).$anchor,ce.pos<_e.pos!=at<0&&(ce=_e))),new se(ce,_e)}}]),se}(R);R.jsonID("text",ne);var pe=function(){function xe(Ce,se){m(this,xe),this.anchor=Ce,this.head=se}return T(xe,[{key:"map",value:function(se){return new xe(se.map(this.anchor),se.map(this.head))}},{key:"resolve",value:function(se){return ne.between(se.resolve(this.anchor),se.resolve(this.head))}}]),xe}(),ue=function(xe){n(se,xe);var Ce=a(se);function se(fe){var ce;m(this,se);var _e=fe.nodeAfter,Ve=fe.node(0).resolve(fe.pos+_e.nodeSize);return ce=Ce.call(this,fe,Ve),ce.node=_e,ce}return T(se,[{key:"map",value:function(ce,_e){var Ve=_e.mapResult(this.anchor),at=Ve.deleted,Ut=Ve.pos,Kt=ce.resolve(Ut);return at?R.near(Kt):new se(Kt)}},{key:"content",value:function(){return new M.Slice(M.Fragment.from(this.node),0,0)}},{key:"eq",value:function(ce){return ce instanceof se&&ce.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new be(this.anchor)}}],[{key:"fromJSON",value:function(ce,_e){if(typeof _e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new se(ce.resolve(_e.anchor))}},{key:"create",value:function(ce,_e){return new se(ce.resolve(_e))}},{key:"isSelectable",value:function(ce){return!ce.isText&&ce.type.spec.selectable!==!1}}]),se}(R);ue.prototype.visible=!1,R.jsonID("node",ue);var be=function(){function xe(Ce){m(this,xe),this.anchor=Ce}return T(xe,[{key:"map",value:function(se){var fe=se.mapResult(this.anchor),ce=fe.deleted,_e=fe.pos;return ce?new pe(_e,_e):new xe(_e)}},{key:"resolve",value:function(se){var fe=se.resolve(this.anchor),ce=fe.nodeAfter;return ce&&ue.isSelectable(ce)?new ue(fe):R.near(fe)}}]),xe}(),Ne=function(xe){n(se,xe);var Ce=a(se);function se(fe){return m(this,se),Ce.call(this,fe.resolve(0),fe.resolve(fe.content.size))}return T(se,[{key:"replace",value:function(ce){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty;if(_e==M.Slice.empty){ce.delete(0,ce.doc.content.size);var Ve=R.atStart(ce.doc);Ve.eq(ce.selection)||ce.setSelection(Ve)}else e(d(se.prototype),"replace",this).call(this,ce,_e)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(ce){return new se(ce)}},{key:"eq",value:function(ce){return ce instanceof se}},{key:"getBookmark",value:function(){return Ee}}],[{key:"fromJSON",value:function(ce){return new se(ce)}}]),se}(R);R.jsonID("all",Ne);var Ee={map:function(){return this},resolve:function(Ce){return new Ne(Ce)}};function je(xe,Ce,se,fe,ce){var _e=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(Ce.inlineContent)return ne.create(xe,se);for(var Ve=fe-(ce>0?0:1);ce>0?Ve<Ce.childCount:Ve>=0;Ve+=ce){var at=Ce.child(Ve);if(at.isAtom){if(!_e&&ue.isSelectable(at))return ue.create(xe,se-(ce<0?at.nodeSize:0))}else{var Ut=je(xe,at,se+ce,ce<0?at.childCount:0,ce,_e);if(Ut)return Ut}se+=at.nodeSize*ce}return null}function ct(xe,Ce,se){var fe=xe.steps.length-1;if(!(fe<Ce)){var ce=xe.steps[fe];if(ce instanceof N.ReplaceStep||ce instanceof N.ReplaceAroundStep){var _e=xe.mapping.maps[fe],Ve;_e.forEach(function(at,Ut,Kt,jt){Ve==null&&(Ve=jt)}),xe.setSelection(R.near(xe.doc.resolve(Ve),se))}}}var Ge=1,Ct=2,Mt=4,Pt=function(xe){n(se,xe);var Ce=a(se);function se(fe){var ce;return m(this,se),ce=Ce.call(this,fe.doc),ce.curSelectionFor=0,ce.updated=0,ce.meta=Object.create(null),ce.time=Date.now(),ce.curSelection=fe.selection,ce.storedMarks=fe.storedMarks,ce}return T(se,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(ce){if(ce.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=ce,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ge)&-3,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&Ge)>0}},{key:"setStoredMarks",value:function(ce){return this.storedMarks=ce,this.updated|=Ct,this}},{key:"ensureMarks",value:function(ce){return M.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),ce)||this.setStoredMarks(ce),this}},{key:"addStoredMark",value:function(ce){return this.ensureMarks(ce.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(ce){return this.ensureMarks(ce.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&Ct)>0}},{key:"addStep",value:function(ce,_e){e(d(se.prototype),"addStep",this).call(this,ce,_e),this.updated=this.updated&-3,this.storedMarks=null}},{key:"setTime",value:function(ce){return this.time=ce,this}},{key:"replaceSelection",value:function(ce){return this.selection.replace(this,ce),this}},{key:"replaceSelectionWith",value:function(ce){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ve=this.selection;return _e&&(ce=ce.mark(this.storedMarks||(Ve.empty?Ve.$from.marks():Ve.$from.marksAcross(Ve.$to)||M.Mark.none))),Ve.replaceWith(this,ce),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(ce,_e,Ve){var at=this.doc.type.schema;if(_e==null)return ce?this.replaceSelectionWith(at.text(ce),!0):this.deleteSelection();if(Ve==null&&(Ve=_e),Ve=Ve??_e,!ce)return this.deleteRange(_e,Ve);var Ut=this.storedMarks;if(!Ut){var Kt=this.doc.resolve(_e);Ut=Ve==_e?Kt.marks():Kt.marksAcross(this.doc.resolve(Ve))}return this.replaceRangeWith(_e,Ve,at.text(ce,Ut)),this.selection.empty||this.setSelection(R.near(this.selection.$to)),this}},{key:"setMeta",value:function(ce,_e){return this.meta[typeof ce=="string"?ce:ce.key]=_e,this}},{key:"getMeta",value:function(ce){return this.meta[typeof ce=="string"?ce:ce.key]}},{key:"isGeneric",get:function(){for(var ce in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=Mt,this}},{key:"scrolledIntoView",get:function(){return(this.updated&Mt)>0}}]),se}(N.Transform);function Nt(xe,Ce){return!Ce||!xe?xe:xe.bind(Ce)}var It=T(function xe(Ce,se,fe){m(this,xe),this.name=Ce,this.init=Nt(se.init,fe),this.apply=Nt(se.apply,fe)}),Ke=[new It("doc",{init:function(Ce){return Ce.doc||Ce.schema.topNodeType.createAndFill()},apply:function(Ce){return Ce.doc}}),new It("selection",{init:function(Ce,se){return Ce.selection||R.atStart(se.doc)},apply:function(Ce){return Ce.selection}}),new It("storedMarks",{init:function(Ce){return Ce.storedMarks||null},apply:function(Ce,se,fe,ce){return ce.selection.$cursor?Ce.storedMarks:null}}),new It("scrollToSelection",{init:function(){return 0},apply:function(Ce,se){return Ce.scrolledIntoView?se+1:se}})],vt=T(function xe(Ce,se){var fe=this;m(this,xe),this.schema=Ce,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ke.slice(),se&&se.forEach(function(ce){if(fe.pluginsByKey[ce.key])throw new RangeError("Adding different instances of a keyed plugin ("+ce.key+")");fe.plugins.push(ce),fe.pluginsByKey[ce.key]=ce,ce.spec.state&&fe.fields.push(new It(ce.key,ce.spec.state,ce))})}),He=function(){function xe(Ce){m(this,xe),this.config=Ce}return T(xe,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(se){return this.applyTransaction(se).state}},{key:"filterTransaction",value:function(se){for(var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,ce=0;ce<this.config.plugins.length;ce++)if(ce!=fe){var _e=this.config.plugins[ce];if(_e.spec.filterTransaction&&!_e.spec.filterTransaction.call(_e,se,this))return!1}return!0}},{key:"applyTransaction",value:function(se){if(!this.filterTransaction(se))return{state:this,transactions:[]};for(var fe=[se],ce=this.applyInner(se),_e=null;;){for(var Ve=!1,at=0;at<this.config.plugins.length;at++){var Ut=this.config.plugins[at];if(Ut.spec.appendTransaction){var Kt=_e?_e[at].n:0,jt=_e?_e[at].state:this,Er=Kt<fe.length&&Ut.spec.appendTransaction.call(Ut,Kt?fe.slice(Kt):fe,jt,ce);if(Er&&ce.filterTransaction(Er,at)){if(Er.setMeta("appendedTransaction",se),!_e){_e=[];for(var Yt=0;Yt<this.config.plugins.length;Yt++)_e.push(Yt<at?{state:ce,n:fe.length}:{state:this,n:0})}fe.push(Er),ce=ce.applyInner(Er),Ve=!0}_e&&(_e[at]={state:ce,n:fe.length})}}if(!Ve)return{state:ce,transactions:fe}}}},{key:"applyInner",value:function(se){if(!se.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var fe=new xe(this.config),ce=this.config.fields,_e=0;_e<ce.length;_e++){var Ve=ce[_e];fe[Ve.name]=Ve.apply(se,this[Ve.name],this,fe)}return fe}},{key:"tr",get:function(){return new Pt(this)}},{key:"reconfigure",value:function(se){for(var fe=new vt(this.schema,se.plugins),ce=fe.fields,_e=new xe(fe),Ve=0;Ve<ce.length;Ve++){var at=ce[Ve].name;_e[at]=this.hasOwnProperty(at)?this[at]:ce[Ve].init(se,_e)}return _e}},{key:"toJSON",value:function(se){var fe={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(fe.storedMarks=this.storedMarks.map(function(at){return at.toJSON()})),se&&t(se)=="object")for(var ce in se){if(ce=="doc"||ce=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var _e=se[ce],Ve=_e.spec.state;Ve&&Ve.toJSON&&(fe[ce]=Ve.toJSON.call(_e,this[_e.key]))}return fe}}],[{key:"create",value:function(se){for(var fe=new vt(se.doc?se.doc.type.schema:se.schema,se.plugins),ce=new xe(fe),_e=0;_e<fe.fields.length;_e++)ce[fe.fields[_e].name]=fe.fields[_e].init(se,ce);return ce}},{key:"fromJSON",value:function(se,fe,ce){if(!fe)throw new RangeError("Invalid input for EditorState.fromJSON");if(!se.schema)throw new RangeError("Required config field 'schema' missing");var _e=new vt(se.schema,se.plugins),Ve=new xe(_e);return _e.fields.forEach(function(at){if(at.name=="doc")Ve.doc=M.Node.fromJSON(se.schema,fe.doc);else if(at.name=="selection")Ve.selection=R.fromJSON(Ve.doc,fe.selection);else if(at.name=="storedMarks")fe.storedMarks&&(Ve.storedMarks=fe.storedMarks.map(se.schema.markFromJSON));else{if(ce)for(var Ut in ce){var Kt=ce[Ut],jt=Kt.spec.state;if(Kt.key==at.name&&jt&&jt.fromJSON&&Object.prototype.hasOwnProperty.call(fe,Ut)){Ve[at.name]=jt.fromJSON.call(Kt,se,fe[Ut],Ve);return}}Ve[at.name]=at.init(se,Ve)}}),Ve}}]),xe}();function ve(xe,Ce,se){for(var fe in xe){var ce=xe[fe];ce instanceof Function?ce=ce.bind(Ce):fe=="handleDOMEvents"&&(ce=ve(ce,Ce,{})),se[fe]=ce}return se}var Le=function(){function xe(Ce){m(this,xe),this.spec=Ce,this.props={},Ce.props&&ve(Ce.props,this,this.props),this.key=Ce.key?Ce.key.key:mt("plugin")}return T(xe,[{key:"getState",value:function(se){return se[this.key]}}]),xe}(),dt=Object.create(null);function mt(xe){return xe in dt?xe+"$"+ ++dt[xe]:(dt[xe]=0,xe+"$")}var _t=function(){function xe(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";m(this,xe),this.key=mt(Ce)}return T(xe,[{key:"get",value:function(se){return se.config.pluginsByKey[this.key]}},{key:"getState",value:function(se){return se[this.key]}}]),xe}();return Aa.AllSelection=Ne,Aa.EditorState=He,Aa.NodeSelection=ue,Aa.Plugin=Le,Aa.PluginKey=_t,Aa.Selection=R,Aa.SelectionRange=V,Aa.TextSelection=ne,Aa.Transaction=Pt,Aa}var kE;function WXe(){if(kE)return Xi;kE=1;function t(te,ne,pe){return Object.defineProperty(te,"prototype",{writable:!1}),te}function e(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}var r=py(),n=zk(),i=t(function te(ne,pe){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e(this,te),this.match=ne,this.match=ne,this.handler=typeof pe=="string"?a(pe):pe,this.undoable=ue.undoable!==!1,this.inCode=ue.inCode||!1});function a(te){return function(ne,pe,ue,be){var Ne=te;if(pe[1]){var Ee=pe[0].lastIndexOf(pe[1]);Ne+=pe[0].slice(Ee+pe[1].length),ue+=Ee;var je=ue-be;je>0&&(Ne=pe[0].slice(Ee-je,Ee)+Ne,ue=be)}return ne.tr.insertText(Ne,ue,be)}}var s=500;function u(te){var ne=te.rules,pe=new r.Plugin({state:{init:function(){return null},apply:function(be,Ne){var Ee=be.getMeta(this);return Ee||(be.selectionSet||be.docChanged?null:Ne)}},props:{handleTextInput:function(be,Ne,Ee,je){return c(be,Ne,Ee,je,ne,pe)},handleDOMEvents:{compositionend:function(be){setTimeout(function(){var Ne=be.state.selection.$cursor;Ne&&c(be,Ne.pos,Ne.pos,"",ne,pe)})}}},isInputRules:!0});return pe}function c(te,ne,pe,ue,be,Ne){if(te.composing)return!1;for(var Ee=te.state,je=Ee.doc.resolve(ne),ct=je.parent.textBetween(Math.max(0,je.parentOffset-s),je.parentOffset,null,"")+ue,Ge=0;Ge<be.length;Ge++){var Ct=be[Ge];if(je.parent.type.spec.code){if(!Ct.inCode)continue}else if(Ct.inCode==="only")continue;var Mt=Ct.match.exec(ct),Pt=Mt&&Ct.handler(Ee,Mt,ne-(Mt[0].length-ue.length),pe);if(Pt)return Ct.undoable&&Pt.setMeta(Ne,{transform:Pt,from:ne,to:pe,text:ue}),te.dispatch(Pt),!0}return!1}var d=function(ne,pe){for(var ue=ne.plugins,be=0;be<ue.length;be++){var Ne=ue[be],Ee=void 0;if(Ne.spec.isInputRules&&(Ee=Ne.getState(ne))){if(pe){for(var je=ne.tr,ct=Ee.transform,Ge=ct.steps.length-1;Ge>=0;Ge--)je.step(ct.steps[Ge].invert(ct.docs[Ge]));if(Ee.text){var Ct=je.doc.resolve(Ee.from).marks();je.replaceWith(Ee.from,Ee.to,ne.schema.text(Ee.text,Ct))}else je.delete(Ee.from,Ee.to);pe(je)}return!0}}return!1},m=new i(/--$/,""),w=new i(/\.\.\.$/,""),T=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),M=new i(/"$/,""),N=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),P=new i(/'$/,""),R=[T,M,N,P];function V(te,ne){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ue=arguments.length>3?arguments[3]:void 0;return new i(te,function(be,Ne,Ee,je){var ct=pe instanceof Function?pe(Ne):pe,Ge=be.tr.delete(Ee,je),Ct=Ge.doc.resolve(Ee),Mt=Ct.blockRange(),Pt=Mt&&n.findWrapping(Mt,ne,ct);if(!Pt)return null;Ge.wrap(Mt,Pt);var Nt=Ge.doc.resolve(Ee-1).nodeBefore;return Nt&&Nt.type==ne&&n.canJoin(Ge.doc,Ee-1)&&(!ue||ue(Ne,Nt))&&Ge.join(Ee-1),Ge})}function ee(te,ne){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new i(te,function(ue,be,Ne,Ee){var je=ue.doc.resolve(Ne),ct=pe instanceof Function?pe(be):pe;return je.node(-1).canReplaceWith(je.index(-1),je.indexAfter(-1),ne)?ue.tr.delete(Ne,Ee).setBlockType(Ne,Ne,ne,ct):null})}return Xi.InputRule=i,Xi.closeDoubleQuote=M,Xi.closeSingleQuote=P,Xi.ellipsis=w,Xi.emDash=m,Xi.inputRules=u,Xi.openDoubleQuote=T,Xi.openSingleQuote=N,Xi.smartQuotes=R,Xi.textblockTypeInputRule=ee,Xi.undoInputRule=d,Xi.wrappingInputRule=V,Xi}var Ph={},Cf={},bE;function GXe(){if(bE)return Cf;bE=1,Object.defineProperty(Cf,"__esModule",{value:!0});for(var t={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},r=typeof navigator<"u"&&/Mac/.test(navigator.platform),n=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)t[48+i]=t[96+i]=String(i);for(var i=1;i<=24;i++)t[i+111]="F"+i;for(var i=65;i<=90;i++)t[i]=String.fromCharCode(i+32),e[i]=String.fromCharCode(i);for(var a in t)e.hasOwnProperty(a)||(e[a]=t[a]);function s(u){var c=r&&u.metaKey&&u.shiftKey&&!u.ctrlKey&&!u.altKey||n&&u.shiftKey&&u.key&&u.key.length==1||u.key=="Unidentified",d=!c&&u.key||(u.shiftKey?e:t)[u.keyCode]||u.key||"Unidentified";return d=="Esc"&&(d="Escape"),d=="Del"&&(d="Delete"),d=="Left"&&(d="ArrowLeft"),d=="Up"&&(d="ArrowUp"),d=="Right"&&(d="ArrowRight"),d=="Down"&&(d="ArrowDown"),d}return Cf.base=t,Cf.keyName=s,Cf.shift=e,Cf}var CE;function KXe(){if(CE)return Ph;CE=1,Object.defineProperty(Ph,"__esModule",{value:!0});var t=GXe(),e=py(),r=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function n(c){var d=c.split(/-(?!$)/),m=d[d.length-1];m=="Space"&&(m=" ");for(var w,T,M,N,P=0;P<d.length-1;P++){var R=d[P];if(/^(cmd|meta|m)$/i.test(R))N=!0;else if(/^a(lt)?$/i.test(R))w=!0;else if(/^(c|ctrl|control)$/i.test(R))T=!0;else if(/^s(hift)?$/i.test(R))M=!0;else if(/^mod$/i.test(R))r?N=!0:T=!0;else throw new Error("Unrecognized modifier name: "+R)}return w&&(m="Alt-"+m),T&&(m="Ctrl-"+m),N&&(m="Meta-"+m),M&&(m="Shift-"+m),m}function i(c){var d=Object.create(null);for(var m in c)d[n(m)]=c[m];return d}function a(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return d.altKey&&(c="Alt-"+c),d.ctrlKey&&(c="Ctrl-"+c),d.metaKey&&(c="Meta-"+c),m&&d.shiftKey&&(c="Shift-"+c),c}function s(c){return new e.Plugin({props:{handleKeyDown:u(c)}})}function u(c){var d=i(c);return function(m,w){var T=t.keyName(w),M,N=d[a(T,w)];if(N&&N(m.state,m.dispatch,m))return!0;if(T.length==1&&T!=" "){if(w.shiftKey){var P=d[a(T,w,!1)];if(P&&P(m.state,m.dispatch,m))return!0}if((w.shiftKey||w.altKey||w.metaKey||T.charCodeAt(0)>127)&&(M=t.base[w.keyCode])&&M!=T){var R=d[a(M,w)];if(R&&R(m.state,m.dispatch,m))return!0}}return!1}}return Ph.keydownHandler=u,Ph.keymap=s,Ph}var bl={},SE;function JXe(){if(SE)return bl;SE=1;function t(h,b){return n(h)||r(h,b)||a(h,b)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(h,b){var p=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(p!=null){var k,x,A,B,F=[],W=!0,J=!1;try{if(A=(p=p.call(h)).next,b!==0)for(;!(W=(k=A.call(p)).done)&&(F.push(k.value),F.length!==b);W=!0);}catch(de){J=!0,x=de}finally{try{if(!W&&p.return!=null&&(B=p.return(),Object(B)!==B))return}finally{if(J)throw x}}return F}}function n(h){if(Array.isArray(h))return h}function i(h,b){var p=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!p){if(Array.isArray(h)||(p=a(h))||b){p&&(h=p);var k=0,x=function(){};return{s:x,n:function(){return k>=h.length?{done:!0}:{done:!1,value:h[k++]}},e:function(J){throw J},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=!0,B=!1,F;return{s:function(){p=p.call(h)},n:function(){var J=p.next();return A=J.done,J},e:function(J){B=!0,F=J},f:function(){try{!A&&p.return!=null&&p.return()}finally{if(B)throw F}}}}function a(h,b){if(h){if(typeof h=="string")return s(h,b);var p=Object.prototype.toString.call(h).slice(8,-1);if(p==="Object"&&h.constructor&&(p=h.constructor.name),p==="Map"||p==="Set")return Array.from(h);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return s(h,b)}}function s(h,b){(b==null||b>h.length)&&(b=h.length);for(var p=0,k=new Array(b);p<b;p++)k[p]=h[p];return k}function u(){return typeof Reflect<"u"&&Reflect.get?u=Reflect.get.bind():u=function(b,p,k){var x=c(b,p);if(x){var A=Object.getOwnPropertyDescriptor(x,p);return A.get?A.get.call(arguments.length<3?b:k):A.value}},u.apply(this,arguments)}function c(h,b){for(;!Object.prototype.hasOwnProperty.call(h,b)&&(h=P(h),h!==null););return h}function d(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),b&&m(h,b)}function m(h,b){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,x){return k.__proto__=x,k},m(h,b)}function w(h){var b=N();return function(){var k=P(h),x;if(b){var A=P(this).constructor;x=Reflect.construct(k,arguments,A)}else x=k.apply(this,arguments);return T(this,x)}}function T(h,b){if(b&&(R(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(h)}function M(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(h){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},P(h)}function R(h){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},R(h)}function V(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function ee(h,b){for(var p=0;p<b.length;p++){var k=b[p];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(h,ne(k.key),k)}}function te(h,b,p){return b&&ee(h.prototype,b),p&&ee(h,p),Object.defineProperty(h,"prototype",{writable:!1}),h}function ne(h){var b=pe(h,"string");return R(b)==="symbol"?b:String(b)}function pe(h,b){if(R(h)!=="object"||h===null)return h;var p=h[Symbol.toPrimitive];if(p!==void 0){var k=p.call(h,b);if(R(k)!=="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var ue=py(),be=hy(),Ne=zk(),Ee=function(b){for(var p=0;;p++)if(b=b.previousSibling,!b)return p},je=function(b){var p=b.assignedSlot||b.parentNode;return p&&p.nodeType==11?p.host:p},ct=null,Ge=function(b,p,k){var x=ct||(ct=document.createRange());return x.setEnd(b,k??b.nodeValue.length),x.setStart(b,p||0),x},Ct=function(){ct=null},Mt=function(b,p,k,x){return k&&(Nt(b,p,k,x,-1)||Nt(b,p,k,x,1))},Pt=/^(img|br|input|textarea|hr)$/i;function Nt(h,b,p,k,x){for(;;){if(h==p&&b==k)return!0;if(b==(x<0?0:It(h))){var A=h.parentNode;if(!A||A.nodeType!=1||ve(h)||Pt.test(h.nodeName)||h.contentEditable=="false")return!1;b=Ee(h)+(x<0?0:1),h=A}else if(h.nodeType==1){if(h=h.childNodes[b+(x<0?-1:0)],h.contentEditable=="false")return!1;b=x<0?It(h):0}else return!1}}function It(h){return h.nodeType==3?h.nodeValue.length:h.childNodes.length}function Ke(h,b){for(;;){if(h.nodeType==3&&b)return h;if(h.nodeType==1&&b>0){if(h.contentEditable=="false")return null;h=h.childNodes[b-1],b=It(h)}else if(h.parentNode&&!ve(h))b=Ee(h),h=h.parentNode;else return null}}function vt(h,b){for(;;){if(h.nodeType==3&&b<h.nodeValue.length)return h;if(h.nodeType==1&&b<h.childNodes.length){if(h.contentEditable=="false")return null;h=h.childNodes[b],b=0}else if(h.parentNode&&!ve(h))b=Ee(h)+1,h=h.parentNode;else return null}}function He(h,b,p){for(var k=b==0,x=b==It(h);k||x;){if(h==p)return!0;var A=Ee(h);if(h=h.parentNode,!h)return!1;k=k&&A==0,x=x&&A==It(h)}}function ve(h){for(var b,p=h;p&&!(b=p.pmViewDesc);p=p.parentNode);return b&&b.node&&b.node.isBlock&&(b.dom==h||b.contentDOM==h)}var Le=function(b){return b.focusNode&&Mt(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset)};function dt(h,b){var p=document.createEvent("Event");return p.initEvent("keydown",!0,!0),p.keyCode=h,p.key=p.code=b,p}function mt(h){for(var b=h.activeElement;b&&b.shadowRoot;)b=b.shadowRoot.activeElement;return b}function _t(h,b,p){if(h.caretPositionFromPoint)try{var k=h.caretPositionFromPoint(b,p);if(k)return{node:k.offsetNode,offset:Math.min(It(k.offsetNode),k.offset)}}catch{}if(h.caretRangeFromPoint){var x=h.caretRangeFromPoint(b,p);if(x)return{node:x.startContainer,offset:Math.min(It(x.startContainer),x.startOffset)}}}var xe=typeof navigator<"u"?navigator:null,Ce=typeof document<"u"?document:null,se=xe&&xe.userAgent||"",fe=/Edge\/(\d+)/.exec(se),ce=/MSIE \d/.exec(se),_e=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(se),Ve=!!(ce||_e||fe),at=ce?document.documentMode:_e?+_e[1]:fe?+fe[1]:0,Ut=!Ve&&/gecko\/(\d+)/i.test(se);Ut&&+(/Firefox\/(\d+)/.exec(se)||[0,0])[1];var Kt=!Ve&&/Chrome\/(\d+)/.exec(se),jt=!!Kt,Er=Kt?+Kt[1]:0,Yt=!Ve&&!!xe&&/Apple Computer/.test(xe.vendor),zr=Yt&&(/Mobile\/\w+/.test(se)||!!xe&&xe.maxTouchPoints>2),Sr=zr||(xe?/Mac/.test(xe.platform):!1),Or=xe?/Win/.test(xe.platform):!1,sr=/Android \d/.test(se),Gr=!!Ce&&"webkitFontSmoothing"in Ce.documentElement.style,xi=Gr?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $n(h){var b=h.defaultView&&h.defaultView.visualViewport;return b?{left:0,right:b.width,top:0,bottom:b.height}:{left:0,right:h.documentElement.clientWidth,top:0,bottom:h.documentElement.clientHeight}}function Hr(h,b){return typeof h=="number"?h:h[b]}function ht(h){var b=h.getBoundingClientRect(),p=b.width/h.offsetWidth||1,k=b.height/h.offsetHeight||1;return{left:b.left,right:b.left+h.clientWidth*p,top:b.top,bottom:b.top+h.clientHeight*k}}function pt(h,b,p){for(var k=h.someProp("scrollThreshold")||0,x=h.someProp("scrollMargin")||5,A=h.dom.ownerDocument,B=p||h.dom;B;B=je(B))if(B.nodeType==1){var F=B,W=F==A.body,J=W?$n(A):ht(F),de=0,Se=0;if(b.top<J.top+Hr(k,"top")?Se=-(J.top-b.top+Hr(x,"top")):b.bottom>J.bottom-Hr(k,"bottom")&&(Se=b.bottom-b.top>J.bottom-J.top?b.top+Hr(x,"top")-J.top:b.bottom-J.bottom+Hr(x,"bottom")),b.left<J.left+Hr(k,"left")?de=-(J.left-b.left+Hr(x,"left")):b.right>J.right-Hr(k,"right")&&(de=b.right-J.right+Hr(x,"right")),de||Se)if(W)A.defaultView.scrollBy(de,Se);else{var ye=F.scrollLeft,Be=F.scrollTop;Se&&(F.scrollTop+=Se),de&&(F.scrollLeft+=de);var Ue=F.scrollLeft-ye,lt=F.scrollTop-Be;b={left:b.left-Ue,top:b.top-lt,right:b.right-Ue,bottom:b.bottom-lt}}if(W||/^(fixed|sticky)$/.test(getComputedStyle(B).position))break}}function zt(h){for(var b=h.dom.getBoundingClientRect(),p=Math.max(0,b.top),k,x,A=(b.left+b.right)/2,B=p+1;B<Math.min(innerHeight,b.bottom);B+=5){var F=h.root.elementFromPoint(A,B);if(!(!F||F==h.dom||!h.dom.contains(F))){var W=F.getBoundingClientRect();if(W.top>=p-20){k=F,x=W.top;break}}}return{refDOM:k,refTop:x,stack:Wt(h.dom)}}function Wt(h){for(var b=[],p=h.ownerDocument,k=h;k&&(b.push({dom:k,top:k.scrollTop,left:k.scrollLeft}),h!=p);k=je(k));return b}function rr(h){var b=h.refDOM,p=h.refTop,k=h.stack,x=b?b.getBoundingClientRect().top:0;nn(k,x==0?0:x-p)}function nn(h,b){for(var p=0;p<h.length;p++){var k=h[p],x=k.dom,A=k.top,B=k.left;x.scrollTop!=A+b&&(x.scrollTop=A+b),x.scrollLeft!=B&&(x.scrollLeft=B)}}var wr=null;function Mr(h){if(h.setActive)return h.setActive();if(wr)return h.focus(wr);var b=Wt(h);h.focus(wr==null?{get preventScroll(){return wr={preventScroll:!0},!0}}:void 0),wr||(wr=!1,nn(b,0))}function Dn(h,b){for(var p,k=2e8,x,A=0,B=b.top,F=b.top,W,J,de=h.firstChild,Se=0;de;de=de.nextSibling,Se++){var ye=void 0;if(de.nodeType==1)ye=de.getClientRects();else if(de.nodeType==3)ye=Ge(de).getClientRects();else continue;for(var Be=0;Be<ye.length;Be++){var Ue=ye[Be];if(Ue.top<=B&&Ue.bottom>=F){B=Math.max(Ue.bottom,B),F=Math.min(Ue.top,F);var lt=Ue.left>b.left?Ue.left-b.left:Ue.right<b.left?b.left-Ue.right:0;if(lt<k){p=de,k=lt,x=lt&&p.nodeType==3?{left:Ue.right<b.left?Ue.right:Ue.left,top:b.top}:b,de.nodeType==1&&lt&&(A=Se+(b.left>=(Ue.left+Ue.right)/2?1:0));continue}}else Ue.top>b.top&&!W&&Ue.left<=b.left&&Ue.right>=b.left&&(W=de,J={left:Math.max(Ue.left,Math.min(Ue.right,b.left)),top:Ue.top});!p&&(b.left>=Ue.right&&b.top>=Ue.top||b.left>=Ue.left&&b.top>=Ue.bottom)&&(A=Se+1)}}return!p&&W&&(p=W,x=J,k=0),p&&p.nodeType==3?Un(p,x):!p||k&&p.nodeType==1?{node:h,offset:A}:Dn(p,x)}function Un(h,b){for(var p=h.nodeValue.length,k=document.createRange(),x=0;x<p;x++){k.setEnd(h,x+1),k.setStart(h,x);var A=Vr(k,1);if(A.top!=A.bottom&&Ir(b,A))return{node:h,offset:x+(b.left>=(A.left+A.right)/2?1:0)}}return{node:h,offset:0}}function Ir(h,b){return h.left>=b.left-1&&h.left<=b.right+1&&h.top>=b.top-1&&h.top<=b.bottom+1}function hn(h,b){var p=h.parentNode;return p&&/^li$/i.test(p.nodeName)&&b.left<h.getBoundingClientRect().left?p:h}function ai(h,b,p){var k=Dn(b,p),x=k.node,A=k.offset,B=-1;if(x.nodeType==1&&!x.firstChild){var F=x.getBoundingClientRect();B=F.left!=F.right&&p.left>(F.left+F.right)/2?1:-1}return h.docView.posFromDOM(x,A,B)}function jn(h,b,p,k){for(var x=-1,A=b,B=!1;A!=h.dom;){var F=h.docView.nearestDesc(A,!0),W=void 0;if(!F)return null;if(F.dom.nodeType==1&&(F.node.isBlock&&F.parent||!F.contentDOM)&&((W=F.dom.getBoundingClientRect()).width||W.height)&&(F.node.isBlock&&F.parent&&(!B&&W.left>k.left||W.top>k.top?x=F.posBefore:(!B&&W.right<k.left||W.bottom<k.top)&&(x=F.posAfter),B=!0),!F.contentDOM&&x<0&&!F.node.isText)){var J=F.node.isBlock?k.top<(W.top+W.bottom)/2:k.left<(W.left+W.right)/2;return J?F.posBefore:F.posAfter}A=F.dom.parentNode}return x>-1?x:h.docView.posFromDOM(b,p,-1)}function an(h,b,p){var k=h.childNodes.length;if(k&&p.top<p.bottom)for(var x=Math.max(0,Math.min(k-1,Math.floor(k*(b.top-p.top)/(p.bottom-p.top))-2)),A=x;;){var B=h.childNodes[A];if(B.nodeType==1)for(var F=B.getClientRects(),W=0;W<F.length;W++){var J=F[W];if(Ir(b,J))return an(B,b,J)}if((A=(A+1)%k)==x)break}return h}function Zr(h,b){var p=h.dom.ownerDocument,k,x=0,A=_t(p,b.left,b.top);A&&(k=A.node,x=A.offset);var B=(h.root.elementFromPoint?h.root:p).elementFromPoint(b.left,b.top),F;if(!B||!h.dom.contains(B.nodeType!=1?B.parentNode:B)){var W=h.dom.getBoundingClientRect();if(!Ir(b,W)||(B=an(h.dom,b,W),!B))return null}if(Yt)for(var J=B;k&&J;J=je(J))J.draggable&&(k=void 0);if(B=hn(B,b),k){if(Ut&&k.nodeType==1&&(x=Math.min(x,k.childNodes.length),x<k.childNodes.length)){var de=k.childNodes[x],Se;de.nodeName=="IMG"&&(Se=de.getBoundingClientRect()).right<=b.left&&Se.bottom>b.top&&x++}var ye;Gr&&x&&k.nodeType==1&&(ye=k.childNodes[x-1]).nodeType==1&&ye.contentEditable=="false"&&ye.getBoundingClientRect().top>=b.top&&x--,k==h.dom&&x==k.childNodes.length-1&&k.lastChild.nodeType==1&&b.top>k.lastChild.getBoundingClientRect().bottom?F=h.state.doc.content.size:(x==0||k.nodeType!=1||k.childNodes[x-1].nodeName!="BR")&&(F=jn(h,k,x,b))}F==null&&(F=ai(h,B,b));var Be=h.docView.nearestDesc(B,!0);return{pos:F,inside:Be?Be.posAtStart-Be.border:-1}}function Cn(h){return h.top<h.bottom||h.left<h.right}function Vr(h,b){var p=h.getClientRects();if(p.length){var k=p[b<0?0:p.length-1];if(Cn(k))return k}return Array.prototype.find.call(p,Cn)||h.getBoundingClientRect()}var Wn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function kr(h,b,p){var k=h.docView.domFromPos(b,p<0?-1:1),x=k.node,A=k.offset,B=k.atom,F=Gr||Ut;if(x.nodeType==3)if(F&&(Wn.test(x.nodeValue)||(p<0?!A:A==x.nodeValue.length))){var W=Vr(Ge(x,A,A),p);if(Ut&&A&&/\s/.test(x.nodeValue[A-1])&&A<x.nodeValue.length){var J=Vr(Ge(x,A-1,A-1),-1);if(J.top==W.top){var de=Vr(Ge(x,A,A+1),-1);if(de.top!=W.top)return Kr(de,de.left<J.left)}}return W}else{var Se=A,ye=A,Be=p<0?1:-1;return p<0&&!A?(ye++,Be=-1):p>=0&&A==x.nodeValue.length?(Se--,Be=1):p<0?Se--:ye++,Kr(Vr(Ge(x,Se,ye),Be),Be<0)}var Ue=h.state.doc.resolve(b-(B||0));if(!Ue.parent.inlineContent){if(B==null&&A&&(p<0||A==It(x))){var lt=x.childNodes[A-1];if(lt.nodeType==1)return X(lt.getBoundingClientRect(),!1)}if(B==null&&A<It(x)){var wt=x.childNodes[A];if(wt.nodeType==1)return X(wt.getBoundingClientRect(),!0)}return X(x.getBoundingClientRect(),p>=0)}if(B==null&&A&&(p<0||A==It(x))){var Qe=x.childNodes[A-1],ir=Qe.nodeType==3?Ge(Qe,It(Qe)-(F?0:1)):Qe.nodeType==1&&(Qe.nodeName!="BR"||!Qe.nextSibling)?Qe:null;if(ir)return Kr(Vr(ir,1),!1)}if(B==null&&A<It(x)){for(var Jt=x.childNodes[A];Jt.pmViewDesc&&Jt.pmViewDesc.ignoreForCoords;)Jt=Jt.nextSibling;var Ht=Jt?Jt.nodeType==3?Ge(Jt,0,F?0:1):Jt.nodeType==1?Jt:null:null;if(Ht)return Kr(Vr(Ht,-1),!0)}return Kr(Vr(x.nodeType==3?Ge(x):x,-p),p>=0)}function Kr(h,b){if(h.width==0)return h;var p=b?h.left:h.right;return{top:h.top,bottom:h.bottom,left:p,right:p}}function X(h,b){if(h.height==0)return h;var p=b?h.top:h.bottom;return{top:p,bottom:p,left:h.left,right:h.right}}function Z(h,b,p){var k=h.state,x=h.root.activeElement;k!=b&&h.updateState(b),x!=h.dom&&h.focus();try{return p()}finally{k!=b&&h.updateState(k),x!=h.dom&&x&&x.focus()}}function H(h,b,p){var k=b.selection,x=p=="up"?k.$from:k.$to;return Z(h,b,function(){for(var A=h.docView.domFromPos(x.pos,p=="up"?-1:1),B=A.node;;){var F=h.docView.nearestDesc(B,!0);if(!F)break;if(F.node.isBlock){B=F.contentDOM||F.dom;break}B=F.dom.parentNode}for(var W=kr(h,x.pos,1),J=B.firstChild;J;J=J.nextSibling){var de=void 0;if(J.nodeType==1)de=J.getClientRects();else if(J.nodeType==3)de=Ge(J,0,J.nodeValue.length).getClientRects();else continue;for(var Se=0;Se<de.length;Se++){var ye=de[Se];if(ye.bottom>ye.top+1&&(p=="up"?W.top-ye.top>(ye.bottom-W.top)*2:ye.bottom-W.bottom>(W.bottom-ye.top)*2))return!1}}return!0})}var q=/[\u0590-\u08ac]/;function U(h,b,p){var k=b.selection.$head;if(!k.parent.isTextblock)return!1;var x=k.parentOffset,A=!x,B=x==k.parent.content.size,F=h.domSelection();return F?!q.test(k.parent.textContent)||!F.modify?p=="left"||p=="backward"?A:B:Z(h,b,function(){var W=h.domSelectionRange(),J=W.focusNode,de=W.focusOffset,Se=W.anchorNode,ye=W.anchorOffset,Be=F.caretBidiLevel;F.modify("move",p,"character");var Ue=k.depth?h.docView.domAfterPos(k.before()):h.dom,lt=h.domSelectionRange(),wt=lt.focusNode,Qe=lt.focusOffset,ir=wt&&!Ue.contains(wt.nodeType==1?wt:wt.parentNode)||J==wt&&de==Qe;try{F.collapse(Se,ye),J&&(J!=Se||de!=ye)&&F.extend&&F.extend(J,de)}catch{}return Be!=null&&(F.caretBidiLevel=Be),ir}):k.pos==k.start()||k.pos==k.end()}var G=null,ie=null,Oe=!1;function $e(h,b,p){return G==b&&ie==p?Oe:(G=b,ie=p,Oe=p=="up"||p=="down"?H(h,b,p):U(h,b,p))}var ge=0,ae=1,Re=2,Fe=3,ot=function(){function h(b,p,k,x){V(this,h),this.parent=b,this.children=p,this.dom=k,this.contentDOM=x,this.dirty=ge,k.pmViewDesc=this}return te(h,[{key:"matchesWidget",value:function(p){return!1}},{key:"matchesMark",value:function(p){return!1}},{key:"matchesNode",value:function(p,k,x){return!1}},{key:"matchesHack",value:function(p){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(p){return!1}},{key:"size",get:function(){for(var p=0,k=0;k<this.children.length;k++)p+=this.children[k].size;return p}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var p=0;p<this.children.length;p++)this.children[p].destroy()}},{key:"posBeforeChild",value:function(p){for(var k=0,x=this.posAtStart;;k++){var A=this.children[k];if(A==p)return x;x+=A.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(p,k,x){if(this.contentDOM&&this.contentDOM.contains(p.nodeType==1?p:p.parentNode))if(x<0){var A,B;if(p==this.contentDOM)A=p.childNodes[k-1];else{for(;p.parentNode!=this.contentDOM;)p=p.parentNode;A=p.previousSibling}for(;A&&!((B=A.pmViewDesc)&&B.parent==this);)A=A.previousSibling;return A?this.posBeforeChild(B)+B.size:this.posAtStart}else{var F,W;if(p==this.contentDOM)F=p.childNodes[k];else{for(;p.parentNode!=this.contentDOM;)p=p.parentNode;F=p.nextSibling}for(;F&&!((W=F.pmViewDesc)&&W.parent==this);)F=F.nextSibling;return F?this.posBeforeChild(W):this.posAtEnd}var J;if(p==this.dom&&this.contentDOM)J=k>Ee(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))J=p.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(k==0)for(var de=p;;de=de.parentNode){if(de==this.dom){J=!1;break}if(de.previousSibling)break}if(J==null&&k==p.childNodes.length)for(var Se=p;;Se=Se.parentNode){if(Se==this.dom){J=!0;break}if(Se.nextSibling)break}}return J??x>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(p){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=!0,A=p;A;A=A.parentNode){var B=this.getDesc(A),F=void 0;if(B&&(!k||B.node))if(x&&(F=B.nodeDOM)&&!(F.nodeType==1?F.contains(p.nodeType==1?p:p.parentNode):F==p))x=!1;else return B}}},{key:"getDesc",value:function(p){for(var k=p.pmViewDesc,x=k;x;x=x.parent)if(x==this)return k}},{key:"posFromDOM",value:function(p,k,x){for(var A=p;A;A=A.parentNode){var B=this.getDesc(A);if(B)return B.localPosFromDOM(p,k,x)}return-1}},{key:"descAt",value:function(p){for(var k=0,x=0;k<this.children.length;k++){var A=this.children[k],B=x+A.size;if(x==p&&B!=x){for(;!A.border&&A.children.length;)for(var F=0;F<A.children.length;F++){var W=A.children[F];if(W.size){A=W;break}}return A}if(p<B)return A.descAt(p-x-A.border);x=B}}},{key:"domFromPos",value:function(p,k){if(!this.contentDOM)return{node:this.dom,offset:0,atom:p+1};for(var x=0,A=0,B=0;x<this.children.length;x++){var F=this.children[x],W=B+F.size;if(W>p||F instanceof K){A=p-B;break}B=W}if(A)return this.children[x].domFromPos(A-this.children[x].border,k);for(var J;x&&!(J=this.children[x-1]).size&&J instanceof Rt&&J.side>=0;x--);if(k<=0){for(var de,Se=!0;de=x?this.children[x-1]:null,!(!de||de.dom.parentNode==this.contentDOM);x--,Se=!1);return de&&k&&Se&&!de.border&&!de.domAtom?de.domFromPos(de.size,k):{node:this.contentDOM,offset:de?Ee(de.dom)+1:0}}else{for(var ye,Be=!0;ye=x<this.children.length?this.children[x]:null,!(!ye||ye.dom.parentNode==this.contentDOM);x++,Be=!1);return ye&&Be&&!ye.border&&!ye.domAtom?ye.domFromPos(0,k):{node:this.contentDOM,offset:ye?Ee(ye.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(p,k){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:p,to:k,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var A=-1,B=-1,F=x,W=0;;W++){var J=this.children[W],de=F+J.size;if(A==-1&&p<=de){var Se=F+J.border;if(p>=Se&&k<=de-J.border&&J.node&&J.contentDOM&&this.contentDOM.contains(J.contentDOM))return J.parseRange(p,k,Se);p=F;for(var ye=W;ye>0;ye--){var Be=this.children[ye-1];if(Be.size&&Be.dom.parentNode==this.contentDOM&&!Be.emptyChildAt(1)){A=Ee(Be.dom)+1;break}p-=Be.size}A==-1&&(A=0)}if(A>-1&&(de>k||W==this.children.length-1)){k=de;for(var Ue=W+1;Ue<this.children.length;Ue++){var lt=this.children[Ue];if(lt.size&&lt.dom.parentNode==this.contentDOM&&!lt.emptyChildAt(-1)){B=Ee(lt.dom);break}k+=lt.size}B==-1&&(B=this.contentDOM.childNodes.length);break}F=de}return{node:this.contentDOM,from:p,to:k,fromOffset:A,toOffset:B}}},{key:"emptyChildAt",value:function(p){if(this.border||!this.contentDOM||!this.children.length)return!1;var k=this.children[p<0?0:this.children.length-1];return k.size==0||k.emptyChildAt(p)}},{key:"domAfterPos",value:function(p){var k=this.domFromPos(p,0),x=k.node,A=k.offset;if(x.nodeType!=1||A==x.childNodes.length)throw new RangeError("No node after pos "+p);return x.childNodes[A]}},{key:"setSelection",value:function(p,k,x){for(var A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,B=Math.min(p,k),F=Math.max(p,k),W=0,J=0;W<this.children.length;W++){var de=this.children[W],Se=J+de.size;if(B>J&&F<Se)return de.setSelection(p-J-de.border,k-J-de.border,x,A);J=Se}var ye=this.domFromPos(p,p?-1:1),Be=k==p?ye:this.domFromPos(k,k?-1:1),Ue=x.root.getSelection(),lt=x.domSelectionRange(),wt=!1;if((Ut||Yt)&&p==k){var Qe=ye,ir=Qe.node,Jt=Qe.offset;if(ir.nodeType==3){if(wt=!!(Jt&&ir.nodeValue[Jt-1]==`
`),wt&&Jt==ir.nodeValue.length)for(var Ht=ir,er;Ht;Ht=Ht.parentNode){if(er=Ht.nextSibling){er.nodeName=="BR"&&(ye=Be={node:er.parentNode,offset:Ee(er)+1});break}var fr=Ht.pmViewDesc;if(fr&&fr.node&&fr.node.isBlock)break}}else{var Cr=ir.childNodes[Jt-1];wt=Cr&&(Cr.nodeName=="BR"||Cr.contentEditable=="false")}}if(Ut&&lt.focusNode&&lt.focusNode!=Be.node&&lt.focusNode.nodeType==1){var Jn=lt.focusNode.childNodes[lt.focusOffset];Jn&&Jn.contentEditable=="false"&&(A=!0)}if(!(!(A||wt&&Yt)&&Mt(ye.node,ye.offset,lt.anchorNode,lt.anchorOffset)&&Mt(Be.node,Be.offset,lt.focusNode,lt.focusOffset))){var Ur=!1;if((Ue.extend||p==k)&&!wt){Ue.collapse(ye.node,ye.offset);try{p!=k&&Ue.extend(Be.node,Be.offset),Ur=!0}catch{}}if(!Ur){if(p>k){var vn=ye;ye=Be,Be=vn}var _r=document.createRange();_r.setEnd(Be.node,Be.offset),_r.setStart(ye.node,ye.offset),Ue.removeAllRanges(),Ue.addRange(_r)}}}},{key:"ignoreMutation",value:function(p){return!this.contentDOM&&p.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(p,k){for(var x=0,A=0;A<this.children.length;A++){var B=this.children[A],F=x+B.size;if(x==F?p<=F&&k>=x:p<F&&k>x){var W=x+B.border,J=F-B.border;if(p>=W&&k<=J){this.dirty=p==x||k==F?Re:ae,p==W&&k==J&&(B.contentLost||B.dom.parentNode!=this.contentDOM)?B.dirty=Fe:B.markDirty(p-W,k-W);return}else B.dirty=B.dom==B.contentDOM&&B.dom.parentNode==this.contentDOM&&!B.children.length?Re:Fe}x=F}this.dirty=Re}},{key:"markParentsDirty",value:function(){for(var p=1,k=this.parent;k;k=k.parent,p++){var x=p==1?Re:ae;k.dirty<x&&(k.dirty=x)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"isText",value:function(p){return!1}}]),h}(),Rt=function(h){d(p,h);var b=w(p);function p(k,x,A,B){var F;V(this,p);var W,J=x.type.toDOM;if(typeof J=="function"&&(J=J(A,function(){if(!W)return B;if(W.parent)return W.parent.posBeforeChild(W)})),!x.type.spec.raw){if(J.nodeType!=1){var de=document.createElement("span");de.appendChild(J),J=de}J.contentEditable="false",J.classList.add("ProseMirror-widget")}return F=b.call(this,k,[],J,null),F.widget=x,F.widget=x,W=M(F),F}return te(p,[{key:"matchesWidget",value:function(x){return this.dirty==ge&&x.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(x){var A=this.widget.spec.stopEvent;return A?A(x):!1}},{key:"ignoreMutation",value:function(x){return x.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),u(P(p.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"side",get:function(){return this.widget.type.side}}]),p}(ot),$=function(h){d(p,h);var b=w(p);function p(k,x,A,B){var F;return V(this,p),F=b.call(this,k,[],x,null),F.textDOM=A,F.text=B,F}return te(p,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(x,A){return x!=this.textDOM?this.posAtStart+(A?this.size:0):this.posAtStart+A}},{key:"domFromPos",value:function(x){return{node:this.textDOM,offset:x}}},{key:"ignoreMutation",value:function(x){return x.type==="characterData"&&x.target.nodeValue==x.oldValue}}]),p}(ot),I=function(h){d(p,h);var b=w(p);function p(k,x,A,B,F){var W;return V(this,p),W=b.call(this,k,[],A,B),W.mark=x,W.spec=F,W}return te(p,[{key:"parseRule",value:function(){return this.dirty&Fe||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(x){return this.dirty!=Fe&&this.mark.eq(x)}},{key:"markDirty",value:function(x,A){if(u(P(p.prototype),"markDirty",this).call(this,x,A),this.dirty!=ge){for(var B=this.parent;!B.node;)B=B.parent;B.dirty<this.dirty&&(B.dirty=this.dirty),this.dirty=ge}}},{key:"slice",value:function(x,A,B){var F=p.create(this.parent,this.mark,!0,B),W=this.children,J=this.size;A<J&&(W=Gn(W,A,J,B)),x>0&&(W=Gn(W,0,x,B));for(var de=0;de<W.length;de++)W[de].parent=F;return F.children=W,F}},{key:"ignoreMutation",value:function(x){return this.spec.ignoreMutation?this.spec.ignoreMutation(x):u(P(p.prototype),"ignoreMutation",this).call(this,x)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),u(P(p.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(x,A,B,F){var W=F.nodeViews[A.type.name],J=W&&W(A,F,B);return(!J||!J.dom)&&(J=be.DOMSerializer.renderSpec(document,A.type.spec.toDOM(A,B),null,A.attrs)),new p(x,A,J.dom,J.contentDOM||J.dom,J)}}]),p}(ot),C=function(h){d(p,h);var b=w(p);function p(k,x,A,B,F,W,J,de,Se){var ye;return V(this,p),ye=b.call(this,k,[],F,W),ye.node=x,ye.outerDeco=A,ye.innerDeco=B,ye.nodeDOM=J,ye}return te(p,[{key:"parseRule",value:function(){var x=this;if(this.node.type.spec.reparseInView)return null;var A={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(A.preserveWhitespace="full"),!this.contentDOM)A.getContent=function(){return x.node.content};else if(!this.contentLost)A.contentElement=this.contentDOM;else{for(var B=this.children.length-1;B>=0;B--){var F=this.children[B];if(this.dom.contains(F.dom.parentNode)){A.contentElement=F.dom.parentNode;break}}A.contentElement||(A.getContent=function(){return be.Fragment.empty})}return A}},{key:"matchesNode",value:function(x,A,B){return this.dirty==ge&&x.eq(this.node)&&nr(A,this.outerDeco)&&B.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(x,A){var B=this,F=this.node.inlineContent,W=A,J=x.composing?this.localCompositionInfo(x,A):null,de=J&&J.pos>-1?J:null,Se=J&&J.pos<0,ye=new Pr(this,de&&de.node,x);Qs(this.node,this.innerDeco,function(Be,Ue,lt){Be.spec.marks?ye.syncToMarks(Be.spec.marks,F,x):Be.type.side>=0&&!lt&&ye.syncToMarks(Ue==B.node.childCount?be.Mark.none:B.node.child(Ue).marks,F,x),ye.placeWidget(Be,x,W)},function(Be,Ue,lt,wt){ye.syncToMarks(Be.marks,F,x);var Qe;ye.findNodeMatch(Be,Ue,lt,wt)||Se&&x.state.selection.from>W&&x.state.selection.to<W+Be.nodeSize&&(Qe=ye.findIndexWithChild(J.node))>-1&&ye.updateNodeAt(Be,Ue,lt,Qe,x)||ye.updateNextNode(Be,Ue,lt,x,wt,W)||ye.addNode(Be,Ue,lt,x,W),W+=Be.nodeSize}),ye.syncToMarks([],F,x),this.node.isTextblock&&ye.addTextblockHacks(),ye.destroyRest(),(ye.changed||this.dirty==Re)&&(de&&this.protectLocalComposition(x,de),le(this.contentDOM,this.children,x),zr&&ts(this.dom))}},{key:"localCompositionInfo",value:function(x,A){var B=x.state.selection,F=B.from,W=B.to;if(!(x.state.selection instanceof ue.TextSelection)||F<A||W>A+this.node.content.size)return null;var J=x.input.compositionNode;if(!J||!this.dom.contains(J.parentNode))return null;if(this.node.inlineContent){var de=J.nodeValue,Se=Fa(this.node.content,de,F-A,W-A);return Se<0?null:{node:J,pos:Se,text:de}}else return{node:J,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(x,A){var B=A.node,F=A.pos,W=A.text;if(!this.getDesc(B)){for(var J=B;J.parentNode!=this.contentDOM;J=J.parentNode){for(;J.previousSibling;)J.parentNode.removeChild(J.previousSibling);for(;J.nextSibling;)J.parentNode.removeChild(J.nextSibling);J.pmViewDesc&&(J.pmViewDesc=void 0)}var de=new $(this,J,B,W);x.input.compositionNodes.push(de),this.children=Gn(this.children,F,F+W.length,x,de)}}},{key:"update",value:function(x,A,B,F){return this.dirty==Fe||!x.sameMarkup(this.node)?!1:(this.updateInner(x,A,B,F),!0)}},{key:"updateInner",value:function(x,A,B,F){this.updateOuterDeco(A),this.node=x,this.innerDeco=B,this.contentDOM&&this.updateChildren(F,this.posAtStart),this.dirty=ge}},{key:"updateOuterDeco",value:function(x){if(!nr(x,this.outerDeco)){var A=this.nodeDOM.nodeType!=1,B=this.dom;this.dom=rt(this.dom,this.nodeDOM,et(this.outerDeco,this.node,A),et(x,this.node,A)),this.dom!=B&&(B.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=x}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(x,A,B,F,W,J){var de=W.nodeViews[A.type.name],Se,ye=de&&de(A,W,function(){if(!Se)return J;if(Se.parent)return Se.parent.posBeforeChild(Se)},B,F),Be=ye&&ye.dom,Ue=ye&&ye.contentDOM;if(A.isText){if(!Be)Be=document.createTextNode(A.text);else if(Be.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!Be){var lt=be.DOMSerializer.renderSpec(document,A.type.spec.toDOM(A),null,A.attrs);Be=lt.dom,Ue=lt.contentDOM}!Ue&&!A.isText&&Be.nodeName!="BR"&&(Be.hasAttribute("contenteditable")||(Be.contentEditable="false"),A.type.spec.draggable&&(Be.draggable=!0));var wt=Be;return Be=Ft(Be,B,A),ye?Se=new Y(x,A,B,F,Be,Ue||null,wt,ye,W,J+1):A.isText?new _(x,A,B,F,Be,wt,W):new p(x,A,B,F,Be,Ue||null,wt)}}]),p}(ot);function O(h,b,p,k,x){Ft(k,b,h);var A=new C(void 0,h,b,p,k,k,k,x,0);return A.contentDOM&&A.updateChildren(x,0),A}var _=function(h){d(p,h);var b=w(p);function p(k,x,A,B,F,W,J){return V(this,p),b.call(this,k,x,A,B,F,null,W,J,0)}return te(p,[{key:"parseRule",value:function(){for(var x=this.nodeDOM.parentNode;x&&x!=this.dom&&!x.pmIsDeco;)x=x.parentNode;return{skip:x||!0}}},{key:"update",value:function(x,A,B,F){return this.dirty==Fe||this.dirty!=ge&&!this.inParent()||!x.sameMarkup(this.node)?!1:(this.updateOuterDeco(A),(this.dirty!=ge||x.text!=this.node.text)&&x.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=x.text,F.trackWrites==this.nodeDOM&&(F.trackWrites=null)),this.node=x,this.dirty=ge,!0)}},{key:"inParent",value:function(){for(var x=this.parent.contentDOM,A=this.nodeDOM;A;A=A.parentNode)if(A==x)return!0;return!1}},{key:"domFromPos",value:function(x){return{node:this.nodeDOM,offset:x}}},{key:"localPosFromDOM",value:function(x,A,B){return x==this.nodeDOM?this.posAtStart+Math.min(A,this.node.text.length):u(P(p.prototype),"localPosFromDOM",this).call(this,x,A,B)}},{key:"ignoreMutation",value:function(x){return x.type!="characterData"&&x.type!="selection"}},{key:"slice",value:function(x,A,B){var F=this.node.cut(x,A),W=document.createTextNode(F.text);return new p(this.parent,F,this.outerDeco,this.innerDeco,W,W,B)}},{key:"markDirty",value:function(x,A){u(P(p.prototype),"markDirty",this).call(this,x,A),this.dom!=this.nodeDOM&&(x==0||A==this.nodeDOM.nodeValue.length)&&(this.dirty=Fe)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(x){return this.node.text==x}}]),p}(C),K=function(h){d(p,h);var b=w(p);function p(){return V(this,p),b.apply(this,arguments)}return te(p,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(x){return this.dirty==ge&&this.dom.nodeName==x}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),p}(ot),Y=function(h){d(p,h);var b=w(p);function p(k,x,A,B,F,W,J,de,Se,ye){var Be;return V(this,p),Be=b.call(this,k,x,A,B,F,W,J,Se,ye),Be.spec=de,Be}return te(p,[{key:"update",value:function(x,A,B,F){if(this.dirty==Fe)return!1;if(this.spec.update&&(this.node.type==x.type||this.spec.multiType)){var W=this.spec.update(x,A,B);return W&&this.updateInner(x,A,B,F),W}else return!this.contentDOM&&!x.isLeaf?!1:u(P(p.prototype),"update",this).call(this,x,A,B,F)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():u(P(p.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():u(P(p.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(x,A,B,F){this.spec.setSelection?this.spec.setSelection(x,A,B.root):u(P(p.prototype),"setSelection",this).call(this,x,A,B,F)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),u(P(p.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(x){return this.spec.stopEvent?this.spec.stopEvent(x):!1}},{key:"ignoreMutation",value:function(x){return this.spec.ignoreMutation?this.spec.ignoreMutation(x):u(P(p.prototype),"ignoreMutation",this).call(this,x)}}]),p}(C);function le(h,b,p){for(var k=h.firstChild,x=!1,A=0;A<b.length;A++){var B=b[A],F=B.dom;if(F.parentNode==h){for(;F!=k;)k=vr(k),x=!0;k=k.nextSibling}else x=!0,h.insertBefore(F,k);if(B instanceof I){var W=k?k.previousSibling:h.lastChild;le(B.contentDOM,B.children,p),k=W?W.nextSibling:h.firstChild}}for(;k;)k=vr(k),x=!0;x&&p.trackWrites==h&&(p.trackWrites=null)}var we=function(b){b&&(this.nodeName=b)};we.prototype=Object.create(null);var Ie=[new we];function et(h,b,p){if(h.length==0)return Ie;for(var k=p?Ie[0]:new we,x=[k],A=0;A<h.length;A++){var B=h[A].type.attrs;if(B){B.nodeName&&x.push(k=new we(B.nodeName));for(var F in B){var W=B[F];W!=null&&(p&&x.length==1&&x.push(k=new we(b.isInline?"span":"div")),F=="class"?k.class=(k.class?k.class+" ":"")+W:F=="style"?k.style=(k.style?k.style+";":"")+W:F!="nodeName"&&(k[F]=W))}}}return x}function rt(h,b,p,k){if(p==Ie&&k==Ie)return b;for(var x=b,A=0;A<k.length;A++){var B=k[A],F=p[A];if(A){var W=void 0;F&&F.nodeName==B.nodeName&&x!=h&&(W=x.parentNode)&&W.nodeName.toLowerCase()==B.nodeName||(W=document.createElement(B.nodeName),W.pmIsDeco=!0,W.appendChild(x),F=Ie[0]),x=W}ut(x,F||Ie[0],B)}return x}function ut(h,b,p){for(var k in b)k!="class"&&k!="style"&&k!="nodeName"&&!(k in p)&&h.removeAttribute(k);for(var x in p)x!="class"&&x!="style"&&x!="nodeName"&&p[x]!=b[x]&&h.setAttribute(x,p[x]);if(b.class!=p.class){for(var A=b.class?b.class.split(" ").filter(Boolean):[],B=p.class?p.class.split(" ").filter(Boolean):[],F=0;F<A.length;F++)B.indexOf(A[F])==-1&&h.classList.remove(A[F]);for(var W=0;W<B.length;W++)A.indexOf(B[W])==-1&&h.classList.add(B[W]);h.classList.length==0&&h.removeAttribute("class")}if(b.style!=p.style){if(b.style)for(var J=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,de;de=J.exec(b.style);)h.style.removeProperty(de[1]);p.style&&(h.style.cssText+=p.style)}}function Ft(h,b,p){return rt(h,h,Ie,et(b,p,h.nodeType!=1))}function nr(h,b){if(h.length!=b.length)return!1;for(var p=0;p<h.length;p++)if(!h[p].type.eq(b[p].type))return!1;return!0}function vr(h){var b=h.nextSibling;return h.parentNode.removeChild(h),b}var Pr=function(){function h(b,p,k){V(this,h),this.lock=p,this.view=k,this.index=0,this.stack=[],this.changed=!1,this.top=b,this.preMatch=ia(b.node.content,b)}return te(h,[{key:"destroyBetween",value:function(p,k){if(p!=k){for(var x=p;x<k;x++)this.top.children[x].destroy();this.top.children.splice(p,k-p),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(p,k,x){for(var A=0,B=this.stack.length>>1,F=Math.min(B,p.length);A<F&&(A==B-1?this.top:this.stack[A+1<<1]).matchesMark(p[A])&&p[A].type.spec.spanning!==!1;)A++;for(;A<B;)this.destroyRest(),this.top.dirty=ge,this.index=this.stack.pop(),this.top=this.stack.pop(),B--;for(;B<p.length;){this.stack.push(this.top,this.index+1);for(var W=-1,J=this.index;J<Math.min(this.index+3,this.top.children.length);J++){var de=this.top.children[J];if(de.matchesMark(p[B])&&!this.isLocked(de.dom)){W=J;break}}if(W>-1)W>this.index&&(this.changed=!0,this.destroyBetween(this.index,W)),this.top=this.top.children[this.index];else{var Se=I.create(this.top,p[B],k,x);this.top.children.splice(this.index,0,Se),this.top=Se,this.changed=!0}this.index=0,B++}}},{key:"findNodeMatch",value:function(p,k,x,A){var B=-1,F;if(A>=this.preMatch.index&&(F=this.preMatch.matches[A-this.preMatch.index]).parent==this.top&&F.matchesNode(p,k,x))B=this.top.children.indexOf(F,this.index);else for(var W=this.index,J=Math.min(this.top.children.length,W+5);W<J;W++){var de=this.top.children[W];if(de.matchesNode(p,k,x)&&!this.preMatch.matched.has(de)){B=W;break}}return B<0?!1:(this.destroyBetween(this.index,B),this.index++,!0)}},{key:"updateNodeAt",value:function(p,k,x,A,B){var F=this.top.children[A];return F.dirty==Fe&&F.dom==F.contentDOM&&(F.dirty=Re),F.update(p,k,x,B)?(this.destroyBetween(this.index,A),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(p){for(;;){var k=p.parentNode;if(!k)return-1;if(k==this.top.contentDOM){var x=p.pmViewDesc;if(x){for(var A=this.index;A<this.top.children.length;A++)if(this.top.children[A]==x)return A}return-1}p=k}}},{key:"updateNextNode",value:function(p,k,x,A,B,F){for(var W=this.index;W<this.top.children.length;W++){var J=this.top.children[W];if(J instanceof C){var de=this.preMatch.matched.get(J);if(de!=null&&de!=B)return!1;var Se=J.dom,ye=void 0,Be=this.isLocked(Se)&&!(p.isText&&J.node&&J.node.isText&&J.nodeDOM.nodeValue==p.text&&J.dirty!=Fe&&nr(k,J.outerDeco));if(!Be&&J.update(p,k,x,A))return this.destroyBetween(this.index,W),J.dom!=Se&&(this.changed=!0),this.index++,!0;if(!Be&&(ye=this.recreateWrapper(J,p,k,x,A,F)))return this.destroyBetween(this.index,W),this.top.children[this.index]=ye,ye.contentDOM&&(ye.dirty=Re,ye.updateChildren(A,F+1),ye.dirty=ge),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(p,k,x,A,B,F){if(p.dirty||k.isAtom||!p.children.length||!p.node.content.eq(k.content)||!nr(x,p.outerDeco)||!A.eq(p.innerDeco))return null;var W=C.create(this.top,k,x,A,B,F);if(W.contentDOM){W.children=p.children,p.children=[];var J=i(W.children),de;try{for(J.s();!(de=J.n()).done;){var Se=de.value;Se.parent=W}}catch(ye){J.e(ye)}finally{J.f()}}return p.destroy(),W}},{key:"addNode",value:function(p,k,x,A,B){var F=C.create(this.top,p,k,x,A,B);F.contentDOM&&F.updateChildren(A,B+1),this.top.children.splice(this.index++,0,F),this.changed=!0}},{key:"placeWidget",value:function(p,k,x){var A=this.index<this.top.children.length?this.top.children[this.index]:null;if(A&&A.matchesWidget(p)&&(p==A.widget||!A.widget.type.toDOM.parentNode))this.index++;else{var B=new Rt(this.top,p,k,x);this.top.children.splice(this.index++,0,B),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var p=this.top.children[this.index-1],k=this.top;p instanceof I;)k=p,p=k.children[k.children.length-1];(!p||!(p instanceof _)||/\n$/.test(p.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(p.node.text))&&((Yt||jt)&&p&&p.dom.contentEditable=="false"&&this.addHackNode("IMG",k),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(p,k){if(k==this.top&&this.index<k.children.length&&k.children[this.index].matchesHack(p))this.index++;else{var x=document.createElement(p);p=="IMG"&&(x.className="ProseMirror-separator",x.alt=""),p=="BR"&&(x.className="ProseMirror-trailingBreak");var A=new K(this.top,[],x,null);k!=this.top?k.children.push(A):k.children.splice(this.index++,0,A),this.changed=!0}}},{key:"isLocked",value:function(p){return this.lock&&(p==this.lock||p.nodeType==1&&p.contains(this.lock.parentNode))}}]),h}();function ia(h,b){var p=b,k=p.children.length,x=h.childCount,A=new Map,B=[];e:for(;x>0;){for(var F=void 0;;)if(k){var W=p.children[k-1];if(W instanceof I)p=W,k=W.children.length;else{F=W,k--;break}}else{if(p==b)break e;k=p.parent.children.indexOf(p),p=p.parent}var J=F.node;if(J){if(J!=h.child(x-1))break;--x,A.set(F,x),B.push(F)}}return{index:x,matched:A,matches:B.reverse()}}function en(h,b){return h.type.side-b.type.side}function Qs(h,b,p,k){var x=b.locals(h),A=0;if(x.length==0){for(var B=0;B<h.childCount;B++){var F=h.child(B);k(F,x,b.forChild(A,F),B),A+=F.nodeSize}return}for(var W=0,J=[],de=null,Se=0;;){for(var ye=void 0,Be=void 0;W<x.length&&x[W].to==A;){var Ue=x[W++];Ue.widget&&(ye?(Be||(Be=[ye])).push(Ue):ye=Ue)}if(ye)if(Be){Be.sort(en);for(var lt=0;lt<Be.length;lt++)p(Be[lt],Se,!!de)}else p(ye,Se,!!de);var wt=void 0,Qe=void 0;if(de)Qe=-1,wt=de,de=null;else if(Se<h.childCount)Qe=Se,wt=h.child(Se++);else break;for(var ir=0;ir<J.length;ir++)J[ir].to<=A&&J.splice(ir--,1);for(;W<x.length&&x[W].from<=A&&x[W].to>A;)J.push(x[W++]);var Jt=A+wt.nodeSize;if(wt.isText){var Ht=Jt;W<x.length&&x[W].from<Ht&&(Ht=x[W].from);for(var er=0;er<J.length;er++)J[er].to<Ht&&(Ht=J[er].to);Ht<Jt&&(de=wt.cut(Ht-A),wt=wt.cut(0,Ht-A),Jt=Ht,Qe=-1)}else for(;W<x.length&&x[W].to<Jt;)W++;var fr=wt.isInline&&!wt.isLeaf?J.filter(function(Cr){return!Cr.inline}):J.slice();k(wt,fr,b.forChild(A,wt),Qe),A=Jt}}function ts(h){if(h.nodeName=="UL"||h.nodeName=="OL"){var b=h.style.cssText;h.style.cssText=b+"; list-style: square !important",window.getComputedStyle(h).listStyle,h.style.cssText=b}}function Fa(h,b,p,k){for(var x=0,A=0;x<h.childCount&&A<=k;){var B=h.child(x++),F=A;if(A+=B.nodeSize,!!B.isText){for(var W=B.text;x<h.childCount;){var J=h.child(x++);if(A+=J.nodeSize,!J.isText)break;W+=J.text}if(A>=p){if(A>=k&&W.slice(k-b.length-F,k-F)==b)return k-b.length;var de=F<k?W.lastIndexOf(b,k-F-1):-1;if(de>=0&&de+b.length+F>=p)return F+de;if(p==k&&W.length>=k+b.length-F&&W.slice(k-F,k-F+b.length)==b)return k}}}return-1}function Gn(h,b,p,k,x){for(var A=[],B=0,F=0;B<h.length;B++){var W=h[B],J=F,de=F+=W.size;J>=p||de<=b?A.push(W):(J<b&&A.push(W.slice(0,b-J,k)),x&&(A.push(x),x=void 0),de>p&&A.push(W.slice(p-J,W.size,k)))}return A}function Kn(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=h.domSelectionRange(),k=h.state.doc;if(!p.focusNode)return null;var x=h.docView.nearestDesc(p.focusNode),A=x&&x.size==0,B=h.docView.posFromDOM(p.focusNode,p.focusOffset,1);if(B<0)return null;var F=k.resolve(B),W,J;if(Le(p)){for(W=B;x&&!x.node;)x=x.parent;var de=x.node;if(x&&de.isAtom&&ue.NodeSelection.isSelectable(de)&&x.parent&&!(de.isInline&&He(p.focusNode,p.focusOffset,x.dom))){var Se=x.posBefore;J=new ue.NodeSelection(B==Se?F:k.resolve(Se))}}else{if(p instanceof h.dom.ownerDocument.defaultView.Selection&&p.rangeCount>1){for(var ye=B,Be=B,Ue=0;Ue<p.rangeCount;Ue++){var lt=p.getRangeAt(Ue);ye=Math.min(ye,h.docView.posFromDOM(lt.startContainer,lt.startOffset,1)),Be=Math.max(Be,h.docView.posFromDOM(lt.endContainer,lt.endOffset,-1))}if(ye<0)return null;var wt=Be==h.state.selection.anchor?[Be,ye]:[ye,Be],Qe=t(wt,2);W=Qe[0],B=Qe[1],F=k.resolve(B)}else W=h.docView.posFromDOM(p.anchorNode,p.anchorOffset,1);if(W<0)return null}var ir=k.resolve(W);if(!J){var Jt=b=="pointer"||h.state.selection.head<F.pos&&!A?1:-1;J=Zt(h,ir,F,Jt)}return J}function aa(h){return h.editable?h.hasFocus():is(h)&&document.activeElement&&document.activeElement.contains(h.dom)}function Sn(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=h.state.selection;if(Ha(h,p),!!aa(h)){if(!b&&h.input.mouseDown&&h.input.mouseDown.allowDefault&&jt){var k=h.domSelectionRange(),x=h.domObserver.currentSelection;if(k.anchorNode&&x.anchorNode&&Mt(k.anchorNode,k.anchorOffset,x.anchorNode,x.anchorOffset)){h.input.mouseDown.delayedSelectionSync=!0,h.domObserver.setCurSelection();return}}if(h.domObserver.disconnectSelection(),h.cursorWrapper)Ln(h);else{var A=p.anchor,B=p.head,F,W;rs&&!(p instanceof ue.TextSelection)&&(p.$from.parent.inlineContent||(F=vo(h,p.from)),!p.empty&&!p.$from.parent.inlineContent&&(W=vo(h,p.to))),h.docView.setSelection(A,B,h,b),rs&&(F&&qa(F),W&&qa(W)),p.visible?h.dom.classList.remove("ProseMirror-hideselection"):(h.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&za(h))}h.domObserver.setCurSelection(),h.domObserver.connectSelection()}}var rs=Yt||jt&&Er<63;function vo(h,b){var p=h.docView.domFromPos(b,0),k=p.node,x=p.offset,A=x<k.childNodes.length?k.childNodes[x]:null,B=x?k.childNodes[x-1]:null;if(Yt&&A&&A.contentEditable=="false")return Ca(A);if((!A||A.contentEditable=="false")&&(!B||B.contentEditable=="false")){if(A)return Ca(A);if(B)return Ca(B)}}function Ca(h){return h.contentEditable="true",Yt&&h.draggable&&(h.draggable=!1,h.wasDraggable=!0),h}function qa(h){h.contentEditable="false",h.wasDraggable&&(h.draggable=!0,h.wasDraggable=null)}function za(h){var b=h.dom.ownerDocument;b.removeEventListener("selectionchange",h.input.hideSelectionGuard);var p=h.domSelectionRange(),k=p.anchorNode,x=p.anchorOffset;b.addEventListener("selectionchange",h.input.hideSelectionGuard=function(){(p.anchorNode!=k||p.anchorOffset!=x)&&(b.removeEventListener("selectionchange",h.input.hideSelectionGuard),setTimeout(function(){(!aa(h)||h.state.selection.visible)&&h.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ln(h){var b=h.domSelection(),p=document.createRange();if(b){var k=h.cursorWrapper.dom,x=k.nodeName=="IMG";x?p.setStart(k.parentNode,Ee(k)+1):p.setStart(k,0),p.collapse(!0),b.removeAllRanges(),b.addRange(p),!x&&!h.state.selection.visible&&Ve&&at<=11&&(k.disabled=!0,k.disabled=!1)}}function Ha(h,b){if(b instanceof ue.NodeSelection){var p=h.docView.descAt(b.from);p!=h.lastSelectedViewDesc&&(Sa(h),p&&p.selectNode(),h.lastSelectedViewDesc=p)}else Sa(h)}function Sa(h){h.lastSelectedViewDesc&&(h.lastSelectedViewDesc.parent&&h.lastSelectedViewDesc.deselectNode(),h.lastSelectedViewDesc=void 0)}function Zt(h,b,p,k){return h.someProp("createSelectionBetween",function(x){return x(h,b,p)})||ue.TextSelection.between(b,p,k)}function ns(h){return h.editable&&!h.hasFocus()?!1:is(h)}function is(h){var b=h.domSelectionRange();if(!b.anchorNode)return!1;try{return h.dom.contains(b.anchorNode.nodeType==3?b.anchorNode.parentNode:b.anchorNode)&&(h.editable||h.dom.contains(b.focusNode.nodeType==3?b.focusNode.parentNode:b.focusNode))}catch{return!1}}function zi(h){var b=h.docView.domFromPos(h.state.selection.anchor,0),p=h.domSelectionRange();return Mt(b.node,b.offset,p.anchorNode,p.anchorOffset)}function Ti(h,b){var p=h.selection,k=p.$anchor,x=p.$head,A=b>0?k.max(x):k.min(x),B=A.parent.inlineContent?A.depth?h.doc.resolve(b>0?A.after():A.before()):null:A;return B&&ue.Selection.findFrom(B,b)}function Ei(h,b){return h.dispatch(h.state.tr.setSelection(b).scrollIntoView()),!0}function Va(h,b,p){var k=h.state.selection;if(k instanceof ue.TextSelection)if(p.indexOf("s")>-1){var x=k.$head,A=x.textOffset?null:b<0?x.nodeBefore:x.nodeAfter;if(!A||A.isText||!A.isLeaf)return!1;var B=h.state.doc.resolve(x.pos+A.nodeSize*(b<0?-1:1));return Ei(h,new ue.TextSelection(k.$anchor,B))}else if(k.empty){if(h.endOfTextblock(b>0?"forward":"backward")){var F=Ti(h.state,b);return F&&F instanceof ue.NodeSelection?Ei(h,F):!1}else if(!(Sr&&p.indexOf("m")>-1)){var W=k.$head,J=W.textOffset?null:b<0?W.nodeBefore:W.nodeAfter,de;if(!J||J.isText)return!1;var Se=b<0?W.pos-J.nodeSize:W.pos;return J.isAtom||(de=h.docView.descAt(Se))&&!de.contentDOM?ue.NodeSelection.isSelectable(J)?Ei(h,new ue.NodeSelection(b<0?h.state.doc.resolve(W.pos-J.nodeSize):W)):Gr?Ei(h,new ue.TextSelection(h.state.doc.resolve(b<0?Se:Se+J.nodeSize))):!1:!1}}else return!1;else{if(k instanceof ue.NodeSelection&&k.node.isInline)return Ei(h,new ue.TextSelection(b>0?k.$to:k.$from));var ye=Ti(h.state,b);return ye?Ei(h,ye):!1}}function oa(h){return h.nodeType==3?h.nodeValue.length:h.childNodes.length}function Mi(h,b){var p=h.pmViewDesc;return p&&p.size==0&&(b<0||h.nextSibling||h.nodeName!="BR")}function tn(h,b){return b<0?oi(h):Hi(h)}function oi(h){var b=h.domSelectionRange(),p=b.focusNode,k=b.focusOffset;if(p){var x,A,B=!1;for(Ut&&p.nodeType==1&&k<oa(p)&&Mi(p.childNodes[k],-1)&&(B=!0);;)if(k>0){if(p.nodeType!=1)break;var F=p.childNodes[k-1];if(Mi(F,-1))x=p,A=--k;else if(F.nodeType==3)p=F,k=p.nodeValue.length;else break}else{if(pn(p))break;for(var W=p.previousSibling;W&&Mi(W,-1);)x=p.parentNode,A=Ee(W),W=W.previousSibling;if(W)p=W,k=oa(p);else{if(p=p.parentNode,p==h.dom)break;k=0}}B?mo(h,p,k):x&&mo(h,x,A)}}function Hi(h){var b=h.domSelectionRange(),p=b.focusNode,k=b.focusOffset;if(p){for(var x=oa(p),A,B;;)if(k<x){if(p.nodeType!=1)break;var F=p.childNodes[k];if(Mi(F,1))A=p,B=++k;else break}else{if(pn(p))break;for(var W=p.nextSibling;W&&Mi(W,1);)A=W.parentNode,B=Ee(W)+1,W=W.nextSibling;if(W)p=W,k=0,x=oa(p);else{if(p=p.parentNode,p==h.dom)break;k=x=0}}A&&mo(h,A,B)}}function pn(h){var b=h.pmViewDesc;return b&&b.node&&b.node.isBlock}function xa(h,b){for(;h&&b==h.childNodes.length&&!ve(h);)b=Ee(h)+1,h=h.parentNode;for(;h&&b<h.childNodes.length;){var p=h.childNodes[b];if(p.nodeType==3)return p;if(p.nodeType==1&&p.contentEditable=="false")break;h=p,b=0}}function Ni(h,b){for(;h&&!b&&!ve(h);)b=Ee(h),h=h.parentNode;for(;h&&b;){var p=h.childNodes[b-1];if(p.nodeType==3)return p;if(p.nodeType==1&&p.contentEditable=="false")break;h=p,b=h.childNodes.length}}function mo(h,b,p){if(b.nodeType!=3){var k,x;(x=xa(b,p))?(b=x,p=0):(k=Ni(b,p))&&(b=k,p=k.nodeValue.length)}var A=h.domSelection();if(A){if(Le(A)){var B=document.createRange();B.setEnd(b,p),B.setStart(b,p),A.removeAllRanges(),A.addRange(B)}else A.extend&&A.extend(b,p);h.domObserver.setCurSelection();var F=h.state;setTimeout(function(){h.state==F&&Sn(h)},50)}}function as(h,b){var p=h.state.doc.resolve(b);if(!(jt||Or)&&p.parent.inlineContent){var k=h.coordsAtPos(b);if(b>p.start()){var x=h.coordsAtPos(b-1),A=(x.top+x.bottom)/2;if(A>k.top&&A<k.bottom&&Math.abs(x.left-k.left)>1)return x.left<k.left?"ltr":"rtl"}if(b<p.end()){var B=h.coordsAtPos(b+1),F=(B.top+B.bottom)/2;if(F>k.top&&F<k.bottom&&Math.abs(B.left-k.left)>1)return B.left>k.left?"ltr":"rtl"}}var W=getComputedStyle(h.dom).direction;return W=="rtl"?"rtl":"ltr"}function si(h,b,p){var k=h.state.selection;if(k instanceof ue.TextSelection&&!k.empty||p.indexOf("s")>-1||Sr&&p.indexOf("m")>-1)return!1;var x=k.$from,A=k.$to;if(!x.parent.inlineContent||h.endOfTextblock(b<0?"up":"down")){var B=Ti(h.state,b);if(B&&B instanceof ue.NodeSelection)return Ei(h,B)}if(!x.parent.inlineContent){var F=b<0?x:A,W=k instanceof ue.AllSelection?ue.Selection.near(F,b):ue.Selection.findFrom(F,b);return W?Ei(h,W):!1}return!1}function li(h,b){if(!(h.state.selection instanceof ue.TextSelection))return!0;var p=h.state.selection,k=p.$head,x=p.$anchor,A=p.empty;if(!k.sameParent(x))return!0;if(!A)return!1;if(h.endOfTextblock(b>0?"forward":"backward"))return!0;var B=!k.textOffset&&(b<0?k.nodeBefore:k.nodeAfter);if(B&&!B.isText){var F=h.state.tr;return b<0?F.delete(k.pos-B.nodeSize,k.pos):F.delete(k.pos,k.pos+B.nodeSize),h.dispatch(F),!0}return!1}function go(h,b,p){h.domObserver.stop(),b.contentEditable=p,h.domObserver.start()}function $a(h){if(!Yt||h.state.selection.$head.parentOffset>0)return!1;var b=h.domSelectionRange(),p=b.focusNode,k=b.focusOffset;if(p&&p.nodeType==1&&k==0&&p.firstChild&&p.firstChild.contentEditable=="false"){var x=p.firstChild;go(h,x,"true"),setTimeout(function(){return go(h,x,"false")},20)}return!1}function ss(h){var b="";return h.ctrlKey&&(b+="c"),h.metaKey&&(b+="m"),h.altKey&&(b+="a"),h.shiftKey&&(b+="s"),b}function Wl(h,b){var p=b.keyCode,k=ss(b);if(p==8||Sr&&p==72&&k=="c")return li(h,-1)||tn(h,-1);if(p==46&&!b.shiftKey||Sr&&p==68&&k=="c")return li(h,1)||tn(h,1);if(p==13||p==27)return!0;if(p==37||Sr&&p==66&&k=="c"){var x=p==37?as(h,h.state.selection.from)=="ltr"?-1:1:-1;return Va(h,x,k)||tn(h,x)}else if(p==39||Sr&&p==70&&k=="c"){var A=p==39?as(h,h.state.selection.from)=="ltr"?1:-1:1;return Va(h,A,k)||tn(h,A)}else{if(p==38||Sr&&p==80&&k=="c")return si(h,-1,k)||tn(h,-1);if(p==40||Sr&&p==78&&k=="c")return $a(h)||si(h,1,k)||tn(h,1);if(k==(Sr?"m":"c")&&(p==66||p==73||p==89||p==90))return!0}return!1}function Ot(h,b){h.someProp("transformCopied",function(Qe){b=Qe(b,h)});for(var p=[],k=b,x=k.content,A=k.openStart,B=k.openEnd;A>1&&B>1&&x.childCount==1&&x.firstChild.childCount==1;){A--,B--;var F=x.firstChild;p.push(F.type.name,F.attrs!=F.type.defaultAttrs?F.attrs:null),x=F.content}var W=h.someProp("clipboardSerializer")||be.DOMSerializer.fromSchema(h.state.schema),J=yo(),de=J.createElement("div");de.appendChild(W.serializeFragment(x,{document:J}));for(var Se=de.firstChild,ye,Be=0;Se&&Se.nodeType==1&&(ye=sa[Se.nodeName.toLowerCase()]);){for(var Ue=ye.length-1;Ue>=0;Ue--){for(var lt=J.createElement(ye[Ue]);de.firstChild;)lt.appendChild(de.firstChild);de.appendChild(lt),Be++}Se=de.firstChild}Se&&Se.nodeType==1&&Se.setAttribute("data-pm-slice","".concat(A," ").concat(B).concat(Be?" -".concat(Be):""," ").concat(JSON.stringify(p)));var wt=h.someProp("clipboardTextSerializer",function(Qe){return Qe(b,h)})||b.content.textBetween(0,b.content.size,`

`);return{dom:de,text:wt,slice:b}}function Te(h,b,p,k,x){var A=x.parent.type.spec.code,B,F;if(!p&&!b)return null;var W=b&&(k||A||!p);if(W){if(h.someProp("transformPastedText",function(fr){b=fr(b,A||k,h)}),A)return b?new be.Slice(be.Fragment.from(h.state.schema.text(b.replace(/\r\n?/g,`
`))),0,0):be.Slice.empty;var J=h.someProp("clipboardTextParser",function(fr){return fr(b,x,k,h)});if(J)F=J;else{var de=x.marks(),Se=h.state.schema,ye=be.DOMSerializer.fromSchema(Se);B=document.createElement("div"),b.split(/(?:\r\n?|\n)+/).forEach(function(fr){var Cr=B.appendChild(document.createElement("p"));fr&&Cr.appendChild(ye.serializeNode(Se.text(fr,de)))})}}else h.someProp("transformPastedHTML",function(fr){p=fr(p,h)}),B=Xs(p),Gr&&Ys(B);var Be=B&&B.querySelector("[data-pm-slice]"),Ue=Be&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Be.getAttribute("data-pm-slice")||"");if(Ue&&Ue[3])for(var lt=+Ue[3];lt>0;lt--){for(var wt=B.firstChild;wt&&wt.nodeType!=1;)wt=wt.nextSibling;if(!wt)break;B=wt}if(!F){var Qe=h.someProp("clipboardParser")||h.someProp("domParser")||be.DOMParser.fromSchema(h.state.schema);F=Qe.parseSlice(B,{preserveWhitespace:!!(W||Ue),context:x,ruleFromNode:function(Cr){return Cr.nodeName=="BR"&&!Cr.nextSibling&&Cr.parentNode&&!nt.test(Cr.parentNode.nodeName)?{ignore:!0}:null}})}if(Ue)F=nc(Rn(F,+Ue[1],+Ue[2]),Ue[4]);else if(F=be.Slice.maxOpen(xt(F.content,x),!0),F.openStart||F.openEnd){for(var ir=0,Jt=0,Ht=F.content.firstChild;ir<F.openStart&&!Ht.type.spec.isolating;ir++,Ht=Ht.firstChild);for(var er=F.content.lastChild;Jt<F.openEnd&&!er.type.spec.isolating;Jt++,er=er.lastChild);F=Rn(F,ir,Jt)}return h.someProp("transformPasted",function(fr){F=fr(F,h)}),F}var nt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function xt(h,b){if(h.childCount<2)return h;for(var p=function(){var B=b.node(x),F=B.contentMatchAt(b.index(x)),W,J=[];if(h.forEach(function(de){if(J){var Se=F.findWrapping(de.type),ye;if(!Se)return J=null;if(ye=J.length&&W.length&&Jr(Se,W,de,J[J.length-1],0))J[J.length-1]=ye;else{J.length&&(J[J.length-1]=Br(J[J.length-1],W.length));var Be=cr(de,Se);J.push(Be),F=F.matchType(Be.type),W=Se}}}),J)return{v:be.Fragment.from(J)}},k,x=b.depth;x>=0;x--)if(k=p(),k)return k.v;return h}function cr(h,b){for(var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=b.length-1;k>=p;k--)h=b[k].create(null,be.Fragment.from(h));return h}function Jr(h,b,p,k,x){if(x<h.length&&x<b.length&&h[x]==b[x]){var A=Jr(h,b,p,k.lastChild,x+1);if(A)return k.copy(k.content.replaceChild(k.childCount-1,A));var B=k.contentMatchAt(k.childCount);if(B.matchType(x==h.length-1?p.type:h[x+1]))return k.copy(k.content.append(be.Fragment.from(cr(p,h,x+1))))}}function Br(h,b){if(b==0)return h;var p=h.content.replaceChild(h.childCount-1,Br(h.lastChild,b-1)),k=h.contentMatchAt(h.childCount).fillBefore(be.Fragment.empty,!0);return h.copy(p.append(k))}function Ar(h,b,p,k,x,A){var B=b<0?h.firstChild:h.lastChild,F=B.content;return h.childCount>1&&(A=0),x<k-1&&(F=Ar(F,b,p,k,x+1,A)),x>=p&&(F=b<0?B.contentMatchAt(0).fillBefore(F,A<=x).append(F):F.append(B.contentMatchAt(B.childCount).fillBefore(be.Fragment.empty,!0))),h.replaceChild(b<0?0:h.childCount-1,B.copy(F))}function Rn(h,b,p){return b<h.openStart&&(h=new be.Slice(Ar(h.content,-1,b,h.openStart,0,h.openEnd),b,h.openEnd)),p<h.openEnd&&(h=new be.Slice(Ar(h.content,1,p,h.openEnd,0,0),h.openStart,p)),h}var sa={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},ui=null;function yo(){return ui||(ui=document.implementation.createHTMLDocument("title"))}var Ua=null;function rc(h){var b=window.trustedTypes;return b?(Ua||(Ua=b.createPolicy("ProseMirrorClipboard",{createHTML:function(k){return k}})),Ua.createHTML(h)):h}function Xs(h){var b=/^(\s*<meta [^>]*>)*/.exec(h);b&&(h=h.slice(b[0].length));var p=yo().createElement("div"),k=/<([a-z][^>\s]+)/i.exec(h),x;if((x=k&&sa[k[1].toLowerCase()])&&(h=x.map(function(B){return"<"+B+">"}).join("")+h+x.map(function(B){return"</"+B+">"}).reverse().join("")),p.innerHTML=rc(h),x)for(var A=0;A<x.length;A++)p=p.querySelector(x[A])||p;return p}function Ys(h){for(var b=h.querySelectorAll(jt?"span:not([class]):not([style])":"span.Apple-converted-space"),p=0;p<b.length;p++){var k=b[p];k.childNodes.length==1&&k.textContent==""&&k.parentNode&&k.parentNode.replaceChild(h.ownerDocument.createTextNode(" "),k)}}function nc(h,b){if(!h.size)return h;var p=h.content.firstChild.type.schema,k;try{k=JSON.parse(b)}catch{return h}for(var x=h.content,A=h.openStart,B=h.openEnd,F=k.length-2;F>=0;F-=2){var W=p.nodes[k[F]];if(!W||W.hasRequiredAttrs())break;x=be.Fragment.from(W.create(k[F+1],x)),A++,B++}return new be.Slice(x,A,B)}var br={},$r={},Gl={touchstart:!0,touchmove:!0},ls=te(function h(){V(this,h),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function ed(h){var b=function(){var x=br[p];h.dom.addEventListener(p,h.input.eventHandlers[p]=function(A){ic(h,A)&&!wo(h,A)&&(h.editable||!(A.type in $r))&&x(h,A)},Gl[p]?{passive:!0}:void 0)};for(var p in br)b();Yt&&h.dom.addEventListener("input",function(){return null}),ja(h)}function Vi(h,b){h.input.lastSelectionOrigin=b,h.input.lastSelectionTime=Date.now()}function Kl(h){h.domObserver.stop();for(var b in h.input.eventHandlers)h.dom.removeEventListener(b,h.input.eventHandlers[b]);clearTimeout(h.input.composingTimeout),clearTimeout(h.input.lastIOSEnterFallbackTimeout)}function ja(h){h.someProp("handleDOMEvents",function(b){for(var p in b)h.input.eventHandlers[p]||h.dom.addEventListener(p,h.input.eventHandlers[p]=function(k){return wo(h,k)})})}function wo(h,b){return h.someProp("handleDOMEvents",function(p){var k=p[b.type];return k?k(h,b)||b.defaultPrevented:!1})}function ic(h,b){if(!b.bubbles)return!0;if(b.defaultPrevented)return!1;for(var p=b.target;p!=h.dom;p=p.parentNode)if(!p||p.nodeType==11||p.pmViewDesc&&p.pmViewDesc.stopEvent(b))return!1;return!0}function td(h,b){!wo(h,b)&&br[b.type]&&(h.editable||!(b.type in $r))&&br[b.type](h,b)}$r.keydown=function(h,b){var p=b;if(h.input.shiftKey=p.keyCode==16||p.shiftKey,!el(h,p)&&(h.input.lastKeyCode=p.keyCode,h.input.lastKeyCodeTime=Date.now(),!(sr&&jt&&p.keyCode==13)))if(p.keyCode!=229&&h.domObserver.forceFlush(),zr&&p.keyCode==13&&!p.ctrlKey&&!p.altKey&&!p.metaKey){var k=Date.now();h.input.lastIOSEnter=k,h.input.lastIOSEnterFallbackTimeout=setTimeout(function(){h.input.lastIOSEnter==k&&(h.someProp("handleKeyDown",function(x){return x(h,dt(13,"Enter"))}),h.input.lastIOSEnter=0)},200)}else h.someProp("handleKeyDown",function(x){return x(h,p)})||Wl(h,p)?p.preventDefault():Vi(h,"key")},$r.keyup=function(h,b){b.keyCode==16&&(h.input.shiftKey=!1)},$r.keypress=function(h,b){var p=b;if(!(el(h,p)||!p.charCode||p.ctrlKey&&!p.altKey||Sr&&p.metaKey)){if(h.someProp("handleKeyPress",function(A){return A(h,p)})){p.preventDefault();return}var k=h.state.selection;if(!(k instanceof ue.TextSelection)||!k.$from.sameParent(k.$to)){var x=String.fromCharCode(p.charCode);!/[\r\n]/.test(x)&&!h.someProp("handleTextInput",function(A){return A(h,k.$from.pos,k.$to.pos,x)})&&h.dispatch(h.state.tr.insertText(x).scrollIntoView()),p.preventDefault()}}};function Zs(h){return{left:h.clientX,top:h.clientY}}function rd(h,b){var p=b.x-h.clientX,k=b.y-h.clientY;return p*p+k*k<100}function us(h,b,p,k,x){if(k==-1)return!1;for(var A=h.state.doc.resolve(k),B=function(de){if(h.someProp(b,function(Se){return de>A.depth?Se(h,p,A.nodeAfter,A.before(de),x,!0):Se(h,p,A.node(de),A.before(de),x,!1)}))return{v:!0}},F,W=A.depth+1;W>0;W--)if(F=B(W),F)return F.v;return!1}function ko(h,b,p){if(h.focused||h.focus(),!h.state.selection.eq(b)){var k=h.state.tr.setSelection(b);k.setMeta("pointer",!0),h.dispatch(k)}}function nd(h,b){if(b==-1)return!1;var p=h.state.doc.resolve(b),k=p.nodeAfter;return k&&k.isAtom&&ue.NodeSelection.isSelectable(k)?(ko(h,new ue.NodeSelection(p)),!0):!1}function id(h,b){if(b==-1)return!1;var p=h.state.selection,k,x;p instanceof ue.NodeSelection&&(k=p.node);for(var A=h.state.doc.resolve(b),B=A.depth+1;B>0;B--){var F=B>A.depth?A.nodeAfter:A.node(B);if(ue.NodeSelection.isSelectable(F)){k&&p.$from.depth>0&&B>=p.$from.depth&&A.before(p.$from.depth+1)==p.$from.pos?x=A.before(p.$from.depth):x=A.before(B);break}}return x!=null?(ko(h,ue.NodeSelection.create(h.state.doc,x)),!0):!1}function ad(h,b,p,k,x){return us(h,"handleClickOn",b,p,k)||h.someProp("handleClick",function(A){return A(h,b,k)})||(x?id(h,p):nd(h,p))}function od(h,b,p,k){return us(h,"handleDoubleClickOn",b,p,k)||h.someProp("handleDoubleClick",function(x){return x(h,b,k)})}function ac(h,b,p,k){return us(h,"handleTripleClickOn",b,p,k)||h.someProp("handleTripleClick",function(x){return x(h,b,k)})||sd(h,p,k)}function sd(h,b,p){if(p.button!=0)return!1;var k=h.state.doc;if(b==-1)return k.inlineContent?(ko(h,ue.TextSelection.create(k,0,k.content.size)),!0):!1;for(var x=k.resolve(b),A=x.depth+1;A>0;A--){var B=A>x.depth?x.nodeAfter:x.node(A),F=x.before(A);if(B.inlineContent)ko(h,ue.TextSelection.create(k,F+1,F+1+B.content.size));else if(ue.NodeSelection.isSelectable(B))ko(h,ue.NodeSelection.create(k,F));else continue;return!0}}function Jl(h){return cs(h)}var oc=Sr?"metaKey":"ctrlKey";br.mousedown=function(h,b){var p=b;h.input.shiftKey=p.shiftKey;var k=Jl(h),x=Date.now(),A="singleClick";x-h.input.lastClick.time<500&&rd(p,h.input.lastClick)&&!p[oc]&&(h.input.lastClick.type=="singleClick"?A="doubleClick":h.input.lastClick.type=="doubleClick"&&(A="tripleClick")),h.input.lastClick={time:x,x:p.clientX,y:p.clientY,type:A};var B=h.posAtCoords(Zs(p));B&&(A=="singleClick"?(h.input.mouseDown&&h.input.mouseDown.done(),h.input.mouseDown=new ld(h,B,p,!!k)):(A=="doubleClick"?od:ac)(h,B.pos,B.inside,p)?p.preventDefault():Vi(h,"pointer"))};var ld=function(){function h(b,p,k,x){var A=this;V(this,h),this.view=b,this.pos=p,this.event=k,this.flushed=x,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=b.state.doc,this.selectNode=!!k[oc],this.allowDefault=k.shiftKey;var B,F;if(p.inside>-1)B=b.state.doc.nodeAt(p.inside),F=p.inside;else{var W=b.state.doc.resolve(p.pos);B=W.parent,F=W.depth?W.before():0}var J=x?null:k.target,de=J?b.docView.nearestDesc(J,!0):null;this.target=de&&de.dom.nodeType==1?de.dom:null;var Se=b.state.selection;(k.button==0&&B.type.spec.draggable&&B.type.spec.selectable!==!1||Se instanceof ue.NodeSelection&&Se.from<=F&&Se.to>F)&&(this.mightDrag={node:B,pos:F,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ut&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){A.view.input.mouseDown==A&&A.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),b.root.addEventListener("mouseup",this.up=this.up.bind(this)),b.root.addEventListener("mousemove",this.move=this.move.bind(this)),Vi(b,"pointer")}return te(h,[{key:"done",value:function(){var p=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return Sn(p.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(p){if(this.done(),!!this.view.dom.contains(p.target)){var k=this.pos;this.view.state.doc!=this.startDoc&&(k=this.view.posAtCoords(Zs(p))),this.updateAllowDefault(p),this.allowDefault||!k?Vi(this.view,"pointer"):ad(this.view,k.pos,k.inside,p,this.selectNode)?p.preventDefault():p.button==0&&(this.flushed||Yt&&this.mightDrag&&!this.mightDrag.node.isAtom||jt&&!this.view.state.selection.visible&&Math.min(Math.abs(k.pos-this.view.state.selection.from),Math.abs(k.pos-this.view.state.selection.to))<=2)?(ko(this.view,ue.Selection.near(this.view.state.doc.resolve(k.pos))),p.preventDefault()):Vi(this.view,"pointer")}}},{key:"move",value:function(p){this.updateAllowDefault(p),Vi(this.view,"pointer"),p.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(p){!this.allowDefault&&(Math.abs(this.event.x-p.clientX)>4||Math.abs(this.event.y-p.clientY)>4)&&(this.allowDefault=!0)}}]),h}();br.touchstart=function(h){h.input.lastTouch=Date.now(),Jl(h),Vi(h,"pointer")},br.touchmove=function(h){h.input.lastTouch=Date.now(),Vi(h,"pointer")},br.contextmenu=function(h){return Jl(h)};function el(h,b){return h.composing?!0:Yt&&Math.abs(b.timeStamp-h.input.compositionEndedAt)<500?(h.input.compositionEndedAt=-2e8,!0):!1}var ud=sr?5e3:-1;$r.compositionstart=$r.compositionupdate=function(h){if(!h.composing){h.domObserver.flush();var b=h.state,p=b.selection.$to;if(b.selection instanceof ue.TextSelection&&(b.storedMarks||!p.textOffset&&p.parentOffset&&p.nodeBefore.marks.some(function(W){return W.type.spec.inclusive===!1})))h.markCursor=h.state.storedMarks||p.marks(),cs(h,!0),h.markCursor=null;else if(cs(h,!b.selection.empty),Ut&&b.selection.empty&&p.parentOffset&&!p.textOffset&&p.nodeBefore.marks.length)for(var k=h.domSelectionRange(),x=k.focusNode,A=k.focusOffset;x&&x.nodeType==1&&A!=0;){var B=A<0?x.lastChild:x.childNodes[A-1];if(!B)break;if(B.nodeType==3){var F=h.domSelection();F&&F.collapse(B,B.nodeValue.length);break}else x=B,A=-1}h.input.composing=!0}sc(h,ud)},$r.compositionend=function(h,b){h.composing&&(h.input.composing=!1,h.input.compositionEndedAt=b.timeStamp,h.input.compositionPendingChanges=h.domObserver.pendingRecords().length?h.input.compositionID:0,h.input.compositionNode=null,h.input.compositionPendingChanges&&Promise.resolve().then(function(){return h.domObserver.flush()}),h.input.compositionID++,sc(h,20))};function sc(h,b){clearTimeout(h.input.composingTimeout),b>-1&&(h.input.composingTimeout=setTimeout(function(){return cs(h)},b))}function lc(h){for(h.composing&&(h.input.composing=!1,h.input.compositionEndedAt=cd());h.input.compositionNodes.length>0;)h.input.compositionNodes.pop().markParentsDirty()}function uc(h){var b=h.domSelectionRange();if(!b.focusNode)return null;var p=Ke(b.focusNode,b.focusOffset),k=vt(b.focusNode,b.focusOffset);if(p&&k&&p!=k){var x=k.pmViewDesc,A=h.domObserver.lastChangedTextNode;if(p==A||k==A)return A;if(!x||!x.isText(k.nodeValue))return k;if(h.input.compositionNode==k){var B=p.pmViewDesc;if(!(!B||!B.isText(p.nodeValue)))return k}}return p||k}function cd(){var h=document.createEvent("Event");return h.initEvent("event",!0,!0),h.timeStamp}function cs(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(sr&&h.domObserver.flushingSoon>=0)){if(h.domObserver.forceFlush(),lc(h),b||h.docView&&h.docView.dirty){var p=Kn(h);return p&&!p.eq(h.state.selection)?h.dispatch(h.state.tr.setSelection(p)):(h.markCursor||b)&&!h.state.selection.empty?h.dispatch(h.state.tr.deleteSelection()):h.updateState(h.state),!0}return!1}}function fd(h,b){if(h.dom.parentNode){var p=h.dom.parentNode.appendChild(document.createElement("div"));p.appendChild(b),p.style.cssText="position: fixed; left: -10000px; top: 10px";var k=getSelection(),x=document.createRange();x.selectNodeContents(b),h.dom.blur(),k.removeAllRanges(),k.addRange(x),setTimeout(function(){p.parentNode&&p.parentNode.removeChild(p),h.focus()},50)}}var fs=Ve&&at<15||zr&&xi<604;br.copy=$r.cut=function(h,b){var p=b,k=h.state.selection,x=p.type=="cut";if(!k.empty){var A=fs?null:p.clipboardData,B=k.content(),F=Ot(h,B),W=F.dom,J=F.text;A?(p.preventDefault(),A.clearData(),A.setData("text/html",W.innerHTML),A.setData("text/plain",J)):fd(h,W),x&&h.dispatch(h.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function dd(h){return h.openStart==0&&h.openEnd==0&&h.content.childCount==1?h.content.firstChild:null}function hd(h,b){if(h.dom.parentNode){var p=h.input.shiftKey||h.state.selection.$from.parent.type.spec.code,k=h.dom.parentNode.appendChild(document.createElement(p?"textarea":"div"));p||(k.contentEditable="true"),k.style.cssText="position: fixed; left: -10000px; top: 10px",k.focus();var x=h.input.shiftKey&&h.input.lastKeyCode!=45;setTimeout(function(){h.focus(),k.parentNode&&k.parentNode.removeChild(k),p?ds(h,k.value,null,x,b):ds(h,k.textContent,k.innerHTML,x,b)},50)}}function ds(h,b,p,k,x){var A=Te(h,b,p,k,h.state.selection.$from);if(h.someProp("handlePaste",function(W){return W(h,x,A||be.Slice.empty)}))return!0;if(!A)return!1;var B=dd(A),F=B?h.state.tr.replaceSelectionWith(B,k):h.state.tr.replaceSelection(A);return h.dispatch(F.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function tl(h){var b=h.getData("text/plain")||h.getData("Text");if(b)return b;var p=h.getData("text/uri-list");return p?p.replace(/\r?\n/g," "):""}$r.paste=function(h,b){var p=b;if(!(h.composing&&!sr)){var k=fs?null:p.clipboardData,x=h.input.shiftKey&&h.input.lastKeyCode!=45;k&&ds(h,tl(k),k.getData("text/html"),x,p)?p.preventDefault():hd(h,p)}};var bo=te(function h(b,p,k){V(this,h),this.slice=b,this.move=p,this.node=k}),cc=Sr?"altKey":"ctrlKey";br.dragstart=function(h,b){var p=b,k=h.input.mouseDown;if(k&&k.done(),!!p.dataTransfer){var x=h.state.selection,A=x.empty?null:h.posAtCoords(Zs(p)),B;if(!(A&&A.pos>=x.from&&A.pos<=(x instanceof ue.NodeSelection?x.to-1:x.to))){if(k&&k.mightDrag)B=ue.NodeSelection.create(h.state.doc,k.mightDrag.pos);else if(p.target&&p.target.nodeType==1){var F=h.docView.nearestDesc(p.target,!0);F&&F.node.type.spec.draggable&&F!=h.docView&&(B=ue.NodeSelection.create(h.state.doc,F.posBefore))}}var W=(B||h.state.selection).content(),J=Ot(h,W),de=J.dom,Se=J.text,ye=J.slice;(!p.dataTransfer.files.length||!jt||Er>120)&&p.dataTransfer.clearData(),p.dataTransfer.setData(fs?"Text":"text/html",de.innerHTML),p.dataTransfer.effectAllowed="copyMove",fs||p.dataTransfer.setData("text/plain",Se),h.dragging=new bo(ye,!p[cc],B)}},br.dragend=function(h){var b=h.dragging;window.setTimeout(function(){h.dragging==b&&(h.dragging=null)},50)},$r.dragover=$r.dragenter=function(h,b){return b.preventDefault()},$r.drop=function(h,b){var p=b,k=h.dragging;if(h.dragging=null,!!p.dataTransfer){var x=h.posAtCoords(Zs(p));if(x){var A=h.state.doc.resolve(x.pos),B=k&&k.slice;B?h.someProp("transformPasted",function(wt){B=wt(B,h)}):B=Te(h,tl(p.dataTransfer),fs?null:p.dataTransfer.getData("text/html"),!1,A);var F=!!(k&&!p[cc]);if(h.someProp("handleDrop",function(wt){return wt(h,p,B||be.Slice.empty,F)})){p.preventDefault();return}if(B){p.preventDefault();var W=B?Ne.dropPoint(h.state.doc,A.pos,B):A.pos;W==null&&(W=A.pos);var J=h.state.tr;if(F){var de=k.node;de?de.replace(J):J.deleteSelection()}var Se=J.mapping.map(W),ye=B.openStart==0&&B.openEnd==0&&B.content.childCount==1,Be=J.doc;if(ye?J.replaceRangeWith(Se,Se,B.content.firstChild):J.replaceRange(Se,Se,B),!J.doc.eq(Be)){var Ue=J.doc.resolve(Se);if(ye&&ue.NodeSelection.isSelectable(B.content.firstChild)&&Ue.nodeAfter&&Ue.nodeAfter.sameMarkup(B.content.firstChild))J.setSelection(new ue.NodeSelection(Ue));else{var lt=J.mapping.map(W);J.mapping.maps[J.mapping.maps.length-1].forEach(function(wt,Qe,ir,Jt){return lt=Jt}),J.setSelection(Zt(h,Ue,J.doc.resolve(lt)))}h.focus(),h.dispatch(J.setMeta("uiEvent","drop"))}}}}},br.focus=function(h){h.input.lastFocus=Date.now(),h.focused||(h.domObserver.stop(),h.dom.classList.add("ProseMirror-focused"),h.domObserver.start(),h.focused=!0,setTimeout(function(){h.docView&&h.hasFocus()&&!h.domObserver.currentSelection.eq(h.domSelectionRange())&&Sn(h)},20))},br.blur=function(h,b){var p=b;h.focused&&(h.domObserver.stop(),h.dom.classList.remove("ProseMirror-focused"),h.domObserver.start(),p.relatedTarget&&h.dom.contains(p.relatedTarget)&&h.domObserver.currentSelection.clear(),h.focused=!1)},br.beforeinput=function(h,b){var p=b;if(jt&&sr&&p.inputType=="deleteContentBackward"){h.domObserver.flushSoon();var k=h.input.domChangeCount;setTimeout(function(){if(h.input.domChangeCount==k&&(h.dom.blur(),h.focus(),!h.someProp("handleKeyDown",function(A){return A(h,dt(8,"Backspace"))}))){var x=h.state.selection.$cursor;x&&x.pos>0&&h.dispatch(h.state.tr.delete(x.pos-1,x.pos).scrollIntoView())}},50)}};for(var Ql in $r)br[Ql]=$r[Ql];function Co(h,b){if(h==b)return!0;for(var p in h)if(h[p]!==b[p])return!1;for(var k in b)if(!(k in h))return!1;return!0}var Xl=function(){function h(b,p){V(this,h),this.toDOM=b,this.spec=p||Wa,this.side=this.spec.side||0}return te(h,[{key:"map",value:function(p,k,x,A){var B=p.mapResult(k.from+A,this.side<0?-1:1),F=B.pos,W=B.deleted;return W?null:new ci(F-x,F-x,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(p){return this==p||p instanceof h&&(this.spec.key&&this.spec.key==p.spec.key||this.toDOM==p.toDOM&&Co(this.spec,p.spec))}},{key:"destroy",value:function(p){this.spec.destroy&&this.spec.destroy(p)}}]),h}(),So=function(){function h(b,p){V(this,h),this.attrs=b,this.spec=p||Wa}return te(h,[{key:"map",value:function(p,k,x,A){var B=p.map(k.from+A,this.spec.inclusiveStart?-1:1)-x,F=p.map(k.to+A,this.spec.inclusiveEnd?1:-1)-x;return B>=F?null:new ci(B,F,this)}},{key:"valid",value:function(p,k){return k.from<k.to}},{key:"eq",value:function(p){return this==p||p instanceof h&&Co(this.attrs,p.attrs)&&Co(this.spec,p.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(p){return p.type instanceof h}}]),h}(),fc=function(){function h(b,p){V(this,h),this.attrs=b,this.spec=p||Wa}return te(h,[{key:"map",value:function(p,k,x,A){var B=p.mapResult(k.from+A,1);if(B.deleted)return null;var F=p.mapResult(k.to+A,-1);return F.deleted||F.pos<=B.pos?null:new ci(B.pos-x,F.pos-x,this)}},{key:"valid",value:function(p,k){var x=p.content.findIndex(k.from),A=x.index,B=x.offset,F;return B==k.from&&!(F=p.child(A)).isText&&B+F.nodeSize==k.to}},{key:"eq",value:function(p){return this==p||p instanceof h&&Co(this.attrs,p.attrs)&&Co(this.spec,p.spec)}},{key:"destroy",value:function(){}}]),h}(),ci=function(){function h(b,p,k){V(this,h),this.from=b,this.to=p,this.type=k}return te(h,[{key:"copy",value:function(p,k){return new h(p,k,this.type)}},{key:"eq",value:function(p){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(p.type)&&this.from+k==p.from&&this.to+k==p.to}},{key:"map",value:function(p,k,x){return this.type.map(p,this,k,x)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof So}},{key:"widget",get:function(){return this.type instanceof Xl}}],[{key:"widget",value:function(p,k,x){return new h(p,p,new Xl(k,x))}},{key:"inline",value:function(p,k,x,A){return new h(p,k,new So(x,A))}},{key:"node",value:function(p,k,x,A){return new h(p,k,new fc(x,A))}}]),h}(),xo=[],Wa={},Oi=function(){function h(b,p){V(this,h),this.local=b.length?b:xo,this.children=p.length?p:xo}return te(h,[{key:"find",value:function(p,k,x){var A=[];return this.findInner(p??0,k??1e9,A,0,x),A}},{key:"findInner",value:function(p,k,x,A,B){for(var F=0;F<this.local.length;F++){var W=this.local[F];W.from<=k&&W.to>=p&&(!B||B(W.spec))&&x.push(W.copy(W.from+A,W.to+A))}for(var J=0;J<this.children.length;J+=3)if(this.children[J]<k&&this.children[J+1]>p){var de=this.children[J]+1;this.children[J+2].findInner(p-de,k-de,x,A+de,B)}}},{key:"map",value:function(p,k,x){return this==on||p.maps.length==0?this:this.mapInner(p,k,0,0,x||Wa)}},{key:"mapInner",value:function(p,k,x,A,B){for(var F,W=0;W<this.local.length;W++){var J=this.local[W].map(p,x,A);J&&J.type.valid(k,J)?(F||(F=[])).push(J):B.onRemove&&B.onRemove(this.local[W].spec)}return this.children.length?hs(this.children,F||[],p,k,x,A,B):F?new h(F.sort(la),xo):on}},{key:"add",value:function(p,k){return k.length?this==on?h.create(p,k):this.addInner(p,k,0):this}},{key:"addInner",value:function(p,k,x){var A=this,B,F=0;p.forEach(function(de,Se){var ye=Se+x,Be;if(Be=ps(k,de,ye)){for(B||(B=A.children.slice());F<B.length&&B[F]<Se;)F+=3;B[F]==Se?B[F+2]=B[F+2].addInner(de,Be,ye+1):B.splice(F,0,Se,Se+de.nodeSize,vs(Be,de,ye+1,Wa)),F+=3}});for(var W=To(F?dc(k):k,-x),J=0;J<W.length;J++)W[J].type.valid(p,W[J])||W.splice(J--,1);return new h(W.length?this.local.concat(W).sort(la):this.local,B||this.children)}},{key:"remove",value:function(p){return p.length==0||this==on?this:this.removeInner(p,0)}},{key:"removeInner",value:function(p,k){for(var x=this.children,A=this.local,B=0;B<x.length;B+=3){for(var F=void 0,W=x[B]+k,J=x[B+1]+k,de=0,Se;de<p.length;de++)(Se=p[de])&&Se.from>W&&Se.to<J&&(p[de]=null,(F||(F=[])).push(Se));if(F){x==this.children&&(x=this.children.slice());var ye=x[B+2].removeInner(F,W+1);ye!=on?x[B+2]=ye:(x.splice(B,3),B-=3)}}if(A.length){for(var Be=0,Ue;Be<p.length;Be++)if(Ue=p[Be])for(var lt=0;lt<A.length;lt++)A[lt].eq(Ue,k)&&(A==this.local&&(A=this.local.slice()),A.splice(lt--,1))}return x==this.children&&A==this.local?this:A.length||x.length?new h(A,x):on}},{key:"forChild",value:function(p,k){if(this==on)return this;if(k.isLeaf)return h.empty;for(var x,A,B=0;B<this.children.length;B+=3)if(this.children[B]>=p){this.children[B]==p&&(x=this.children[B+2]);break}for(var F=p+1,W=F+k.content.size,J=0;J<this.local.length;J++){var de=this.local[J];if(de.from<W&&de.to>F&&de.type instanceof So){var Se=Math.max(F,de.from)-F,ye=Math.min(W,de.to)-F;Se<ye&&(A||(A=[])).push(de.copy(Se,ye))}}if(A){var Be=new h(A.sort(la),xo);return x?new Yl([Be,x]):Be}return x||on}},{key:"eq",value:function(p){if(this==p)return!0;if(!(p instanceof h)||this.local.length!=p.local.length||this.children.length!=p.children.length)return!1;for(var k=0;k<this.local.length;k++)if(!this.local[k].eq(p.local[k]))return!1;for(var x=0;x<this.children.length;x+=3)if(this.children[x]!=p.children[x]||this.children[x+1]!=p.children[x+1]||!this.children[x+2].eq(p.children[x+2]))return!1;return!0}},{key:"locals",value:function(p){return ms(this.localsInner(p))}},{key:"localsInner",value:function(p){if(this==on)return xo;if(p.inlineContent||!this.local.some(So.is))return this.local;for(var k=[],x=0;x<this.local.length;x++)this.local[x].type instanceof So||k.push(this.local[x]);return k}},{key:"forEachSet",value:function(p){p(this)}}],[{key:"create",value:function(p,k){return k.length?vs(k,p,0,Wa):on}}]),h}();Oi.empty=new Oi([],[]),Oi.removeOverlap=ms;var on=Oi.empty,Yl=function(){function h(b){V(this,h),this.members=b}return te(h,[{key:"map",value:function(p,k){var x=this.members.map(function(A){return A.map(p,k,Wa)});return h.from(x)}},{key:"forChild",value:function(p,k){if(k.isLeaf)return Oi.empty;for(var x=[],A=0;A<this.members.length;A++){var B=this.members[A].forChild(p,k);B!=on&&(B instanceof h?x=x.concat(B.members):x.push(B))}return h.from(x)}},{key:"eq",value:function(p){if(!(p instanceof h)||p.members.length!=this.members.length)return!1;for(var k=0;k<this.members.length;k++)if(!this.members[k].eq(p.members[k]))return!1;return!0}},{key:"locals",value:function(p){for(var k,x=!0,A=0;A<this.members.length;A++){var B=this.members[A].localsInner(p);if(B.length)if(!k)k=B;else{x&&(k=k.slice(),x=!1);for(var F=0;F<B.length;F++)k.push(B[F])}}return k?ms(x?k:k.sort(la)):xo}},{key:"forEachSet",value:function(p){for(var k=0;k<this.members.length;k++)this.members[k].forEachSet(p)}}],[{key:"from",value:function(p){switch(p.length){case 0:return on;case 1:return p[0];default:return new h(p.every(function(k){return k instanceof Oi})?p:p.reduce(function(k,x){return k.concat(x instanceof Oi?x:x.members)},[]))}}}]),h}();function hs(h,b,p,k,x,A,B){for(var F=h.slice(),W=function(fi){var Oo=0;p.maps[J].forEach(function(di,Lr,Ta,xc){for(var ua=xc-Ta-(Lr-di),mn=0;mn<F.length;mn+=3){var Ao=F[mn+1];if(!(Ao<0||di>Ao+fi-Oo)){var $i=F[mn]+fi-Oo;Lr>=$i?F[mn+1]=di<=$i?-2:-1:di>=fi&&ua&&(F[mn]+=ua,F[mn+1]+=ua)}}Oo+=ua}),fi=p.maps[J].map(fi,-1),de=fi},J=0,de=A;J<p.maps.length;J++)W(de);for(var Se=!1,ye=0;ye<F.length;ye+=3)if(F[ye+1]<0){if(F[ye+1]==-2){Se=!0,F[ye+1]=-1;continue}var Be=p.map(h[ye]+A),Ue=Be-x;if(Ue<0||Ue>=k.content.size){Se=!0;continue}var lt=p.map(h[ye+1]+A,-1),wt=lt-x,Qe=k.content.findIndex(Ue),ir=Qe.index,Jt=Qe.offset,Ht=k.maybeChild(ir);if(Ht&&Jt==Ue&&Jt+Ht.nodeSize==wt){var er=F[ye+2].mapInner(p,Ht,Be+1,h[ye]+A+1,B);er!=on?(F[ye]=Ue,F[ye+1]=wt,F[ye+2]=er):(F[ye+1]=-2,Se=!0)}else Se=!0}if(Se){var fr=pd(F,h,b,p,x,A,B),Cr=vs(fr,k,0,B);b=Cr.local;for(var Jn=0;Jn<F.length;Jn+=3)F[Jn+1]<0&&(F.splice(Jn,3),Jn-=3);for(var Ur=0,vn=0;Ur<Cr.children.length;Ur+=3){for(var _r=Cr.children[Ur];vn<F.length&&F[vn]<_r;)vn+=3;F.splice(vn,0,Cr.children[Ur],Cr.children[Ur+1],Cr.children[Ur+2])}}return new Oi(b.sort(la),F)}function To(h,b){if(!b||!h.length)return h;for(var p=[],k=0;k<h.length;k++){var x=h[k];p.push(new ci(x.from+b,x.to+b,x.type))}return p}function pd(h,b,p,k,x,A,B){function F(J,de){for(var Se=0;Se<J.local.length;Se++){var ye=J.local[Se].map(k,x,de);ye?p.push(ye):B.onRemove&&B.onRemove(J.local[Se].spec)}for(var Be=0;Be<J.children.length;Be+=3)F(J.children[Be+2],J.children[Be]+de+1)}for(var W=0;W<h.length;W+=3)h[W+1]==-1&&F(h[W+2],b[W]+A+1);return p}function ps(h,b,p){if(b.isLeaf)return null;for(var k=p+b.nodeSize,x=null,A=0,B;A<h.length;A++)(B=h[A])&&B.from>p&&B.to<k&&((x||(x=[])).push(B),h[A]=null);return x}function dc(h){for(var b=[],p=0;p<h.length;p++)h[p]!=null&&b.push(h[p]);return b}function vs(h,b,p,k){var x=[],A=!1;b.forEach(function(W,J){var de=ps(h,W,J+p);if(de){A=!0;var Se=vs(de,W,p+J+1,k);Se!=on&&x.push(J,J+W.nodeSize,Se)}});for(var B=To(A?dc(h):h,-p).sort(la),F=0;F<B.length;F++)B[F].type.valid(b,B[F])||(k.onRemove&&k.onRemove(B[F].spec),B.splice(F--,1));return B.length||x.length?new Oi(B,x):on}function la(h,b){return h.from-b.from||h.to-b.to}function ms(h){for(var b=h,p=0;p<b.length-1;p++){var k=b[p];if(k.from!=k.to)for(var x=p+1;x<b.length;x++){var A=b[x];if(A.from==k.from){A.to!=k.to&&(b==h&&(b=h.slice()),b[x]=A.copy(A.from,k.to),Zl(b,x+1,A.copy(k.to,A.to)));continue}else{A.from<k.to&&(b==h&&(b=h.slice()),b[p]=k.copy(k.from,A.from),Zl(b,x,k.copy(A.from,k.to)));break}}}return b}function Zl(h,b,p){for(;b<h.length&&la(p,h[b])>0;)b++;h.splice(b,0,p)}function rl(h){var b=[];return h.someProp("decorations",function(p){var k=p(h.state);k&&k!=on&&b.push(k)}),h.cursorWrapper&&b.push(Oi.create(h.state.doc,[h.cursorWrapper.deco])),Yl.from(b)}var hc={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},vd=Ve&&at<=11,md=function(){function h(){V(this,h),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return te(h,[{key:"set",value:function(p){this.anchorNode=p.anchorNode,this.anchorOffset=p.anchorOffset,this.focusNode=p.focusNode,this.focusOffset=p.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(p){return p.anchorNode==this.anchorNode&&p.anchorOffset==this.anchorOffset&&p.focusNode==this.focusNode&&p.focusOffset==this.focusOffset}}]),h}(),gd=function(){function h(b,p){var k=this;V(this,h),this.view=b,this.handleDOMChange=p,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new md,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(x){for(var A=0;A<x.length;A++)k.queue.push(x[A]);Ve&&at<=11&&x.some(function(B){return B.type=="childList"&&B.removedNodes.length||B.type=="characterData"&&B.oldValue.length>B.target.nodeValue.length})?k.flushSoon():k.flush()}),vd&&(this.onCharData=function(x){k.queue.push({target:x.target,type:"characterData",oldValue:x.prevValue}),k.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return te(h,[{key:"flushSoon",value:function(){var p=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){p.flushingSoon=-1,p.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,hc)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var p=this;if(this.observer){var k=this.observer.takeRecords();if(k.length){for(var x=0;x<k.length;x++)this.queue.push(k[x]);window.setTimeout(function(){return p.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var p=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return p.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if(ns(this.view)){if(this.suppressingSelectionUpdates)return Sn(this.view);if(Ve&&at<=11&&!this.view.state.selection.empty){var p=this.view.domSelectionRange();if(p.focusNode&&Mt(p.focusNode,p.focusOffset,p.anchorNode,p.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(p){if(!p.focusNode)return!0;for(var k=new Set,x,A=p.focusNode;A;A=je(A))k.add(A);for(var B=p.anchorNode;B;B=je(B))if(k.has(B)){x=B;break}var F=x&&this.view.docView.nearestDesc(x);if(F&&F.ignoreMutation({type:"selection",target:x.nodeType==3?x.parentNode:x}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var p=i(this.observer.takeRecords()),k;try{for(p.s();!(k=p.n()).done;){var x=k.value;this.queue.push(x)}}catch(A){p.e(A)}finally{p.f()}}return this.queue}},{key:"flush",value:function(){var p=this.view;if(!(!p.docView||this.flushingSoon>-1)){var k=this.pendingRecords();k.length&&(this.queue=[]);var x=p.domSelectionRange(),A=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(x)&&ns(p)&&!this.ignoreSelectionChange(x),B=-1,F=-1,W=!1,J=[];if(p.editable)for(var de=0;de<k.length;de++){var Se=this.registerMutation(k[de],J);Se&&(B=B<0?Se.from:Math.min(Se.from,B),F=F<0?Se.to:Math.max(Se.to,F),Se.typeOver&&(W=!0))}if(Ut&&J.length){var ye=J.filter(function(fr){return fr.nodeName=="BR"});if(ye.length==2){var Be=t(ye,2),Ue=Be[0],lt=Be[1];Ue.parentNode&&Ue.parentNode.parentNode==lt.parentNode?lt.remove():Ue.remove()}else{var wt=this.currentSelection.focusNode,Qe=i(ye),ir;try{for(Qe.s();!(ir=Qe.n()).done;){var Jt=ir.value,Ht=Jt.parentNode;Ht&&Ht.nodeName=="LI"&&(!wt||gc(p,wt)!=Ht)&&Jt.remove()}}catch(fr){Qe.e(fr)}finally{Qe.f()}}}var er=null;B<0&&A&&p.input.lastFocus>Date.now()-200&&Math.max(p.input.lastTouch,p.input.lastClick.time)<Date.now()-300&&Le(x)&&(er=Kn(p))&&er.eq(ue.Selection.near(p.state.doc.resolve(0),1))?(p.input.lastFocus=0,Sn(p),this.currentSelection.set(x),p.scrollToSelection()):(B>-1||A)&&(B>-1&&(p.docView.markDirty(B,F),Ai(p)),this.handleDOMChange(B,F,W,J),p.docView&&p.docView.dirty?p.updateState(p.state):this.currentSelection.eq(x)||Sn(p),this.currentSelection.set(x))}}},{key:"registerMutation",value:function(p,k){if(k.indexOf(p.target)>-1)return null;var x=this.view.docView.nearestDesc(p.target);if(p.type=="attributes"&&(x==this.view.docView||p.attributeName=="contenteditable"||p.attributeName=="style"&&!p.oldValue&&!p.target.getAttribute("style"))||!x||x.ignoreMutation(p))return null;if(p.type=="childList"){for(var A=0;A<p.addedNodes.length;A++){var B=p.addedNodes[A];k.push(B),B.nodeType==3&&(this.lastChangedTextNode=B)}if(x.contentDOM&&x.contentDOM!=x.dom&&!x.contentDOM.contains(p.target))return{from:x.posBefore,to:x.posAfter};var F=p.previousSibling,W=p.nextSibling;if(Ve&&at<=11&&p.addedNodes.length)for(var J=0;J<p.addedNodes.length;J++){var de=p.addedNodes[J],Se=de.previousSibling,ye=de.nextSibling;(!Se||Array.prototype.indexOf.call(p.addedNodes,Se)<0)&&(F=Se),(!ye||Array.prototype.indexOf.call(p.addedNodes,ye)<0)&&(W=ye)}var Be=F&&F.parentNode==p.target?Ee(F)+1:0,Ue=x.localPosFromDOM(p.target,Be,-1),lt=W&&W.parentNode==p.target?Ee(W):p.target.childNodes.length,wt=x.localPosFromDOM(p.target,lt,1);return{from:Ue,to:wt}}else return p.type=="attributes"?{from:x.posAtStart-x.border,to:x.posAtEnd+x.border}:(this.lastChangedTextNode=p.target,{from:x.posAtStart,to:x.posAtEnd,typeOver:p.target.nodeValue==p.oldValue})}}]),h}(),pc=new WeakMap,vc=!1;function Ai(h){if(!pc.has(h)&&(pc.set(h,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(h.dom).whiteSpace)!==-1)){if(h.requiresGeckoHackNode=Ut,vc)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),vc=!0}}function Eo(h,b){var p=b.startContainer,k=b.startOffset,x=b.endContainer,A=b.endOffset,B=h.domAtPos(h.state.selection.anchor);if(Mt(B.node,B.offset,x,A)){var F=[x,A,p,k];p=F[0],k=F[1],x=F[2],A=F[3]}return{anchorNode:p,anchorOffset:k,focusNode:x,focusOffset:A}}function mc(h,b){if(b.getComposedRanges){var p=b.getComposedRanges(h.root)[0];if(p)return Eo(h,p)}var k;function x(A){A.preventDefault(),A.stopImmediatePropagation(),k=A.getTargetRanges()[0]}return h.dom.addEventListener("beforeinput",x,!0),document.execCommand("indent"),h.dom.removeEventListener("beforeinput",x,!0),k?Eo(h,k):null}function gc(h,b){for(var p=b.parentNode;p&&p!=h.dom;p=p.parentNode){var k=h.docView.nearestDesc(p,!0);if(k&&k.node.isBlock)return p}return null}function yc(h,b,p){var k=h.docView.parseRange(b,p),x=k.node,A=k.fromOffset,B=k.toOffset,F=k.from,W=k.to,J=h.domSelectionRange(),de,Se=J.anchorNode;if(Se&&h.dom.contains(Se.nodeType==1?Se:Se.parentNode)&&(de=[{node:Se,offset:J.anchorOffset}],Le(J)||de.push({node:J.focusNode,offset:J.focusOffset})),jt&&h.input.lastKeyCode===8)for(var ye=B;ye>A;ye--){var Be=x.childNodes[ye-1],Ue=Be.pmViewDesc;if(Be.nodeName=="BR"&&!Ue){B=ye;break}if(!Ue||Ue.size)break}var lt=h.state.doc,wt=h.someProp("domParser")||be.DOMParser.fromSchema(h.state.schema),Qe=lt.resolve(F),ir=null,Jt=wt.parse(x,{topNode:Qe.parent,topMatch:Qe.parent.contentMatchAt(Qe.index()),topOpen:!0,from:A,to:B,preserveWhitespace:Qe.parent.type.whitespace=="pre"?"full":!0,findPositions:de,ruleFromNode:wc,context:Qe});if(de&&de[0].pos!=null){var Ht=de[0].pos,er=de[1]&&de[1].pos;er==null&&(er=Ht),ir={anchor:Ht+F,head:er+F}}return{doc:Jt,sel:ir,from:F,to:W}}function wc(h){var b=h.pmViewDesc;if(b)return b.parseRule();if(h.nodeName=="BR"&&h.parentNode){if(Yt&&/^(ul|ol)$/i.test(h.parentNode.nodeName)){var p=document.createElement("div");return p.appendChild(document.createElement("li")),{skip:p}}else if(h.parentNode.lastChild==h||Yt&&/^(tr|table)$/i.test(h.parentNode.nodeName))return{ignore:!0}}else if(h.nodeName=="IMG"&&h.getAttribute("mark-placeholder"))return{ignore:!0};return null}var eu=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function yd(h,b,p,k,x){var A=h.input.compositionPendingChanges||(h.composing?h.input.compositionID:0);if(h.input.compositionPendingChanges=0,b<0){var B=h.input.lastSelectionTime>Date.now()-50?h.input.lastSelectionOrigin:null,F=Kn(h,B);if(F&&!h.state.selection.eq(F)){if(jt&&sr&&h.input.lastKeyCode===13&&Date.now()-100<h.input.lastKeyCodeTime&&h.someProp("handleKeyDown",function(Lr){return Lr(h,dt(13,"Enter"))}))return;var W=h.state.tr.setSelection(F);B=="pointer"?W.setMeta("pointer",!0):B=="key"&&W.scrollIntoView(),A&&W.setMeta("composition",A),h.dispatch(W)}return}var J=h.state.doc.resolve(b),de=J.sharedDepth(p);b=J.before(de+1),p=h.state.doc.resolve(p).after(de+1);var Se=h.state.selection,ye=yc(h,b,p),Be=h.state.doc,Ue=Be.slice(ye.from,ye.to),lt,wt;h.input.lastKeyCode===8&&Date.now()-100<h.input.lastKeyCodeTime?(lt=h.state.selection.to,wt="end"):(lt=h.state.selection.from,wt="start"),h.input.lastKeyCode=null;var Qe=ru(Ue.content,ye.doc.content,ye.from,lt,wt);if(Qe&&h.input.domChangeCount++,(zr&&h.input.lastIOSEnter>Date.now()-225||sr)&&x.some(function(Lr){return Lr.nodeType==1&&!eu.test(Lr.nodeName)})&&(!Qe||Qe.endA>=Qe.endB)&&h.someProp("handleKeyDown",function(Lr){return Lr(h,dt(13,"Enter"))})){h.input.lastIOSEnter=0;return}if(!Qe)if(k&&Se instanceof ue.TextSelection&&!Se.empty&&Se.$head.sameParent(Se.$anchor)&&!h.composing&&!(ye.sel&&ye.sel.anchor!=ye.sel.head))Qe={start:Se.from,endA:Se.to,endB:Se.to};else{if(ye.sel){var ir=kc(h,h.state.doc,ye.sel);if(ir&&!ir.eq(h.state.selection)){var Jt=h.state.tr.setSelection(ir);A&&Jt.setMeta("composition",A),h.dispatch(Jt)}}return}h.state.selection.from<h.state.selection.to&&Qe.start==Qe.endB&&h.state.selection instanceof ue.TextSelection&&(Qe.start>h.state.selection.from&&Qe.start<=h.state.selection.from+2&&h.state.selection.from>=ye.from?Qe.start=h.state.selection.from:Qe.endA<h.state.selection.to&&Qe.endA>=h.state.selection.to-2&&h.state.selection.to<=ye.to&&(Qe.endB+=h.state.selection.to-Qe.endA,Qe.endA=h.state.selection.to)),Ve&&at<=11&&Qe.endB==Qe.start+1&&Qe.endA==Qe.start&&Qe.start>ye.from&&ye.doc.textBetween(Qe.start-ye.from-1,Qe.start-ye.from+1)==" "&&(Qe.start--,Qe.endA--,Qe.endB--);var Ht=ye.doc.resolveNoCache(Qe.start-ye.from),er=ye.doc.resolveNoCache(Qe.endB-ye.from),fr=Be.resolve(Qe.start),Cr=Ht.sameParent(er)&&Ht.parent.inlineContent&&fr.end()>=Qe.endA,Jn;if((zr&&h.input.lastIOSEnter>Date.now()-225&&(!Cr||x.some(function(Lr){return Lr.nodeName=="DIV"||Lr.nodeName=="P"}))||!Cr&&Ht.pos<ye.doc.content.size&&!Ht.sameParent(er)&&(Jn=ue.Selection.findFrom(ye.doc.resolve(Ht.pos+1),1,!0))&&Jn.head==er.pos)&&h.someProp("handleKeyDown",function(Lr){return Lr(h,dt(13,"Enter"))})){h.input.lastIOSEnter=0;return}if(h.state.selection.anchor>Qe.start&&tu(Be,Qe.start,Qe.endA,Ht,er)&&h.someProp("handleKeyDown",function(Lr){return Lr(h,dt(8,"Backspace"))})){sr&&jt&&h.domObserver.suppressSelectionUpdates();return}jt&&Qe.endB==Qe.start&&(h.input.lastChromeDelete=Date.now()),sr&&!Cr&&Ht.start()!=er.start()&&er.parentOffset==0&&Ht.depth==er.depth&&ye.sel&&ye.sel.anchor==ye.sel.head&&ye.sel.head==Qe.endA&&(Qe.endB-=2,er=ye.doc.resolveNoCache(Qe.endB-ye.from),setTimeout(function(){h.someProp("handleKeyDown",function(Lr){return Lr(h,dt(13,"Enter"))})},20));var Ur=Qe.start,vn=Qe.endA,_r,ys,fi;if(Cr){if(Ht.pos==er.pos)Ve&&at<=11&&Ht.parentOffset==0&&(h.domObserver.suppressSelectionUpdates(),setTimeout(function(){return Sn(h)},20)),_r=h.state.tr.delete(Ur,vn),ys=Be.resolve(Qe.start).marksAcross(Be.resolve(Qe.endA));else if(Qe.endA==Qe.endB&&(fi=Mo(Ht.parent.content.cut(Ht.parentOffset,er.parentOffset),fr.parent.content.cut(fr.parentOffset,Qe.endA-fr.start()))))_r=h.state.tr,fi.type=="add"?_r.addMark(Ur,vn,fi.mark):_r.removeMark(Ur,vn,fi.mark);else if(Ht.parent.child(Ht.index()).isText&&Ht.index()==er.index()-(er.textOffset?0:1)){var Oo=Ht.parent.textBetween(Ht.parentOffset,er.parentOffset);if(h.someProp("handleTextInput",function(Lr){return Lr(h,Ur,vn,Oo)}))return;_r=h.state.tr.insertText(Oo,Ur,vn)}}if(_r||(_r=h.state.tr.replace(Ur,vn,ye.doc.slice(Qe.start-ye.from,Qe.endB-ye.from))),ye.sel){var di=kc(h,_r.doc,ye.sel);di&&!(jt&&h.composing&&di.empty&&(Qe.start!=Qe.endB||h.input.lastChromeDelete<Date.now()-100)&&(di.head==Ur||di.head==_r.mapping.map(vn)-1)||Ve&&di.empty&&di.head==Ur)&&_r.setSelection(di)}ys&&_r.ensureMarks(ys),A&&_r.setMeta("composition",A),h.dispatch(_r.scrollIntoView())}function kc(h,b,p){return Math.max(p.anchor,p.head)>b.content.size?null:Zt(h,b.resolve(p.anchor),b.resolve(p.head))}function Mo(h,b){for(var p=h.firstChild.marks,k=b.firstChild.marks,x=p,A=k,B,F,W,J=0;J<k.length;J++)x=k[J].removeFromSet(x);for(var de=0;de<p.length;de++)A=p[de].removeFromSet(A);if(x.length==1&&A.length==0)F=x[0],B="add",W=function(Ue){return Ue.mark(F.addToSet(Ue.marks))};else if(x.length==0&&A.length==1)F=A[0],B="remove",W=function(Ue){return Ue.mark(F.removeFromSet(Ue.marks))};else return null;for(var Se=[],ye=0;ye<b.childCount;ye++)Se.push(W(b.child(ye)));if(be.Fragment.from(Se).eq(h))return{mark:F,type:B}}function tu(h,b,p,k,x){if(p-b<=x.pos-k.pos||Ga(k,!0,!1)<x.pos)return!1;var A=h.resolve(b);if(!k.parent.isTextblock){var B=A.nodeAfter;return B!=null&&p==b+B.nodeSize}if(A.parentOffset<A.parent.content.size||!A.parent.isTextblock)return!1;var F=h.resolve(Ga(A,!0,!0));return!F.parent.isTextblock||F.pos>p||Ga(F,!0,!1)<p?!1:k.parent.content.cut(k.parentOffset).eq(F.parent.content)}function Ga(h,b,p){for(var k=h.depth,x=b?h.end():h.pos;k>0&&(b||h.indexAfter(k)==h.node(k).childCount);)k--,x++,b=!1;if(p)for(var A=h.node(k).maybeChild(h.indexAfter(k));A&&!A.isLeaf;)A=A.firstChild,x++;return x}function ru(h,b,p,k,x){var A=h.findDiffStart(b,p);if(A==null)return null;var B=h.findDiffEnd(b,p+h.size,p+b.size),F=B.a,W=B.b;if(x=="end"){var J=Math.max(0,A-Math.min(F,W));k-=F+J-A}if(F<A&&h.size<b.size){var de=k<=A&&k>=F?A-k:0;A-=de,A&&A<b.size&&nu(b.textBetween(A-1,A+1))&&(A+=de?1:-1),W=A+(W-F),F=A}else if(W<A){var Se=k<=A&&k>=W?A-k:0;A-=Se,A&&A<h.size&&nu(h.textBetween(A-1,A+1))&&(A+=Se?1:-1),F=A+(F-W),W=A}return{start:A,endA:F,endB:W}}function nu(h){if(h.length!=2)return!1;var b=h.charCodeAt(0),p=h.charCodeAt(1);return b>=56320&&b<=57343&&p>=55296&&p<=56319}var nl=Ot,No=Te,iu=cs,bc=function(){function h(b,p){var k=this;V(this,h),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ls,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=p,this.state=p.state,this.directPlugins=p.plugins||[],this.directPlugins.forEach(lu),this.dispatch=this.dispatch.bind(this),this.dom=b&&b.mount||document.createElement("div"),b&&(b.appendChild?b.appendChild(this.dom):typeof b=="function"?b(this.dom):b.mount&&(this.mounted=!0)),this.editable=ou(this),au(this),this.nodeViews=su(this),this.docView=O(this.state.doc,gs(this),rl(this),this.dom,this),this.domObserver=new gd(this,function(x,A,B,F){return yd(k,x,A,B,F)}),this.domObserver.start(),ed(this),this.updatePluginViews()}return te(h,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var p=this._props;this._props={};for(var k in p)this._props[k]=p[k];this._props.state=this.state}return this._props}},{key:"update",value:function(p){p.handleDOMEvents!=this._props.handleDOMEvents&&ja(this);var k=this._props;this._props=p,p.plugins&&(p.plugins.forEach(lu),this.directPlugins=p.plugins),this.updateStateInner(p.state,k)}},{key:"setProps",value:function(p){var k={};for(var x in this._props)k[x]=this._props[x];k.state=this.state;for(var A in p)k[A]=p[A];this.update(k)}},{key:"updateState",value:function(p){this.updateStateInner(p,this._props)}},{key:"updateStateInner",value:function(p,k){var x,A=this.state,B=!1,F=!1;p.storedMarks&&this.composing&&(lc(this),F=!0),this.state=p;var W=A.plugins!=p.plugins||this._props.plugins!=k.plugins;if(W||this._props.plugins!=k.plugins||this._props.nodeViews!=k.nodeViews){var J=su(this);Sc(J,this.nodeViews)&&(this.nodeViews=J,B=!0)}(W||k.handleDOMEvents!=this._props.handleDOMEvents)&&ja(this),this.editable=ou(this),au(this);var de=rl(this),Se=gs(this),ye=A.plugins!=p.plugins&&!A.doc.eq(p.doc)?"reset":p.scrollToSelection>A.scrollToSelection?"to selection":"preserve",Be=B||!this.docView.matchesNode(p.doc,Se,de);(Be||!p.selection.eq(A.selection))&&(F=!0);var Ue=ye=="preserve"&&F&&this.dom.style.overflowAnchor==null&&zt(this);if(F){this.domObserver.stop();var lt=Be&&(Ve||jt)&&!this.composing&&!A.selection.empty&&!p.selection.empty&&Cc(A.selection,p.selection);if(Be){var wt=jt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=uc(this)),(B||!this.docView.update(p.doc,Se,de,this))&&(this.docView.updateOuterDeco(Se),this.docView.destroy(),this.docView=O(p.doc,Se,de,this.dom,this)),wt&&!this.trackWrites&&(lt=!0)}lt||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&zi(this))?Sn(this,lt):(Ha(this,p.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(A),!((x=this.dragging)===null||x===void 0)&&x.node&&!A.doc.eq(p.doc)&&this.updateDraggedNode(this.dragging,A),ye=="reset"?this.dom.scrollTop=0:ye=="to selection"?this.scrollToSelection():Ue&&rr(Ue)}},{key:"scrollToSelection",value:function(){var p=this,k=this.domSelectionRange().focusNode;if(!(!k||!this.dom.contains(k.nodeType==1?k:k.parentNode))){if(!this.someProp("handleScrollToSelection",function(A){return A(p)}))if(this.state.selection instanceof ue.NodeSelection){var x=this.docView.domAfterPos(this.state.selection.from);x.nodeType==1&&pt(this,x.getBoundingClientRect(),k)}else pt(this,this.coordsAtPos(this.state.selection.head,1),k)}}},{key:"destroyPluginViews",value:function(){for(var p;p=this.pluginViews.pop();)p.destroy&&p.destroy()}},{key:"updatePluginViews",value:function(p){if(!p||p.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var k=0;k<this.directPlugins.length;k++){var x=this.directPlugins[k];x.spec.view&&this.pluginViews.push(x.spec.view(this))}for(var A=0;A<this.state.plugins.length;A++){var B=this.state.plugins[A];B.spec.view&&this.pluginViews.push(B.spec.view(this))}}else for(var F=0;F<this.pluginViews.length;F++){var W=this.pluginViews[F];W.update&&W.update(this,p)}}},{key:"updateDraggedNode",value:function(p,k){var x=p.node,A=-1;if(this.state.doc.nodeAt(x.from)==x.node)A=x.from;else{var B=x.from+(this.state.doc.content.size-k.doc.content.size),F=B>0&&this.state.doc.nodeAt(B);F==x.node&&(A=B)}this.dragging=new bo(p.slice,p.move,A<0?void 0:ue.NodeSelection.create(this.state.doc,A))}},{key:"someProp",value:function(p,k){var x=this._props&&this._props[p],A;if(x!=null&&(A=k?k(x):x))return A;for(var B=0;B<this.directPlugins.length;B++){var F=this.directPlugins[B].props[p];if(F!=null&&(A=k?k(F):F))return A}var W=this.state.plugins;if(W)for(var J=0;J<W.length;J++){var de=W[J].props[p];if(de!=null&&(A=k?k(de):de))return A}}},{key:"hasFocus",value:function(){if(Ve){var p=this.root.activeElement;if(p==this.dom)return!0;if(!p||!this.dom.contains(p))return!1;for(;p&&this.dom!=p&&this.dom.contains(p);){if(p.contentEditable=="false")return!1;p=p.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&Mr(this.dom),Sn(this),this.domObserver.start()}},{key:"root",get:function(){var p=this,k=this._root;if(k==null){for(var x=function(W){if(W.nodeType==9||W.nodeType==11&&W.host)return W.getSelection||(Object.getPrototypeOf(W).getSelection=function(){return W.ownerDocument.getSelection()}),{v:p._root=W}},A,B=this.dom.parentNode;B;B=B.parentNode)if(A=x(B),A)return A.v}return k||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(p){return Zr(this,p)}},{key:"coordsAtPos",value:function(p){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return kr(this,p,k)}},{key:"domAtPos",value:function(p){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(p,k)}},{key:"nodeDOM",value:function(p){var k=this.docView.descAt(p);return k?k.nodeDOM:null}},{key:"posAtDOM",value:function(p,k){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,A=this.docView.posFromDOM(p,k,x);if(A==null)throw new RangeError("DOM position not inside the editor");return A}},{key:"endOfTextblock",value:function(p,k){return $e(this,k||this.state,p)}},{key:"pasteHTML",value:function(p,k){return ds(this,"",p,!1,k||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(p,k){return ds(this,p,null,!0,k||new ClipboardEvent("paste"))}},{key:"destroy",value:function(){this.docView&&(Kl(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],rl(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Ct())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(p){return td(this,p)}},{key:"dispatch",value:function(p){var k=this._props.dispatchTransaction;k?k.call(this,p):this.updateState(this.state.apply(p))}},{key:"domSelectionRange",value:function(){var p=this.domSelection();return p?Yt&&this.root.nodeType===11&&mt(this.dom.ownerDocument)==this.dom&&mc(this,p)||p:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),h}();function gs(h){var b=Object.create(null);return b.class="ProseMirror",b.contenteditable=String(h.editable),h.someProp("attributes",function(p){if(typeof p=="function"&&(p=p(h.state)),p)for(var k in p)k=="class"?b.class+=" "+p[k]:k=="style"?b.style=(b.style?b.style+";":"")+p[k]:!b[k]&&k!="contenteditable"&&k!="nodeName"&&(b[k]=String(p[k]))}),b.translate||(b.translate="no"),[ci.node(0,h.state.doc.content.size,b)]}function au(h){if(h.markCursor){var b=document.createElement("img");b.className="ProseMirror-separator",b.setAttribute("mark-placeholder","true"),b.setAttribute("alt",""),h.cursorWrapper={dom:b,deco:ci.widget(h.state.selection.from,b,{raw:!0,marks:h.markCursor})}}else h.cursorWrapper=null}function ou(h){return!h.someProp("editable",function(b){return b(h.state)===!1})}function Cc(h,b){var p=Math.min(h.$anchor.sharedDepth(h.head),b.$anchor.sharedDepth(b.head));return h.$anchor.start(p)!=b.$anchor.start(p)}function su(h){var b=Object.create(null);function p(k){for(var x in k)Object.prototype.hasOwnProperty.call(b,x)||(b[x]=k[x])}return h.someProp("nodeViews",p),h.someProp("markViews",p),b}function Sc(h,b){var p=0,k=0;for(var x in h){if(h[x]!=b[x])return!0;p++}for(var A in b)k++;return p!=k}function lu(h){if(h.spec.state||h.spec.filterTransaction||h.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}return bl.Decoration=ci,bl.DecorationSet=Oi,bl.EditorView=bc,bl.__endComposition=iu,bl.__parseFromClipboard=No,bl.__serializeForClipboard=nl,bl}/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */var xE;function QXe(){return xE||(xE=1,function(t,e){(function(n,i){t.exports=i(WXe(),KXe(),hy(),py(),JXe())})(self,function(r,n,i,a,s){return function(){var u={368:function(w){/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */(function(T,M){w.exports=M()})(this,function(){function T(ht){if(Array.isArray(ht)){for(var pt=0,zt=Array(ht.length);pt<ht.length;pt++)zt[pt]=ht[pt];return zt}else return Array.from(ht)}var M=Object.hasOwnProperty,N=Object.setPrototypeOf,P=Object.isFrozen,R=Object.getPrototypeOf,V=Object.getOwnPropertyDescriptor,ee=Object.freeze,te=Object.seal,ne=Object.create,pe=typeof Reflect<"u"&&Reflect,ue=pe.apply,be=pe.construct;ue||(ue=function(pt,zt,Wt){return pt.apply(zt,Wt)}),ee||(ee=function(pt){return pt}),te||(te=function(pt){return pt}),be||(be=function(pt,zt){return new(Function.prototype.bind.apply(pt,[null].concat(T(zt))))});var Ne=Ke(Array.prototype.forEach),Ee=Ke(Array.prototype.pop),je=Ke(Array.prototype.push),ct=Ke(String.prototype.toLowerCase),Ge=Ke(String.prototype.match),Ct=Ke(String.prototype.replace),Mt=Ke(String.prototype.indexOf),Pt=Ke(String.prototype.trim),Nt=Ke(RegExp.prototype.test),It=vt(TypeError);function Ke(ht){return function(pt){for(var zt=arguments.length,Wt=Array(zt>1?zt-1:0),rr=1;rr<zt;rr++)Wt[rr-1]=arguments[rr];return ue(ht,pt,Wt)}}function vt(ht){return function(){for(var pt=arguments.length,zt=Array(pt),Wt=0;Wt<pt;Wt++)zt[Wt]=arguments[Wt];return be(ht,zt)}}function He(ht,pt){N&&N(ht,null);for(var zt=pt.length;zt--;){var Wt=pt[zt];if(typeof Wt=="string"){var rr=ct(Wt);rr!==Wt&&(P(pt)||(pt[zt]=rr),Wt=rr)}ht[Wt]=!0}return ht}function ve(ht){var pt=ne(null),zt=void 0;for(zt in ht)ue(M,ht,[zt])&&(pt[zt]=ht[zt]);return pt}function Le(ht,pt){for(;ht!==null;){var zt=V(ht,pt);if(zt){if(zt.get)return Ke(zt.get);if(typeof zt.value=="function")return Ke(zt.value)}ht=R(ht)}function Wt(rr){return console.warn("fallback value for",rr),null}return Wt}var dt=ee(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mt=ee(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_t=ee(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xe=ee(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ce=ee(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),se=ee(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fe=ee(["#text"]),ce=ee(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),_e=ee(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ve=ee(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),at=ee(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ut=te(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Kt=te(/<%[\s\S]*|[\s\S]*%>/gm),jt=te(/^data-[\-\w.\u00B7-\uFFFF]/),Er=te(/^aria-[\-\w]+$/),Yt=te(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zr=te(/^(?:\w+script|data):/i),Sr=te(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht};function sr(ht){if(Array.isArray(ht)){for(var pt=0,zt=Array(ht.length);pt<ht.length;pt++)zt[pt]=ht[pt];return zt}else return Array.from(ht)}var Gr=function(){return typeof window>"u"?null:window},xi=function(pt,zt){if((typeof pt>"u"?"undefined":Or(pt))!=="object"||typeof pt.createPolicy!="function")return null;var Wt=null,rr="data-tt-policy-suffix";zt.currentScript&&zt.currentScript.hasAttribute(rr)&&(Wt=zt.currentScript.getAttribute(rr));var nn="dompurify"+(Wt?"#"+Wt:"");try{return pt.createPolicy(nn,{createHTML:function(Mr){return Mr}})}catch{return console.warn("TrustedTypes policy "+nn+" could not be created."),null}};function $n(){var ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gr(),pt=function(Te){return $n(Te)};if(pt.version="2.3.3",pt.removed=[],!ht||!ht.document||ht.document.nodeType!==9)return pt.isSupported=!1,pt;var zt=ht.document,Wt=ht.document,rr=ht.DocumentFragment,nn=ht.HTMLTemplateElement,wr=ht.Node,Mr=ht.Element,Dn=ht.NodeFilter,Un=ht.NamedNodeMap,Ir=Un===void 0?ht.NamedNodeMap||ht.MozNamedAttrMap:Un,hn=ht.Text,ai=ht.Comment,jn=ht.DOMParser,an=ht.trustedTypes,Zr=Mr.prototype,Cn=Le(Zr,"cloneNode"),Vr=Le(Zr,"nextSibling"),Wn=Le(Zr,"childNodes"),kr=Le(Zr,"parentNode");if(typeof nn=="function"){var Kr=Wt.createElement("template");Kr.content&&Kr.content.ownerDocument&&(Wt=Kr.content.ownerDocument)}var X=xi(an,zt),Z=X&&en?X.createHTML(""):"",H=Wt,q=H.implementation,U=H.createNodeIterator,G=H.createDocumentFragment,ie=H.getElementsByTagName,Oe=zt.importNode,$e={};try{$e=ve(Wt).documentMode?Wt.documentMode:{}}catch{}var ge={};pt.isSupported=typeof kr=="function"&&q&&typeof q.createHTMLDocument<"u"&&$e!==9;var ae=Ut,Re=Kt,Fe=jt,ot=Er,Rt=zr,$=Sr,I=Yt,C=null,O=He({},[].concat(sr(dt),sr(mt),sr(_t),sr(Ce),sr(fe))),_=null,K=He({},[].concat(sr(ce),sr(_e),sr(Ve),sr(at))),Y=null,le=null,we=!0,Ie=!0,et=!1,rt=!1,ut=!1,Ft=!1,nr=!1,vr=!1,Pr=!1,ia=!0,en=!1,Qs=!0,ts=!0,Fa=!1,Gn={},Kn=null,aa=He({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Sn=null,rs=He({},["audio","video","img","source","image","track"]),vo=null,Ca=He({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qa="http://www.w3.org/1998/Math/MathML",za="http://www.w3.org/2000/svg",Ln="http://www.w3.org/1999/xhtml",Ha=Ln,Sa=!1,Zt=void 0,ns=["application/xhtml+xml","text/html"],is="text/html",zi=void 0,Ti=null,Ei=Wt.createElement("form"),Va=function(Te){Ti&&Ti===Te||((!Te||(typeof Te>"u"?"undefined":Or(Te))!=="object")&&(Te={}),Te=ve(Te),C="ALLOWED_TAGS"in Te?He({},Te.ALLOWED_TAGS):O,_="ALLOWED_ATTR"in Te?He({},Te.ALLOWED_ATTR):K,vo="ADD_URI_SAFE_ATTR"in Te?He(ve(Ca),Te.ADD_URI_SAFE_ATTR):Ca,Sn="ADD_DATA_URI_TAGS"in Te?He(ve(rs),Te.ADD_DATA_URI_TAGS):rs,Kn="FORBID_CONTENTS"in Te?He({},Te.FORBID_CONTENTS):aa,Y="FORBID_TAGS"in Te?He({},Te.FORBID_TAGS):{},le="FORBID_ATTR"in Te?He({},Te.FORBID_ATTR):{},Gn="USE_PROFILES"in Te?Te.USE_PROFILES:!1,we=Te.ALLOW_ARIA_ATTR!==!1,Ie=Te.ALLOW_DATA_ATTR!==!1,et=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,rt=Te.SAFE_FOR_TEMPLATES||!1,ut=Te.WHOLE_DOCUMENT||!1,vr=Te.RETURN_DOM||!1,Pr=Te.RETURN_DOM_FRAGMENT||!1,ia=Te.RETURN_DOM_IMPORT!==!1,en=Te.RETURN_TRUSTED_TYPE||!1,nr=Te.FORCE_BODY||!1,Qs=Te.SANITIZE_DOM!==!1,ts=Te.KEEP_CONTENT!==!1,Fa=Te.IN_PLACE||!1,I=Te.ALLOWED_URI_REGEXP||I,Ha=Te.NAMESPACE||Ln,Zt=ns.indexOf(Te.PARSER_MEDIA_TYPE)===-1?Zt=is:Zt=Te.PARSER_MEDIA_TYPE,zi=Zt==="application/xhtml+xml"?function(nt){return nt}:ct,rt&&(Ie=!1),Pr&&(vr=!0),Gn&&(C=He({},[].concat(sr(fe))),_=[],Gn.html===!0&&(He(C,dt),He(_,ce)),Gn.svg===!0&&(He(C,mt),He(_,_e),He(_,at)),Gn.svgFilters===!0&&(He(C,_t),He(_,_e),He(_,at)),Gn.mathMl===!0&&(He(C,Ce),He(_,Ve),He(_,at))),Te.ADD_TAGS&&(C===O&&(C=ve(C)),He(C,Te.ADD_TAGS)),Te.ADD_ATTR&&(_===K&&(_=ve(_)),He(_,Te.ADD_ATTR)),Te.ADD_URI_SAFE_ATTR&&He(vo,Te.ADD_URI_SAFE_ATTR),Te.FORBID_CONTENTS&&(Kn===aa&&(Kn=ve(Kn)),He(Kn,Te.FORBID_CONTENTS)),ts&&(C["#text"]=!0),ut&&He(C,["html","head","body"]),C.table&&(He(C,["tbody"]),delete Y.tbody),ee&&ee(Te),Ti=Te)},oa=He({},["mi","mo","mn","ms","mtext"]),Mi=He({},["foreignobject","desc","title","annotation-xml"]),tn=He({},mt);He(tn,_t),He(tn,xe);var oi=He({},Ce);He(oi,se);var Hi=function(Te){var nt=kr(Te);(!nt||!nt.tagName)&&(nt={namespaceURI:Ln,tagName:"template"});var xt=ct(Te.tagName),cr=ct(nt.tagName);if(Te.namespaceURI===za)return nt.namespaceURI===Ln?xt==="svg":nt.namespaceURI===qa?xt==="svg"&&(cr==="annotation-xml"||oa[cr]):!!tn[xt];if(Te.namespaceURI===qa)return nt.namespaceURI===Ln?xt==="math":nt.namespaceURI===za?xt==="math"&&Mi[cr]:!!oi[xt];if(Te.namespaceURI===Ln){if(nt.namespaceURI===za&&!Mi[cr]||nt.namespaceURI===qa&&!oa[cr])return!1;var Jr=He({},["title","style","font","a","script"]);return!oi[xt]&&(Jr[xt]||!tn[xt])}return!1},pn=function(Te){je(pt.removed,{element:Te});try{Te.parentNode.removeChild(Te)}catch{try{Te.outerHTML=Z}catch{Te.remove()}}},xa=function(Te,nt){try{je(pt.removed,{attribute:nt.getAttributeNode(Te),from:nt})}catch{je(pt.removed,{attribute:null,from:nt})}if(nt.removeAttribute(Te),Te==="is"&&!_[Te])if(vr||Pr)try{pn(nt)}catch{}else try{nt.setAttribute(Te,"")}catch{}},Ni=function(Te){var nt=void 0,xt=void 0;if(nr)Te="<remove></remove>"+Te;else{var cr=Ge(Te,/^[\r\n\t ]+/);xt=cr&&cr[0]}Zt==="application/xhtml+xml"&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");var Jr=X?X.createHTML(Te):Te;if(Ha===Ln)try{nt=new jn().parseFromString(Jr,Zt)}catch{}if(!nt||!nt.documentElement){nt=q.createDocument(Ha,"template",null);try{nt.documentElement.innerHTML=Sa?"":Jr}catch{}}var Br=nt.body||nt.documentElement;return Te&&xt&&Br.insertBefore(Wt.createTextNode(xt),Br.childNodes[0]||null),Ha===Ln?ie.call(nt,ut?"html":"body")[0]:ut?nt.documentElement:Br},mo=function(Te){return U.call(Te.ownerDocument||Te,Te,Dn.SHOW_ELEMENT|Dn.SHOW_COMMENT|Dn.SHOW_TEXT,null,!1)},as=function(Te){return Te instanceof hn||Te instanceof ai?!1:typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof Ir)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"},si=function(Te){return(typeof wr>"u"?"undefined":Or(wr))==="object"?Te instanceof wr:Te&&(typeof Te>"u"?"undefined":Or(Te))==="object"&&typeof Te.nodeType=="number"&&typeof Te.nodeName=="string"},li=function(Te,nt,xt){ge[Te]&&Ne(ge[Te],function(cr){cr.call(pt,nt,xt,Ti)})},go=function(Te){var nt=void 0;if(li("beforeSanitizeElements",Te,null),as(Te)||Ge(Te.nodeName,/[\u0080-\uFFFF]/))return pn(Te),!0;var xt=zi(Te.nodeName);if(li("uponSanitizeElement",Te,{tagName:xt,allowedTags:C}),!si(Te.firstElementChild)&&(!si(Te.content)||!si(Te.content.firstElementChild))&&Nt(/<[/\w]/g,Te.innerHTML)&&Nt(/<[/\w]/g,Te.textContent)||xt==="select"&&Nt(/<template/i,Te.innerHTML))return pn(Te),!0;if(!C[xt]||Y[xt]){if(ts&&!Kn[xt]){var cr=kr(Te)||Te.parentNode,Jr=Wn(Te)||Te.childNodes;if(Jr&&cr)for(var Br=Jr.length,Ar=Br-1;Ar>=0;--Ar)cr.insertBefore(Cn(Jr[Ar],!0),Vr(Te))}return pn(Te),!0}return Te instanceof Mr&&!Hi(Te)||(xt==="noscript"||xt==="noembed")&&Nt(/<\/no(script|embed)/i,Te.innerHTML)?(pn(Te),!0):(rt&&Te.nodeType===3&&(nt=Te.textContent,nt=Ct(nt,ae," "),nt=Ct(nt,Re," "),Te.textContent!==nt&&(je(pt.removed,{element:Te.cloneNode()}),Te.textContent=nt)),li("afterSanitizeElements",Te,null),!1)},$a=function(Te,nt,xt){if(Qs&&(nt==="id"||nt==="name")&&(xt in Wt||xt in Ei))return!1;if(!(Ie&&!le[nt]&&Nt(Fe,nt))){if(!(we&&Nt(ot,nt))){if(!_[nt]||le[nt])return!1;if(!vo[nt]){if(!Nt(I,Ct(xt,$,""))){if(!((nt==="src"||nt==="xlink:href"||nt==="href")&&Te!=="script"&&Mt(xt,"data:")===0&&Sn[Te])){if(!(et&&!Nt(Rt,Ct(xt,$,"")))){if(xt)return!1}}}}}}return!0},ss=function(Te){var nt=void 0,xt=void 0,cr=void 0,Jr=void 0;li("beforeSanitizeAttributes",Te,null);var Br=Te.attributes;if(Br){var Ar={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_};for(Jr=Br.length;Jr--;){nt=Br[Jr];var Rn=nt,sa=Rn.name,ui=Rn.namespaceURI;if(xt=Pt(nt.value),cr=zi(sa),Ar.attrName=cr,Ar.attrValue=xt,Ar.keepAttr=!0,Ar.forceKeepAttr=void 0,li("uponSanitizeAttribute",Te,Ar),xt=Ar.attrValue,!Ar.forceKeepAttr&&(xa(sa,Te),!!Ar.keepAttr)){if(Nt(/\/>/i,xt)){xa(sa,Te);continue}rt&&(xt=Ct(xt,ae," "),xt=Ct(xt,Re," "));var yo=zi(Te.nodeName);if($a(yo,cr,xt))try{ui?Te.setAttributeNS(ui,sa,xt):Te.setAttribute(sa,xt),Ee(pt.removed)}catch{}}}li("afterSanitizeAttributes",Te,null)}},Wl=function Ot(Te){var nt=void 0,xt=mo(Te);for(li("beforeSanitizeShadowDOM",Te,null);nt=xt.nextNode();)li("uponSanitizeShadowNode",nt,null),!go(nt)&&(nt.content instanceof rr&&Ot(nt.content),ss(nt));li("afterSanitizeShadowDOM",Te,null)};return pt.sanitize=function(Ot,Te){var nt=void 0,xt=void 0,cr=void 0,Jr=void 0,Br=void 0;if(Sa=!Ot,Sa&&(Ot="<!-->"),typeof Ot!="string"&&!si(Ot)){if(typeof Ot.toString!="function")throw It("toString is not a function");if(Ot=Ot.toString(),typeof Ot!="string")throw It("dirty is not a string, aborting")}if(!pt.isSupported){if(Or(ht.toStaticHTML)==="object"||typeof ht.toStaticHTML=="function"){if(typeof Ot=="string")return ht.toStaticHTML(Ot);if(si(Ot))return ht.toStaticHTML(Ot.outerHTML)}return Ot}if(Ft||Va(Te),pt.removed=[],typeof Ot=="string"&&(Fa=!1),!Fa)if(Ot instanceof wr)nt=Ni("<!---->"),xt=nt.ownerDocument.importNode(Ot,!0),xt.nodeType===1&&xt.nodeName==="BODY"||xt.nodeName==="HTML"?nt=xt:nt.appendChild(xt);else{if(!vr&&!rt&&!ut&&Ot.indexOf("<")===-1)return X&&en?X.createHTML(Ot):Ot;if(nt=Ni(Ot),!nt)return vr?null:Z}nt&&nr&&pn(nt.firstChild);for(var Ar=mo(Fa?Ot:nt);cr=Ar.nextNode();)cr.nodeType===3&&cr===Jr||go(cr)||(cr.content instanceof rr&&Wl(cr.content),ss(cr),Jr=cr);if(Jr=null,Fa)return Ot;if(vr){if(Pr)for(Br=G.call(nt.ownerDocument);nt.firstChild;)Br.appendChild(nt.firstChild);else Br=nt;return ia&&(Br=Oe.call(zt,Br,!0)),Br}var Rn=ut?nt.outerHTML:nt.innerHTML;return rt&&(Rn=Ct(Rn,ae," "),Rn=Ct(Rn,Re," ")),X&&en?X.createHTML(Rn):Rn},pt.setConfig=function(Ot){Va(Ot),Ft=!0},pt.clearConfig=function(){Ti=null,Ft=!1},pt.isValidAttribute=function(Ot,Te,nt){Ti||Va({});var xt=zi(Ot),cr=zi(Te);return $a(xt,cr,nt)},pt.addHook=function(Ot,Te){typeof Te=="function"&&(ge[Ot]=ge[Ot]||[],je(ge[Ot],Te))},pt.removeHook=function(Ot){ge[Ot]&&Ee(ge[Ot])},pt.removeHooks=function(Ot){ge[Ot]&&(ge[Ot]=[])},pt.removeAllHooks=function(){ge={}},pt}var Hr=$n();return Hr})},928:function(w,T,M){var N=M(322);function P(R,V,ee){var te,ne;if(ee=ee||0,!N(V))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(V,R,ee);for(ne=V.length,te=ee;ee>=0&&te<ne;te+=1)if(V[te]===R)return te;return-1}w.exports=P},690:function(w,T,M){var N=M(322),P=M(893),R=M(956);function V(ee,te,ne){N(ee)?P(ee,te,ne):R(ee,te,ne)}w.exports=V},893:function(w){function T(M,N,P){var R=0,V=M.length;for(P=P||null;R<V&&N.call(P,M[R],R,M)!==!1;R+=1);}w.exports=T},956:function(w){function T(M,N,P){var R;P=P||null;for(R in M)if(M.hasOwnProperty(R)&&N.call(P,M[R],R,M)===!1)break}w.exports=T},990:function(w,T,M){var N=M(893);function P(R){var V;try{V=Array.prototype.slice.call(R)}catch{V=[],N(R,function(te){V.push(te)})}return V}w.exports=P},755:function(w){var T="_feEventKey";function M(N,P){var R=N[T],V;return R||(R=N[T]={}),V=R[P],V||(V=R[P]=[]),V}w.exports=M},349:function(w,T,M){var N=M(758),P=M(690),R=M(755);function V(ne,pe,ue){if(N(pe)){P(pe.split(/\s+/g),function(be){ee(ne,be,ue)});return}P(pe,function(be,Ne){ee(ne,Ne,be)})}function ee(ne,pe,ue){var be=R(ne,pe),Ne;ue?(P(be,function(Ee,je){return ue===Ee.handler?(te(ne,pe,Ee.wrappedHandler),Ne=je,!1):!0}),be.splice(Ne,1)):(P(be,function(Ee){te(ne,pe,Ee.wrappedHandler)}),be.splice(0,be.length))}function te(ne,pe,ue){"removeEventListener"in ne?ne.removeEventListener(pe,ue):"detachEvent"in ne&&ne.detachEvent("on"+pe,ue)}w.exports=V},348:function(w,T,M){var N=M(758),P=M(690),R=M(755);function V(ne,pe,ue,be){if(N(pe)){P(pe.split(/\s+/g),function(Ne){ee(ne,Ne,ue,be)});return}P(pe,function(Ne,Ee){ee(ne,Ee,Ne,ue)})}function ee(ne,pe,ue,be){function Ne(Ee){ue.call(be||ne,Ee||window.event)}"addEventListener"in ne?ne.addEventListener(pe,Ne):"attachEvent"in ne&&ne.attachEvent("on"+pe,Ne),te(ne,pe,ue,Ne)}function te(ne,pe,ue,be){var Ne=R(ne,pe),Ee=!1;P(Ne,function(je){return je.handler===ue?(Ee=!0,!1):!0}),Ee||Ne.push({handler:ue,wrappedHandler:be})}w.exports=V},24:function(w,T,M){var N=M(322),P=M(929);function R(V,ee){if(ee=N(ee)?ee.join(" "):ee,ee=ee.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),P(V.className.baseVal)){V.className=ee;return}V.className.baseVal=ee}w.exports=R},204:function(w,T,M){var N=M(690),P=M(928),R=M(902),V=M(24);function ee(te){var ne=Array.prototype.slice.call(arguments,1),pe=te.classList,ue=[],be;if(pe){N(ne,function(Ne){te.classList.add(Ne)});return}be=R(te),be&&(ne=[].concat(be.split(/\s+/),ne)),N(ne,function(Ne){P(Ne,ue)<0&&ue.push(Ne)}),V(te,ue)}w.exports=ee},522:function(w,T,M){var N=M(758),P=M(690);function R(V,ee,te){var ne=V.style;if(N(ee)){ne[ee]=te;return}P(ee,function(pe,ue){ne[ue]=pe})}w.exports=R},902:function(w,T,M){var N=M(929);function P(R){return!R||!R.className?"":N(R.className.baseVal)?R.className:R.className.baseVal}w.exports=P},714:function(w,T,M){var N=M(928),P=M(902);function R(V,ee){var te;return V.classList?V.classList.contains(ee):(te=P(V).split(/\s+/),N(ee,te)>-1)}w.exports=R},471:function(w,T,M){var N=M(928),P=M(990),R=Element.prototype,V=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.msMatchesSelector||function(te){var ne=this.document||this.ownerDocument;return N(this,P(ne.querySelectorAll(te)))>-1};function ee(te,ne){return V.call(te,ne)}w.exports=ee},462:function(w,T,M){var N=M(893),P=M(928),R=M(902),V=M(24);function ee(te){var ne=Array.prototype.slice.call(arguments,1),pe=te.classList,ue,be;if(pe){N(ne,function(Ne){pe.remove(Ne)});return}ue=R(te).split(/\s+/),be=[],N(ue,function(Ne){P(Ne,ne)<0&&be.push(Ne)}),V(te,be)}w.exports=ee},969:function(w){function T(M,N){var P=Object.prototype.hasOwnProperty,R,V,ee,te;for(ee=1,te=arguments.length;ee<te;ee+=1){R=arguments[ee];for(V in R)P.call(R,V)&&(M[V]=R[V])}return M}w.exports=T},254:function(w,T,M){var N=M(956);function P(R,V){var ee=document.createElement("img"),te="";return N(V,function(ne,pe){te+="&"+pe+"="+ne}),te=te.substring(1),ee.src=R+"?"+te,ee.style.display="none",document.body.appendChild(ee),document.body.removeChild(ee),ee}w.exports=P},391:function(w,T,M){var N=M(929),P=M(254),R=7*24*60*60*1e3;function V(te){var ne=new Date().getTime();return ne-te>R}function ee(te,ne){var pe="https://www.google-analytics.com/collect",ue=location.hostname,be="event",Ne="use",Ee="TOAST UI "+te+" for "+ue+": Statistics",je=window.localStorage.getItem(Ee);!N(window.tui)&&window.tui.usageStatistics===!1||je&&!V(je)||(window.localStorage.setItem(Ee,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&P(pe,{v:1,t:be,tid:ne,cid:ue,dp:ue,dh:te,el:te,ec:Ne})},1e3))}w.exports=ee},322:function(w){function T(M){return M instanceof Array}w.exports=T},65:function(w,T,M){var N=M(929),P=M(934);function R(V){return!N(V)&&!P(V)}w.exports=R},404:function(w,T,M){var N=M(790);function P(R){return!N(R)}w.exports=P},294:function(w){function T(M){return M instanceof Function}w.exports=T},934:function(w){function T(M){return M===null}w.exports=T},758:function(w){function T(M){return typeof M=="string"||M instanceof String}w.exports=T},790:function(w,T,M){var N=M(65);function P(R){return N(R)&&R!==!1}w.exports=P},929:function(w){function T(M){return M===void 0}w.exports=T},479:function(w){w.exports=r},481:function(w){w.exports=n},43:function(w){w.exports=i},814:function(w){w.exports=a},311:function(w){w.exports=s}},c={};function d(w){var T=c[w];if(T!==void 0)return T.exports;var M=c[w]={exports:{}};return u[w].call(M.exports,M,M.exports,d),M.exports}(function(){d.n=function(w){var T=w&&w.__esModule?function(){return w.default}:function(){return w};return d.d(T,{a:T}),T}})(),function(){d.d=function(w,T){for(var M in T)d.o(T,M)&&!d.o(w,M)&&Object.defineProperty(w,M,{enumerable:!0,get:T[M]})}}(),function(){d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){d.o=function(w,T){return Object.prototype.hasOwnProperty.call(w,T)}}();var m={};return function(){d.d(m,{default:function(){return Kre}});var w=function(){return w=Object.assign||function(v){for(var S,D=1,z=arguments.length;D<z;D++){S=arguments[D];for(var Q in S)Object.prototype.hasOwnProperty.call(S,Q)&&(v[Q]=S[Q])}return v},w.apply(this,arguments)};function T(g,v,S){if(arguments.length===2)for(var D=0,z=v.length,Q;D<z;D++)(Q||!(D in v))&&(Q||(Q=Array.prototype.slice.call(v,0,D)),Q[D]=v[D]);return g.concat(Q||Array.prototype.slice.call(v))}/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var M=function(g,v){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,D){S.__proto__=D}||function(S,D){for(var z in D)Object.prototype.hasOwnProperty.call(D,z)&&(S[z]=D[z])},M(g,v)};function N(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");M(g,v);function S(){this.constructor=g}g.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)}var P=function(){return P=Object.assign||function(v){for(var S,D=1,z=arguments.length;D<z;D++){S=arguments[D];for(var Q in S)Object.prototype.hasOwnProperty.call(S,Q)&&(v[Q]=S[Q])}return v},P.apply(this,arguments)};function R(g,v,S){if(arguments.length===2)for(var D=0,z=v.length,Q;D<z;D++)(Q||!(D in v))&&(Q||(Q=Array.prototype.slice.call(v,0,D)),Q[D]=v[D]);return g.concat(Q||Array.prototype.slice.call(v))}var V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof d.g<"u"?d.g:typeof self<"u"?self:{},ee={};function te(g){var v,S,D=ee[g];if(D)return D;for(D=ee[g]=[],v=0;v<128;v++)S=String.fromCharCode(v),/^[0-9a-z]$/i.test(S)?D.push(S):D.push("%"+("0"+v.toString(16).toUpperCase()).slice(-2));for(v=0;v<g.length;v++)D[g.charCodeAt(v)]=g[v];return D}function ne(g,v,S){var D,z,Q,re,he,ze="";for(typeof v!="string"&&(S=v,v=ne.defaultChars),typeof S>"u"&&(S=!0),he=te(v),D=0,z=g.length;D<z;D++){if(Q=g.charCodeAt(D),S&&Q===37&&D+2<z&&/^[0-9a-f]{2}$/i.test(g.slice(D+1,D+3))){ze+=g.slice(D,D+3),D+=2;continue}if(Q<128){ze+=he[Q];continue}if(Q>=55296&&Q<=57343){if(Q>=55296&&Q<=56319&&D+1<z&&(re=g.charCodeAt(D+1),re>=56320&&re<=57343)){ze+=encodeURIComponent(g[D]+g[D+1]),D++;continue}ze+="%EF%BF%BD";continue}ze+=encodeURIComponent(g[D])}return ze}ne.defaultChars=";/?:@&=+$,-_.!~*'()#",ne.componentChars="-_.!~*'()";var pe=ne,ue={},be={},Ne="",Ee="",je="",ct="",Ge="",Ct="",Mt="",Pt="",Nt="",It="",Ke="",vt="",He="",ve="",Le="",dt="",mt="",_t="",xe="",Ce="",se="",fe="",ce="",_e="",Ve="",at="",Ut="&",Kt="&",jt="",Er="",Yt="",zr="",Sr="",Or="",sr="",Gr="",xi="",$n="",Hr="",ht="",pt="",zt="",Wt="",rr="",nn="",wr="",Mr="",Dn="",Un="",Ir="",hn="",ai="",jn="",an="",Zr="",Cn="",Vr="",Wn="",kr="",Kr="",X="",Z="'",H="",q="",U="",G="",ie="",Oe="",$e="",ge="",ae="*",Re="",Fe="",ot="",Rt="",$="",I="",C="",O="",_="",K="",Y="",le="",we="",Ie="",et="",rt="",ut="",Ft="",nr="",vr="",Pr="",ia="",en="",Qs="",ts="",Fa="",Gn="",Kn="",aa="",Sn="",rs="",vo="",Ca="",qa="",za="",Ln="",Ha="",Sa="",Zt="",ns="",is="",zi="",Ti="",Ei="",Va="",oa="",Mi="",tn="",oi="",Hi="",pn="",xa="",Ni="",mo="",as="",si="",li="",go="",$a="",ss="",Wl="",Ot="",Te="",nt="=",xt="",cr="",Jr="",Br="",Ar="",Rn="",sa="",ui="",yo="",Ua="",rc="",Xs="",Ys="",nc="",br="",$r="",Gl="",ls="",ed="",Vi="",Kl="",ja="",wo="",ic="",td="",Zs="",rd="",us="",ko="",nd="",id="",ad="",od="",ac="",sd="",Jl="",oc="",ld="",el="",ud="",sc="",lc="",uc="",cd="",cs="",fd="",fs="",dd="",hd="",ds="",tl="",bo="",cc="",Ql="",Co="",Xl="",So="",fc="",ci="",xo="",Wa="",Oi="",on="\\",Yl="",hs="",To="",pd="",ps="",dc="",vs="",la="",ms="",Zl="",rl="",hc="",vd="",md="",gd="",pc="",vc="",Ai="",Eo="",mc="",gc="",yc="",wc="",eu="",yd="",kc="",Mo="",tu="",Ga="",ru="",nu="",nl="",No="",iu="",bc="",gs="",au="",ou="",Cc="",su="",Sc="",lu="",h="",b="",p="",k="",x="",A="",B="",F="",W="",J="",de="",Se="",ye="",Be="",Ue="",lt="",wt="",Qe="",ir="",Jt="",Ht="",er="",fr="",Cr="",Jn="",Ur="",vn="",_r="",ys="",fi="",Oo=":",di="",Lr="",Ta="",xc="",ua=",",mn="@",Ao="",$i="",wd="",vy="",my="",ws="",uu="",il="",Tc="",kd="",al="",Do="",Dr="",Nr="",Lo="",In="",hi="",ks="",ol="",pi="",Ec="",Ap="",Dp="",Mc="",Lp="",Ka="",Nc="",bd="",Rp="",gy="",Ro="",sl="",ll="",Oc="",Ac="",Ui="",ji="",bs="",Ja="",Qa="",Cs="",Ip="",Cd="",Sd="",Di="",Li="",Rr="",ca="",Pp="",Bp="",xd="",Td="",_p="",Dc="",Fp="",ul="",Ed="",yy="",cu="",Lc="",qp="",zp="",cl="",Hp="",Rc="",Ic="",fl="",Md="",Nd="",Od="",Ad="",dl="",Wi="",Ss="",Dd="",Vp="",Xa="",Io="",Ld="",$p="",Ya="",Po="",Pc="",Up="",Bc="",jp="",fu="",Ea="",du="",hu="",xs="",Rd="",hl="`",Wp="",Id="",Fr="",_c="",Pd="",Bd="",Fc="",_d="",Ts="",qr="",sn="",gn="",qc="",pu="",vu="",wy="",Pn="",Fd="",qd="$",zd="",Ma="",Gi="",mu="",Hd="",Vd="",Gp="",Kp="",Jp="",Qp="",Xp="",Yp="",Zp="",ev="",gu="",tv="",zc="",Hc="",rv="",$d="",nv="",iv="",av="",ov="",Ud="",sv="",lv="",uv="",ky="",cv="",by="",Cy="",fv="",dv="",hv="",Vc="",Sy="",xy="",Ty="",fa="",jd="",$c="",pv="",vv="",mv="",Wd="",pl="",Gd="",Kd="",Ey="",gv="",yv="",wv="",kv="",bv="",My="",vi="",Qn="",Cv="",Sv="",xv="",Tv="",Ev="",Jd="",Mv="",Qd="",Nv="",Ov="",Xd="",Yd="",Av="",Zd="",Uc="",Ny="",Dv="",eh="",Lv="",jc="",Za="",Oy="",Rv="",th="",Iv="",Pv="",yu="",Bn="",Ay="",Dy="",Wc="",_n="",Ly="",St="",vl="",rh="",Bv="",Ry="",wu="",Gc="",nh="",_v="",Fv="",qv="",ih="",ah="",xn="",da="",Bo="",zv="",Hv="",ha="",Vv="",Na="",Iy="",$v="",Uv="",jv="",Wv="",Py="",Kc="",oh="",Ki="",dr="",yn="",rn="=",Tn="",Ri="",ml="",ln="",ku="",Es="",Jc="",sh="",bu="",mi="",lh="",gl="",eo="",Qc="",uh="",_o="",Xc="",Fo="",Yc="",Cu="",ch="!",Zc="",ef="",Xn="",qo="",pa="",gi="",Gv="",fh="",dh="",By="",zo="",Kv="",hh="",Ms="",ph="",Ns="",Jv="",Qv="fj",vh="",tf="",_y="",Fy="",Xv="",Yv="",Os="",qy="",yl="",Zv="",jr="",zy="",em="",Hy="",Vy="",tm="",rm="",$y="",Ji="",mh="",Uy="",Ho="",rf="",As="",nf="",gh="",yh="",jy="",wh="",Wy="",nm="",im="",af="",of="",am="",kh="",om="",bh="",sf="",Ch="",lf="",sm="",Gy="",uf="",Ky="",Su="",Jy="",cf="",o="",l="",f="",y="",E="",L="",j="",oe="",me="",Pe="",Xe="",tt="",Je="",kt="",Et="",At="",Qr="",Me="",ke="",De="",it="",Dt="",Vt="",$t="",Gt="",wn="",hr="",Vo="",Qy="",jA="",WA="",GA="",KA="",JA="`",QA="",XA="",YA="",ZA="",eD="",tD="",rD="",nD="",iD="",aD="",oD="",sD="",lD="",uD="",cD=">",fD=">",dD="",hD="",pD="",vD="",mD="",gD="",yD="",wD="",kD="",bD="",CD="",SD="",xD="",TD="",ED="",MD="",ND="",OD="",AD="",DD="",LD="",RD="",ID="",PD="^",BD="",_D="",FD="",qD="",zD="",HD="",VD="",$D="",UD="",jD="",WD="",GD="",KD="",JD="",QD="",XD="",YD="",ZD="",eL="",tL="",rL="",nL="",iL="",aL="",oL="",sL="",lL="",uL="",cL="",fL="",dL="",hL="",pL="",vL="",mL="",gL="",yL="",wL="",kL="",bL="",CL="",SL="",xL="",TL="",EL="",ML="",NL="",OL="",AL="",DL="",LL="",RL="",IL="",PL="",BL="",_L="",FL="",qL="",zL="",HL="",VL="",$L="",UL="",jL="",WL="",GL="",KL="",JL="",QL="",XL="",YL="",ZL="",eR="",tR="",rR="",nR="",iR="",aR="",oR="",sR="",lR="",uR="",cR="",fR="",dR="",hR="",pR="",vR="",mR="",gR="",yR="",wR="",kR="",bR="",CR="",SR="",xR="",TR="",ER="",MR="",NR="",OR="",AR="",DR="",LR="",RR="",IR="",PR="",BR="",_R="",FR="",qR="",zR="",HR="",VR="",$R="",UR="",jR="",WR="",GR="",KR="",JR="",QR="",XR="",YR="",ZR="",eI="",tI="",rI="",nI="",iI="",aI="",oI="",sI="",lI="",uI="",cI="",fI="",dI="",hI="",pI="",vI="",mI="",gI="",yI="",wI="",kI="",bI="",CI="",SI="",xI="",TI="",EI="",MI="",NI="",OI="",AI="",DI="",LI="",RI="",II="",PI="",BI="",_I="",FI="",qI="",zI="",HI="",VI="",$I="{",UI="[",jI="",WI="",GI="",KI="",JI="",QI="",XI="",YI="",ZI="{",eP="",tP="",rP="",nP="",iP="",aP="",oP="",sP="",lP="",uP="",cP="",fP="",dP="",hP="",pP="",vP="",mP="",gP="",yP="",wP="",kP="",bP="",CP="",SP="",xP="",TP="",EP="",MP="",NP="",OP="",AP="",DP="",LP="",RP="",IP="",PP="",BP="",_P="",FP="",qP="",zP="",HP="",VP="",$P="",UP="",jP="",WP="",GP="",KP="",JP="",QP="",XP="",YP="",ZP="",eB="",tB="",rB="",nB="",iB="",aB="",oB="",sB="",lB="",uB="",cB="",fB="",dB="",hB="",pB="",vB="",mB="",gB="",yB="",wB="",kB="",bB="",CB="",SB="",xB="",TB="",EB="",MB="",NB="",OB="",AB="",DB="",LB="",RB="",IB="",PB="",BB="",_B="",FB="",qB="",zB="",HB="",VB="",$B="",UB="",jB="",WB="",GB="",KB="",JB="",QB="",XB="",YB="",ZB="",e_="",t_="",r_="",n_="",i_="",a_="",o_="",s_="",l_="",u_="",c_="",f_="",d_="",h_="",p_="_",v_="",m_="",g_="",y_="",w_="",k_="(",b_="",C_="",S_="",x_="",T_="",E_="",M_="",N_="",O_="",A_="",D_="",L_="",R_="",I_="",P_="",B_="[",__="",F_="",q_="",z_="",H_="",V_="",$_="<",U_="<",j_="",W_="",G_="",K_="",J_="",Q_="",X_="",Y_="",Z_="",e2="",t2="",r2="",n2="",i2="",a2="",o2="",s2="",l2="",u2="",c2="",f2="",d2="",h2="",p2="",v2="",m2="",g2="",y2="",w2="",k2="",b2="",C2="",S2="",x2="",T2="",E2="",M2="*",N2="",O2="",A2="",D2="",L2="",R2="",I2="",P2="",B2="",_2="",F2="",q2="",z2="",H2="",V2="",$2="",U2="",j2="",W2="",G2="",K2="",J2="",Q2="",X2="",Y2="",Z2="",eF="",tF="",rF="",nF="",iF="",aF="",oF="",sF="",lF="",uF="",cF="",fF="",dF="",hF="",pF="",vF="",mF="",gF="",yF="",wF="",kF="",bF="",CF="",SF="",xF="",TF="",EF="",MF="",NF="",OF="",AF="",DF="",LF="",RF="",IF="",PF="",BF="",_F=`
`,FF="",qF="",zF="",HF="",VF="",$F="",UF="",jF="",WF="",GF="",KF="",JF="",QF="",XF="",YF="",ZF="",e3="",t3="",r3="",n3="",i3="",a3="",o3="",s3="",l3="",u3="",c3="",f3="",d3="",h3="",p3="",v3="",m3="",g3="",y3="",w3="",k3="",b3="",C3="",S3="",x3="",T3="",E3="",M3="",N3="",O3="",A3="",D3="",L3="",R3="",I3="",P3="",B3="",_3="",F3="",q3="",z3="",H3="",V3="",$3="",U3="",j3="",W3="",G3="",K3="",J3="",Q3="",X3="",Y3="",Z3="",eq="",tq="",rq="",nq="",iq="",aq="",oq="",sq="",lq="",uq="",cq="",fq="",dq="",hq="",pq="",vq="",mq="",gq="",yq="",wq="",kq="",bq="",Cq="",Sq="",xq="",Tq="",Eq="",Mq="",Nq="",Oq="",Aq="",Dq="",Lq="",Rq="",Iq="",Pq="",Bq="",_q="",Fq="",qq="",zq="",Hq="",Vq="",$q="",Uq="",jq="",Wq="",Gq="",Kq="",Jq="",Qq="",Xq="",Yq="",Zq="",ez="",tz="",rz="",nz="",iz="",az="",oz="",sz="",lz="",uz="",cz="",fz="",dz="",hz="",pz="",vz="",mz="",gz="",yz="",wz="",kz="",bz="",Cz="",Sz="",xz="",Tz="",Ez="",Mz="",Nz="",Oz="",Az="",Dz="",Lz="",Rz="",Iz="",Pz="",Bz="",_z="",Fz="",qz="",zz="",Hz="",Vz="",$z="",Uz="",jz="",Wz="#",Gz="",Kz="",Jz="",Qz="",Xz="",Yz="",Zz="",eH="",tH=">",rH="",nH="",iH="",aH="",oH="<",sH="",lH="",uH="",cH="",fH="",dH="",hH="",pH="",vH="",mH="",gH="",yH="",wH="",kH="",bH="",CH="",SH="",xH="",TH="",EH="",MH="",NH="",OH="",AH="",DH="",LH="",RH="",IH="",PH="",BH="",_H="",FH="",qH="",zH="",HH="",VH="",$H="",UH="",jH="",WH="",GH="",KH="",JH="",QH="",XH="",YH="",ZH="",eV="",tV="",rV="",nV="",iV="",aV="",oV="",sV="",lV="",uV="",cV="",fV="",dV="",hV="",pV="",vV="",mV="",gV="",yV="",wV="",kV="",bV="",CV="",SV="",xV="",TV="",EV="",MV="",NV="",OV="",AV="",DV="",LV="",RV="",IV="",PV="",BV="",_V="",FV="",qV="",zV="",HV="",VV="",$V="",UV="",jV="",WV="",GV="%",KV=".",JV="",QV="",XV="",YV="",ZV="",e$="",t$="",r$="",n$="",i$="",a$="",o$="",s$="",l$="",u$="",c$="",f$="",d$="",h$="",p$="",v$="+",m$="",g$="",y$="",w$="",k$="",b$="",C$="",S$="",x$="",T$="",E$="",M$="",N$="",O$="",A$="",D$="",L$="",R$="",I$="",P$="",B$="",_$="",F$="",q$="",z$="",H$="",V$="",$$="",U$="",j$="",W$="",G$="",K$="",J$="",Q$="",X$="",Y$="",Z$="",eU="",tU="",rU="",nU="",iU="",aU="",oU="",sU="",lU="",uU="",cU="",fU="",dU="",hU="",pU="",vU="",mU="",gU="",yU="",wU="",kU="",bU="",CU="",SU="",xU="",TU="?",EU="",MU='"',NU='"',OU="",AU="",DU="",LU="",RU="",IU="",PU="",BU="",_U="",FU="",qU="",zU="",HU="",VU="",$U="",UU="",jU="",WU="",GU="",KU="",JU="",QU="",XU="",YU="",ZU="",e4="",t4="",r4="",n4="",i4="",a4="",o4="",s4="",l4="",u4="",c4="}",f4="]",d4="",h4="",p4="",v4="",m4="",g4="",y4="",w4="",k4="}",b4="",C4="",S4="",x4="",T4="",E4="",M4="",N4="",O4="",A4="",D4="",L4="",R4="",I4="",P4="",B4="",_4="",F4="",q4="",z4="",H4="",V4="",$4="",U4="",j4="",W4="",G4="",K4="",J4="",Q4="",X4="",Y4="",Z4="",ej="",tj="",rj="",nj="",ij="",aj="",oj="",sj="",lj="",uj="",cj="",fj="",dj="",hj="",pj="",vj="",mj="",gj="",yj="",wj="",kj="",bj="",Cj="",Sj="",xj="",Tj="",Ej="",Mj="",Nj="",Oj="",Aj="",Dj="",Lj="",Rj="",Ij="",Pj="",Bj="",_j="",Fj="",qj="",zj="",Hj="",Vj="",$j="",Uj="",jj=")",Wj="",Gj="",Kj="",Jj="",Qj="",Xj="",Yj="",Zj="",e5="",t5="]",r5="",n5="",i5="",a5="",o5="",s5="",l5="",u5="",c5="",f5="",d5="",h5="",p5="",v5="",m5="",g5="",y5="",w5="",k5="",b5="",C5="",S5="",x5="",T5="",E5="",M5="",N5="",O5="",A5="",D5="",L5="",R5="",I5="",P5="",B5="",_5="",F5="",q5="",z5="",H5="",V5="",$5=";",U5="",j5="",W5="",G5="",K5="",J5="",Q5="",X5="",Y5="",Z5="",e8="",t8="",r8="",n8="",i8="",a8="",o8="",s8="",l8="",u8="",c8="",f8="",d8="",h8="",p8="",v8="",m8="",g8="",y8="",w8="",k8="",b8="",C8="",S8="",x8="",T8="",E8="",M8="",N8="",O8="",A8="",D8="",L8="",R8="",I8="",P8="",B8="",_8="",F8="/",q8="",z8="",H8="",V8="",$8="",U8="",j8="",W8="",G8="",K8="",J8="",Q8="",X8="",Y8="",Z8="",eW="",tW="",rW="",nW="",iW="",aW="",oW="",sW="",lW="",uW="",cW="",fW="",dW="",hW="",pW="",vW="",mW="",gW="",yW="",wW="",kW="",bW="",CW="",SW="",xW="",TW="",EW="",MW="",NW="",OW="",AW="",DW="",LW="",RW="",IW="",PW="",BW="",_W="",FW="",qW="",zW="",HW="",VW="",$W="",UW="",jW="",WW="",GW="",KW="",JW="",QW="",XW="",YW="",ZW="",e6="",t6="",r6="",n6="",i6="",a6="",o6="",s6="",l6="",u6="",c6="",f6="",d6="",h6="",p6="",v6="",m6="",g6="",y6="",w6="",k6="",b6="",C6="",S6="",x6="",T6="",E6="",M6="",N6="",O6="",A6="",D6="",L6="",R6="",I6="",P6="",B6="",_6="",F6="",q6="",z6="",H6="",V6="",$6="	",U6="",j6="",W6="",G6="",K6="",J6="",Q6="",X6="",Y6="",Z6="",e9="",t9="",r9="",n9="",i9="",a9="",o9="",s9="",l9="",u9="",c9="",f9="",d9="",h9="",p9="",v9="",m9="",g9="",y9="",w9="",k9="",b9="",C9="",S9="",x9="",T9="",E9="",M9="",N9="",O9="",A9="",D9="",L9="",R9="",I9="",P9="",B9="",_9="",F9="",q9="",z9="",H9="",V9="",$9="",U9="",j9="",W9="",G9="",K9="",J9="",Q9="",X9="",Y9="",Z9="",e7="",t7="",r7="",n7="",i7="",a7="",o7="",s7="",l7="",u7="",c7="",f7="",d7="",h7="",p7="",v7="",m7="",g7="",y7="",w7="",k7="",b7="",C7="",S7="",x7="",T7="",E7="",M7="",N7="",O7="",A7="",D7="",L7="",R7="",I7="",P7="",B7="",_7="",F7="",q7="",z7="",H7="",V7="",$7="",U7="",j7="",W7="",G7="_",K7="",J7="",Q7="",X7="",Y7="",Z7="",eG="",tG="",rG="",nG="",iG="",aG="",oG="",sG="",lG="",uG="",cG="",fG="",dG="",hG="",pG="",vG="",mG="",gG="",yG="",wG="",kG="",bG="",CG="",SG="",xG="",TG="",EG="",MG="",NG="",OG="",AG="",DG="",LG="",RG="",IG="",PG="",BG="",_G="",FG="",qG="",zG="",HG="",VG="",$G="",UG="",jG="",WG="",GG="",KG="",JG="",QG="",XG="",YG="",ZG="",eK="",tK="",rK="",nK="",iK="",aK="",oK="",sK="",lK="",uK="",cK="",fK="",dK="",hK="",pK="",vK="",mK="",gK="",yK="",wK="",kK="",bK="|",CK="",SK="|",xK="",TK="",EK="|",MK="",NK="",OK="",AK="",DK="",LK="",RK="",IK="",PK="",BK="",_K="",FK="",qK="",zK="",HK="",VK="",$K="",UK="",jK="",WK="",GK="",KK="",JK="",QK="",XK="",YK="",ZK="",eJ="",tJ="",rJ="",nJ="",iJ="",aJ="",oJ="",sJ="",lJ="",uJ="",cJ="",fJ="",dJ="",hJ="",pJ="",vJ="",mJ="",gJ="",yJ="",wJ="",kJ="",bJ="",CJ="",SJ="",xJ="",TJ="",EJ="",MJ="",NJ="",OJ="",AJ="",DJ="",LJ="",RJ="",IJ="",PJ="",BJ="",_J="",FJ="",qJ="",zJ="",HJ="",VJ="",$J="",UJ="",jJ="",WJ="",GJ="",KJ="",JJ="",QJ="",XJ="",YJ="",ZJ="",eQ="",tQ="",rQ="",nQ="",iQ="",aQ="",oQ="",sQ="",lQ="",uQ="",cQ="",fQ="",dQ="",hQ="",pQ="",vQ="",mQ="",gQ="",yQ="",wQ="",kQ="",bQ="",CQ="",SQ="",xQ="",TQ="",EQ="",Hk={Aacute:Ne,aacute:Ee,Abreve:je,abreve:ct,ac:Ge,acd:Ct,acE:Mt,Acirc:Pt,acirc:Nt,acute:It,Acy:Ke,acy:vt,AElig:He,aelig:ve,af:Le,Afr:dt,afr:mt,Agrave:_t,agrave:xe,alefsym:Ce,aleph:se,Alpha:fe,alpha:ce,Amacr:_e,amacr:Ve,amalg:at,amp:Ut,AMP:Kt,andand:jt,And:Er,and:Yt,andd:zr,andslope:Sr,andv:Or,ang:sr,ange:Gr,angle:xi,angmsdaa:$n,angmsdab:Hr,angmsdac:ht,angmsdad:pt,angmsdae:zt,angmsdaf:Wt,angmsdag:rr,angmsdah:nn,angmsd:wr,angrt:Mr,angrtvb:Dn,angrtvbd:Un,angsph:Ir,angst:hn,angzarr:ai,Aogon:jn,aogon:an,Aopf:Zr,aopf:Cn,apacir:Vr,ap:Wn,apE:kr,ape:Kr,apid:X,apos:Z,ApplyFunction:H,approx:q,approxeq:U,Aring:G,aring:ie,Ascr:Oe,ascr:$e,Assign:ge,ast:ae,asymp:Re,asympeq:Fe,Atilde:ot,atilde:Rt,Auml:$,auml:I,awconint:C,awint:O,backcong:_,backepsilon:K,backprime:Y,backsim:le,backsimeq:we,Backslash:Ie,Barv:et,barvee:rt,barwed:ut,Barwed:Ft,barwedge:nr,bbrk:vr,bbrktbrk:Pr,bcong:ia,Bcy:en,bcy:Qs,bdquo:ts,becaus:Fa,because:Gn,Because:Kn,bemptyv:aa,bepsi:Sn,bernou:rs,Bernoullis:vo,Beta:Ca,beta:qa,beth:za,between:Ln,Bfr:Ha,bfr:Sa,bigcap:Zt,bigcirc:ns,bigcup:is,bigodot:zi,bigoplus:Ti,bigotimes:Ei,bigsqcup:Va,bigstar:oa,bigtriangledown:Mi,bigtriangleup:tn,biguplus:oi,bigvee:Hi,bigwedge:pn,bkarow:xa,blacklozenge:Ni,blacksquare:mo,blacktriangle:as,blacktriangledown:si,blacktriangleleft:li,blacktriangleright:go,blank:$a,blk12:ss,blk14:Wl,blk34:Ot,block:Te,bne:nt,bnequiv:xt,bNot:cr,bnot:Jr,Bopf:Br,bopf:Ar,bot:Rn,bottom:sa,bowtie:ui,boxbox:yo,boxdl:Ua,boxdL:rc,boxDl:Xs,boxDL:Ys,boxdr:nc,boxdR:br,boxDr:$r,boxDR:Gl,boxh:ls,boxH:ed,boxhd:Vi,boxHd:Kl,boxhD:ja,boxHD:wo,boxhu:ic,boxHu:td,boxhU:Zs,boxHU:rd,boxminus:us,boxplus:ko,boxtimes:nd,boxul:id,boxuL:ad,boxUl:od,boxUL:ac,boxur:sd,boxuR:Jl,boxUr:oc,boxUR:ld,boxv:el,boxV:ud,boxvh:sc,boxvH:lc,boxVh:uc,boxVH:cd,boxvl:cs,boxvL:fd,boxVl:fs,boxVL:dd,boxvr:hd,boxvR:ds,boxVr:tl,boxVR:bo,bprime:cc,breve:Ql,Breve:Co,brvbar:Xl,bscr:So,Bscr:fc,bsemi:ci,bsim:xo,bsime:Wa,bsolb:Oi,bsol:on,bsolhsub:Yl,bull:hs,bullet:To,bump:pd,bumpE:ps,bumpe:dc,Bumpeq:vs,bumpeq:la,Cacute:ms,cacute:Zl,capand:rl,capbrcup:hc,capcap:vd,cap:md,Cap:gd,capcup:pc,capdot:vc,CapitalDifferentialD:Ai,caps:Eo,caret:mc,caron:gc,Cayleys:yc,ccaps:wc,Ccaron:eu,ccaron:yd,Ccedil:kc,ccedil:Mo,Ccirc:tu,ccirc:Ga,Cconint:ru,ccups:nu,ccupssm:nl,Cdot:No,cdot:iu,cedil:bc,Cedilla:gs,cemptyv:au,cent:ou,centerdot:Cc,CenterDot:su,cfr:Sc,Cfr:lu,CHcy:h,chcy:b,check:p,checkmark:k,Chi:x,chi:A,circ:B,circeq:F,circlearrowleft:W,circlearrowright:J,circledast:de,circledcirc:Se,circleddash:ye,CircleDot:Be,circledR:Ue,circledS:lt,CircleMinus:wt,CirclePlus:Qe,CircleTimes:ir,cir:Jt,cirE:Ht,cire:er,cirfnint:fr,cirmid:Cr,cirscir:Jn,ClockwiseContourIntegral:Ur,CloseCurlyDoubleQuote:vn,CloseCurlyQuote:_r,clubs:ys,clubsuit:fi,colon:Oo,Colon:di,Colone:Lr,colone:Ta,coloneq:xc,comma:ua,commat:mn,comp:Ao,compfn:$i,complement:wd,complexes:vy,cong:my,congdot:ws,Congruent:uu,conint:il,Conint:Tc,ContourIntegral:kd,copf:al,Copf:Do,coprod:Dr,Coproduct:Nr,copy:Lo,COPY:In,copysr:hi,CounterClockwiseContourIntegral:ks,crarr:ol,cross:pi,Cross:Ec,Cscr:Ap,cscr:Dp,csub:Mc,csube:Lp,csup:Ka,csupe:Nc,ctdot:bd,cudarrl:Rp,cudarrr:gy,cuepr:Ro,cuesc:sl,cularr:ll,cularrp:Oc,cupbrcap:Ac,cupcap:Ui,CupCap:ji,cup:bs,Cup:Ja,cupcup:Qa,cupdot:Cs,cupor:Ip,cups:Cd,curarr:Sd,curarrm:Di,curlyeqprec:Li,curlyeqsucc:Rr,curlyvee:ca,curlywedge:Pp,curren:Bp,curvearrowleft:xd,curvearrowright:Td,cuvee:_p,cuwed:Dc,cwconint:Fp,cwint:ul,cylcty:Ed,dagger:yy,Dagger:cu,daleth:Lc,darr:qp,Darr:zp,dArr:cl,dash:Hp,Dashv:Rc,dashv:Ic,dbkarow:fl,dblac:Md,Dcaron:Nd,dcaron:Od,Dcy:Ad,dcy:dl,ddagger:Wi,ddarr:Ss,DD:Dd,dd:Vp,DDotrahd:Xa,ddotseq:Io,deg:Ld,Del:$p,Delta:Ya,delta:Po,demptyv:Pc,dfisht:Up,Dfr:Bc,dfr:jp,dHar:fu,dharl:Ea,dharr:du,DiacriticalAcute:hu,DiacriticalDot:xs,DiacriticalDoubleAcute:Rd,DiacriticalGrave:hl,DiacriticalTilde:Wp,diam:Id,diamond:Fr,Diamond:_c,diamondsuit:Pd,diams:Bd,die:Fc,DifferentialD:_d,digamma:Ts,disin:qr,div:sn,divide:gn,divideontimes:qc,divonx:pu,DJcy:vu,djcy:wy,dlcorn:Pn,dlcrop:Fd,dollar:qd,Dopf:zd,dopf:Ma,Dot:Gi,dot:mu,DotDot:Hd,doteq:Vd,doteqdot:Gp,DotEqual:Kp,dotminus:Jp,dotplus:Qp,dotsquare:Xp,doublebarwedge:Yp,DoubleContourIntegral:Zp,DoubleDot:ev,DoubleDownArrow:gu,DoubleLeftArrow:tv,DoubleLeftRightArrow:zc,DoubleLeftTee:Hc,DoubleLongLeftArrow:rv,DoubleLongLeftRightArrow:$d,DoubleLongRightArrow:nv,DoubleRightArrow:iv,DoubleRightTee:av,DoubleUpArrow:ov,DoubleUpDownArrow:Ud,DoubleVerticalBar:sv,DownArrowBar:lv,downarrow:uv,DownArrow:ky,Downarrow:cv,DownArrowUpArrow:by,DownBreve:Cy,downdownarrows:fv,downharpoonleft:dv,downharpoonright:hv,DownLeftRightVector:Vc,DownLeftTeeVector:Sy,DownLeftVectorBar:xy,DownLeftVector:Ty,DownRightTeeVector:fa,DownRightVectorBar:jd,DownRightVector:$c,DownTeeArrow:pv,DownTee:vv,drbkarow:mv,drcorn:Wd,drcrop:pl,Dscr:Gd,dscr:Kd,DScy:Ey,dscy:gv,dsol:yv,Dstrok:wv,dstrok:kv,dtdot:bv,dtri:My,dtrif:vi,duarr:Qn,duhar:Cv,dwangle:Sv,DZcy:xv,dzcy:Tv,dzigrarr:Ev,Eacute:Jd,eacute:Mv,easter:Qd,Ecaron:Nv,ecaron:Ov,Ecirc:Xd,ecirc:Yd,ecir:Av,ecolon:Zd,Ecy:Uc,ecy:Ny,eDDot:Dv,Edot:eh,edot:Lv,eDot:jc,ee:Za,efDot:Oy,Efr:Rv,efr:th,eg:Iv,Egrave:Pv,egrave:yu,egs:Bn,egsdot:Ay,el:Dy,Element:Wc,elinters:_n,ell:Ly,els:St,elsdot:vl,Emacr:rh,emacr:Bv,empty:Ry,emptyset:wu,EmptySmallSquare:Gc,emptyv:nh,EmptyVerySmallSquare:_v,emsp13:Fv,emsp14:qv,emsp:ih,ENG:ah,eng:xn,ensp:da,Eogon:Bo,eogon:zv,Eopf:Hv,eopf:ha,epar:Vv,eparsl:Na,eplus:Iy,epsi:$v,Epsilon:Uv,epsilon:jv,epsiv:Wv,eqcirc:Py,eqcolon:Kc,eqsim:oh,eqslantgtr:Ki,eqslantless:dr,Equal:yn,equals:rn,EqualTilde:Tn,equest:Ri,Equilibrium:ml,equiv:ln,equivDD:ku,eqvparsl:Es,erarr:Jc,erDot:sh,escr:bu,Escr:mi,esdot:lh,Esim:gl,esim:eo,Eta:Qc,eta:uh,ETH:_o,eth:Xc,Euml:Fo,euml:Yc,euro:Cu,excl:ch,exist:Zc,Exists:ef,expectation:Xn,exponentiale:qo,ExponentialE:pa,fallingdotseq:gi,Fcy:Gv,fcy:fh,female:dh,ffilig:By,fflig:zo,ffllig:Kv,Ffr:hh,ffr:Ms,filig:ph,FilledSmallSquare:Ns,FilledVerySmallSquare:Jv,fjlig:Qv,flat:vh,fllig:tf,fltns:_y,fnof:Fy,Fopf:Xv,fopf:Yv,forall:Os,ForAll:qy,fork:yl,forkv:Zv,Fouriertrf:jr,fpartint:zy,frac12:em,frac13:Hy,frac14:Vy,frac15:tm,frac16:rm,frac18:$y,frac23:Ji,frac25:mh,frac34:Uy,frac35:Ho,frac38:rf,frac45:As,frac56:nf,frac58:gh,frac78:yh,frasl:jy,frown:wh,fscr:Wy,Fscr:nm,gacute:im,Gamma:af,gamma:of,Gammad:am,gammad:kh,gap:om,Gbreve:bh,gbreve:sf,Gcedil:Ch,Gcirc:lf,gcirc:sm,Gcy:Gy,gcy:uf,Gdot:Ky,gdot:Su,ge:Jy,gE:cf,gEl:o,gel:l,geq:f,geqq:y,geqslant:E,gescc:L,ges:j,gesdot:oe,gesdoto:me,gesdotol:Pe,gesl:Xe,gesles:tt,Gfr:Je,gfr:kt,gg:Et,Gg:At,ggg:Qr,gimel:Me,GJcy:ke,gjcy:De,gla:it,gl:Dt,glE:Vt,glj:$t,gnap:Gt,gnapprox:wn,gne:hr,gnE:Vo,gneq:Qy,gneqq:jA,gnsim:WA,Gopf:GA,gopf:KA,grave:JA,GreaterEqual:QA,GreaterEqualLess:XA,GreaterFullEqual:YA,GreaterGreater:ZA,GreaterLess:eD,GreaterSlantEqual:tD,GreaterTilde:rD,Gscr:nD,gscr:iD,gsim:aD,gsime:oD,gsiml:sD,gtcc:lD,gtcir:uD,gt:cD,GT:fD,Gt:dD,gtdot:hD,gtlPar:pD,gtquest:vD,gtrapprox:mD,gtrarr:gD,gtrdot:yD,gtreqless:wD,gtreqqless:kD,gtrless:bD,gtrsim:CD,gvertneqq:SD,gvnE:xD,Hacek:TD,hairsp:ED,half:MD,hamilt:ND,HARDcy:OD,hardcy:AD,harrcir:DD,harr:LD,hArr:RD,harrw:ID,Hat:PD,hbar:BD,Hcirc:_D,hcirc:FD,hearts:qD,heartsuit:zD,hellip:HD,hercon:VD,hfr:$D,Hfr:UD,HilbertSpace:jD,hksearow:WD,hkswarow:GD,hoarr:KD,homtht:JD,hookleftarrow:QD,hookrightarrow:XD,hopf:YD,Hopf:ZD,horbar:eL,HorizontalLine:tL,hscr:rL,Hscr:nL,hslash:iL,Hstrok:aL,hstrok:oL,HumpDownHump:sL,HumpEqual:lL,hybull:uL,hyphen:cL,Iacute:fL,iacute:dL,ic:hL,Icirc:pL,icirc:vL,Icy:mL,icy:gL,Idot:yL,IEcy:wL,iecy:kL,iexcl:bL,iff:CL,ifr:SL,Ifr:xL,Igrave:TL,igrave:EL,ii:ML,iiiint:NL,iiint:OL,iinfin:AL,iiota:DL,IJlig:LL,ijlig:RL,Imacr:IL,imacr:PL,image:BL,ImaginaryI:_L,imagline:FL,imagpart:qL,imath:zL,Im:HL,imof:VL,imped:$L,Implies:UL,incare:jL,in:"",infin:WL,infintie:GL,inodot:KL,intcal:JL,int:QL,Int:XL,integers:YL,Integral:ZL,intercal:eR,Intersection:tR,intlarhk:rR,intprod:nR,InvisibleComma:iR,InvisibleTimes:aR,IOcy:oR,iocy:sR,Iogon:lR,iogon:uR,Iopf:cR,iopf:fR,Iota:dR,iota:hR,iprod:pR,iquest:vR,iscr:mR,Iscr:gR,isin:yR,isindot:wR,isinE:kR,isins:bR,isinsv:CR,isinv:SR,it:xR,Itilde:TR,itilde:ER,Iukcy:MR,iukcy:NR,Iuml:OR,iuml:AR,Jcirc:DR,jcirc:LR,Jcy:RR,jcy:IR,Jfr:PR,jfr:BR,jmath:_R,Jopf:FR,jopf:qR,Jscr:zR,jscr:HR,Jsercy:VR,jsercy:$R,Jukcy:UR,jukcy:jR,Kappa:WR,kappa:GR,kappav:KR,Kcedil:JR,kcedil:QR,Kcy:XR,kcy:YR,Kfr:ZR,kfr:eI,kgreen:tI,KHcy:rI,khcy:nI,KJcy:iI,kjcy:aI,Kopf:oI,kopf:sI,Kscr:lI,kscr:uI,lAarr:cI,Lacute:fI,lacute:dI,laemptyv:hI,lagran:pI,Lambda:vI,lambda:mI,lang:gI,Lang:yI,langd:wI,langle:kI,lap:bI,Laplacetrf:CI,laquo:SI,larrb:xI,larrbfs:TI,larr:EI,Larr:MI,lArr:NI,larrfs:OI,larrhk:AI,larrlp:DI,larrpl:LI,larrsim:RI,larrtl:II,latail:PI,lAtail:BI,lat:_I,late:FI,lates:qI,lbarr:zI,lBarr:HI,lbbrk:VI,lbrace:$I,lbrack:UI,lbrke:jI,lbrksld:WI,lbrkslu:GI,Lcaron:KI,lcaron:JI,Lcedil:QI,lcedil:XI,lceil:YI,lcub:ZI,Lcy:eP,lcy:tP,ldca:rP,ldquo:nP,ldquor:iP,ldrdhar:aP,ldrushar:oP,ldsh:sP,le:lP,lE:uP,LeftAngleBracket:cP,LeftArrowBar:fP,leftarrow:dP,LeftArrow:hP,Leftarrow:pP,LeftArrowRightArrow:vP,leftarrowtail:mP,LeftCeiling:gP,LeftDoubleBracket:yP,LeftDownTeeVector:wP,LeftDownVectorBar:kP,LeftDownVector:bP,LeftFloor:CP,leftharpoondown:SP,leftharpoonup:xP,leftleftarrows:TP,leftrightarrow:EP,LeftRightArrow:MP,Leftrightarrow:NP,leftrightarrows:OP,leftrightharpoons:AP,leftrightsquigarrow:DP,LeftRightVector:LP,LeftTeeArrow:RP,LeftTee:IP,LeftTeeVector:PP,leftthreetimes:BP,LeftTriangleBar:_P,LeftTriangle:FP,LeftTriangleEqual:qP,LeftUpDownVector:zP,LeftUpTeeVector:HP,LeftUpVectorBar:VP,LeftUpVector:$P,LeftVectorBar:UP,LeftVector:jP,lEg:WP,leg:GP,leq:KP,leqq:JP,leqslant:QP,lescc:XP,les:YP,lesdot:ZP,lesdoto:eB,lesdotor:tB,lesg:rB,lesges:nB,lessapprox:iB,lessdot:aB,lesseqgtr:oB,lesseqqgtr:sB,LessEqualGreater:lB,LessFullEqual:uB,LessGreater:cB,lessgtr:fB,LessLess:dB,lesssim:hB,LessSlantEqual:pB,LessTilde:vB,lfisht:mB,lfloor:gB,Lfr:yB,lfr:wB,lg:kB,lgE:bB,lHar:CB,lhard:SB,lharu:xB,lharul:TB,lhblk:EB,LJcy:MB,ljcy:NB,llarr:OB,ll:AB,Ll:DB,llcorner:LB,Lleftarrow:RB,llhard:IB,lltri:PB,Lmidot:BB,lmidot:_B,lmoustache:FB,lmoust:qB,lnap:zB,lnapprox:HB,lne:VB,lnE:$B,lneq:UB,lneqq:jB,lnsim:WB,loang:GB,loarr:KB,lobrk:JB,longleftarrow:QB,LongLeftArrow:XB,Longleftarrow:YB,longleftrightarrow:ZB,LongLeftRightArrow:e_,Longleftrightarrow:t_,longmapsto:r_,longrightarrow:n_,LongRightArrow:i_,Longrightarrow:a_,looparrowleft:o_,looparrowright:s_,lopar:l_,Lopf:u_,lopf:c_,loplus:f_,lotimes:d_,lowast:h_,lowbar:p_,LowerLeftArrow:v_,LowerRightArrow:m_,loz:g_,lozenge:y_,lozf:w_,lpar:k_,lparlt:b_,lrarr:C_,lrcorner:S_,lrhar:x_,lrhard:T_,lrm:E_,lrtri:M_,lsaquo:N_,lscr:O_,Lscr:A_,lsh:D_,Lsh:L_,lsim:R_,lsime:I_,lsimg:P_,lsqb:B_,lsquo:__,lsquor:F_,Lstrok:q_,lstrok:z_,ltcc:H_,ltcir:V_,lt:$_,LT:U_,Lt:j_,ltdot:W_,lthree:G_,ltimes:K_,ltlarr:J_,ltquest:Q_,ltri:X_,ltrie:Y_,ltrif:Z_,ltrPar:e2,lurdshar:t2,luruhar:r2,lvertneqq:n2,lvnE:i2,macr:a2,male:o2,malt:s2,maltese:l2,Map:"",map:u2,mapsto:c2,mapstodown:f2,mapstoleft:d2,mapstoup:h2,marker:p2,mcomma:v2,Mcy:m2,mcy:g2,mdash:y2,mDDot:w2,measuredangle:k2,MediumSpace:b2,Mellintrf:C2,Mfr:S2,mfr:x2,mho:T2,micro:E2,midast:M2,midcir:N2,mid:O2,middot:A2,minusb:D2,minus:L2,minusd:R2,minusdu:I2,MinusPlus:P2,mlcp:B2,mldr:_2,mnplus:F2,models:q2,Mopf:z2,mopf:H2,mp:V2,mscr:$2,Mscr:U2,mstpos:j2,Mu:W2,mu:G2,multimap:K2,mumap:J2,nabla:Q2,Nacute:X2,nacute:Y2,nang:Z2,nap:eF,napE:tF,napid:rF,napos:nF,napprox:iF,natural:aF,naturals:oF,natur:sF,nbsp:lF,nbump:uF,nbumpe:cF,ncap:fF,Ncaron:dF,ncaron:hF,Ncedil:pF,ncedil:vF,ncong:mF,ncongdot:gF,ncup:yF,Ncy:wF,ncy:kF,ndash:bF,nearhk:CF,nearr:SF,neArr:xF,nearrow:TF,ne:EF,nedot:MF,NegativeMediumSpace:NF,NegativeThickSpace:OF,NegativeThinSpace:AF,NegativeVeryThinSpace:DF,nequiv:LF,nesear:RF,nesim:IF,NestedGreaterGreater:PF,NestedLessLess:BF,NewLine:_F,nexist:FF,nexists:qF,Nfr:zF,nfr:HF,ngE:VF,nge:$F,ngeq:UF,ngeqq:jF,ngeqslant:WF,nges:GF,nGg:KF,ngsim:JF,nGt:QF,ngt:XF,ngtr:YF,nGtv:ZF,nharr:e3,nhArr:t3,nhpar:r3,ni:n3,nis:i3,nisd:a3,niv:o3,NJcy:s3,njcy:l3,nlarr:u3,nlArr:c3,nldr:f3,nlE:d3,nle:h3,nleftarrow:p3,nLeftarrow:v3,nleftrightarrow:m3,nLeftrightarrow:g3,nleq:y3,nleqq:w3,nleqslant:k3,nles:b3,nless:C3,nLl:S3,nlsim:x3,nLt:T3,nlt:E3,nltri:M3,nltrie:N3,nLtv:O3,nmid:A3,NoBreak:D3,NonBreakingSpace:L3,nopf:R3,Nopf:I3,Not:P3,not:B3,NotCongruent:_3,NotCupCap:F3,NotDoubleVerticalBar:q3,NotElement:z3,NotEqual:H3,NotEqualTilde:V3,NotExists:$3,NotGreater:U3,NotGreaterEqual:j3,NotGreaterFullEqual:W3,NotGreaterGreater:G3,NotGreaterLess:K3,NotGreaterSlantEqual:J3,NotGreaterTilde:Q3,NotHumpDownHump:X3,NotHumpEqual:Y3,notin:Z3,notindot:eq,notinE:tq,notinva:rq,notinvb:nq,notinvc:iq,NotLeftTriangleBar:aq,NotLeftTriangle:oq,NotLeftTriangleEqual:sq,NotLess:lq,NotLessEqual:uq,NotLessGreater:cq,NotLessLess:fq,NotLessSlantEqual:dq,NotLessTilde:hq,NotNestedGreaterGreater:pq,NotNestedLessLess:vq,notni:mq,notniva:gq,notnivb:yq,notnivc:wq,NotPrecedes:kq,NotPrecedesEqual:bq,NotPrecedesSlantEqual:Cq,NotReverseElement:Sq,NotRightTriangleBar:xq,NotRightTriangle:Tq,NotRightTriangleEqual:Eq,NotSquareSubset:Mq,NotSquareSubsetEqual:Nq,NotSquareSuperset:Oq,NotSquareSupersetEqual:Aq,NotSubset:Dq,NotSubsetEqual:Lq,NotSucceeds:Rq,NotSucceedsEqual:Iq,NotSucceedsSlantEqual:Pq,NotSucceedsTilde:Bq,NotSuperset:_q,NotSupersetEqual:Fq,NotTilde:qq,NotTildeEqual:zq,NotTildeFullEqual:Hq,NotTildeTilde:Vq,NotVerticalBar:$q,nparallel:Uq,npar:jq,nparsl:Wq,npart:Gq,npolint:Kq,npr:Jq,nprcue:Qq,nprec:Xq,npreceq:Yq,npre:Zq,nrarrc:ez,nrarr:tz,nrArr:rz,nrarrw:nz,nrightarrow:iz,nRightarrow:az,nrtri:oz,nrtrie:sz,nsc:lz,nsccue:uz,nsce:cz,Nscr:fz,nscr:dz,nshortmid:hz,nshortparallel:pz,nsim:vz,nsime:mz,nsimeq:gz,nsmid:yz,nspar:wz,nsqsube:kz,nsqsupe:bz,nsub:Cz,nsubE:Sz,nsube:xz,nsubset:Tz,nsubseteq:Ez,nsubseteqq:Mz,nsucc:Nz,nsucceq:Oz,nsup:Az,nsupE:Dz,nsupe:Lz,nsupset:Rz,nsupseteq:Iz,nsupseteqq:Pz,ntgl:Bz,Ntilde:_z,ntilde:Fz,ntlg:qz,ntriangleleft:zz,ntrianglelefteq:Hz,ntriangleright:Vz,ntrianglerighteq:$z,Nu:Uz,nu:jz,num:Wz,numero:Gz,numsp:Kz,nvap:Jz,nvdash:Qz,nvDash:Xz,nVdash:Yz,nVDash:Zz,nvge:eH,nvgt:tH,nvHarr:rH,nvinfin:nH,nvlArr:iH,nvle:aH,nvlt:oH,nvltrie:sH,nvrArr:lH,nvrtrie:uH,nvsim:cH,nwarhk:fH,nwarr:dH,nwArr:hH,nwarrow:pH,nwnear:vH,Oacute:mH,oacute:gH,oast:yH,Ocirc:wH,ocirc:kH,ocir:bH,Ocy:CH,ocy:SH,odash:xH,Odblac:TH,odblac:EH,odiv:MH,odot:NH,odsold:OH,OElig:AH,oelig:DH,ofcir:LH,Ofr:RH,ofr:IH,ogon:PH,Ograve:BH,ograve:_H,ogt:FH,ohbar:qH,ohm:zH,oint:HH,olarr:VH,olcir:$H,olcross:UH,oline:jH,olt:WH,Omacr:GH,omacr:KH,Omega:JH,omega:QH,Omicron:XH,omicron:YH,omid:ZH,ominus:eV,Oopf:tV,oopf:rV,opar:nV,OpenCurlyDoubleQuote:iV,OpenCurlyQuote:aV,operp:oV,oplus:sV,orarr:lV,Or:uV,or:cV,ord:fV,order:dV,orderof:hV,ordf:pV,ordm:vV,origof:mV,oror:gV,orslope:yV,orv:wV,oS:kV,Oscr:bV,oscr:CV,Oslash:SV,oslash:xV,osol:TV,Otilde:EV,otilde:MV,otimesas:NV,Otimes:OV,otimes:AV,Ouml:DV,ouml:LV,ovbar:RV,OverBar:IV,OverBrace:PV,OverBracket:BV,OverParenthesis:_V,para:FV,parallel:qV,par:zV,parsim:HV,parsl:VV,part:$V,PartialD:UV,Pcy:jV,pcy:WV,percnt:GV,period:KV,permil:JV,perp:QV,pertenk:XV,Pfr:YV,pfr:ZV,Phi:e$,phi:t$,phiv:r$,phmmat:n$,phone:i$,Pi:a$,pi:o$,pitchfork:s$,piv:l$,planck:u$,planckh:c$,plankv:f$,plusacir:d$,plusb:h$,pluscir:p$,plus:v$,plusdo:m$,plusdu:g$,pluse:y$,PlusMinus:w$,plusmn:k$,plussim:b$,plustwo:C$,pm:S$,Poincareplane:x$,pointint:T$,popf:E$,Popf:M$,pound:N$,prap:O$,Pr:A$,pr:D$,prcue:L$,precapprox:R$,prec:I$,preccurlyeq:P$,Precedes:B$,PrecedesEqual:_$,PrecedesSlantEqual:F$,PrecedesTilde:q$,preceq:z$,precnapprox:H$,precneqq:V$,precnsim:$$,pre:U$,prE:j$,precsim:W$,prime:G$,Prime:K$,primes:J$,prnap:Q$,prnE:X$,prnsim:Y$,prod:Z$,Product:eU,profalar:tU,profline:rU,profsurf:nU,prop:iU,Proportional:aU,Proportion:oU,propto:sU,prsim:lU,prurel:uU,Pscr:cU,pscr:fU,Psi:dU,psi:hU,puncsp:pU,Qfr:vU,qfr:mU,qint:gU,qopf:yU,Qopf:wU,qprime:kU,Qscr:bU,qscr:CU,quaternions:SU,quatint:xU,quest:TU,questeq:EU,quot:MU,QUOT:NU,rAarr:OU,race:AU,Racute:DU,racute:LU,radic:RU,raemptyv:IU,rang:PU,Rang:BU,rangd:_U,range:FU,rangle:qU,raquo:zU,rarrap:HU,rarrb:VU,rarrbfs:$U,rarrc:UU,rarr:jU,Rarr:WU,rArr:GU,rarrfs:KU,rarrhk:JU,rarrlp:QU,rarrpl:XU,rarrsim:YU,Rarrtl:ZU,rarrtl:e4,rarrw:t4,ratail:r4,rAtail:n4,ratio:i4,rationals:a4,rbarr:o4,rBarr:s4,RBarr:l4,rbbrk:u4,rbrace:c4,rbrack:f4,rbrke:d4,rbrksld:h4,rbrkslu:p4,Rcaron:v4,rcaron:m4,Rcedil:g4,rcedil:y4,rceil:w4,rcub:k4,Rcy:b4,rcy:C4,rdca:S4,rdldhar:x4,rdquo:T4,rdquor:E4,rdsh:M4,real:N4,realine:O4,realpart:A4,reals:D4,Re:L4,rect:R4,reg:I4,REG:P4,ReverseElement:B4,ReverseEquilibrium:_4,ReverseUpEquilibrium:F4,rfisht:q4,rfloor:z4,rfr:H4,Rfr:V4,rHar:$4,rhard:U4,rharu:j4,rharul:W4,Rho:G4,rho:K4,rhov:J4,RightAngleBracket:Q4,RightArrowBar:X4,rightarrow:Y4,RightArrow:Z4,Rightarrow:ej,RightArrowLeftArrow:tj,rightarrowtail:rj,RightCeiling:nj,RightDoubleBracket:ij,RightDownTeeVector:aj,RightDownVectorBar:oj,RightDownVector:sj,RightFloor:lj,rightharpoondown:uj,rightharpoonup:cj,rightleftarrows:fj,rightleftharpoons:dj,rightrightarrows:hj,rightsquigarrow:pj,RightTeeArrow:vj,RightTee:mj,RightTeeVector:gj,rightthreetimes:yj,RightTriangleBar:wj,RightTriangle:kj,RightTriangleEqual:bj,RightUpDownVector:Cj,RightUpTeeVector:Sj,RightUpVectorBar:xj,RightUpVector:Tj,RightVectorBar:Ej,RightVector:Mj,ring:Nj,risingdotseq:Oj,rlarr:Aj,rlhar:Dj,rlm:Lj,rmoustache:Rj,rmoust:Ij,rnmid:Pj,roang:Bj,roarr:_j,robrk:Fj,ropar:qj,ropf:zj,Ropf:Hj,roplus:Vj,rotimes:$j,RoundImplies:Uj,rpar:jj,rpargt:Wj,rppolint:Gj,rrarr:Kj,Rrightarrow:Jj,rsaquo:Qj,rscr:Xj,Rscr:Yj,rsh:Zj,Rsh:e5,rsqb:t5,rsquo:r5,rsquor:n5,rthree:i5,rtimes:a5,rtri:o5,rtrie:s5,rtrif:l5,rtriltri:u5,RuleDelayed:c5,ruluhar:f5,rx:d5,Sacute:h5,sacute:p5,sbquo:v5,scap:m5,Scaron:g5,scaron:y5,Sc:w5,sc:k5,sccue:b5,sce:C5,scE:S5,Scedil:x5,scedil:T5,Scirc:E5,scirc:M5,scnap:N5,scnE:O5,scnsim:A5,scpolint:D5,scsim:L5,Scy:R5,scy:I5,sdotb:P5,sdot:B5,sdote:_5,searhk:F5,searr:q5,seArr:z5,searrow:H5,sect:V5,semi:$5,seswar:U5,setminus:j5,setmn:W5,sext:G5,Sfr:K5,sfr:J5,sfrown:Q5,sharp:X5,SHCHcy:Y5,shchcy:Z5,SHcy:e8,shcy:t8,ShortDownArrow:r8,ShortLeftArrow:n8,shortmid:i8,shortparallel:a8,ShortRightArrow:o8,ShortUpArrow:s8,shy:l8,Sigma:u8,sigma:c8,sigmaf:f8,sigmav:d8,sim:h8,simdot:p8,sime:v8,simeq:m8,simg:g8,simgE:y8,siml:w8,simlE:k8,simne:b8,simplus:C8,simrarr:S8,slarr:x8,SmallCircle:T8,smallsetminus:E8,smashp:M8,smeparsl:N8,smid:O8,smile:A8,smt:D8,smte:L8,smtes:R8,SOFTcy:I8,softcy:P8,solbar:B8,solb:_8,sol:F8,Sopf:q8,sopf:z8,spades:H8,spadesuit:V8,spar:$8,sqcap:U8,sqcaps:j8,sqcup:W8,sqcups:G8,Sqrt:K8,sqsub:J8,sqsube:Q8,sqsubset:X8,sqsubseteq:Y8,sqsup:Z8,sqsupe:eW,sqsupset:tW,sqsupseteq:rW,square:nW,Square:iW,SquareIntersection:aW,SquareSubset:oW,SquareSubsetEqual:sW,SquareSuperset:lW,SquareSupersetEqual:uW,SquareUnion:cW,squarf:fW,squ:dW,squf:hW,srarr:pW,Sscr:vW,sscr:mW,ssetmn:gW,ssmile:yW,sstarf:wW,Star:kW,star:bW,starf:CW,straightepsilon:SW,straightphi:xW,strns:TW,sub:EW,Sub:MW,subdot:NW,subE:OW,sube:AW,subedot:DW,submult:LW,subnE:RW,subne:IW,subplus:PW,subrarr:BW,subset:_W,Subset:FW,subseteq:qW,subseteqq:zW,SubsetEqual:HW,subsetneq:VW,subsetneqq:$W,subsim:UW,subsub:jW,subsup:WW,succapprox:GW,succ:KW,succcurlyeq:JW,Succeeds:QW,SucceedsEqual:XW,SucceedsSlantEqual:YW,SucceedsTilde:ZW,succeq:e6,succnapprox:t6,succneqq:r6,succnsim:n6,succsim:i6,SuchThat:a6,sum:o6,Sum:s6,sung:l6,sup1:u6,sup2:c6,sup3:f6,sup:d6,Sup:h6,supdot:p6,supdsub:v6,supE:m6,supe:g6,supedot:y6,Superset:w6,SupersetEqual:k6,suphsol:b6,suphsub:C6,suplarr:S6,supmult:x6,supnE:T6,supne:E6,supplus:M6,supset:N6,Supset:O6,supseteq:A6,supseteqq:D6,supsetneq:L6,supsetneqq:R6,supsim:I6,supsub:P6,supsup:B6,swarhk:_6,swarr:F6,swArr:q6,swarrow:z6,swnwar:H6,szlig:V6,Tab:$6,target:U6,Tau:j6,tau:W6,tbrk:G6,Tcaron:K6,tcaron:J6,Tcedil:Q6,tcedil:X6,Tcy:Y6,tcy:Z6,tdot:e9,telrec:t9,Tfr:r9,tfr:n9,there4:i9,therefore:a9,Therefore:o9,Theta:s9,theta:l9,thetasym:u9,thetav:c9,thickapprox:f9,thicksim:d9,ThickSpace:h9,ThinSpace:p9,thinsp:v9,thkap:m9,thksim:g9,THORN:y9,thorn:w9,tilde:k9,Tilde:b9,TildeEqual:C9,TildeFullEqual:S9,TildeTilde:x9,timesbar:T9,timesb:E9,times:M9,timesd:N9,tint:O9,toea:A9,topbot:D9,topcir:L9,top:R9,Topf:I9,topf:P9,topfork:B9,tosa:_9,tprime:F9,trade:q9,TRADE:z9,triangle:H9,triangledown:V9,triangleleft:$9,trianglelefteq:U9,triangleq:j9,triangleright:W9,trianglerighteq:G9,tridot:K9,trie:J9,triminus:Q9,TripleDot:X9,triplus:Y9,trisb:Z9,tritime:e7,trpezium:t7,Tscr:r7,tscr:n7,TScy:i7,tscy:a7,TSHcy:o7,tshcy:s7,Tstrok:l7,tstrok:u7,twixt:c7,twoheadleftarrow:f7,twoheadrightarrow:d7,Uacute:h7,uacute:p7,uarr:v7,Uarr:m7,uArr:g7,Uarrocir:y7,Ubrcy:w7,ubrcy:k7,Ubreve:b7,ubreve:C7,Ucirc:S7,ucirc:x7,Ucy:T7,ucy:E7,udarr:M7,Udblac:N7,udblac:O7,udhar:A7,ufisht:D7,Ufr:L7,ufr:R7,Ugrave:I7,ugrave:P7,uHar:B7,uharl:_7,uharr:F7,uhblk:q7,ulcorn:z7,ulcorner:H7,ulcrop:V7,ultri:$7,Umacr:U7,umacr:j7,uml:W7,UnderBar:G7,UnderBrace:K7,UnderBracket:J7,UnderParenthesis:Q7,Union:X7,UnionPlus:Y7,Uogon:Z7,uogon:eG,Uopf:tG,uopf:rG,UpArrowBar:nG,uparrow:iG,UpArrow:aG,Uparrow:oG,UpArrowDownArrow:sG,updownarrow:lG,UpDownArrow:uG,Updownarrow:cG,UpEquilibrium:fG,upharpoonleft:dG,upharpoonright:hG,uplus:pG,UpperLeftArrow:vG,UpperRightArrow:mG,upsi:gG,Upsi:yG,upsih:wG,Upsilon:kG,upsilon:bG,UpTeeArrow:CG,UpTee:SG,upuparrows:xG,urcorn:TG,urcorner:EG,urcrop:MG,Uring:NG,uring:OG,urtri:AG,Uscr:DG,uscr:LG,utdot:RG,Utilde:IG,utilde:PG,utri:BG,utrif:_G,uuarr:FG,Uuml:qG,uuml:zG,uwangle:HG,vangrt:VG,varepsilon:$G,varkappa:UG,varnothing:jG,varphi:WG,varpi:GG,varpropto:KG,varr:JG,vArr:QG,varrho:XG,varsigma:YG,varsubsetneq:ZG,varsubsetneqq:eK,varsupsetneq:tK,varsupsetneqq:rK,vartheta:nK,vartriangleleft:iK,vartriangleright:aK,vBar:oK,Vbar:sK,vBarv:lK,Vcy:uK,vcy:cK,vdash:fK,vDash:dK,Vdash:hK,VDash:pK,Vdashl:vK,veebar:mK,vee:gK,Vee:yK,veeeq:wK,vellip:kK,verbar:bK,Verbar:CK,vert:SK,Vert:xK,VerticalBar:TK,VerticalLine:EK,VerticalSeparator:MK,VerticalTilde:NK,VeryThinSpace:OK,Vfr:AK,vfr:DK,vltri:LK,vnsub:RK,vnsup:IK,Vopf:PK,vopf:BK,vprop:_K,vrtri:FK,Vscr:qK,vscr:zK,vsubnE:HK,vsubne:VK,vsupnE:$K,vsupne:UK,Vvdash:jK,vzigzag:WK,Wcirc:GK,wcirc:KK,wedbar:JK,wedge:QK,Wedge:XK,wedgeq:YK,weierp:ZK,Wfr:eJ,wfr:tJ,Wopf:rJ,wopf:nJ,wp:iJ,wr:aJ,wreath:oJ,Wscr:sJ,wscr:lJ,xcap:uJ,xcirc:cJ,xcup:fJ,xdtri:dJ,Xfr:hJ,xfr:pJ,xharr:vJ,xhArr:mJ,Xi:gJ,xi:yJ,xlarr:wJ,xlArr:kJ,xmap:bJ,xnis:CJ,xodot:SJ,Xopf:xJ,xopf:TJ,xoplus:EJ,xotime:MJ,xrarr:NJ,xrArr:OJ,Xscr:AJ,xscr:DJ,xsqcup:LJ,xuplus:RJ,xutri:IJ,xvee:PJ,xwedge:BJ,Yacute:_J,yacute:FJ,YAcy:qJ,yacy:zJ,Ycirc:HJ,ycirc:VJ,Ycy:$J,ycy:UJ,yen:jJ,Yfr:WJ,yfr:GJ,YIcy:KJ,yicy:JJ,Yopf:QJ,yopf:XJ,Yscr:YJ,yscr:ZJ,YUcy:eQ,yucy:tQ,yuml:rQ,Yuml:nQ,Zacute:iQ,zacute:aQ,Zcaron:oQ,zcaron:sQ,Zcy:lQ,zcy:uQ,Zdot:cQ,zdot:fQ,zeetrf:dQ,ZeroWidthSpace:hQ,Zeta:pQ,zeta:vQ,zfr:mQ,Zfr:gQ,ZHcy:yQ,zhcy:wQ,zigrarr:kQ,zopf:bQ,Zopf:CQ,Zscr:SQ,zscr:xQ,zwj:TQ,zwnj:EQ},MQ="",NQ="",OQ="",AQ="",DQ="",LQ="",RQ="",IQ="",PQ="",BQ="&",_Q="&",FQ="",qQ="",zQ="",HQ="",VQ="",$Q="",UQ="",jQ="",WQ="",GQ="",KQ="",JQ="",QQ="",XQ="",YQ="",ZQ="",eX="",tX="",rX="",nX="",iX="",aX="",oX="",sX="",lX="",uX="",cX="",fX="",dX="",hX=">",pX=">",vX="",mX="",gX="",yX="",wX="",kX="",bX="",CX="",SX="",xX="",TX="",EX="<",MX="<",NX="",OX="",AX="",DX="",LX="",RX="",IX="",PX="",BX="",_X="",FX="",qX="",zX="",HX="",VX="",$X="",UX="",jX="",WX="",GX="",KX="",JX="",QX="",XX="",YX='"',ZX='"',eY="",tY="",rY="",nY="",iY="",aY="",oY="",sY="",lY="",uY="",cY="",fY="",dY="",hY="",pY="",vY="",mY="",gY="",yY="",wY="",kY="",bY="",CY="",SY="",xY="",TY={Aacute:MQ,aacute:NQ,Acirc:OQ,acirc:AQ,acute:DQ,AElig:LQ,aelig:RQ,Agrave:IQ,agrave:PQ,amp:BQ,AMP:_Q,Aring:FQ,aring:qQ,Atilde:zQ,atilde:HQ,Auml:VQ,auml:$Q,brvbar:UQ,Ccedil:jQ,ccedil:WQ,cedil:GQ,cent:KQ,copy:JQ,COPY:QQ,curren:XQ,deg:YQ,divide:ZQ,Eacute:eX,eacute:tX,Ecirc:rX,ecirc:nX,Egrave:iX,egrave:aX,ETH:oX,eth:sX,Euml:lX,euml:uX,frac12:cX,frac14:fX,frac34:dX,gt:hX,GT:pX,Iacute:vX,iacute:mX,Icirc:gX,icirc:yX,iexcl:wX,Igrave:kX,igrave:bX,iquest:CX,Iuml:SX,iuml:xX,laquo:TX,lt:EX,LT:MX,macr:NX,micro:OX,middot:AX,nbsp:DX,not:LX,Ntilde:RX,ntilde:IX,Oacute:PX,oacute:BX,Ocirc:_X,ocirc:FX,Ograve:qX,ograve:zX,ordf:HX,ordm:VX,Oslash:$X,oslash:UX,Otilde:jX,otilde:WX,Ouml:GX,ouml:KX,para:JX,plusmn:QX,pound:XX,quot:YX,QUOT:ZX,raquo:eY,reg:tY,REG:rY,sect:nY,shy:iY,sup1:aY,sup2:oY,sup3:sY,szlig:lY,THORN:uY,thorn:cY,times:fY,Uacute:dY,uacute:hY,Ucirc:pY,ucirc:vY,Ugrave:mY,ugrave:gY,uml:yY,Uuml:wY,uuml:kY,Yacute:bY,yacute:CY,yen:SY,yuml:xY},EY="&",MY="'",NY=">",OY="<",AY='"',Vk={amp:EY,apos:MY,gt:NY,lt:OY,quot:AY},Xy={},DY={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},LY=V&&V.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Xy,"__esModule",{value:!0});var $k=LY(DY),RY=String.fromCodePoint||function(g){var v="";return g>65535&&(g-=65536,v+=String.fromCharCode(g>>>10&1023|55296),g=56320|g&1023),v+=String.fromCharCode(g),v};function IY(g){return g>=55296&&g<=57343||g>1114111?"":(g in $k.default&&(g=$k.default[g]),RY(g))}Xy.default=IY;var lm=V&&V.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(be,"__esModule",{value:!0}),be.decodeHTML=be.decodeHTMLStrict=be.decodeXML=void 0;var Yy=lm(Hk),PY=lm(TY),BY=lm(Vk),Uk=lm(Xy),_Y=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;be.decodeXML=jk(BY.default),be.decodeHTMLStrict=jk(Yy.default);function jk(g){var v=Gk(g);return function(S){return String(S).replace(_Y,v)}}var Wk=function(g,v){return g<v?1:-1};be.decodeHTML=function(){for(var g=Object.keys(PY.default).sort(Wk),v=Object.keys(Yy.default).sort(Wk),S=0,D=0;S<v.length;S++)g[D]===v[S]?(v[S]+=";?",D++):v[S]+=";";var z=new RegExp("&(?:"+v.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),Q=Gk(Yy.default);function re(he){return he.substr(-1)!==";"&&(he+=";"),Q(he)}return function(he){return String(he).replace(z,re)}}();function Gk(g){return function(S){if(S.charAt(1)==="#"){var D=S.charAt(2);return D==="X"||D==="x"?Uk.default(parseInt(S.substr(3),16)):Uk.default(parseInt(S.substr(2),10))}return g[S.slice(1,-1)]||S}}var va={},Kk=V&&V.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(va,"__esModule",{value:!0}),va.escapeUTF8=va.escape=va.encodeNonAsciiHTML=va.encodeHTML=va.encodeXML=void 0;var FY=Kk(Vk),Jk=Xk(FY.default),Qk=Yk(Jk);va.encodeXML=tb(Jk);var qY=Kk(Hk),Zy=Xk(qY.default),zY=Yk(Zy);va.encodeHTML=VY(Zy,zY),va.encodeNonAsciiHTML=tb(Zy);function Xk(g){return Object.keys(g).sort().reduce(function(v,S){return v[g[S]]="&"+S+";",v},{})}function Yk(g){for(var v=[],S=[],D=0,z=Object.keys(g);D<z.length;D++){var Q=z[D];Q.length===1?v.push("\\"+Q):S.push(Q)}v.sort();for(var re=0;re<v.length-1;re++){for(var he=re;he<v.length-1&&v[he].charCodeAt(1)+1===v[he+1].charCodeAt(1);)he+=1;var ze=1+he-re;ze<3||v.splice(re,ze,v[re]+"-"+v[he])}return S.unshift("["+v.join("")+"]"),new RegExp(S.join("|"),"g")}var Zk=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,HY=String.prototype.codePointAt!=null?function(g){return g.codePointAt(0)}:function(g){return(g.charCodeAt(0)-55296)*1024+g.charCodeAt(1)-56320+65536};function um(g){return"&#x"+(g.length>1?HY(g):g.charCodeAt(0)).toString(16).toUpperCase()+";"}function VY(g,v){return function(S){return S.replace(v,function(D){return g[D]}).replace(Zk,um)}}var eb=new RegExp(Qk.source+"|"+Zk.source,"g");function $Y(g){return g.replace(eb,um)}va.escape=$Y;function UY(g){return g.replace(Qk,um)}va.escapeUTF8=UY;function tb(g){return function(v){return v.replace(eb,function(S){return g[S]||um(S)})}}(function(g){Object.defineProperty(g,"__esModule",{value:!0}),g.decodeXMLStrict=g.decodeHTML5Strict=g.decodeHTML4Strict=g.decodeHTML5=g.decodeHTML4=g.decodeHTMLStrict=g.decodeHTML=g.decodeXML=g.encodeHTML5=g.encodeHTML4=g.escapeUTF8=g.escape=g.encodeNonAsciiHTML=g.encodeHTML=g.encodeXML=g.encode=g.decodeStrict=g.decode=void 0;var v=be,S=va;function D(ze,We){return(!We||We<=0?v.decodeXML:v.decodeHTML)(ze)}g.decode=D;function z(ze,We){return(!We||We<=0?v.decodeXML:v.decodeHTMLStrict)(ze)}g.decodeStrict=z;function Q(ze,We){return(!We||We<=0?S.encodeXML:S.encodeHTML)(ze)}g.encode=Q;var re=va;Object.defineProperty(g,"encodeXML",{enumerable:!0,get:function(){return re.encodeXML}}),Object.defineProperty(g,"encodeHTML",{enumerable:!0,get:function(){return re.encodeHTML}}),Object.defineProperty(g,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return re.encodeNonAsciiHTML}}),Object.defineProperty(g,"escape",{enumerable:!0,get:function(){return re.escape}}),Object.defineProperty(g,"escapeUTF8",{enumerable:!0,get:function(){return re.escapeUTF8}}),Object.defineProperty(g,"encodeHTML4",{enumerable:!0,get:function(){return re.encodeHTML}}),Object.defineProperty(g,"encodeHTML5",{enumerable:!0,get:function(){return re.encodeHTML}});var he=be;Object.defineProperty(g,"decodeXML",{enumerable:!0,get:function(){return he.decodeXML}}),Object.defineProperty(g,"decodeHTML",{enumerable:!0,get:function(){return he.decodeHTML}}),Object.defineProperty(g,"decodeHTMLStrict",{enumerable:!0,get:function(){return he.decodeHTMLStrict}}),Object.defineProperty(g,"decodeHTML4",{enumerable:!0,get:function(){return he.decodeHTML}}),Object.defineProperty(g,"decodeHTML5",{enumerable:!0,get:function(){return he.decodeHTML}}),Object.defineProperty(g,"decodeHTML4Strict",{enumerable:!0,get:function(){return he.decodeHTMLStrict}}),Object.defineProperty(g,"decodeHTML5Strict",{enumerable:!0,get:function(){return he.decodeHTMLStrict}}),Object.defineProperty(g,"decodeXMLStrict",{enumerable:!0,get:function(){return he.decodeXML}})})(ue);var rb="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",jY=92,WY=/[\\&]/,ew="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",GY=new RegExp("\\\\"+ew+"|"+rb,"gi"),KY='[&<>"]',nb=new RegExp(KY,"g"),JY=function(g){return g.charCodeAt(0)===jY?g.charAt(1):ue.decodeHTML(g)};function Sh(g){return WY.test(g)?g.replace(GY,JY):g}function cm(g){try{return pe(g)}catch{return g}}function QY(g){switch(g){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return g}}function ff(g){return nb.test(g)?g.replace(nb,QY):g}function tw(g,v){for(var S=[],D=0;D<v;D++)S.push(g);return S.join("")}function ib(g){return g?!/[^ \t]+/.test(g):!0}var XY=function(){function g(v){this.current=v,this.root=v,this.entering=!0}return g.prototype.next=function(){var v=this.current,S=this.entering;if(v===null)return null;var D=rw(v);return S&&D?v.firstChild?(this.current=v.firstChild,this.entering=!0):this.entering=!1:v===this.root?this.current=null:v.next===null?(this.current=v.parent,this.entering=!1):(this.current=v.next,this.entering=!0),{entering:S,node:v}},g.prototype.resumeAt=function(v,S){this.current=v,this.entering=S===!0},g}();function rw(g){switch(g.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var YY=1,fm={};function ZY(g){return fm[g]}function nw(g){delete fm[g]}function eZ(){fm={}}var xh=function(){function g(v,S){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,v==="document"?this.id=-1:this.id=YY++,this.type=v,this.sourcepos=S,fm[this.id]=this}return g.prototype.isContainer=function(){return rw(this)},g.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},g.prototype.replaceWith=function(v){this.insertBefore(v),this.unlink()},g.prototype.insertAfter=function(v){v.unlink(),v.next=this.next,v.next&&(v.next.prev=v),v.prev=this,this.next=v,this.parent&&(v.parent=this.parent,v.next||(v.parent.lastChild=v))},g.prototype.insertBefore=function(v){v.unlink(),v.prev=this.prev,v.prev&&(v.prev.next=v),v.next=this,this.prev=v,v.parent=this.parent,v.prev||(v.parent.firstChild=v)},g.prototype.appendChild=function(v){v.unlink(),v.parent=this,this.lastChild?(this.lastChild.next=v,v.prev=this.lastChild,this.lastChild=v):(this.firstChild=v,this.lastChild=v)},g.prototype.prependChild=function(v){v.unlink(),v.parent=this,this.firstChild?(this.firstChild.prev=v,v.next=this.firstChild,this.firstChild=v):(this.firstChild=v,this.lastChild=v)},g.prototype.walker=function(){return new XY(this)},g}(),Ds=function(g){N(v,g);function v(S,D){var z=g.call(this,S,D)||this;return z.open=!0,z.lineOffsets=null,z.stringContent=null,z.lastLineBlank=!1,z.lastLineChecked=!1,z.type=S,z}return v}(xh),tZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.listData=null,S}return v}(Ds),rZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.level=0,S.headingType="atx",S}return v}(Ds),nZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.isFenced=!1,S.fenceChar=null,S.fenceLength=0,S.fenceOffset=-1,S.info=null,S.infoPadding=0,S}return v}(Ds),iZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.columns=[],S}return v}(Ds),aZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.startIdx=0,S.endIdx=0,S.paddingLeft=0,S.paddingRight=0,S.ignored=!1,S}return v}(Ds),oZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.title="",S.dest="",S.label="",S}return v}(Ds),sZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.syntaxLength=0,S.offset=-1,S.info="",S}return v}(Ds),lZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.htmlBlockType=-1,S}return v}(Ds),uZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.destination=null,S.title=null,S.extendedAutolink=!1,S}return v}(xh),cZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.tickCount=0,S}return v}(xh),fZ=function(g){N(v,g);function v(){var S=g!==null&&g.apply(this,arguments)||this;return S.info="",S}return v}(xh);function un(g,v){switch(g){case"heading":return new rZ(g,v);case"list":case"item":return new tZ(g,v);case"link":case"image":return new uZ(g,v);case"codeBlock":return new nZ(g,v);case"htmlBlock":return new lZ(g,v);case"table":return new iZ(g,v);case"tableCell":return new aZ(g,v);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Ds(g,v);case"code":return new cZ(g,v);case"refDef":return new oZ(g,v);case"customBlock":return new sZ(g,v);case"customInline":return new fZ(g,v);default:return new xh(g,v)}}function ab(g){return g.type==="codeBlock"}function dZ(g){return g.type==="htmlBlock"}function hZ(g){return g.type==="heading"}function ob(g){return g.type==="list"}function pZ(g){return g.type==="table"}function df(g){return g.type==="refDef"}function sb(g){return g.type==="customBlock"}function vZ(g){return g.type==="customInline"}function En(g,v){var S=un("text",v);return S.literal=g,S}var lb="[A-Za-z][A-Za-z0-9-]*",mZ="[a-zA-Z_:][a-zA-Z0-9:._-]*",gZ="[^\"'=<>`\\x00-\\x20]+",yZ="'[^']*'",wZ='"[^"]*"',kZ="(?:"+gZ+"|"+yZ+"|"+wZ+")",bZ="(?:\\s*=\\s*"+kZ+")",CZ="(?:\\s+"+mZ+bZ+"?)",ub="<"+lb+CZ+"*\\s*/?>",cb="</"+lb+"\\s*[>]",SZ="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",xZ="[<][?].*?[?][>]",TZ="<![A-Z]+\\s+[^>]*>",EZ="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",MZ="(?:"+ub+"|"+cb+"|"+SZ+"|"+xZ+"|"+TZ+"|"+EZ+")",NZ=new RegExp("^"+MZ,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var iw;if(String.fromCodePoint)iw=function(g){try{return String.fromCodePoint(g)}catch(v){if(v instanceof RangeError)return"";throw v}};else{var OZ=String.fromCharCode,AZ=Math.floor;iw=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];var S=16384,D=[],z,Q,re=-1,he=g.length;if(!he)return"";for(var ze="";++re<he;){var We=Number(g[re]);if(!isFinite(We)||We<0||We>1114111||AZ(We)!==We)return"";We<=65535?D.push(We):(We-=65536,z=(We>>10)+55296,Q=We%1024+56320,D.push(z,Q)),(re+1===he||D.length>S)&&(ze+=OZ.apply(void 0,D),D.length=0)}return ze}}var aw=iw,DZ="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",LZ="[^<\\s]*[^<?!.,:*_?~\\s]",RZ="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function IZ(g){var v=/\)+$/.exec(g);if(v){for(var S=0,D=0,z=g;D<z.length;D++){var Q=z[D];Q==="("?S<0?S=1:S+=1:Q===")"&&(S-=1)}if(S<0){var re=Math.min(-S,v[0].length);return g.substring(0,g.length-re)}}return g}function PZ(g){return g.replace(/&[A-Za-z0-9]+;$/,"")}function BZ(g){for(var v=new RegExp(RZ,"g"),S=[],D;D=v.exec(g);){var z=D[0];/[_-]+$/.test(z)||S.push({text:z,range:[D.index,D.index+z.length-1],url:"mailto:"+z})}return S}function _Z(g){for(var v=new RegExp("(www|https?://)."+DZ+LZ,"g"),S=[],D;D=v.exec(g);){var z=PZ(IZ(D[0])),Q=D[1]==="www"?"http://":"";S.push({text:z,range:[D.index,D.index+z.length-1],url:""+Q+z})}return S}function FZ(g){return R(R([],_Z(g)),BZ(g)).sort(function(v,S){return v.range[0]-S.range[0]})}function qZ(g,v){typeof v=="boolean"&&(v=FZ);for(var S,D=function(){var z=S.entering,Q=S.node;if(z&&Q.type==="text"&&Q.parent.type!=="link"){var re=Q.literal,he=v(re);if(!he||!he.length)return"continue";for(var ze=0,We=Q.sourcepos[0],gt=We[0],bt=We[1],ft=function(Ps,Jre){return[[gt,bt+Ps],[gt,bt+Jre]]},qt=[],Bt=0,yr=he;Bt<yr.length;Bt++){var cn=yr[Bt],Fn=cn.range,Ls=cn.url,Oa=cn.text;Fn[0]>ze&&qt.push(En(re.substring(ze,Fn[0]),ft(ze,Fn[0]-1)));var ga=un("link",ft.apply(void 0,Fn));ga.appendChild(En(Oa,ft.apply(void 0,Fn))),ga.destination=Ls,ga.extendedAutolink=!0,qt.push(ga),ze=Fn[1]+1}ze<re.length&&qt.push(En(re.substring(ze),ft(ze,re.length-1)));for(var to=0,Rs=qt;to<Rs.length;to++){var Is=Rs[to];Q.insertBefore(Is)}Q.unlink()}};S=g.next();)D()}function dm(g){return g[g.length-1]}function fb(g){return g.slice(1,g.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function hm(g,v){Object.keys(g).forEach(function(S){v(S,g[S])})}function zZ(g){for(var v=[],S=1;S<arguments.length;S++)v[S-1]=arguments[S];var D=P({},g);return v.forEach(function(z){delete D[z]}),D}function hf(g){return!Object.keys(g).length}function HZ(g){Object.keys(g).forEach(function(v){delete g[v]})}var ow=10,sw=42,pm=95,VZ=96,db=91,$Z=93,vm=126,hb=60,UZ=33,pb=92,jZ=38,vb=40,lw=41,WZ=58,xu=39,Tu=34,Eu=36,uw="\\\\"+ew,mb=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),GZ=new RegExp('^(?:"('+uw+'|[^"\\x00])*"|'+("'("+uw+"|[^'\\x00])*'")+"|"+("\\(("+uw+"|[^()\\x00])*\\))")),KZ=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,gb=new RegExp("^"+ew),JZ=new RegExp("^"+rb,"i"),QZ=/`+/,XZ=/^`+/,YZ=/\.\.\./g,ZZ=/--+/g,eee=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,tee=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,ree=/^ *(?:\n *)?/,cw=/^[ \t\n\x0b\x0c\x0d]/,yb=/^\s/,nee=/ *$/,iee=/^ */,wb=/^ *(?:\n|$)/,aee=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,oee=/^[^\n`\[\]\\!<&*_'"~$]+/m,see=function(){function g(v){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=v}return g.prototype.sourcepos=function(v,S){var D=this.linePosOffset+this.lineOffsets[this.lineIdx],z=this.lineStartNum+this.lineIdx,Q=[z,v+D];return typeof S=="number"?[Q,[z,S+D]]:Q},g.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},g.prototype.match=function(v){var S=v.exec(this.subject.slice(this.pos));return S===null?null:(this.pos+=S.index+S[0].length,S[0])},g.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},g.prototype.spnl=function(){return this.match(ree),!0},g.prototype.parseBackticks=function(v){var S=this.pos+1,D=this.match(XZ);if(D===null)return!1;for(var z=this.pos,Q;(Q=this.match(QZ))!==null;)if(Q===D){var re=this.subject.slice(z,this.pos-D.length),he=this.sourcepos(S,this.pos),ze=re.split(`
`);if(ze.length>1){var We=dm(ze);this.lineIdx+=ze.length-1,this.linePosOffset=-(this.pos-We.length-D.length),he[1]=this.sourcepos(this.pos),re=ze.join(" ")}var gt=un("code",he);return re.length>0&&re.match(/[^ ]/)!==null&&re[0]==" "&&re[re.length-1]==" "?gt.literal=re.slice(1,re.length-1):gt.literal=re,gt.tickCount=D.length,v.appendChild(gt),!0}return this.pos=z,v.appendChild(En(D,this.sourcepos(S,this.pos-1))),!0},g.prototype.parseBackslash=function(v){var S=this.subject,D;this.pos+=1;var z=this.pos;return this.peek()===ow?(this.pos+=1,D=un("linebreak",this.sourcepos(this.pos-1,this.pos)),v.appendChild(D),this.nextLine()):gb.test(S.charAt(this.pos))?(v.appendChild(En(S.charAt(this.pos),this.sourcepos(z,this.pos))),this.pos+=1):v.appendChild(En("\\",this.sourcepos(z,z))),!0},g.prototype.parseAutolink=function(v){var S,D,z,Q=this.pos+1;return(S=this.match(eee))?(D=S.slice(1,S.length-1),z=un("link",this.sourcepos(Q,this.pos)),z.destination=cm("mailto:"+D),z.title="",z.appendChild(En(D,this.sourcepos(Q+1,this.pos-1))),v.appendChild(z),!0):(S=this.match(tee))?(D=S.slice(1,S.length-1),z=un("link",this.sourcepos(Q,this.pos)),z.destination=cm(D),z.title="",z.appendChild(En(D,this.sourcepos(Q+1,this.pos-1))),v.appendChild(z),!0):!1},g.prototype.parseHtmlTag=function(v){var S=this.pos+1,D=this.match(NZ);if(D===null)return!1;var z=un("htmlInline",this.sourcepos(S,this.pos));return z.literal=D,v.appendChild(z),!0},g.prototype.scanDelims=function(v){var S=0,D=this.pos;if(v===xu||v===Tu)S++,this.pos++;else for(;this.peek()===v;)S++,this.pos++;if(S===0||S<2&&(v===vm||v===Eu))return this.pos=D,null;var z=D===0?`
`:this.subject.charAt(D-1),Q=this.peek(),re;Q===-1?re=`
`:re=aw(Q);var he=yb.test(re),ze=mb.test(re),We=yb.test(z),gt=mb.test(z),bt=!he&&(!ze||We||gt),ft=!We&&(!gt||he||ze),qt,Bt;return v===pm?(qt=bt&&(!ft||gt),Bt=ft&&(!bt||ze)):v===xu||v===Tu?(qt=bt&&!ft,Bt=ft):v===Eu?(qt=!he,Bt=!We):(qt=bt,Bt=ft),this.pos=D,{numdelims:S,canOpen:qt,canClose:Bt}},g.prototype.handleDelim=function(v,S){var D=this.scanDelims(v);if(!D)return!1;var z=D.numdelims,Q=this.pos+1,re;this.pos+=z,v===xu?re="":v===Tu?re="":re=this.subject.slice(Q-1,this.pos);var he=En(re,this.sourcepos(Q,this.pos));return S.appendChild(he),(D.canOpen||D.canClose)&&(this.options.smart||v!==xu&&v!==Tu)&&(this.delimiters={cc:v,numdelims:z,origdelims:z,node:he,previous:this.delimiters,next:null,canOpen:D.canOpen,canClose:D.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},g.prototype.removeDelimiter=function(v){v.previous!==null&&(v.previous.next=v.next),v.next===null?this.delimiters=v.previous:v.next.previous=v.previous},g.prototype.removeDelimitersBetween=function(v,S){v.next!==S&&(v.next=S,S.previous=v)},g.prototype.processEmphasis=function(v){var S,D,z,Q,re,he,ze,We=!1,gt=(S={},S[pm]=[v,v,v],S[sw]=[v,v,v],S[xu]=[v],S[Tu]=[v],S[vm]=[v],S[Eu]=[v],S);for(z=this.delimiters;z!==null&&z.previous!==v;)z=z.previous;for(;z!==null;){var bt=z.cc,ft=bt===pm||bt===sw;if(!z.canClose)z=z.next;else{for(D=z.previous,ze=!1;D!==null&&D!==v&&D!==gt[bt][ft?z.origdelims%3:0];){if(We=ft&&(z.canOpen||D.canClose)&&z.origdelims%3!==0&&(D.origdelims+z.origdelims)%3===0,D.cc===z.cc&&D.canOpen&&!We){ze=!0;break}D=D.previous}if(Q=z,ft||bt===vm||bt===Eu){if(!ze)z=z.next;else if(D){var qt=z.numdelims>=2&&D.numdelims>=2?2:1,Bt=ft?0:1;re=D.node,he=z.node;var yr=ft?qt===1?"emph":"strong":"strike";bt===Eu&&(yr="customInline");var cn=un(yr),Fn=re.sourcepos[1],Ls=he.sourcepos[0];cn.sourcepos=[[Fn[0],Fn[1]-qt+1],[Ls[0],Ls[1]+qt-1]],re.sourcepos[1][1]-=qt,he.sourcepos[0][1]+=qt,re.literal=re.literal.slice(qt),he.literal=he.literal.slice(qt),D.numdelims-=qt,z.numdelims-=qt;for(var Oa=re.next,ga=void 0;Oa&&Oa!==he;)ga=Oa.next,Oa.unlink(),cn.appendChild(Oa),Oa=ga;if(bt===Eu){var to=cn.firstChild,Rs=to.literal||"",Is=Rs.split(/\s/)[0];cn.info=Is,Rs.length<=Is.length?to.unlink():(to.sourcepos[0][1]+=Is.length,to.literal=Rs.replace(Is+" ",""))}if(re.insertAfter(cn),this.removeDelimitersBetween(D,z),D.numdelims<=Bt&&(D.numdelims===0&&re.unlink(),this.removeDelimiter(D)),z.numdelims<=Bt){z.numdelims===0&&he.unlink();var Ps=z.next;this.removeDelimiter(z),z=Ps}}}else bt===xu?(z.node.literal="",ze&&(D.node.literal=""),z=z.next):bt===Tu&&(z.node.literal="",ze&&(D.node.literal=""),z=z.next);ze||(gt[bt][ft?Q.origdelims%3:0]=Q.previous,Q.canOpen||this.removeDelimiter(Q))}}for(;this.delimiters!==null&&this.delimiters!==v;)this.removeDelimiter(this.delimiters)},g.prototype.parseLinkTitle=function(){var v=this.match(GZ);return v===null?null:Sh(v.substr(1,v.length-2))},g.prototype.parseLinkDestination=function(){var v=this.match(KZ);if(v===null){if(this.peek()===hb)return null;for(var S=this.pos,D=0,z=void 0;(z=this.peek())!==-1;)if(z===pb&&gb.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(z===vb)this.pos+=1,D+=1;else if(z===lw){if(D<1)break;this.pos+=1,D-=1}else{if(cw.exec(aw(z))!==null)break;this.pos+=1}return this.pos===S&&z!==lw||D!==0?null:(v=this.subject.substr(S,this.pos-S),cm(Sh(v)))}return cm(Sh(v.substr(1,v.length-2)))},g.prototype.parseLinkLabel=function(){var v=this.match(aee);return v===null||v.length>1001?0:v.length},g.prototype.parseOpenBracket=function(v){var S=this.pos;this.pos+=1;var D=En("[",this.sourcepos(this.pos,this.pos));return v.appendChild(D),this.addBracket(D,S,!1),!0},g.prototype.parseBang=function(v){var S=this.pos;if(this.pos+=1,this.peek()===db){this.pos+=1;var D=En("![",this.sourcepos(this.pos-1,this.pos));v.appendChild(D),this.addBracket(D,S+1,!0)}else{var D=En("!",this.sourcepos(this.pos,this.pos));v.appendChild(D)}return!0},g.prototype.parseCloseBracket=function(v){var S=null,D=null,z=!1;this.pos+=1;var Q=this.pos,re=this.brackets;if(re===null)return v.appendChild(En("]",this.sourcepos(Q,Q))),!0;if(!re.active)return v.appendChild(En("]",this.sourcepos(Q,Q))),this.removeBracket(),!0;var he=re.image,ze=this.pos;this.peek()===vb&&(this.pos++,this.spnl()&&(S=this.parseLinkDestination())!==null&&this.spnl()&&(cw.test(this.subject.charAt(this.pos-1))&&(D=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===lw?(this.pos+=1,z=!0):this.pos=ze);var We="";if(!z){var gt=this.pos,bt=this.parseLinkLabel();if(bt>2?We=this.subject.slice(gt,gt+bt):re.bracketAfter||(We=this.subject.slice(re.index,Q)),bt===0&&(this.pos=ze),We){We=fb(We);var ft=this.refMap[We];ft&&(S=ft.destination,D=ft.title,z=!0)}}if(z){var qt=un(he?"image":"link");qt.destination=S,qt.title=D||"",qt.sourcepos=[re.startpos,this.sourcepos(this.pos)];for(var Bt=re.node.next,yr=void 0;Bt;)yr=Bt.next,Bt.unlink(),qt.appendChild(Bt),Bt=yr;if(v.appendChild(qt),this.processEmphasis(re.previousDelimiter),this.removeBracket(),re.node.unlink(),!he)for(re=this.brackets;re!==null;)re.image||(re.active=!1),re=re.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[v.id]={node:v,refLabel:We}),!0}return this.removeBracket(),this.pos=Q,v.appendChild(En("]",this.sourcepos(Q,Q))),this.options.referenceDefinition&&(this.refLinkCandidateMap[v.id]={node:v,refLabel:We}),!0},g.prototype.addBracket=function(v,S,D){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:v,startpos:this.sourcepos(S+(D?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:S,image:D,active:!0}},g.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},g.prototype.parseEntity=function(v){var S,D=this.pos+1;return(S=this.match(JZ))?(v.appendChild(En(ue.decodeHTML(S),this.sourcepos(D,this.pos))),!0):!1},g.prototype.parseString=function(v){var S,D=this.pos+1;if(S=this.match(oee)){if(this.options.smart){var z=S.replace(YZ,"").replace(ZZ,function(re){var he=0,ze=0;return re.length%3===0?ze=re.length/3:re.length%2===0?he=re.length/2:re.length%3===2?(he=1,ze=(re.length-2)/3):(he=2,ze=(re.length-4)/3),tw("",ze)+tw("",he)});v.appendChild(En(z,this.sourcepos(D,this.pos)))}else{var Q=En(S,this.sourcepos(D,this.pos));v.appendChild(Q)}return!0}return!1},g.prototype.parseNewline=function(v){this.pos+=1;var S=v.lastChild;if(S&&S.type==="text"&&S.literal[S.literal.length-1]===" "){var D=S.literal[S.literal.length-2]===" ",z=S.literal.length;S.literal=S.literal.replace(nee,"");var Q=z-S.literal.length;S.sourcepos[1][1]-=Q,v.appendChild(un(D?"linebreak":"softbreak",this.sourcepos(this.pos-Q,this.pos)))}else v.appendChild(un("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(iee),!0},g.prototype.parseReference=function(v,S){if(!this.options.referenceDefinition)return 0;this.subject=v.stringContent,this.pos=0;var D=null,z=this.pos,Q=this.parseLinkLabel();if(Q===0)return 0;var re=this.subject.substr(0,Q);if(this.peek()===WZ)this.pos++;else return this.pos=z,0;this.spnl();var he=this.parseLinkDestination();if(he===null)return this.pos=z,0;var ze=this.pos;this.spnl(),this.pos!==ze&&(D=this.parseLinkTitle()),D===null&&(D="",this.pos=ze);var We=!0;if(this.match(wb)===null&&(D===""?We=!1:(D="",this.pos=ze,We=this.match(wb)!==null)),!We)return this.pos=z,0;var gt=fb(re);if(gt==="")return this.pos=z,0;var bt=this.getReferenceDefSourcepos(v);v.sourcepos[0][0]=bt[1][0]+1;var ft=un("refDef",bt);return ft.title=D,ft.dest=he,ft.label=gt,v.insertBefore(ft),S[gt]?this.refDefCandidateMap[ft.id]=ft:S[gt]=mw(ft),this.pos-z},g.prototype.mergeTextNodes=function(v){for(var S,D=[];S=v.next();){var z=S.entering,Q=S.node;if(z&&Q.type==="text")D.push(Q);else if(D.length===1)D=[];else if(D.length>1){var re=D[0],he=D[D.length-1];re.sourcepos&&he.sourcepos&&(re.sourcepos[1]=he.sourcepos[1]),re.next=he.next,re.next&&(re.next.prev=re);for(var ze=1;ze<D.length;ze+=1)re.literal+=D[ze].literal,D[ze].unlink();D=[]}}},g.prototype.getReferenceDefSourcepos=function(v){for(var S=v.stringContent.split(/\n|\r\n/),D=!1,z=0,Q={line:0,ch:0},re=0;re<S.length;re+=1){var he=S[re];if(cw.test(he))break;if(/\:/.test(he)&&z===0){if(D)break;var ze=he.indexOf(":")===he.length-1?re+1:re;Q={line:ze,ch:S[ze].length},D=!0}var We=he.match(/'|"/g);if(We&&(z+=We.length),z===2){Q={line:re,ch:he.length};break}}return[[v.sourcepos[0][0],v.sourcepos[0][1]],[v.sourcepos[0][0]+Q.line,Q.ch]]},g.prototype.parseInline=function(v){var S,D=!1,z=this.peek();if(z===-1)return!1;switch(z){case ow:D=this.parseNewline(v);break;case pb:D=this.parseBackslash(v);break;case VZ:D=this.parseBackticks(v);break;case sw:case pm:case vm:case Eu:D=this.handleDelim(z,v);break;case xu:case Tu:D=!!(!((S=this.options)===null||S===void 0)&&S.smart)&&this.handleDelim(z,v);break;case db:D=this.parseOpenBracket(v);break;case UZ:D=this.parseBang(v);break;case $Z:D=this.parseCloseBracket(v);break;case hb:D=this.parseAutolink(v)||this.parseHtmlTag(v);break;case jZ:v.disabledEntityParse||(D=this.parseEntity(v));break;default:D=this.parseString(v);break}return D||(this.pos+=1,v.appendChild(En(aw(z),this.sourcepos(this.pos,this.pos+1)))),!0},g.prototype.parse=function(v){for(this.subject=v.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=v.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=v.sourcepos[0][0],hZ(v)&&(this.lineOffsets[0]+=v.level+1);this.parseInline(v););v.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(v.walker());var S=this.options,D=S.extendedAutolinks,z=S.customParser;if(D&&qZ(v.walker(),D),z&&v.firstChild)for(var Q,re=v.firstChild.walker();Q=re.next();){var he=Q.node,ze=Q.entering;z[he.type]&&z[he.type](he,{entering:ze,options:this.options})}},g}(),lee=/^\[([ \txX])\][ \t]+/;function uee(g,v){if(v.firstChild&&v.firstChild.type==="paragraph"){var S=v.firstChild,D=S.stringContent.match(lee);if(D){var z=D[0].length;S.stringContent=S.stringContent.substring(z-1),S.sourcepos[0][1]+=z,S.lineOffsets[0]+=z,v.listData.task=!0,v.listData.checked=/[xX]/.test(D[1])}}}var cee={continue:function(){return 0},finalize:function(){},canContain:function(g){return g==="tableHead"||g==="tableBody"},acceptsLines:!1},fee={continue:function(){return 0},finalize:function(){},canContain:function(g){return g==="tableRow"},acceptsLines:!1},dee={continue:function(){return 1},finalize:function(){},canContain:function(g){return g==="tableRow"||g==="tableDelimRow"},acceptsLines:!1},hee={continue:function(){return 1},finalize:function(){},canContain:function(g){return g==="tableDelimCell"},acceptsLines:!1},pee={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},vee={continue:function(){return 1},finalize:function(){},canContain:function(g){return g==="tableCell"},acceptsLines:!1},mee={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},mm=4,kb=9,bb=62,gee=60,Cb=32,Sb=91,xb=/[^ \t\f\v\r\n]/,yee=/^(?:`{3,}|~{3,})(?= *$)/;function Tb(g){for(var v=g;v;){if(v.lastLineBlank)return!0;var S=v.type;if(!v.lastLineChecked&&(S==="list"||S==="item"))v.lastLineChecked=!0,v=v.lastChild;else{v.lastLineChecked=!0;break}}return!1}function ma(g,v){return v<g.length?g.charCodeAt(v):-1}function Eb(g){return!xb.test(g)}function pf(g){return g===Cb||g===kb}var wee=/^\$\$$/,kee={continue:function(g,v){var S=g.currentLine,D=S.match(wee);if(D)return g.lastLineLength=D[0].length,g.finalize(v,g.lineNumber),2;for(var z=v.offset;z>0&&pf(ma(S,g.offset));)g.advanceOffset(1,!0),z--;return 0},finalize:function(g,v){if(v.stringContent!==null){var S=v.stringContent,D=S.indexOf(`
`),z=S.slice(0,D),Q=S.slice(D+1),re=z.match(/^(\s*)(.*)/);v.info=Sh(re[2].trim()),v.literal=Q,v.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Mb={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},bee={continue:function(){return 0},finalize:function(){},canContain:function(g){return g!=="item"},acceptsLines:!1},Cee={continue:function(){return 0},finalize:function(g,v){for(var S=v.firstChild;S;){if(Tb(S)&&S.next){v.listData.tight=!1;break}for(var D=S.firstChild;D;){if(Tb(D)&&(S.next||D.next)){v.listData.tight=!1;break}D=D.next}S=S.next}},canContain:function(g){return g==="item"},acceptsLines:!1},See={continue:function(g){var v=g.currentLine;if(!g.indented&&ma(v,g.nextNonspace)===bb)g.advanceNextNonspace(),g.advanceOffset(1,!1),pf(ma(v,g.offset))&&g.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(g){return g!=="item"},acceptsLines:!1},xee={continue:function(g,v){if(g.blank){if(v.firstChild===null)return 1;g.advanceNextNonspace()}else if(g.indent>=v.listData.markerOffset+v.listData.padding)g.advanceOffset(v.listData.markerOffset+v.listData.padding,!0);else return 1;return 0},finalize:uee,canContain:function(g){return g!=="item"},acceptsLines:!1},Tee={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Eee={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Mee={continue:function(g,v){var S=g.currentLine,D=g.indent;if(v.isFenced){var z=D<=3&&S.charAt(g.nextNonspace)===v.fenceChar&&S.slice(g.nextNonspace).match(yee);if(z&&z[0].length>=v.fenceLength)return g.lastLineLength=g.offset+D+z[0].length,g.finalize(v,g.lineNumber),2;for(var Q=v.fenceOffset;Q>0&&pf(ma(S,g.offset));)g.advanceOffset(1,!0),Q--}else if(D>=mm)g.advanceOffset(mm,!0);else if(g.blank)g.advanceNextNonspace();else return 1;return 0},finalize:function(g,v){var S;if(v.stringContent!==null){if(v.isFenced){var D=v.stringContent,z=D.indexOf(`
`),Q=D.slice(0,z),re=D.slice(z+1),he=Q.match(/^(\s*)(.*)/);v.infoPadding=he[1].length,v.info=Sh(he[2].trim()),v.literal=re}else v.literal=(S=v.stringContent)===null||S===void 0?void 0:S.replace(/(\n *)+$/,`
`);v.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Nee={continue:function(g,v){return g.blank&&(v.htmlBlockType===6||v.htmlBlockType===7)?1:0},finalize:function(g,v){var S;v.literal=((S=v.stringContent)===null||S===void 0?void 0:S.replace(/(\n *)+$/,""))||null,v.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Oee={continue:function(g){return g.blank?1:0},finalize:function(g,v){if(v.stringContent!==null){for(var S,D=!1;ma(v.stringContent,0)===Sb&&(S=g.inlineParser.parseReference(v,g.refMap));)v.stringContent=v.stringContent.slice(S),D=!0;D&&Eb(v.stringContent)&&v.unlink()}},canContain:function(){return!1},acceptsLines:!0},Aee=Mb,Dee=Mb,vf={document:bee,list:Cee,blockQuote:See,item:xee,heading:Tee,thematicBreak:Eee,codeBlock:Mee,htmlBlock:Nee,paragraph:Oee,table:cee,tableBody:fee,tableHead:dee,tableRow:vee,tableCell:mee,tableDelimRow:hee,tableDelimCell:pee,refDef:Aee,customBlock:kee,frontMatter:Dee};function fw(g){for(var v=0,S=0,D=[],z=0;z<g.length;z+=1)if(g[z]==="|"&&g[z-1]!=="\\"){var Q=g.substring(v,z);v===0&&ib(Q)?S=z+1:D.push(Q),v=z+1}if(v<g.length){var Q=g.substring(v,g.length);ib(Q)||D.push(Q)}return[S,D]}function dw(g,v,S,D){for(var z=[],Q=0,re=v;Q<re.length;Q++){var he=re[Q],ze=he.match(/^[ \t]+/),We=ze?ze[0].length:0,gt=void 0,bt=void 0;if(We===he.length)We=0,gt=0,bt="";else{var ft=he.match(/[ \t]+$/);gt=ft?ft[0].length:0,bt=he.slice(We,he.length-gt)}var qt=D+We,Bt=un(g,[[S,D],[S,D+he.length-1]]);Bt.stringContent=bt.replace(/\\\|/g,"|"),Bt.startIdx=z.length,Bt.endIdx=z.length,Bt.lineOffsets=[qt-1],Bt.paddingLeft=We,Bt.paddingRight=gt,z.push(Bt),D+=he.length+1}return z}function Lee(g){var v=null,S=g.stringContent,D=S[0],z=S[S.length-1];return z===":"?v=D===":"?"center":"right":D===":"&&(v="left"),{align:v}}var Ree=function(g,v){var S=v.stringContent;if(v.type==="paragraph"&&!g.indented&&!g.blank){var D=S.length-1,z=S.lastIndexOf(`
`,D-1)+1,Q=S.slice(z,D),re=g.currentLine.slice(g.nextNonspace),he=fw(Q),ze=he[0],We=he[1],gt=fw(re),bt=gt[0],ft=gt[1],qt=/^[ \t]*:?-+:?[ \t]*$/;if(!We.length||!ft.length||ft.some(function(Ps){return!qt.test(Ps)})||ft.length===1&&re.indexOf("|")!==0)return 0;var Bt=v.lineOffsets,yr=g.lineNumber-1,cn=dm(Bt)+1,Fn=un("table",[[yr,cn],[g.lineNumber,g.offset]]);if(Fn.columns=ft.map(function(){return{align:null}}),v.insertAfter(Fn),Bt.length===1)v.unlink();else{v.stringContent=S.slice(0,z);var Ls=S.lastIndexOf(`
`,z-2)+1,Oa=z-Ls-1;g.lastLineLength=Bt[Bt.length-2]+Oa,g.finalize(v,yr-1)}g.advanceOffset(g.currentLine.length-g.offset,!1);var ga=un("tableHead",[[yr,cn],[g.lineNumber,g.offset]]);Fn.appendChild(ga);var to=un("tableRow",[[yr,cn],[yr,cn+Q.length-1]]),Rs=un("tableDelimRow",[[g.lineNumber,g.nextNonspace+1],[g.lineNumber,g.offset]]);ga.appendChild(to),ga.appendChild(Rs),dw("tableCell",We,yr,cn+ze).forEach(function(Ps){to.appendChild(Ps)});var Is=dw("tableDelimCell",ft,g.lineNumber,g.nextNonspace+1+bt);return Is.forEach(function(Ps){Rs.appendChild(Ps)}),Fn.columns=Is.map(Lee),g.tip=Fn,2}return 0},Iee=function(g,v){if(v.type!=="table"&&v.type!=="tableBody"||!g.blank&&g.currentLine.indexOf("|")===-1)return 0;if(g.advanceOffset(g.currentLine.length-g.offset,!1),g.blank){var S=v;return v.type==="tableBody"&&(S=v.parent,g.finalize(v,g.lineNumber-1)),g.finalize(S,g.lineNumber-1),0}var D=v;v.type==="table"&&(D=g.addChild("tableBody",g.nextNonspace),D.stringContent=null);var z=un("tableRow",[[g.lineNumber,g.nextNonspace+1],[g.lineNumber,g.currentLine.length]]);D.appendChild(z);var Q=D.parent,re=g.currentLine.slice(g.nextNonspace),he=fw(re),ze=he[0],We=he[1];return dw("tableCell",We,g.lineNumber,g.nextNonspace+1+ze).forEach(function(gt,bt){bt>=Q.columns.length&&(gt.ignored=!0),z.appendChild(gt)}),2},Pee=/^(\$\$)(\s*[a-zA-Z])+/,Bee=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,_ee=function(g){var v;if(!g.indented&&!Bee.test(g.currentLine)&&(v=g.currentLine.match(Pee))){var S=v[1].length;g.closeUnmatchedBlocks();var D=g.addChild("customBlock",g.nextNonspace);return D.syntaxLength=S,D.offset=g.indent,g.advanceNextNonspace(),g.advanceOffset(S,!1),2}return 0},Fee=/^`{3,}(?!.*`)|^~{3,}/,qee=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+ub+"|"+cb+")\\s*$","i")],zee=/^(?:=+|-+)[ \t]*$/,Hee=/^#{1,6}(?:[ \t]+|$)/,Vee=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Nb=/^[*+-]/,Ob=/^(\d{1,9})([.)])/;function $ee(g,v){var S=g.currentLine.slice(g.nextNonspace),D,z,Q={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:g.indent,task:!1,checked:!1};if(g.indent>=4)return null;if(D=S.match(Nb))Q.type="bullet",Q.bulletChar=D[0][0];else if((D=S.match(Ob))&&(v.type!=="paragraph"||D[1]==="1"))Q.type="ordered",Q.start=parseInt(D[1],10),Q.delimiter=D[2];else return null;if(z=ma(g.currentLine,g.nextNonspace+D[0].length),!(z===-1||z===kb||z===Cb)||v.type==="paragraph"&&!g.currentLine.slice(g.nextNonspace+D[0].length).match(xb))return null;g.advanceNextNonspace(),g.advanceOffset(D[0].length,!0);var re=g.column,he=g.offset;do g.advanceOffset(1,!0),z=ma(g.currentLine,g.offset);while(g.column-re<5&&pf(z));var ze=ma(g.currentLine,g.offset)===-1,We=g.column-re;return We>=5||We<1||ze?(Q.padding=D[0].length+1,g.column=re,g.offset=he,pf(ma(g.currentLine,g.offset))&&g.advanceOffset(1,!0)):Q.padding=D[0].length+We,Q}function Uee(g,v){return g.type===v.type&&g.delimiter===v.delimiter&&g.bulletChar===v.bulletChar}function Ab(g,v){return g.options.disallowDeepHeading&&(v.type==="blockQuote"||v.type==="item")}var jee=function(g){return!g.indented&&ma(g.currentLine,g.nextNonspace)===bb?(g.advanceNextNonspace(),g.advanceOffset(1,!1),pf(ma(g.currentLine,g.offset))&&g.advanceOffset(1,!0),g.closeUnmatchedBlocks(),g.addChild("blockQuote",g.nextNonspace),1):0},Wee=function(g,v){var S;if(!g.indented&&!Ab(g,v)&&(S=g.currentLine.slice(g.nextNonspace).match(Hee))){g.advanceNextNonspace(),g.advanceOffset(S[0].length,!1),g.closeUnmatchedBlocks();var D=g.addChild("heading",g.nextNonspace);return D.level=S[0].trim().length,D.headingType="atx",D.stringContent=g.currentLine.slice(g.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),g.advanceOffset(g.currentLine.length-g.offset),2}return 0},Gee=function(g){var v;if(!g.indented&&(v=g.currentLine.slice(g.nextNonspace).match(Fee))){var S=v[0].length;g.closeUnmatchedBlocks();var D=g.addChild("codeBlock",g.nextNonspace);return D.isFenced=!0,D.fenceLength=S,D.fenceChar=v[0][0],D.fenceOffset=g.indent,g.advanceNextNonspace(),g.advanceOffset(S,!1),2}return 0},Kee=function(g,v){if(!g.indented&&ma(g.currentLine,g.nextNonspace)===gee){var S=g.currentLine.slice(g.nextNonspace),D=g.options.disallowedHtmlBlockTags,z=void 0;for(z=1;z<=7;z++){var Q=S.match(qee[z]);if(Q){if(z===7){if(v.type==="paragraph")return 0;if(D.length>0){var re=new RegExp("</?(?:"+D.join("|")+")","i");if(re.test(Q[0]))return 0}}g.closeUnmatchedBlocks();var he=g.addChild("htmlBlock",g.offset);return he.htmlBlockType=z,2}}}return 0},Jee=function(g,v){var S;if(v.stringContent!==null&&!g.indented&&v.type==="paragraph"&&!Ab(g,v.parent)&&(S=g.currentLine.slice(g.nextNonspace).match(zee))){g.closeUnmatchedBlocks();for(var D=void 0;ma(v.stringContent,0)===Sb&&(D=g.inlineParser.parseReference(v,g.refMap));)v.stringContent=v.stringContent.slice(D);if(v.stringContent.length>0){var z=un("heading",v.sourcepos);return z.level=S[0][0]==="="?1:2,z.headingType="setext",z.stringContent=v.stringContent,v.insertAfter(z),v.unlink(),g.tip=z,g.advanceOffset(g.currentLine.length-g.offset,!1),2}return 0}return 0},Qee=function(g){return!g.indented&&Vee.test(g.currentLine.slice(g.nextNonspace))?(g.closeUnmatchedBlocks(),g.addChild("thematicBreak",g.nextNonspace),g.advanceOffset(g.currentLine.length-g.offset,!1),2):0},Xee=function(g,v){var S,D=v;return(!g.indented||v.type==="list")&&(S=$ee(g,D))?(g.closeUnmatchedBlocks(),(g.tip.type!=="list"||!Uee(D.listData,S))&&(D=g.addChild("list",g.nextNonspace),D.listData=S),D=g.addChild("item",g.nextNonspace),D.listData=S,1):0},Yee=function(g){return g.indented&&g.tip.type!=="paragraph"&&!g.blank?(g.advanceOffset(mm,!0),g.closeUnmatchedBlocks(),g.addChild("codeBlock",g.offset),2):0},hw=[jee,Wee,Gee,Kee,Jee,Qee,Xee,Yee,Ree,Iee,_ee],Db=/^(-{3}|\+{3}|;{3})$/,Zee=function(g,v){var S=g.currentLine,D=g.lineNumber,z=g.indented;if(D===1&&!z&&v.type==="document"&&Db.test(S)){g.closeUnmatchedBlocks();var Q=g.addChild("frontMatter",g.nextNonspace);return Q.stringContent=S,g.advanceNextNonspace(),g.advanceOffset(S.length,!1),2}return 0},ete={continue:function(g,v){var S=g.currentLine,D=S.match(Db);return v.type==="frontMatter"&&D?(v.stringContent+=S,g.lastLineLength=D[0].length,g.finalize(v,g.lineNumber),2):0},finalize:function(g,v){v.stringContent!==null&&(v.literal=v.stringContent,v.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},tte=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],rte=/^[#`~*+_=<>0-9-;$]/,nte=/\r\n|\n|\r/;function pw(){return un("document",[[1,1],[0,0]])}var ite={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},ate=function(){function g(v){this.options=P(P({},ite),v),this.doc=pw(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(vf.frontMatter=ete,hw.unshift(Zee)),this.inlineParser=new see(this.options)}return g.prototype.advanceOffset=function(v,S){S===void 0&&(S=!1);for(var D=this.currentLine,z,Q,re;v>0&&(re=D[this.offset]);)re==="	"?(z=4-this.column%4,S?(this.partiallyConsumedTab=z>v,Q=z>v?v:z,this.column+=Q,this.offset+=this.partiallyConsumedTab?0:1,v-=Q):(this.partiallyConsumedTab=!1,this.column+=z,this.offset+=1,v-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,v-=1)},g.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},g.prototype.findNextNonspace=function(){for(var v=this.currentLine,S=this.offset,D=this.column,z;(z=v.charAt(S))!=="";)if(z===" ")S++,D++;else if(z==="	")S++,D+=4-D%4;else break;this.blank=z===`
`||z==="\r"||z==="",this.nextNonspace=S,this.nextNonspaceColumn=D,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=mm},g.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var v=4-this.column%4;this.tip.stringContent+=tw(" ",v)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},g.prototype.addChild=function(v,S){for(;!vf[this.tip.type].canContain(v);)this.finalize(this.tip,this.lineNumber-1);var D=S+1,z=un(v,[[this.lineNumber,D],[0,0]]);return z.stringContent="",this.tip.appendChild(z),this.tip=z,z},g.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var v=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=v}this.allClosed=!0}},g.prototype.finalize=function(v,S){var D=v.parent;v.open=!1,v.sourcepos[1]=[S,this.lastLineLength],vf[v.type].finalize(this,v),this.tip=D},g.prototype.processInlines=function(v){var S,D=this.options.customParser,z=v.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;S=z.next();){var Q=S.node,re=S.entering,he=Q.type;D&&D[he]&&D[he](Q,{entering:re,options:this.options}),!re&&(he==="paragraph"||he==="heading"||he==="tableCell"&&!Q.ignored)&&this.inlineParser.parse(Q)}},g.prototype.incorporateLine=function(v){var S=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,v.indexOf("\0")!==-1&&(v=v.replace(/\0/g,"")),this.currentLine=v;for(var D=!0,z;(z=S.lastChild)&&z.open;){switch(S=z,this.findNextNonspace(),vf[S.type].continue(this,S)){case 0:break;case 1:D=!1;break;case 2:this.lastLineLength=v.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!D){S=S.parent;break}}this.allClosed=S===this.oldtip,this.lastMatchedContainer=S;for(var Q=S.type!=="paragraph"&&vf[S.type].acceptsLines,re=hw.length;!Q;){if(this.findNextNonspace(),S.type!=="table"&&S.type!=="tableBody"&&S.type!=="paragraph"&&!this.indented&&!rte.test(v.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var he=0;he<re;){var ze=hw[he](this,S);if(ze===1){S=this.tip;break}else if(ze===2){S=this.tip,Q=!0;break}else he++}if(he===re){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&S.lastChild&&(S.lastChild.lastLineBlank=!0);for(var We=S.type,gt=this.blank&&!(We==="blockQuote"||ab(S)&&S.isFenced||We==="item"&&!S.firstChild&&S.sourcepos[0][0]===this.lineNumber),bt=S;bt;)bt.lastLineBlank=gt,bt=bt.parent;vf[We].acceptsLines?(this.addLine(),dZ(S)&&S.htmlBlockType>=1&&S.htmlBlockType<=5&&tte[S.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=v.length,this.finalize(S,this.lineNumber))):this.offset<v.length&&!this.blank&&(S=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=v.length},g.prototype.parse=function(v,S){this.doc=pw(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var D=v.split(nte),z=D.length;this.lines=S||D,this.options.referenceDefinition&&this.clearRefMaps(),v.charCodeAt(v.length-1)===ow&&(z-=1);for(var Q=0;Q<z;Q++)this.incorporateLine(D[Q]);for(;this.tip;)this.finalize(this.tip,z);return this.processInlines(this.doc),this.doc},g.prototype.partialParseStart=function(v,S){this.doc=pw(),this.tip=this.doc,this.lineNumber=v-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var D=S.length,z=0;z<D;z++)this.incorporateLine(S[z]);return this.doc},g.prototype.partialParseExtends=function(v){for(var S=0;S<v.length;S++)this.incorporateLine(v[S])},g.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},g.prototype.setRefMaps=function(v,S,D){this.refMap=v,this.refLinkCandidateMap=S,this.refDefCandidateMap=D},g.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(v){HZ(v)})},g}();function Lb(g,v){return g[0]<v[0]?1:g[0]>v[0]?-1:g[1]<v[1]?1:g[1]>v[1]?-1:0}function ote(g,v){var S=g[0],D=g[1];return Lb(D,v)===1?1:Lb(S,v)===-1?-1:0}function ste(g,v){if(!(g.parent!==v.parent||g===v)){for(var S=g.next;S&&S!==v;){for(var D=S.next,z=0,Q=["parent","prev","next"];z<Q.length;z++){var re=Q[z];S[re]&&(nw(S[re].id),S[re]=null)}S=D}g.next=v.next,v.next?v.next.prev=g:g.parent.lastChild=g}}function lte(g){for(var v=[],S=g.firstChild;S;)v.push(S),S=S.next;return v}function Rb(g,v){for(var S=0,D=v;S<D.length;S++){var z=D[S];g.insertBefore(z)}}function ute(g,v){for(var S=v.length-1;S>=0;S-=1)g.prependChild(v[S])}function cte(g,v){if(!(!g||!g.parent||v===0)){var S=g.parent.walker();S.resumeAt(g,!0);for(var D;D=S.next();){var z=D.node,Q=D.entering;Q&&(z.sourcepos[0][0]+=v,z.sourcepos[1][0]+=v)}}}function Ib(g,v){var S=g[0],D=g[1];return D[0]<v?1:S[0]>v?-1:0}function gm(g,v){for(var S=g.firstChild;S;){var D=Ib(S.sourcepos,v);if(D===0)return S;if(D===-1)return S.prev||S;S=S.next}return g.lastChild}function fte(g){for(;g.lastChild;)g=g.lastChild;return g}function dte(g){for(;g.parent&&g.parent.type!=="document"&&g.parent.sourcepos[0][0]===g.sourcepos[0][0];)g=g.parent;return g}function hte(g,v){for(var S=g.firstChild,D=null;S;){var z=Ib(S.sourcepos,v);if(z===0){if(S.sourcepos[0][0]===v||!S.firstChild)return S;D=S,S=S.firstChild}else{if(z===-1)break;D=S,S=S.next}}return D?dte(fte(D)):null}function pte(g,v){for(var S=g,D=null;S;){var z=ote(S.sourcepos,v);if(z===0)if(S.firstChild)D=S,S=S.firstChild;else return S;else{if(z===-1)return D;if(S.next)S=S.next;else return D}}return S}function Pb(g){return ZY(g)||null}function vw(g,v,S){if(S===void 0&&(S=null),v)for(var D=v.walker();v&&v!==S;){g(v);var z=D.next();if(z)v=z.node;else break}}function vte(g){var v=Pb(g);if(!v)return!0;for(;v&&v.type!=="document";){if(!v.parent&&!v.prev&&!v.next)return!0;v=v.parent}return!1}var Bb=/\r\n|\n|\r/;function mte(g){var v=g.match(/^[ \t]+/);if(v&&(v[0].length>=2||/\t/.test(v[0])))return!0;var S=v?g.slice(v.length):g;return Nb.test(S)||Ob.test(S)}function gte(g){return!Eb(g)&&g.indexOf("|")!==-1}function mw(g){var v=g.id,S=g.title,D=g.sourcepos,z=g.dest;return{id:v,title:S,sourcepos:D,unlinked:!1,destination:z}}var yte=function(){function g(v,S){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(S!=null&&S.referenceDefinition),this.parser=new ate(S),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},v=v||"",this.lineTexts=v.split(Bb),this.root=this.parser.parse(v,this.lineTexts)}return g.prototype.updateLineTexts=function(v,S,D){var z,Q=v[0],re=v[1],he=S[0],ze=S[1],We=D.split(Bb),gt=We.length,bt=this.lineTexts[Q-1],ft=this.lineTexts[he-1];We[0]=bt.slice(0,re-1)+We[0],We[gt-1]=We[gt-1]+ft.slice(ze-1);var qt=he-Q+1;return(z=this.lineTexts).splice.apply(z,R([Q-1,qt],We)),gt-qt},g.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var v=this.lineTexts,S=v.length-1;v[S]==="";)S-=1;v.length-2>S&&(S+=1),this.root.sourcepos[1]=[S+1,v[S].length]},g.prototype.replaceRangeNodes=function(v,S,D){v?(Rb(v,D),ste(v,S),[v.id,S.id].forEach(function(z){return nw(z)}),v.unlink()):S?(Rb(S,D),nw(S.id),S.unlink()):ute(this.root,D)},g.prototype.getNodeRange=function(v,S){var D=gm(this.root,v[0]),z=gm(this.root,S[0]);return z&&z.next&&S[0]+1===z.next.sourcepos[0][0]&&(z=z.next),[D,z]},g.prototype.trigger=function(v,S){this.eventHandlerMap[v].forEach(function(D){D(S)})},g.prototype.extendEndLine=function(v){for(;this.lineTexts[v]==="";)v+=1;return v},g.prototype.parseRange=function(v,S,D,z){v&&v.prev&&(ob(v.prev)&&mte(this.lineTexts[D-1])||pZ(v.prev)&&gte(this.lineTexts[D-1]))&&(v=v.prev,D=v.sourcepos[0][0]);for(var Q=this.lineTexts.slice(D-1,z),re=this.parser.partialParseStart(D,Q),he=S?S.next:this.root.firstChild,ze=re.lastChild,We=ze&&ab(ze)&&ze.open,gt=ze&&sb(ze)&&ze.open,bt=ze&&ob(ze);(We||gt)&&he||bt&&he&&(he.type==="list"||he.sourcepos[0][1]>=2);){var ft=this.extendEndLine(he.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(z,ft)),v||(v=S),S=he,z=ft,he=he.next}this.parser.partialParseFinish();var qt=lte(re);return{newNodes:qt,extStartNode:v,extEndNode:S}},g.prototype.getRemovedNodeRange=function(v,S){return!v||v&&df(v)||S&&df(S)?null:{id:[v.id,S.id],line:[v.sourcepos[0][0]-1,S.sourcepos[1][0]-1]}},g.prototype.markDeletedRefMap=function(v,S){var D=this;if(!hf(this.refMap)){var z=function(Q){if(df(Q)){var re=D.refMap[Q.label];re&&Q.id===re.id&&(re.unlinked=!0)}};v&&vw(z,v.parent,S),S&&vw(z,S)}},g.prototype.replaceWithNewRefDefState=function(v){var S=this;if(!hf(this.refMap)){var D=function(z){if(df(z)){var Q=z.label,re=S.refMap[Q];(!re||re.unlinked)&&(S.refMap[Q]=mw(z))}};v.forEach(function(z){vw(D,z)})}},g.prototype.replaceWithRefDefCandidate=function(){var v=this;hf(this.refDefCandidateMap)||hm(this.refDefCandidateMap,function(S,D){var z=D.label,Q=D.sourcepos,re=v.refMap[z];(!re||re.unlinked||re.sourcepos[0][0]>Q[0][0])&&(v.refMap[z]=mw(D))})},g.prototype.getRangeWithRefDef=function(v,S,D,z,Q){if(this.referenceDefinition&&!hf(this.refMap)){var re=gm(this.root,v-1),he=gm(this.root,S+1);re&&df(re)&&re!==D&&re!==z&&(D=re,v=D.sourcepos[0][0]),he&&df(he)&&he!==D&&he!==z&&(z=he,S=this.extendEndLine(z.sourcepos[1][0]+Q))}return[D,z,v,S]},g.prototype.parse=function(v,S,D){D===void 0&&(D=0);var z=this.getNodeRange(v,S),Q=z[0],re=z[1],he=Q?Math.min(Q.sourcepos[0][0],v[0]):v[0],ze=this.extendEndLine((re?Math.max(re.sourcepos[1][0],S[0]):S[0])+D),We=this.parseRange.apply(this,this.getRangeWithRefDef(he,ze,Q,re,D)),gt=We.newNodes,bt=We.extStartNode,ft=We.extEndNode,qt=this.getRemovedNodeRange(bt,ft),Bt=ft?ft.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(bt,ft),this.replaceRangeNodes(bt,ft,gt),this.replaceWithNewRefDefState(gt)):this.replaceRangeNodes(bt,ft,gt),{nodes:gt,removedNodeRange:qt,nextNode:Bt}},g.prototype.parseRefLink=function(){var v=this,S=[];return hf(this.refMap)||hm(this.refMap,function(D,z){z.unlinked&&delete v.refMap[D],hm(v.refLinkCandidateMap,function(Q,re){var he=re.node,ze=re.refLabel;ze===D&&S.push(v.parse(he.sourcepos[0],he.sourcepos[1]))})}),S},g.prototype.removeUnlinkedCandidate=function(){hf(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(v){hm(v,function(S){vte(S)&&delete v[S]})})},g.prototype.editMarkdown=function(v,S,D){var z=this.updateLineTexts(v,S,D),Q=this.parse(v,S,z),re=zZ(Q,"nextNode");cte(Q.nextNode,z),this.updateRootNodeState();var he=[re];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),he=he.concat(this.parseRefLink())),this.trigger("change",he),he},g.prototype.getLineTexts=function(){return this.lineTexts},g.prototype.getRootNode=function(){return this.root},g.prototype.findNodeAtPosition=function(v){var S=pte(this.root,v);return!S||S===this.root?null:S},g.prototype.findFirstNodeAtLine=function(v){return hte(this.root,v)},g.prototype.on=function(v,S){this.eventHandlerMap[v].push(S)},g.prototype.off=function(v,S){var D=this.eventHandlerMap[v],z=D.indexOf(S);D.splice(z,1)},g.prototype.findNodeById=function(v){return Pb(v)},g.prototype.removeAllNode=function(){eZ()},g}(),wte=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],_b=new RegExp("<(/?(?:"+wte.join("|")+")[^>]*>)","ig");function Fb(g){return _b.test(g)?g.replace(_b,function(v,S){return"&lt;"+S}):g}var qb={heading:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"h"+g.level,outerNewLine:!0}},text:function(g){return{type:"text",content:g.literal}},softbreak:function(g,v){var S=v.options;return{type:"html",content:S.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"em"}},strong:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"strong"}},paragraph:function(g,v){var S,D=v.entering,z=(S=g.parent)===null||S===void 0?void 0:S.parent;return z&&z.type==="list"&&z.listData.tight?null:{type:D?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(g,v){var S=v.entering,D=g.listData,z=D.type,Q=D.start,re=z==="bullet"?"ul":"ol",he={};return re==="ol"&&Q!==null&&Q!==1&&(he.start=Q.toString()),{type:S?"openTag":"closeTag",tagName:re,attributes:he,outerNewLine:!0}},item:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(g,v){var S=v.options,D=S.tagFilter?Fb(g.literal):g.literal;return{type:"html",content:D}},htmlBlock:function(g,v){var S=v.options,D=S.tagFilter?Fb(g.literal):g.literal;return S.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:D},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:D,outerNewLine:!0}},code:function(g){return[{type:"openTag",tagName:"code"},{type:"text",content:g.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(g){var v=g.info,S=v?v.split(/\s+/):[],D=[];return S.length>0&&S[0].length>0&&D.push("language-"+ff(S[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:D},{type:"text",content:g.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(g,v){var S=v.entering;if(S){var D=g,z=D.title,Q=D.destination;return{type:"openTag",tagName:"a",attributes:P({href:ff(Q)},z&&{title:ff(z)})}}return{type:"closeTag",tagName:"a"}},image:function(g,v){var S=v.getChildrenText,D=v.skipChildren,z=g,Q=z.title,re=z.destination;return D(),{type:"openTag",tagName:"img",selfClose:!0,attributes:P({src:ff(re),alt:S(g)},Q&&{title:ff(Q)})}},customBlock:function(g,v,S){var D=g.info.trim().toLowerCase(),z=S[D];if(z)try{return z(g,v)}catch(Q){console.warn("[@toast-ui/editor] - The error occurred when "+D+" block node was parsed in markdown renderer: "+Q)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:g.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(g){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:g.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(g,v,S){var D=g,z=D.info,Q=D.firstChild,re=z.trim().toLowerCase(),he=S[re],ze=v.entering;if(he)try{return he(g,v)}catch(We){console.warn("[@toast-ui/editor] - The error occurred when "+re+" inline node was parsed in markdown renderer: "+We)}return ze?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+z+(Q?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},zb={strike:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"del"}},item:function(g,v){var S=v.entering,D=g.listData,z=D.checked,Q=D.task;if(S){var re={type:"openTag",tagName:"li",outerNewLine:!0};return Q?[re,{type:"openTag",tagName:"input",selfClose:!0,attributes:P(P({},z&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:re}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(g,v){var S=v.entering;return{type:S?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(g,v){var S=v.entering;if(S)return{type:"openTag",tagName:"tr",outerNewLine:!0};var D=[];if(g.lastChild)for(var z=g.parent.parent.columns.length,Q=g.lastChild.endIdx,re=Q+1;re<z;re+=1)D.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return D.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),D},tableCell:function(g,v){var S=v.entering;if(g.ignored)return{type:"text",content:""};var D=g.parent.parent,z=D.type==="tableHead"?"th":"td",Q=D.parent,re=Q.columns[g.startIdx],he=re!=null&&re.align?{align:re.align}:null;return S?P({type:"openTag",tagName:z,outerNewLine:!0},he&&{attributes:he}):{type:"closeTag",tagName:z,outerNewLine:!0}}},kte={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function bte(g){for(var v=[],S=g.walker(),D=null;D=S.next();){var z=D.node;z.type==="text"&&v.push(z.literal)}return v.join("")}var Cte=function(){function g(v){this.buffer=[],this.options=P(P({},kte),v),this.convertors=this.createConvertors(),delete this.options.convertors}return g.prototype.createConvertors=function(){var v=P({},qb);if(this.options.gfm&&(v=P(P({},v),zb)),this.options.convertors){var S=this.options.convertors,D=Object.keys(S),z=P(P({},qb),zb);D.forEach(function(Q){var re=v[Q],he=S[Q],ze=Object.keys(z).indexOf(Q)===-1?Q.toLowerCase():Q;re?v[ze]=function(We,gt,bt){return gt.origin=function(){return re(We,gt,bt)},he(We,gt)}:v[ze]=he})}return v},g.prototype.getConvertors=function(){return this.convertors},g.prototype.getOptions=function(){return this.options},g.prototype.render=function(v){var S=this;this.buffer=[];for(var D=v.walker(),z=null,Q=function(){var he=z.node,ze=z.entering,We=re.convertors[he.type];if(!We)return"continue";var gt=!1,bt={entering:ze,leaf:!rw(he),options:re.options,getChildrenText:bte,skipChildren:function(){gt=!0}},ft=sb(he)||vZ(he)?We(he,bt,re.convertors):We(he,bt);if(ft){var qt=Array.isArray(ft)?ft:[ft];qt.forEach(function(Bt,yr){Bt.type==="openTag"&&S.options.nodeId&&yr===0&&(Bt.attributes||(Bt.attributes={}),Bt.attributes["data-nodeid"]=String(he.id)),S.renderHTMLNode(Bt)}),gt&&(D.resumeAt(he,!1),D.next())}},re=this;z=D.next();)Q();return this.addNewLine(),this.buffer.join("")},g.prototype.renderHTMLNode=function(v){switch(v.type){case"openTag":case"closeTag":this.renderElementNode(v);break;case"text":this.renderTextNode(v);break;case"html":this.renderRawHtmlNode(v);break}},g.prototype.generateOpenTagString=function(v){var S=this,D=v.tagName,z=v.classNames,Q=v.attributes;this.buffer.push("<"+D),z&&z.length>0&&this.buffer.push(' class="'+z.join(" ")+'"'),Q&&Object.keys(Q).forEach(function(re){var he=Q[re];S.buffer.push(" "+re+'="'+he+'"')}),v.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},g.prototype.generateCloseTagString=function(v){var S=v.tagName;this.buffer.push("</"+S+">")},g.prototype.addNewLine=function(){this.buffer.length&&dm(dm(this.buffer))!==`
`&&this.buffer.push(`
`)},g.prototype.addOuterNewLine=function(v){v.outerNewLine&&this.addNewLine()},g.prototype.addInnerNewLine=function(v){v.innerNewLine&&this.addNewLine()},g.prototype.renderTextNode=function(v){this.buffer.push(ff(v.content))},g.prototype.renderRawHtmlNode=function(v){this.addOuterNewLine(v),this.buffer.push(v.content),this.addOuterNewLine(v)},g.prototype.renderElementNode=function(v){v.type==="openTag"?(this.addOuterNewLine(v),this.generateOpenTagString(v),v.selfClose?this.addOuterNewLine(v):this.addInnerNewLine(v)):(this.addInnerNewLine(v),this.generateCloseTagString(v),this.addOuterNewLine(v))},g}(),Ste=d(956),xte=d.n(Ste),Tte=d(969),Hb=d.n(Tte),Ete=d(348),Vb=d.n(Ete),Mte=d(349),$b=d.n(Mte),Nte=d(204),Ub=d.n(Nte),Ote=d(462),gw=d.n(Ote),Ate=d(522),jb=d.n(Ate),Dte=d(990),Lte=d.n(Dte),Rte=d(322),Ite=d.n(Rte),Pte=d(758),Bte=d.n(Pte),_te=d(929),ym=d.n(_te),Fte=d(714),qte=d.n(Fte);d(471);var Wb="[A-Za-z][A-Za-z0-9-]*",zte="[a-zA-Z_:][a-zA-Z0-9:._-]*",Hte="[^\"'=<>`\\x00-\\x20]+",Vte="'[^']*'",$te='"[^"]*"',Ute="(?:"+Hte+"|"+Vte+"|"+$te+")",jte="(?:\\s*=\\s*"+Ute+")",Gb="(?:\\s+"+zte+jte+"?)",Wte="<("+Wb+")("+Gb+")*\\s*/?>",Gte="</("+Wb+")\\s*[>]",Kte="(?:"+Wte+"|"+Gte+")",Kb=new RegExp("^"+Kte,"i");d(934),d(391);function yw(g,v){return g.indexOf(v)!==-1}var Jte=["rel","target","hreflang","type"];function Qte(g){if(!g)return null;var v={};return Jte.forEach(function(S){ym()(g[S])||(v[S]=g[S])}),v}function Xte(g){return g[g.length-1]}function ww(g){return typeof g=="object"&&g!==null}function kw(g,v){var S=w({},g);return g&&v&&Object.keys(v).forEach(function(D){ww(S[D])?Array.isArray(v[D])?S[D]=bw(v[D]):S.hasOwnProperty(D)?S[D]=kw(S[D],v[D]):S[D]=Cw(v[D]):S[D]=v[D]}),S}function bw(g){return g.map(function(v){return ww(v)?Array.isArray(v)?bw(v):Cw(v):v})}function Cw(g){var v=Object.keys(g);return v.length?v.reduce(function(S,D){return ww(g[D])?S[D]=Array.isArray(g[D])?bw(g[D]):Cw(g[D]):S[D]=g[D],S},{}):g}function Jb(g,v){return v===void 0&&(v={}),Object.keys(v).forEach(function(S){g.hasOwnProperty(S)&&typeof g[S]=="object"?Array.isArray(v[S])?g[S]=v[S]:Jb(g[S],v[S]):g[S]=v[S]}),g}function Qb(g,v){return g>v?[v,g]:[g,v]}function Yte(g,v,S){var D=parseInt(g.left,10),z=parseInt(g.top,10),Q=parseInt(g.width,10)+parseInt(g.paddingLeft,10)+parseInt(g.paddingRight,10),re=parseInt(g.height,10)+parseInt(g.paddingTop,10)+parseInt(g.paddingBottom,10);return v>=D&&v<=D+Q&&S>=z&&S<=z+re}var Zte="toastui-editor-";function wm(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];for(var S=[],D=0,z=g;D<z.length;D++){var Q=z[D],re=void 0;Array.isArray(Q)?re=Q[0]?Q[1]:null:re=Q,re&&S.push(""+Zte+re)}return S.join(" ")}function Xb(g){g.parentNode&&g.parentNode.removeChild(g)}function Yb(g,v,S){ym()(S)&&(S=!qte()(g,v));var D=S?Ub():gw();D(g,v)}function ere(g,v){var S=document.createElement("div");Bte()(g)?S.innerHTML=g:S.appendChild(g);var D=S.firstChild;return D}function tre(g){var v=/<img class="ProseMirror-separator" alt="">/g,S=/ class="ProseMirror-trailingBreak"/g,D=g;return D=D.replace(v,""),D=D.replace(S,""),D}var rre=d(294),Zb=d.n(rre);function nre(g){return g.sourcepos[0][1]}function ire(g){switch(g.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function are(g,v,S){for(S===void 0&&(S=!0),g=S?g:g.parent;g&&g.type!=="document";){if(v(g))return g;g=g.parent}return null}function ore(g){var v=g.firstChild.literal;switch(g.type){case"emph":return"*"+v+"*";case"strong":return"**"+v+"**";case"strike":return"~~"+v+"~~";case"code":return"`"+v+"`";case"link":case"image":var S=g,D=S.destination,z=S.title,Q=g.type==="link"?"":"!";return Q+"["+v+"]("+D+(z?' "'+z+'"':"")+")";default:return null}}var sre={},eC=/\$\$widget\d+\s/;function tC(g){var v=g.search(eC);if(v!==-1){var S=g.substring(v),D=S.replace(eC,"").replace("$$","");g=g.substring(0,v),g+=tC(D)}return g}function lre(g,v){var S=sre[g],D=S.rule,z=S.toDOM,Q=tC(v).match(D);return Q&&(v=Q[0]),z(v)}function ure(g){for(var v,S="",D=g.walker();v=D.next();){var z=v.node,Q=v.entering;Q&&(z!==g&&z.type!=="text"?(S+=ore(z),D.resumeAt(g,!1),D.next()):z.type==="text"&&(S+=z.literal))}return S}var cre=d(368),fre=d.n(cre),dre=["iframe","embed"],rC=[];function hre(g){yw(dre,g)&&rC.push(g.toLowerCase())}function pre(g,v){return fre().sanitize(g,w({ADD_TAGS:rC,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},v))}function vre(g,v){return g.literal.replace(new RegExp("(<\\s*"+v+"[^>]*>)|(</"+v+"\\s*[>])","ig"),"").trim()}function mre(g){g=g.match(Kb)[0];var v=g.match(new RegExp(Gb,"g"));return v?v.reduce(function(S,D){var z=D.trim().split("="),Q=z[0],re=z.slice(1);return re.length&&(S[Q]=re.join("=").replace(/'|"/g,"").trim()),S},{}):{}}var gre=/^\s*<\s*\//,yre={paragraph:function(g,v){var S=v.entering,D=v.origin,z=v.options;return z.nodeId?{type:S?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:D()},softbreak:function(g){var v=g.prev&&g.prev.type==="htmlInline",S=v&&/<br ?\/?>/.test(g.prev.literal),D=S?`
`:`<br>
`;return{type:"html",content:D}},item:function(g,v){var S=v.entering;if(S){var D={},z=[];return g.listData.task&&(D["data-task"]="",z.push("task-list-item"),g.listData.checked&&(z.push("checked"),D["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:z,attributes:D,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(g){var v={"data-backticks":String(g.tickCount)};return[{type:"openTag",tagName:"code",attributes:v},{type:"text",content:g.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(g){var v=g,S=v.fenceLength,D=v.info,z=D?D.split(/\s+/):[],Q=[],re={};if(S>3&&(re["data-backticks"]=S),z.length>0&&z[0].length>0){var he=z[0];Q.push("lang-"+he),re["data-language"]=he}return[{type:"openTag",tagName:"pre",classNames:Q},{type:"openTag",tagName:"code",attributes:re},{type:"text",content:g.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(g,v){var S=v.origin,D=v.entering,z=v.skipChildren,Q=g.info;if(Q.indexOf("widget")!==-1&&D){z();var re=ure(g),he=lre(Q,re).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:he},{type:"closeTag",tagName:"span"}]}return S()}};function wre(g,v){var S=w({},yre);return g&&(S.link=function(D,z){var Q=z.entering,re=z.origin,he=re();return Q&&(he.attributes=w(w({},he.attributes),g)),he}),v&&Object.keys(v).forEach(function(D){var z=S[D],Q=v[D];z&&Zb()(Q)?S[D]=function(re,he){var ze=w({},he);return ze.origin=function(){return z(re,he)},Q(re,ze)}:yw(["htmlBlock","htmlInline"],D)&&!Zb()(Q)?S[D]=function(re,he){var ze=re.literal.match(Kb);if(ze){var We=ze[0],gt=ze[1],bt=ze[3],ft=(gt||bt).toLowerCase(),qt=Q[ft],Bt=vre(re,ft);if(qt){var yr=w({},re);return yr.attrs=mre(We),yr.childrenHTML=Bt,yr.type=ft,he.entering=!gre.test(re.literal),qt(yr,he)}}return he.origin()}:S[D]=Q}),S}var kre=["UL","OL","BLOCKQUOTE"];function bre(g,v){for(var S=0;g&&g!==v&&(yw(kre,g.tagName)||(S+=g.offsetTop),g.offsetParent!==v.offsetParent);)g=g.parentElement;return S}function Cre(g,v){for(var S=v,D=null;S;){var z=S.firstElementChild;if(!z)break;var Q=nC(z,g,bre(S,v));D=S,S=Q}var re=S||D;return re===v?null:re}function nC(g,v,S){return g&&v>S+g.offsetTop?nC(g.nextElementSibling,v,S)||g:null}var Sre={};function Sw(g){g&&(delete Sre[Number(g.getAttribute("data-nodeid"))],Lte()(g.children).forEach(function(v){Sw(v)}))}var xw=wm("md-preview-highlight");function xre(g,v){for(var S=g.firstChild;S&&S.next&&!(nre(S.next)>v+1);)S=S.next;return S}var Tre=function(){function g(v,S){var D=document.createElement("div");this.el=D,this.eventEmitter=v,this.isViewer=!!S.isViewer,this.el.className=wm("md-preview");var z=S.linkAttributes,Q=S.customHTMLRenderer,re=S.sanitizer,he=S.highlight,ze=he===void 0?!1:he;this.renderer=new Cte({gfm:!0,nodeId:!0,convertors:wre(z,Q)}),this.cursorNodeId=null,this.sanitizer=re,this.initEvent(ze),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return g.prototype.initContentSection=function(){this.previewContent=ere('<div class="'+wm("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},g.prototype.toggleActive=function(v){Yb(this.el,"active",v)},g.prototype.initEvent=function(v){var S=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(v&&(this.eventEmitter.listen("changeToolbarState",function(D){var z=D.mdNode,Q=D.cursorPos;S.updateCursorNode(z,Q)}),this.eventEmitter.listen("blur",function(){S.removeHighlight()})),Vb()(this.el,"scroll",function(D){S.eventEmitter.emit("scroll","preview",Cre(D.target.scrollTop,S.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return S.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return S.toggleActive(!1)}))},g.prototype.removeHighlight=function(){if(this.cursorNodeId){var v=this.getElementByNodeId(this.cursorNodeId);v&&gw()(v,xw)}},g.prototype.updateCursorNode=function(v,S){v&&(v=are(v,function(re){return!ire(re)}),v.type==="tableRow"?v=xre(v,S[1]):v.type==="tableBody"&&(v=null));var D=v?v.id:null;if(this.cursorNodeId!==D){var z=this.getElementByNodeId(this.cursorNodeId),Q=this.getElementByNodeId(D);z&&gw()(z,xw),Q&&Ub()(Q,xw),this.cursorNodeId=D}},g.prototype.getElementByNodeId=function(v){return v?this.previewContent.querySelector('[data-nodeid="'+v+'"]'):null},g.prototype.update=function(v){var S=this;v.forEach(function(D){return S.replaceRangeNodes(D)}),this.eventEmitter.emit("afterPreviewRender",this)},g.prototype.replaceRangeNodes=function(v){var S=this,D=v.nodes,z=v.removedNodeRange,Q=this.previewContent,re=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(D.map(function(Bt){return S.renderer.render(Bt)}).join("")));if(!z)Q.insertAdjacentHTML("afterbegin",re);else{var he=z.id,ze=he[0],We=he[1],gt=this.getElementByNodeId(ze),bt=this.getElementByNodeId(We);if(gt){gt.insertAdjacentHTML("beforebegin",re);for(var ft=gt;ft&&ft!==bt;){var qt=ft.nextElementSibling;Xb(ft),Sw(ft),ft=qt}ft!=null&&ft.parentNode&&(Xb(ft),Sw(ft))}}},g.prototype.getRenderer=function(){return this.renderer},g.prototype.destroy=function(){$b()(this.el,"scroll"),this.el=null},g.prototype.getElement=function(){return this.el},g.prototype.getHTML=function(){return tre(this.previewContent.innerHTML)},g.prototype.setHTML=function(v){this.previewContent.innerHTML=v},g.prototype.setHeight=function(v){jb()(this.el,{height:v+"px"})},g.prototype.setMinHeight=function(v){jb()(this.el,{minHeight:v+"px"})},g}(),Ere=Tre,km=d(814),Tw=d(479),iC=d(311),Mre=d(481),Nre=d(43),Ore=d(928),Are=d.n(Ore),Dre=function(){function g(){this.keys=[],this.values=[]}return g.prototype.getKeyIndex=function(v){return Are()(v,this.keys)},g.prototype.get=function(v){return this.values[this.getKeyIndex(v)]},g.prototype.set=function(v,S){var D=this.getKeyIndex(v);return D>-1?this.values[D]=S:(this.keys.push(v),this.values.push(S)),this},g.prototype.has=function(v){return this.getKeyIndex(v)>-1},g.prototype.delete=function(v){var S=this.getKeyIndex(v);return S>-1?(this.keys.splice(S,1),this.values.splice(S,1),!0):!1},g.prototype.forEach=function(v,S){var D=this;S===void 0&&(S=this),this.values.forEach(function(z,Q){z&&D.keys[Q]&&v.call(S,z,D.keys[Q],D)})},g.prototype.clear=function(){this.keys=[],this.values=[]},g}(),aC=Dre,Ew="en-US",Lre=function(){function g(){this.code=Ew,this.langs=new aC}return g.prototype.setCode=function(v){this.code=v||Ew},g.prototype.setLanguage=function(v,S){var D=this;v=[].concat(v),v.forEach(function(z){if(!D.langs.has(z))D.langs.set(z,S);else{var Q=D.langs.get(z);D.langs.set(z,Hb()(Q,S))}})},g.prototype.get=function(v,S){S||(S=this.code);var D=this.langs.get(S);D||(D=this.langs.get(Ew));var z=D[v];if(!z)throw new Error('There is no text key "'+v+'" in '+S);return z},g}(),Rre=new Lre;function Ire(g,v){for(var S=g.depth;S;){var D=g.node(S);if(v(D,S))return{node:D,depth:S,offset:S>0?g.before(S):0};S-=1}return null}var oC=new Map,sC=function(){function g(v,S,D,z){this.table=v,this.tableRows=S,this.tableStartPos=D,this.rowInfo=z}return g.create=function(v){var S=Ire(v,function(Bt){var yr=Bt.type;return yr.name==="table"});if(S){var D=S.node,z=S.depth,Q=S.offset,re=oC.get(D);if((re==null?void 0:re.tableStartPos)===Q+1)return re;var he=[],ze=v.start(z),We=D.child(0),gt=D.child(1),bt=Mw(We,ze),ft=Mw(gt,ze+We.nodeSize);We.forEach(function(Bt){return he.push(Bt)}),gt.forEach(function(Bt){return he.push(Bt)});var qt=new g(D,he,ze,bt.concat(ft));return oC.set(D,qt),qt}return null},Object.defineProperty(g.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),g.prototype.getCellInfo=function(v,S){return this.rowInfo[v][S]},g.prototype.posAt=function(v,S){for(var D=0,z=this.tableStartPos;;D+=1){var Q=z+this.tableRows[D].nodeSize;if(D===v){for(var re=S;re<this.totalColumnCount&&this.rowInfo[D][re].offset<z;)re+=1;return re===this.totalColumnCount?Q:this.rowInfo[D][re].offset}z=Q}},g.prototype.getNodeAndPos=function(v,S){var D=this.rowInfo[v][S];return{node:this.table.nodeAt(D.offset-this.tableStartOffset),pos:D.offset}},g.prototype.extendedRowspan=function(v,S){return!1},g.prototype.extendedColspan=function(v,S){return!1},g.prototype.getRowspanCount=function(v,S){return 0},g.prototype.getColspanCount=function(v,S){return 0},g.prototype.decreaseColspanCount=function(v,S){return 0},g.prototype.decreaseRowspanCount=function(v,S){return 0},g.prototype.getColspanStartInfo=function(v,S){return null},g.prototype.getRowspanStartInfo=function(v,S){return null},g.prototype.getCellStartOffset=function(v,S){var D=this.rowInfo[v][S].offset;return this.extendedRowspan(v,S)?this.posAt(v,S):D},g.prototype.getCellEndOffset=function(v,S){var D=this.rowInfo[v][S],z=D.offset,Q=D.nodeSize;return this.extendedRowspan(v,S)?this.posAt(v,S):z+Q},g.prototype.getCellIndex=function(v){for(var S=0;S<this.totalRowCount;S+=1)for(var D=this.rowInfo[S],z=0;z<this.totalColumnCount;z+=1)if(D[z].offset+1>v.pos)return[S,z];return[0,0]},g.prototype.getRectOffsets=function(v,S){var D,z,Q;S===void 0&&(S=v),v.pos>S.pos&&(D=[S,v],v=D[0],S=D[1]);var re=this.getCellIndex(v),he=re[0],ze=re[1],We=this.getCellIndex(S),gt=We[0],bt=We[1];return z=Qb(he,gt),he=z[0],gt=z[1],Q=Qb(ze,bt),ze=Q[0],bt=Q[1],this.getSpannedOffsets({startRowIdx:he,startColIdx:ze,endRowIdx:gt,endColIdx:bt})},g.prototype.getSpannedOffsets=function(v){return v},g}(),Mw=function(g,v){var S=[];return g.forEach(function(D,z){var Q={rowspanMap:{},colspanMap:{},length:0};D.forEach(function(re,he){for(var ze=re.nodeSize,We=0;Q[We];)We+=1;Q[We]={offset:v+z+he+2,nodeSize:ze},Q.length+=1}),S.push(Q)}),S};function Pre(g,v){return Jb(sC.prototype,g),Mw=v,sC}function Bre(g){var v=g.plugin,S=g.eventEmitter,D=g.usageStatistics,z=g.instance,Q={Plugin:km.Plugin,PluginKey:km.PluginKey,Selection:km.Selection,TextSelection:km.TextSelection},re={Decoration:iC.Decoration,DecorationSet:iC.DecorationSet},he={Fragment:Nre.Fragment},ze={InputRule:Tw.InputRule,inputRules:Tw.inputRules,undoInputRule:Tw.undoInputRule},We={keymap:Mre.keymap},gt={eventEmitter:S,usageStatistics:D,instance:z,pmState:Q,pmView:re,pmModel:he,pmRules:ze,pmKeymap:We,i18n:Rre};if(Ite()(v)){var bt=v[0],ft=v[1],qt=ft===void 0?{}:ft;return bt(gt,qt)}return v(gt)}function _re(g){var v=g.plugins,S=g.eventEmitter,D=g.usageStatistics,z=g.instance;return S.listen("mixinTableOffsetMapPrototype",Pre),(v??[]).reduce(function(Q,re){var he=Bre({plugin:re,eventEmitter:S,usageStatistics:D,instance:z});if(!he)throw new Error("The return value of the executed plugin is empty.");var ze=he.markdownParsers,We=he.toHTMLRenderers,gt=he.toMarkdownRenderers,bt=he.markdownPlugins,ft=he.wysiwygPlugins,qt=he.wysiwygNodeViews,Bt=he.markdownCommands,yr=he.wysiwygCommands,cn=he.toolbarItems;return We&&(Q.toHTMLRenderers=kw(Q.toHTMLRenderers,We)),gt&&(Q.toMarkdownRenderers=kw(Q.toMarkdownRenderers,gt)),bt&&(Q.mdPlugins=Q.mdPlugins.concat(bt)),ft&&(Q.wwPlugins=Q.wwPlugins.concat(ft)),qt&&(Q.wwNodeViews=w(w({},Q.wwNodeViews),qt)),Bt&&(Q.mdCommands=w(w({},Q.mdCommands),Bt)),yr&&(Q.wwCommands=w(w({},Q.wwCommands),yr)),cn&&(Q.toolbarItems=Q.toolbarItems.concat(cn)),ze&&(Q.markdownParsers=w(w({},Q.markdownParsers),ze)),Q},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var Fre=d(404),qre=d.n(Fre),lC=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],zre=function(){function g(){var v=this;this.events=new aC,this.eventTypes=lC.reduce(function(S,D){return w(w({},S),{type:D})},{}),this.hold=!1,lC.forEach(function(S){v.addEventType(S)})}return g.prototype.listen=function(v,S){var D=this.getTypeInfo(v),z=this.events.get(D.type)||[];if(!this.hasEventType(D.type))throw new Error("There is no event type "+D.type);D.namespace&&(S.namespace=D.namespace),z.push(S),this.events.set(D.type,z)},g.prototype.emit=function(v){for(var S=[],D=1;D<arguments.length;D++)S[D-1]=arguments[D];var z=this.getTypeInfo(v),Q=this.events.get(z.type),re=[];return!this.hold&&Q&&Q.forEach(function(he){var ze=he.apply(void 0,S);ym()(ze)||re.push(ze)}),re},g.prototype.emitReduce=function(v,S){for(var D=[],z=2;z<arguments.length;z++)D[z-2]=arguments[z];var Q=this.events.get(v);return!this.hold&&Q&&Q.forEach(function(re){var he=re.apply(void 0,T([S],D));qre()(he)||(S=he)}),S},g.prototype.getTypeInfo=function(v){var S=v.split(".");return{type:S[0],namespace:S[1]}},g.prototype.hasEventType=function(v){return!ym()(this.eventTypes[this.getTypeInfo(v).type])},g.prototype.addEventType=function(v){if(this.hasEventType(v))throw new Error("There is already have event type "+v);this.eventTypes[v]=v},g.prototype.removeEventHandler=function(v,S){var D=this,z=this.getTypeInfo(v),Q=z.type,re=z.namespace;Q&&S?this.removeEventHandlerWithHandler(Q,S):Q&&!re?this.events.delete(Q):!Q&&re?this.events.forEach(function(he,ze){D.removeEventHandlerWithTypeInfo(ze,re)}):Q&&re&&this.removeEventHandlerWithTypeInfo(Q,re)},g.prototype.removeEventHandlerWithHandler=function(v,S){var D=this.events.get(v);if(D){var z=D.indexOf(S);D.indexOf(S)>=0&&D.splice(z,1)}},g.prototype.removeEventHandlerWithTypeInfo=function(v,S){var D=[],z=this.events.get(v);z&&(z.map(function(Q){return Q.namespace!==S&&D.push(Q),null}),this.events.set(v,D))},g.prototype.getEvents=function(){return this.events},g.prototype.holdEventInvoke=function(v){this.hold=!0,v(),this.hold=!1},g}(),Hre=zre,Vre="data-task",$re="data-task-disabled",Ure="checked";function jre(g){["htmlBlock","htmlInline"].forEach(function(v){g[v]&&Object.keys(g[v]).forEach(function(S){return hre(S)})})}var Wre=function(){function g(v){var S=this;this.options=Hb()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},v),this.eventEmitter=new Hre;var D=Qte(this.options.linkAttributes),z=_re({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},Q=z.toHTMLRenderers,re=z.markdownParsers,he=this.options,ze=he.customHTMLRenderer,We=he.extendedAutolinks,gt=he.referenceDefinition,bt=he.frontMatter,ft=he.customHTMLSanitizer,qt={linkAttributes:D,customHTMLRenderer:w(w({},Q),ze),extendedAutolinks:We,referenceDefinition:gt,frontMatter:bt,sanitizer:ft||pre};jre(qt.customHTMLRenderer),this.options.events&&xte()(this.options.events,function(Oa,ga){S.on(ga,Oa)});var Bt=this.options,yr=Bt.el,cn=Bt.initialValue,Fn=Bt.theme,Ls=yr.innerHTML;Fn!=="light"&&yr.classList.add(wm(Fn)),yr.innerHTML="",this.toastMark=new yte("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:We,referenceDefinition:gt,disallowDeepHeading:!0,frontMatter:bt,customParser:re}),this.preview=new Ere(this.eventEmitter,w(w({},qt),{isViewer:!0})),Vb()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),cn?this.setMarkdown(cn):Ls&&this.preview.setHTML(Ls),yr.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return g.prototype.toggleTask=function(v){var S=v.target,D=getComputedStyle(S,":before");!S.hasAttribute($re)&&S.hasAttribute(Vre)&&Yte(D,v.offsetX,v.offsetY)&&(Yb(S,Ure),this.eventEmitter.emit("change",{source:"viewer",date:v}))},g.prototype.setMarkdown=function(v){var S=this.toastMark.getLineTexts(),D=S.length,z=Xte(S),Q=[D,z.length+1],re=this.toastMark.editMarkdown([1,1],Q,v||"");this.eventEmitter.emit("updatePreview",re)},g.prototype.on=function(v,S){this.eventEmitter.listen(v,S)},g.prototype.off=function(v){this.eventEmitter.removeEventHandler(v)},g.prototype.addHook=function(v,S){this.eventEmitter.removeEventHandler(v),this.eventEmitter.listen(v,S)},g.prototype.destroy=function(){$b()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},g.prototype.isViewer=function(){return!0},g.prototype.isMarkdownMode=function(){return!1},g.prototype.isWysiwygMode=function(){return!1},g}(),Gre=Wre,Kre=Gre}(),m=m.default,m}()})}(E1)),E1.exports}var XXe=QXe();const YXe=TE(XXe);/**
 * TOAST UI Editor : React Wrapper
 * @version 3.2.3 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var N0=function(t,e){return N0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},N0(t,e)};function UA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");N0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jf=function(){return Jf=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jf.apply(this,arguments)};(function(t){UA(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.rootEl=Fu.createRef(),r}return e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.editorInst},e.prototype.getBindingEventNames=function(){var r=this;return Object.keys(this.props).filter(function(n){return/^on[A-Z][a-zA-Z]+/.test(n)}).filter(function(n){return r.props[n]})},e.prototype.bindEventHandlers=function(r){var n=this;this.getBindingEventNames().forEach(function(i){var a=i[2].toLowerCase()+i.slice(3);n.editorInst.off(a),n.editorInst.on(a,r[i])})},e.prototype.getInitEvents=function(){var r=this;return this.getBindingEventNames().reduce(function(n,i){var a=i[2].toLowerCase()+i.slice(3);return n[a]=r.props[i],n},{})},e.prototype.componentDidMount=function(){this.editorInst=new UXe(Jf(Jf({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},e.prototype.shouldComponentUpdate=function(r){var n=this.getInstance(),i=r.height,a=r.previewStyle;return i&&this.props.height!==i&&n.setHeight(i),a&&this.props.previewStyle!==a&&n.changePreviewStyle(a),this.bindEventHandlers(r),!1},e.prototype.render=function(){return Fu.createElement("div",{ref:this.rootEl})},e})(Fu.Component);var ZXe=function(t){UA(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.rootEl=Fu.createRef(),r}return e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.viewerInst},e.prototype.getBindingEventNames=function(){var r=this;return Object.keys(this.props).filter(function(n){return/^on[A-Z][a-zA-Z]+/.test(n)}).filter(function(n){return r.props[n]})},e.prototype.bindEventHandlers=function(r){var n=this;this.getBindingEventNames().forEach(function(i){var a=i[2].toLowerCase()+i.slice(3);n.viewerInst.off(a),n.viewerInst.on(a,r[i])})},e.prototype.getInitEvents=function(){var r=this;return this.getBindingEventNames().reduce(function(n,i){var a=i[2].toLowerCase()+i.slice(3);return n[a]=r.props[i],n},{})},e.prototype.componentDidMount=function(){this.viewerInst=new YXe(Jf(Jf({el:this.rootEl.current},this.props),{events:this.getInitEvents()}))},e.prototype.shouldComponentUpdate=function(r){return this.bindEventHandlers(r),!1},e.prototype.render=function(){return Fu.createElement("div",{ref:this.rootEl})},e}(Fu.Component);const eYe=()=>{const{projectId:t}=zne(),[e,r]=Ae.useState(""),[n,i]=Ae.useState(!0),[a,s]=Ae.useState("");return Ae.useEffect(()=>{i(!0),fetch(`/projects/${t}.md`).then(u=>{if(!u.ok)throw new Error("Failed to load markdown file");return u.text()}).then(u=>{r(u),i(!1)}).catch(u=>{console.error(u),s("Failed to load markdown content"),i(!1)})},[t]),n?Ye.jsx("p",{children:"Loading..."}):a?Ye.jsx("p",{children:a}):Ye.jsx("div",{className:"flex items-center justify-center",children:Ye.jsx("div",{className:"w-full max-w-xl p-4",children:Ye.jsx(ZXe,{initialValue:e})})})};function tYe(){return Ye.jsx("div",{children:"NotFound"})}const rYe=()=>Ye.jsx(oie,{children:Ye.jsxs(nie,{children:[Ye.jsx(Bh,{path:"/",element:Ye.jsx(Oae,{}),children:Ye.jsx(Bh,{index:!0,element:Ye.jsx(toe,{})})}),Ye.jsx(Bh,{path:"project/:projectId",element:Ye.jsx(eYe,{})}),Ye.jsx(Bh,{path:"*",element:Ye.jsx(tYe,{})})]})});ane.createRoot(document.getElementById("root")).render(Ye.jsx(Ae.StrictMode,{children:Ye.jsx(rYe,{})}));
