function kM(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function CM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nh={exports:{}},js={},Lh={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function xM(){if(uw)return Se;uw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function g(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function k(L,H,me){this.props=L,this.context=H,this.refs=C,this.updater=me||w}k.prototype.isReactComponent={},k.prototype.setState=function(L,H){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,H,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function T(){}T.prototype=k.prototype;function M(L,H,me){this.props=L,this.context=H,this.refs=C,this.updater=me||w}var N=M.prototype=new T;N.constructor=M,b(N,k.prototype),N.isPureReactComponent=!0;var R=Array.isArray,B=Object.prototype.hasOwnProperty,z={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function ee(L,H,me){var ce,Te={},xe=null,_e=null;if(H!=null)for(ce in H.ref!==void 0&&(_e=H.ref),H.key!==void 0&&(xe=""+H.key),H)B.call(H,ce)&&!G.hasOwnProperty(ce)&&(Te[ce]=H[ce]);var Ae=arguments.length-2;if(Ae===1)Te.children=me;else if(1<Ae){for(var we=Array(Ae),lt=0;lt<Ae;lt++)we[lt]=arguments[lt+2];Te.children=we}if(L&&L.defaultProps)for(ce in Ae=L.defaultProps,Ae)Te[ce]===void 0&&(Te[ce]=Ae[ce]);return{$$typeof:t,type:L,key:xe,ref:_e,props:Te,_owner:z.current}}function K(L,H){return{$$typeof:t,type:L.type,key:H,ref:L.ref,props:L.props,_owner:L._owner}}function de(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function ve(L){var H={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(me){return H[me]})}var Ce=/\/+/g;function Le(L,H){return typeof L=="object"&&L!==null&&L.key!=null?ve(""+L.key):H.toString(36)}function Fe(L,H,me,ce,Te){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var _e=!1;if(L===null)_e=!0;else switch(xe){case"string":case"number":_e=!0;break;case"object":switch(L.$$typeof){case t:case e:_e=!0}}if(_e)return _e=L,Te=Te(_e),L=ce===""?"."+Le(_e,0):ce,R(Te)?(me="",L!=null&&(me=L.replace(Ce,"$&/")+"/"),Fe(Te,H,me,"",function(lt){return lt})):Te!=null&&(de(Te)&&(Te=K(Te,me+(!Te.key||_e&&_e.key===Te.key?"":(""+Te.key).replace(Ce,"$&/")+"/")+L)),H.push(Te)),1;if(_e=0,ce=ce===""?".":ce+":",R(L))for(var Ae=0;Ae<L.length;Ae++){xe=L[Ae];var we=ce+Le(xe,Ae);_e+=Fe(xe,H,me,we,Te)}else if(we=g(L),typeof we=="function")for(L=we.call(L),Ae=0;!(xe=L.next()).done;)xe=xe.value,we=ce+Le(xe,Ae++),_e+=Fe(xe,H,me,we,Te);else if(xe==="object")throw H=String(L),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return _e}function it(L,H,me){if(L==null)return L;var ce=[],Te=0;return Fe(L,ce,"","",function(xe){return H.call(me,xe,Te++)}),ce}function Ke(L){if(L._status===-1){var H=L._result;H=H(),H.then(function(me){(L._status===0||L._status===-1)&&(L._status=1,L._result=me)},function(me){(L._status===0||L._status===-1)&&(L._status=2,L._result=me)}),L._status===-1&&(L._status=0,L._result=H)}if(L._status===1)return L._result.default;throw L._result}var He={current:null},X={transition:null},ue={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:X,ReactCurrentOwner:z};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:it,forEach:function(L,H,me){it(L,function(){H.apply(this,arguments)},me)},count:function(L){var H=0;return it(L,function(){H++}),H},toArray:function(L){return it(L,function(H){return H})||[]},only:function(L){if(!de(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Se.Component=k,Se.Fragment=r,Se.Profiler=i,Se.PureComponent=M,Se.StrictMode=n,Se.Suspense=c,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Se.act=Y,Se.cloneElement=function(L,H,me){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ce=b({},L.props),Te=L.key,xe=L.ref,_e=L._owner;if(H!=null){if(H.ref!==void 0&&(xe=H.ref,_e=z.current),H.key!==void 0&&(Te=""+H.key),L.type&&L.type.defaultProps)var Ae=L.type.defaultProps;for(we in H)B.call(H,we)&&!G.hasOwnProperty(we)&&(ce[we]=H[we]===void 0&&Ae!==void 0?Ae[we]:H[we])}var we=arguments.length-2;if(we===1)ce.children=me;else if(1<we){Ae=Array(we);for(var lt=0;lt<we;lt++)Ae[lt]=arguments[lt+2];ce.children=Ae}return{$$typeof:t,type:L.type,key:Te,ref:xe,props:ce,_owner:_e}},Se.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Se.createElement=ee,Se.createFactory=function(L){var H=ee.bind(null,L);return H.type=L,H},Se.createRef=function(){return{current:null}},Se.forwardRef=function(L){return{$$typeof:u,render:L}},Se.isValidElement=de,Se.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:Ke}},Se.memo=function(L,H){return{$$typeof:d,type:L,compare:H===void 0?null:H}},Se.startTransition=function(L){var H=X.transition;X.transition={};try{L()}finally{X.transition=H}},Se.unstable_act=Y,Se.useCallback=function(L,H){return He.current.useCallback(L,H)},Se.useContext=function(L){return He.current.useContext(L)},Se.useDebugValue=function(){},Se.useDeferredValue=function(L){return He.current.useDeferredValue(L)},Se.useEffect=function(L,H){return He.current.useEffect(L,H)},Se.useId=function(){return He.current.useId()},Se.useImperativeHandle=function(L,H,me){return He.current.useImperativeHandle(L,H,me)},Se.useInsertionEffect=function(L,H){return He.current.useInsertionEffect(L,H)},Se.useLayoutEffect=function(L,H){return He.current.useLayoutEffect(L,H)},Se.useMemo=function(L,H){return He.current.useMemo(L,H)},Se.useReducer=function(L,H,me){return He.current.useReducer(L,H,me)},Se.useRef=function(L){return He.current.useRef(L)},Se.useState=function(L){return He.current.useState(L)},Se.useSyncExternalStore=function(L,H,me){return He.current.useSyncExternalStore(L,H,me)},Se.useTransition=function(){return He.current.useTransition()},Se.version="18.3.1",Se}var cw;function Ev(){return cw||(cw=1,Lh.exports=xM()),Lh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function TM(){if(fw)return js;fw=1;var t=Ev(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,d){var p,v={},g=null,w=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(w=c.ref);for(p in c)n.call(c,p)&&!a.hasOwnProperty(p)&&(v[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)v[p]===void 0&&(v[p]=c[p]);return{$$typeof:e,type:u,key:g,ref:w,props:v,_owner:i.current}}return js.Fragment=r,js.jsx=s,js.jsxs=s,js}var dw;function SM(){return dw||(dw=1,Nh.exports=TM()),Nh.exports}var $=SM(),I=Ev();const EM=CM(I),MM=kM({__proto__:null,default:EM},[I]);var tc={},Ah={exports:{}},ar={},Dh={exports:{}},Ih={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function OM(){return hw||(hw=1,function(t){function e(X,ue){var Y=X.length;X.push(ue);e:for(;0<Y;){var L=Y-1>>>1,H=X[L];if(0<i(H,ue))X[L]=ue,X[Y]=H,Y=L;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ue=X[0],Y=X.pop();if(Y!==ue){X[0]=Y;e:for(var L=0,H=X.length,me=H>>>1;L<me;){var ce=2*(L+1)-1,Te=X[ce],xe=ce+1,_e=X[xe];if(0>i(Te,Y))xe<H&&0>i(_e,Te)?(X[L]=_e,X[xe]=Y,L=xe):(X[L]=Te,X[ce]=Y,L=ce);else if(xe<H&&0>i(_e,Y))X[L]=_e,X[xe]=Y,L=xe;else break e}}return ue}function i(X,ue){var Y=X.sortIndex-ue.sortIndex;return Y!==0?Y:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],p=1,v=null,g=3,w=!1,b=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(X){for(var ue=r(d);ue!==null;){if(ue.callback===null)n(d);else if(ue.startTime<=X)n(d),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=r(d)}}function R(X){if(C=!1,N(X),!b)if(r(c)!==null)b=!0,Ke(B);else{var ue=r(d);ue!==null&&He(R,ue.startTime-X)}}function B(X,ue){b=!1,C&&(C=!1,T(ee),ee=-1),w=!0;var Y=g;try{for(N(ue),v=r(c);v!==null&&(!(v.expirationTime>ue)||X&&!ve());){var L=v.callback;if(typeof L=="function"){v.callback=null,g=v.priorityLevel;var H=L(v.expirationTime<=ue);ue=t.unstable_now(),typeof H=="function"?v.callback=H:v===r(c)&&n(c),N(ue)}else n(c);v=r(c)}if(v!==null)var me=!0;else{var ce=r(d);ce!==null&&He(R,ce.startTime-ue),me=!1}return me}finally{v=null,g=Y,w=!1}}var z=!1,G=null,ee=-1,K=5,de=-1;function ve(){return!(t.unstable_now()-de<K)}function Ce(){if(G!==null){var X=t.unstable_now();de=X;var ue=!0;try{ue=G(!0,X)}finally{ue?Le():(z=!1,G=null)}}else z=!1}var Le;if(typeof M=="function")Le=function(){M(Ce)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,it=Fe.port2;Fe.port1.onmessage=Ce,Le=function(){it.postMessage(null)}}else Le=function(){k(Ce,0)};function Ke(X){G=X,z||(z=!0,Le())}function He(X,ue){ee=k(function(){X(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){b||w||(b=!0,Ke(B))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var ue=3;break;default:ue=g}var Y=g;g=ue;try{return X()}finally{g=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Y=g;g=X;try{return ue()}finally{g=Y}},t.unstable_scheduleCallback=function(X,ue,Y){var L=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?L+Y:L):Y=L,X){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Y+H,X={id:p++,callback:ue,priorityLevel:X,startTime:Y,expirationTime:H,sortIndex:-1},Y>L?(X.sortIndex=Y,e(d,X),r(c)===null&&X===r(d)&&(C?(T(ee),ee=-1):C=!0,He(R,Y-L))):(X.sortIndex=H,e(c,X),b||w||(b=!0,Ke(B))),X},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(X){var ue=g;return function(){var Y=g;g=ue;try{return X.apply(this,arguments)}finally{g=Y}}}}(Ih)),Ih}var pw;function NM(){return pw||(pw=1,Dh.exports=OM()),Dh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function LM(){if(vw)return ar;vw=1;var t=Ev(),e=NM();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function g(o){return c.call(v,o)?!0:c.call(p,o)?!1:d.test(o)?v[o]=!0:(p[o]=!0,!1)}function w(o,l,f,h){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return h?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,l,f,h){if(l===null||typeof l>"u"||w(o,l,f,h))return!0;if(h)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function C(o,l,f,h,m,y,x){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=y,this.removeEmptyString=x}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];k[l]=new C(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(T,M);k[l]=new C(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(T,M);k[l]=new C(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(T,M);k[l]=new C(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function N(o,l,f,h){var m=k.hasOwnProperty(l)?k[l]:null;(m!==null?m.type!==0:h||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,f,m,h)&&(f=null),h||m===null?g(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):m.mustUseProperty?o[m.propertyName]=f===null?m.type===3?!1:"":f:(l=m.attributeName,h=m.attributeNamespace,f===null?o.removeAttribute(l):(m=m.type,f=m===3||m===4&&f===!0?"":""+f,h?o.setAttributeNS(h,l,f):o.setAttribute(l,f))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),ve=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),X=Symbol.iterator;function ue(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Object.assign,L;function H(o){if(L===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);L=l&&l[1]||""}return`
`+L+o}var me=!1;function ce(o,l){if(!o||me)return"";me=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(_){var h=_}Reflect.construct(o,[],l)}else{try{l.call()}catch(_){h=_}o.call(l.prototype)}else{try{throw Error()}catch(_){h=_}o()}}catch(_){if(_&&h&&typeof _.stack=="string"){for(var m=_.stack.split(`
`),y=h.stack.split(`
`),x=m.length-1,S=y.length-1;1<=x&&0<=S&&m[x]!==y[S];)S--;for(;1<=x&&0<=S;x--,S--)if(m[x]!==y[S]){if(x!==1||S!==1)do if(x--,S--,0>S||m[x]!==y[S]){var E=`
`+m[x].replace(" at new "," at ");return o.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",o.displayName)),E}while(1<=x&&0<=S);break}}}finally{me=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?H(o):""}function Te(o){switch(o.tag){case 5:return H(o.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return o=ce(o.type,!1),o;case 11:return o=ce(o.type.render,!1),o;case 1:return o=ce(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case G:return"Fragment";case z:return"Portal";case K:return"Profiler";case ee:return"StrictMode";case Le:return"Suspense";case Fe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ve:return(o.displayName||"Context")+".Consumer";case de:return(o._context.displayName||"Context")+".Provider";case Ce:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case it:return l=o.displayName||null,l!==null?l:xe(o.type)||"Memo";case Ke:l=o._payload,o=o._init;try{return xe(o(l))}catch{}}return null}function _e(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ae(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function we(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function lt(o){var l=we(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),h=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,y=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return m.call(this)},set:function(x){h=""+x,y.call(this,x)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Yt(o){o._valueTracker||(o._valueTracker=lt(o))}function Cn(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),h="";return o&&(h=we(o)?o.checked?"true":"false":o.value),o=h,o!==f?(l.setValue(o),!0):!1}function Zn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Gi(o,l){var f=l.checked;return Y({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function xn(o,l){var f=l.defaultValue==null?"":l.defaultValue,h=l.checked!=null?l.checked:l.defaultChecked;f=Ae(l.value!=null?l.value:f),o._wrapperState={initialChecked:h,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ki(o,l){l=l.checked,l!=null&&N(o,"checked",l,!1)}function Va(o,l){Ki(o,l);var f=Ae(l.value),h=l.type;if(f!=null)h==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(h==="submit"||h==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?ja(o,l.type,f):l.hasOwnProperty("defaultValue")&&ja(o,l.type,Ae(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Qi(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var h=l.type;if(!(h!=="submit"&&h!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function ja(o,l,f){(l!=="number"||Zn(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Tn=Array.isArray;function br(o,l,f,h){if(o=o.options,l){l={};for(var m=0;m<f.length;m++)l["$"+f[m]]=!0;for(f=0;f<o.length;f++)m=l.hasOwnProperty("$"+o[f].value),o[f].selected!==m&&(o[f].selected=m),m&&h&&(o[f].defaultSelected=!0)}else{for(f=""+Ae(f),l=null,m=0;m<o.length;m++){if(o[m].value===f){o[m].selected=!0,h&&(o[m].defaultSelected=!0);return}l!==null||o[m].disabled||(l=o[m])}l!==null&&(l.selected=!0)}}function tn(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Sn(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Tn(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:Ae(f)}}function ts(o,l){var f=Ae(l.value),h=Ae(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),h!=null&&(o.defaultValue=""+h)}function rs(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function ns(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ji(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?ns(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Xi,qa=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,h,m){MSApp.execUnsafeLocalFunction(function(){return o(l,f,h,m)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Xi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function En(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ua=["Webkit","ms","Moz","O"];Object.keys(Zt).forEach(function(o){Ua.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Zt[l]=Zt[o]})});function Wa(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Zt.hasOwnProperty(o)&&Zt[o]?(""+l).trim():l+"px"}function Mn(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var h=f.indexOf("--")===0,m=Wa(f,l[f],h);f==="float"&&(f="cssFloat"),h?o.setProperty(f,m):o[f]=m}}var Kf=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function is(o,l){if(l){if(Kf[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function rn(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nn=null;function as(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Yi=null,On=null,Nn=null;function Zi(o){if(o=Os(o)){if(typeof Yi!="function")throw Error(r(280));var l=o.stateNode;l&&(l=mu(l),Yi(o.stateNode,o.type,l))}}function Ga(o){On?Nn?Nn.push(o):Nn=[o]:On=o}function Gl(){if(On){var o=On,l=Nn;if(Nn=On=null,Zi(o),l)for(o=0;o<l.length;o++)Zi(l[o])}}function kr(o,l){return o(l)}function ss(){}var Ka=!1;function ls(o,l,f){if(Ka)return o(l,f);Ka=!0;try{return kr(o,l,f)}finally{Ka=!1,(On!==null||Nn!==null)&&(ss(),Gl())}}function ea(o,l){var f=o.stateNode;if(f===null)return null;var h=mu(f);if(h===null)return null;f=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Ln=!1;if(u)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{Ln=!1}function Kl(o,l,f,h,m,y,x,S,E){var _=Array.prototype.slice.call(arguments,3);try{l.apply(f,_)}catch(q){this.onError(q)}}var ei=!1,ta=null,Qa=!1,fe=null,D={onError:function(o){ei=!0,ta=o}};function J(o,l,f,h,m,y,x,S,E){ei=!1,ta=null,Kl.apply(D,arguments)}function se(o,l,f,h,m,y,x,S,E){if(J.apply(this,arguments),ei){if(ei){var _=ta;ei=!1,ta=null}else throw Error(r(198));Qa||(Qa=!0,fe=_)}}function Me(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function ut(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function ct(o){if(Me(o)!==o)throw Error(r(188))}function gt(o){var l=o.alternate;if(!l){if(l=Me(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,h=l;;){var m=f.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){f=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===f)return ct(m),o;if(y===h)return ct(m),l;y=y.sibling}throw Error(r(188))}if(f.return!==h.return)f=m,h=y;else{for(var x=!1,S=m.child;S;){if(S===f){x=!0,f=m,h=y;break}if(S===h){x=!0,h=m,f=y;break}S=S.sibling}if(!x){for(S=y.child;S;){if(S===f){x=!0,f=y,h=m;break}if(S===h){x=!0,h=y,f=m;break}S=S.sibling}if(!x)throw Error(r(189))}}if(f.alternate!==h)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function Cr(o){return o=gt(o),o!==null?ti(o):null}function ti(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=ti(o);if(l!==null)return l;o=o.sibling}return null}var us=e.unstable_scheduleCallback,Ql=e.unstable_cancelCallback,Bm=e.unstable_shouldYield,RS=e.unstable_requestPaint,et=e.unstable_now,PS=e.unstable_getCurrentPriorityLevel,Qf=e.unstable_ImmediatePriority,Fm=e.unstable_UserBlockingPriority,Jl=e.unstable_NormalPriority,_S=e.unstable_LowPriority,Hm=e.unstable_IdlePriority,Xl=null,an=null;function BS(o){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Xl,o,void 0,(o.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:zS,FS=Math.log,HS=Math.LN2;function zS(o){return o>>>=0,o===0?32:31-(FS(o)/HS|0)|0}var Yl=64,Zl=4194304;function cs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function eu(o,l){var f=o.pendingLanes;if(f===0)return 0;var h=0,m=o.suspendedLanes,y=o.pingedLanes,x=f&268435455;if(x!==0){var S=x&~m;S!==0?h=cs(S):(y&=x,y!==0&&(h=cs(y)))}else x=f&~m,x!==0?h=cs(x):y!==0&&(h=cs(y));if(h===0)return 0;if(l!==0&&l!==h&&!(l&m)&&(m=h&-h,y=l&-l,m>=y||m===16&&(y&4194240)!==0))return l;if(h&4&&(h|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=h;0<l;)f=31-_r(l),m=1<<f,h|=o[f],l&=~m;return h}function $S(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VS(o,l){for(var f=o.suspendedLanes,h=o.pingedLanes,m=o.expirationTimes,y=o.pendingLanes;0<y;){var x=31-_r(y),S=1<<x,E=m[x];E===-1?(!(S&f)||S&h)&&(m[x]=$S(S,l)):E<=l&&(o.expiredLanes|=S),y&=~S}}function Jf(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function zm(){var o=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),o}function Xf(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function fs(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-_r(l),o[l]=f}function jS(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var h=o.eventTimes;for(o=o.expirationTimes;0<f;){var m=31-_r(f),y=1<<m;l[m]=0,h[m]=-1,o[m]=-1,f&=~y}}function Yf(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var h=31-_r(f),m=1<<h;m&l|o[h]&l&&(o[h]|=l),f&=~m}}var Ve=0;function $m(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Vm,Zf,jm,qm,Um,ed=!1,tu=[],ri=null,ni=null,ii=null,ds=new Map,hs=new Map,ai=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wm(o,l){switch(o){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ds.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(l.pointerId)}}function ps(o,l,f,h,m,y){return o===null||o.nativeEvent!==y?(o={blockedOn:l,domEventName:f,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},l!==null&&(l=Os(l),l!==null&&Zf(l)),o):(o.eventSystemFlags|=h,l=o.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),o)}function US(o,l,f,h,m){switch(l){case"focusin":return ri=ps(ri,o,l,f,h,m),!0;case"dragenter":return ni=ps(ni,o,l,f,h,m),!0;case"mouseover":return ii=ps(ii,o,l,f,h,m),!0;case"pointerover":var y=m.pointerId;return ds.set(y,ps(ds.get(y)||null,o,l,f,h,m)),!0;case"gotpointercapture":return y=m.pointerId,hs.set(y,ps(hs.get(y)||null,o,l,f,h,m)),!0}return!1}function Gm(o){var l=ra(o.target);if(l!==null){var f=Me(l);if(f!==null){if(l=f.tag,l===13){if(l=ut(f),l!==null){o.blockedOn=l,Um(o.priority,function(){jm(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ru(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=rd(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var h=new f.constructor(f.type,f);nn=h,f.target.dispatchEvent(h),nn=null}else return l=Os(f),l!==null&&Zf(l),o.blockedOn=f,!1;l.shift()}return!0}function Km(o,l,f){ru(o)&&f.delete(l)}function WS(){ed=!1,ri!==null&&ru(ri)&&(ri=null),ni!==null&&ru(ni)&&(ni=null),ii!==null&&ru(ii)&&(ii=null),ds.forEach(Km),hs.forEach(Km)}function vs(o,l){o.blockedOn===l&&(o.blockedOn=null,ed||(ed=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WS)))}function ms(o){function l(m){return vs(m,o)}if(0<tu.length){vs(tu[0],o);for(var f=1;f<tu.length;f++){var h=tu[f];h.blockedOn===o&&(h.blockedOn=null)}}for(ri!==null&&vs(ri,o),ni!==null&&vs(ni,o),ii!==null&&vs(ii,o),ds.forEach(l),hs.forEach(l),f=0;f<ai.length;f++)h=ai[f],h.blockedOn===o&&(h.blockedOn=null);for(;0<ai.length&&(f=ai[0],f.blockedOn===null);)Gm(f),f.blockedOn===null&&ai.shift()}var Ja=R.ReactCurrentBatchConfig,nu=!0;function GS(o,l,f,h){var m=Ve,y=Ja.transition;Ja.transition=null;try{Ve=1,td(o,l,f,h)}finally{Ve=m,Ja.transition=y}}function KS(o,l,f,h){var m=Ve,y=Ja.transition;Ja.transition=null;try{Ve=4,td(o,l,f,h)}finally{Ve=m,Ja.transition=y}}function td(o,l,f,h){if(nu){var m=rd(o,l,f,h);if(m===null)wd(o,l,h,iu,f),Wm(o,h);else if(US(m,o,l,f,h))h.stopPropagation();else if(Wm(o,h),l&4&&-1<qS.indexOf(o)){for(;m!==null;){var y=Os(m);if(y!==null&&Vm(y),y=rd(o,l,f,h),y===null&&wd(o,l,h,iu,f),y===m)break;m=y}m!==null&&h.stopPropagation()}else wd(o,l,h,null,f)}}var iu=null;function rd(o,l,f,h){if(iu=null,o=as(h),o=ra(o),o!==null)if(l=Me(o),l===null)o=null;else if(f=l.tag,f===13){if(o=ut(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return iu=o,null}function Qm(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PS()){case Qf:return 1;case Fm:return 4;case Jl:case _S:return 16;case Hm:return 536870912;default:return 16}default:return 16}}var oi=null,nd=null,au=null;function Jm(){if(au)return au;var o,l=nd,f=l.length,h,m="value"in oi?oi.value:oi.textContent,y=m.length;for(o=0;o<f&&l[o]===m[o];o++);var x=f-o;for(h=1;h<=x&&l[f-h]===m[y-h];h++);return au=m.slice(o,1<h?1-h:void 0)}function ou(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function su(){return!0}function Xm(){return!1}function dr(o){function l(f,h,m,y,x){this._reactName=f,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var S in o)o.hasOwnProperty(S)&&(f=o[S],this[S]=f?f(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?su:Xm,this.isPropagationStopped=Xm,this}return Y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),l}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=dr(Xa),gs=Y({},Xa,{view:0,detail:0}),QS=dr(gs),ad,od,ys,lu=Y({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ys&&(ys&&o.type==="mousemove"?(ad=o.screenX-ys.screenX,od=o.screenY-ys.screenY):od=ad=0,ys=o),ad)},movementY:function(o){return"movementY"in o?o.movementY:od}}),Ym=dr(lu),JS=Y({},lu,{dataTransfer:0}),XS=dr(JS),YS=Y({},gs,{relatedTarget:0}),sd=dr(YS),ZS=Y({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),eE=dr(ZS),tE=Y({},Xa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),rE=dr(tE),nE=Y({},Xa,{data:0}),Zm=dr(nE),iE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sE(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=oE[o])?!!l[o]:!1}function ld(){return sE}var lE=Y({},gs,{key:function(o){if(o.key){var l=iE[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ou(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?aE[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(o){return o.type==="keypress"?ou(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ou(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),uE=dr(lE),cE=Y({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=dr(cE),fE=Y({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),dE=dr(fE),hE=Y({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),pE=dr(hE),vE=Y({},lu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),mE=dr(vE),gE=[9,13,27,32],ud=u&&"CompositionEvent"in window,ws=null;u&&"documentMode"in document&&(ws=document.documentMode);var yE=u&&"TextEvent"in window&&!ws,tg=u&&(!ud||ws&&8<ws&&11>=ws),rg=" ",ng=!1;function ig(o,l){switch(o){case"keyup":return gE.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ag(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ya=!1;function wE(o,l){switch(o){case"compositionend":return ag(l);case"keypress":return l.which!==32?null:(ng=!0,rg);case"textInput":return o=l.data,o===rg&&ng?null:o;default:return null}}function bE(o,l){if(Ya)return o==="compositionend"||!ud&&ig(o,l)?(o=Jm(),au=nd=oi=null,Ya=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return tg&&l.locale!=="ko"?null:l.data;default:return null}}var kE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!kE[o.type]:l==="textarea"}function sg(o,l,f,h){Ga(h),l=hu(l,"onChange"),0<l.length&&(f=new id("onChange","change",null,f,h),o.push({event:f,listeners:l}))}var bs=null,ks=null;function CE(o){Sg(o,0)}function uu(o){var l=no(o);if(Cn(l))return o}function xE(o,l){if(o==="change")return l}var lg=!1;if(u){var cd;if(u){var fd="oninput"in document;if(!fd){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),fd=typeof ug.oninput=="function"}cd=fd}else cd=!1;lg=cd&&(!document.documentMode||9<document.documentMode)}function cg(){bs&&(bs.detachEvent("onpropertychange",fg),ks=bs=null)}function fg(o){if(o.propertyName==="value"&&uu(ks)){var l=[];sg(l,ks,o,as(o)),ls(CE,l)}}function TE(o,l,f){o==="focusin"?(cg(),bs=l,ks=f,bs.attachEvent("onpropertychange",fg)):o==="focusout"&&cg()}function SE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return uu(ks)}function EE(o,l){if(o==="click")return uu(l)}function ME(o,l){if(o==="input"||o==="change")return uu(l)}function OE(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Br=typeof Object.is=="function"?Object.is:OE;function Cs(o,l){if(Br(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),h=Object.keys(l);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var m=f[h];if(!c.call(l,m)||!Br(o[m],l[m]))return!1}return!0}function dg(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function hg(o,l){var f=dg(o);o=0;for(var h;f;){if(f.nodeType===3){if(h=o+f.textContent.length,o<=l&&h>=l)return{node:f,offset:l-o};o=h}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=dg(f)}}function pg(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?pg(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function vg(){for(var o=window,l=Zn();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Zn(o.document)}return l}function dd(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function NE(o){var l=vg(),f=o.focusedElem,h=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&pg(f.ownerDocument.documentElement,f)){if(h!==null&&dd(f)){if(l=h.start,o=h.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var m=f.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!o.extend&&y>h&&(m=h,h=y,y=m),m=hg(f,y);var x=hg(f,h);m&&x&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==x.node||o.focusOffset!==x.offset)&&(l=l.createRange(),l.setStart(m.node,m.offset),o.removeAllRanges(),y>h?(o.addRange(l),o.extend(x.node,x.offset)):(l.setEnd(x.node,x.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var LE=u&&"documentMode"in document&&11>=document.documentMode,Za=null,hd=null,xs=null,pd=!1;function mg(o,l,f){var h=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;pd||Za==null||Za!==Zn(h)||(h=Za,"selectionStart"in h&&dd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),xs&&Cs(xs,h)||(xs=h,h=hu(hd,"onSelect"),0<h.length&&(l=new id("onSelect","select",null,l,f),o.push({event:l,listeners:h}),l.target=Za)))}function cu(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var eo={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},vd={},gg={};u&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function fu(o){if(vd[o])return vd[o];if(!eo[o])return o;var l=eo[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in gg)return vd[o]=l[f];return o}var yg=fu("animationend"),wg=fu("animationiteration"),bg=fu("animationstart"),kg=fu("transitionend"),Cg=new Map,xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(o,l){Cg.set(o,l),a(l,[o])}for(var md=0;md<xg.length;md++){var gd=xg[md],AE=gd.toLowerCase(),DE=gd[0].toUpperCase()+gd.slice(1);si(AE,"on"+DE)}si(yg,"onAnimationEnd"),si(wg,"onAnimationIteration"),si(bg,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(kg,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Tg(o,l,f){var h=o.type||"unknown-event";o.currentTarget=f,se(h,l,void 0,o),o.currentTarget=null}function Sg(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var h=o[f],m=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var x=h.length-1;0<=x;x--){var S=h[x],E=S.instance,_=S.currentTarget;if(S=S.listener,E!==y&&m.isPropagationStopped())break e;Tg(m,S,_),y=E}else for(x=0;x<h.length;x++){if(S=h[x],E=S.instance,_=S.currentTarget,S=S.listener,E!==y&&m.isPropagationStopped())break e;Tg(m,S,_),y=E}}}if(Qa)throw o=fe,Qa=!1,fe=null,o}function qe(o,l){var f=l[Sd];f===void 0&&(f=l[Sd]=new Set);var h=o+"__bubble";f.has(h)||(Eg(l,o,2,!1),f.add(h))}function yd(o,l,f){var h=0;l&&(h|=4),Eg(f,o,h,l)}var du="_reactListening"+Math.random().toString(36).slice(2);function Ss(o){if(!o[du]){o[du]=!0,n.forEach(function(f){f!=="selectionchange"&&(IE.has(f)||yd(f,!1,o),yd(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[du]||(l[du]=!0,yd("selectionchange",!1,l))}}function Eg(o,l,f,h){switch(Qm(l)){case 1:var m=GS;break;case 4:m=KS;break;default:m=td}f=m.bind(null,l,f,o),m=void 0,!Ln||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),h?m!==void 0?o.addEventListener(l,f,{capture:!0,passive:m}):o.addEventListener(l,f,!0):m!==void 0?o.addEventListener(l,f,{passive:m}):o.addEventListener(l,f,!1)}function wd(o,l,f,h,m){var y=h;if(!(l&1)&&!(l&2)&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var S=h.stateNode.containerInfo;if(S===m||S.nodeType===8&&S.parentNode===m)break;if(x===4)for(x=h.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===m||E.nodeType===8&&E.parentNode===m))return;x=x.return}for(;S!==null;){if(x=ra(S),x===null)return;if(E=x.tag,E===5||E===6){h=y=x;continue e}S=S.parentNode}}h=h.return}ls(function(){var _=y,q=as(f),U=[];e:{var V=Cg.get(o);if(V!==void 0){var te=id,ie=o;switch(o){case"keypress":if(ou(f)===0)break e;case"keydown":case"keyup":te=uE;break;case"focusin":ie="focus",te=sd;break;case"focusout":ie="blur",te=sd;break;case"beforeblur":case"afterblur":te=sd;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=XS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=dE;break;case yg:case wg:case bg:te=eE;break;case kg:te=pE;break;case"scroll":te=QS;break;case"wheel":te=mE;break;case"copy":case"cut":case"paste":te=rE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=eg}var ae=(l&4)!==0,tt=!ae&&o==="scroll",A=ae?V!==null?V+"Capture":null:V;ae=[];for(var O=_,P;O!==null;){P=O;var W=P.stateNode;if(P.tag===5&&W!==null&&(P=W,A!==null&&(W=ea(O,A),W!=null&&ae.push(Es(O,W,P)))),tt)break;O=O.return}0<ae.length&&(V=new te(V,ie,null,f,q),U.push({event:V,listeners:ae}))}}if(!(l&7)){e:{if(V=o==="mouseover"||o==="pointerover",te=o==="mouseout"||o==="pointerout",V&&f!==nn&&(ie=f.relatedTarget||f.fromElement)&&(ra(ie)||ie[An]))break e;if((te||V)&&(V=q.window===q?q:(V=q.ownerDocument)?V.defaultView||V.parentWindow:window,te?(ie=f.relatedTarget||f.toElement,te=_,ie=ie?ra(ie):null,ie!==null&&(tt=Me(ie),ie!==tt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(te=null,ie=_),te!==ie)){if(ae=Ym,W="onMouseLeave",A="onMouseEnter",O="mouse",(o==="pointerout"||o==="pointerover")&&(ae=eg,W="onPointerLeave",A="onPointerEnter",O="pointer"),tt=te==null?V:no(te),P=ie==null?V:no(ie),V=new ae(W,O+"leave",te,f,q),V.target=tt,V.relatedTarget=P,W=null,ra(q)===_&&(ae=new ae(A,O+"enter",ie,f,q),ae.target=P,ae.relatedTarget=tt,W=ae),tt=W,te&&ie)t:{for(ae=te,A=ie,O=0,P=ae;P;P=to(P))O++;for(P=0,W=A;W;W=to(W))P++;for(;0<O-P;)ae=to(ae),O--;for(;0<P-O;)A=to(A),P--;for(;O--;){if(ae===A||A!==null&&ae===A.alternate)break t;ae=to(ae),A=to(A)}ae=null}else ae=null;te!==null&&Mg(U,V,te,ae,!1),ie!==null&&tt!==null&&Mg(U,tt,ie,ae,!0)}}e:{if(V=_?no(_):window,te=V.nodeName&&V.nodeName.toLowerCase(),te==="select"||te==="input"&&V.type==="file")var le=xE;else if(og(V))if(lg)le=ME;else{le=SE;var he=TE}else(te=V.nodeName)&&te.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(le=EE);if(le&&(le=le(o,_))){sg(U,le,f,q);break e}he&&he(o,V,_),o==="focusout"&&(he=V._wrapperState)&&he.controlled&&V.type==="number"&&ja(V,"number",V.value)}switch(he=_?no(_):window,o){case"focusin":(og(he)||he.contentEditable==="true")&&(Za=he,hd=_,xs=null);break;case"focusout":xs=hd=Za=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,mg(U,f,q);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":mg(U,f,q)}var pe;if(ud)e:{switch(o){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ya?ig(o,f)&&(ge="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(ge="onCompositionStart");ge&&(tg&&f.locale!=="ko"&&(Ya||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ya&&(pe=Jm()):(oi=q,nd="value"in oi?oi.value:oi.textContent,Ya=!0)),he=hu(_,ge),0<he.length&&(ge=new Zm(ge,o,null,f,q),U.push({event:ge,listeners:he}),pe?ge.data=pe:(pe=ag(f),pe!==null&&(ge.data=pe)))),(pe=yE?wE(o,f):bE(o,f))&&(_=hu(_,"onBeforeInput"),0<_.length&&(q=new Zm("onBeforeInput","beforeinput",null,f,q),U.push({event:q,listeners:_}),q.data=pe))}Sg(U,l)})}function Es(o,l,f){return{instance:o,listener:l,currentTarget:f}}function hu(o,l){for(var f=l+"Capture",h=[];o!==null;){var m=o,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ea(o,f),y!=null&&h.unshift(Es(o,y,m)),y=ea(o,l),y!=null&&h.push(Es(o,y,m))),o=o.return}return h}function to(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Mg(o,l,f,h,m){for(var y=l._reactName,x=[];f!==null&&f!==h;){var S=f,E=S.alternate,_=S.stateNode;if(E!==null&&E===h)break;S.tag===5&&_!==null&&(S=_,m?(E=ea(f,y),E!=null&&x.unshift(Es(f,E,S))):m||(E=ea(f,y),E!=null&&x.push(Es(f,E,S)))),f=f.return}x.length!==0&&o.push({event:l,listeners:x})}var RE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function Og(o){return(typeof o=="string"?o:""+o).replace(RE,`
`).replace(PE,"")}function pu(o,l,f){if(l=Og(l),Og(o)!==l&&f)throw Error(r(425))}function vu(){}var bd=null,kd=null;function Cd(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var xd=typeof setTimeout=="function"?setTimeout:void 0,_E=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(o){return Ng.resolve(null).then(o).catch(FE)}:xd;function FE(o){setTimeout(function(){throw o})}function Td(o,l){var f=l,h=0;do{var m=f.nextSibling;if(o.removeChild(f),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(h===0){o.removeChild(m),ms(l);return}h--}else f!=="$"&&f!=="$?"&&f!=="$!"||h++;f=m}while(f);ms(l)}function li(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Lg(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var ro=Math.random().toString(36).slice(2),on="__reactFiber$"+ro,Ms="__reactProps$"+ro,An="__reactContainer$"+ro,Sd="__reactEvents$"+ro,HE="__reactListeners$"+ro,zE="__reactHandles$"+ro;function ra(o){var l=o[on];if(l)return l;for(var f=o.parentNode;f;){if(l=f[An]||f[on]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Lg(o);o!==null;){if(f=o[on])return f;o=Lg(o)}return l}o=f,f=o.parentNode}return null}function Os(o){return o=o[on]||o[An],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function no(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function mu(o){return o[Ms]||null}var Ed=[],io=-1;function ui(o){return{current:o}}function Ue(o){0>io||(o.current=Ed[io],Ed[io]=null,io--)}function je(o,l){io++,Ed[io]=o.current,o.current=l}var ci={},Rt=ui(ci),er=ui(!1),na=ci;function ao(o,l){var f=o.type.contextTypes;if(!f)return ci;var h=o.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===l)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in f)m[y]=l[y];return h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=m),m}function tr(o){return o=o.childContextTypes,o!=null}function gu(){Ue(er),Ue(Rt)}function Ag(o,l,f){if(Rt.current!==ci)throw Error(r(168));je(Rt,l),je(er,f)}function Dg(o,l,f){var h=o.stateNode;if(l=l.childContextTypes,typeof h.getChildContext!="function")return f;h=h.getChildContext();for(var m in h)if(!(m in l))throw Error(r(108,_e(o)||"Unknown",m));return Y({},f,h)}function yu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ci,na=Rt.current,je(Rt,o),je(er,er.current),!0}function Ig(o,l,f){var h=o.stateNode;if(!h)throw Error(r(169));f?(o=Dg(o,l,na),h.__reactInternalMemoizedMergedChildContext=o,Ue(er),Ue(Rt),je(Rt,o)):Ue(er),je(er,f)}var Dn=null,wu=!1,Md=!1;function Rg(o){Dn===null?Dn=[o]:Dn.push(o)}function $E(o){wu=!0,Rg(o)}function fi(){if(!Md&&Dn!==null){Md=!0;var o=0,l=Ve;try{var f=Dn;for(Ve=1;o<f.length;o++){var h=f[o];do h=h(!0);while(h!==null)}Dn=null,wu=!1}catch(m){throw Dn!==null&&(Dn=Dn.slice(o+1)),us(Qf,fi),m}finally{Ve=l,Md=!1}}return null}var oo=[],so=0,bu=null,ku=0,xr=[],Tr=0,ia=null,In=1,Rn="";function aa(o,l){oo[so++]=ku,oo[so++]=bu,bu=o,ku=l}function Pg(o,l,f){xr[Tr++]=In,xr[Tr++]=Rn,xr[Tr++]=ia,ia=o;var h=In;o=Rn;var m=32-_r(h)-1;h&=~(1<<m),f+=1;var y=32-_r(l)+m;if(30<y){var x=m-m%5;y=(h&(1<<x)-1).toString(32),h>>=x,m-=x,In=1<<32-_r(l)+m|f<<m|h,Rn=y+o}else In=1<<y|f<<m|h,Rn=o}function Od(o){o.return!==null&&(aa(o,1),Pg(o,1,0))}function Nd(o){for(;o===bu;)bu=oo[--so],oo[so]=null,ku=oo[--so],oo[so]=null;for(;o===ia;)ia=xr[--Tr],xr[Tr]=null,Rn=xr[--Tr],xr[Tr]=null,In=xr[--Tr],xr[Tr]=null}var hr=null,pr=null,We=!1,Fr=null;function _g(o,l){var f=Or(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function Bg(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,hr=o,pr=li(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,hr=o,pr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=ia!==null?{id:In,overflow:Rn}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Or(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,hr=o,pr=null,!0):!1;default:return!1}}function Ld(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ad(o){if(We){var l=pr;if(l){var f=l;if(!Bg(o,l)){if(Ld(o))throw Error(r(418));l=li(f.nextSibling);var h=hr;l&&Bg(o,l)?_g(h,f):(o.flags=o.flags&-4097|2,We=!1,hr=o)}}else{if(Ld(o))throw Error(r(418));o.flags=o.flags&-4097|2,We=!1,hr=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;hr=o}function Cu(o){if(o!==hr)return!1;if(!We)return Fg(o),We=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Cd(o.type,o.memoizedProps)),l&&(l=pr)){if(Ld(o))throw Hg(),Error(r(418));for(;l;)_g(o,l),l=li(l.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){pr=li(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}pr=null}}else pr=hr?li(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=pr;o;)o=li(o.nextSibling)}function lo(){pr=hr=null,We=!1}function Dd(o){Fr===null?Fr=[o]:Fr.push(o)}var VE=R.ReactCurrentBatchConfig;function Ns(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var h=f.stateNode}if(!h)throw Error(r(147,o));var m=h,y=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===y?l.ref:(l=function(x){var S=m.refs;x===null?delete S[y]:S[y]=x},l._stringRef=y,l)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function xu(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function zg(o){var l=o._init;return l(o._payload)}function $g(o){function l(A,O){if(o){var P=A.deletions;P===null?(A.deletions=[O],A.flags|=16):P.push(O)}}function f(A,O){if(!o)return null;for(;O!==null;)l(A,O),O=O.sibling;return null}function h(A,O){for(A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function m(A,O){return A=wi(A,O),A.index=0,A.sibling=null,A}function y(A,O,P){return A.index=P,o?(P=A.alternate,P!==null?(P=P.index,P<O?(A.flags|=2,O):P):(A.flags|=2,O)):(A.flags|=1048576,O)}function x(A){return o&&A.alternate===null&&(A.flags|=2),A}function S(A,O,P,W){return O===null||O.tag!==6?(O=xh(P,A.mode,W),O.return=A,O):(O=m(O,P),O.return=A,O)}function E(A,O,P,W){var le=P.type;return le===G?q(A,O,P.props.children,W,P.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ke&&zg(le)===O.type)?(W=m(O,P.props),W.ref=Ns(A,O,P),W.return=A,W):(W=Gu(P.type,P.key,P.props,null,A.mode,W),W.ref=Ns(A,O,P),W.return=A,W)}function _(A,O,P,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Th(P,A.mode,W),O.return=A,O):(O=m(O,P.children||[]),O.return=A,O)}function q(A,O,P,W,le){return O===null||O.tag!==7?(O=ha(P,A.mode,W,le),O.return=A,O):(O=m(O,P),O.return=A,O)}function U(A,O,P){if(typeof O=="string"&&O!==""||typeof O=="number")return O=xh(""+O,A.mode,P),O.return=A,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return P=Gu(O.type,O.key,O.props,null,A.mode,P),P.ref=Ns(A,null,O),P.return=A,P;case z:return O=Th(O,A.mode,P),O.return=A,O;case Ke:var W=O._init;return U(A,W(O._payload),P)}if(Tn(O)||ue(O))return O=ha(O,A.mode,P,null),O.return=A,O;xu(A,O)}return null}function V(A,O,P,W){var le=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return le!==null?null:S(A,O,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===le?E(A,O,P,W):null;case z:return P.key===le?_(A,O,P,W):null;case Ke:return le=P._init,V(A,O,le(P._payload),W)}if(Tn(P)||ue(P))return le!==null?null:q(A,O,P,W,null);xu(A,P)}return null}function te(A,O,P,W,le){if(typeof W=="string"&&W!==""||typeof W=="number")return A=A.get(P)||null,S(O,A,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return A=A.get(W.key===null?P:W.key)||null,E(O,A,W,le);case z:return A=A.get(W.key===null?P:W.key)||null,_(O,A,W,le);case Ke:var he=W._init;return te(A,O,P,he(W._payload),le)}if(Tn(W)||ue(W))return A=A.get(P)||null,q(O,A,W,le,null);xu(O,W)}return null}function ie(A,O,P,W){for(var le=null,he=null,pe=O,ge=O=0,bt=null;pe!==null&&ge<P.length;ge++){pe.index>ge?(bt=pe,pe=null):bt=pe.sibling;var Be=V(A,pe,P[ge],W);if(Be===null){pe===null&&(pe=bt);break}o&&pe&&Be.alternate===null&&l(A,pe),O=y(Be,O,ge),he===null?le=Be:he.sibling=Be,he=Be,pe=bt}if(ge===P.length)return f(A,pe),We&&aa(A,ge),le;if(pe===null){for(;ge<P.length;ge++)pe=U(A,P[ge],W),pe!==null&&(O=y(pe,O,ge),he===null?le=pe:he.sibling=pe,he=pe);return We&&aa(A,ge),le}for(pe=h(A,pe);ge<P.length;ge++)bt=te(pe,A,ge,P[ge],W),bt!==null&&(o&&bt.alternate!==null&&pe.delete(bt.key===null?ge:bt.key),O=y(bt,O,ge),he===null?le=bt:he.sibling=bt,he=bt);return o&&pe.forEach(function(bi){return l(A,bi)}),We&&aa(A,ge),le}function ae(A,O,P,W){var le=ue(P);if(typeof le!="function")throw Error(r(150));if(P=le.call(P),P==null)throw Error(r(151));for(var he=le=null,pe=O,ge=O=0,bt=null,Be=P.next();pe!==null&&!Be.done;ge++,Be=P.next()){pe.index>ge?(bt=pe,pe=null):bt=pe.sibling;var bi=V(A,pe,Be.value,W);if(bi===null){pe===null&&(pe=bt);break}o&&pe&&bi.alternate===null&&l(A,pe),O=y(bi,O,ge),he===null?le=bi:he.sibling=bi,he=bi,pe=bt}if(Be.done)return f(A,pe),We&&aa(A,ge),le;if(pe===null){for(;!Be.done;ge++,Be=P.next())Be=U(A,Be.value,W),Be!==null&&(O=y(Be,O,ge),he===null?le=Be:he.sibling=Be,he=Be);return We&&aa(A,ge),le}for(pe=h(A,pe);!Be.done;ge++,Be=P.next())Be=te(pe,A,ge,Be.value,W),Be!==null&&(o&&Be.alternate!==null&&pe.delete(Be.key===null?ge:Be.key),O=y(Be,O,ge),he===null?le=Be:he.sibling=Be,he=Be);return o&&pe.forEach(function(bM){return l(A,bM)}),We&&aa(A,ge),le}function tt(A,O,P,W){if(typeof P=="object"&&P!==null&&P.type===G&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:e:{for(var le=P.key,he=O;he!==null;){if(he.key===le){if(le=P.type,le===G){if(he.tag===7){f(A,he.sibling),O=m(he,P.props.children),O.return=A,A=O;break e}}else if(he.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ke&&zg(le)===he.type){f(A,he.sibling),O=m(he,P.props),O.ref=Ns(A,he,P),O.return=A,A=O;break e}f(A,he);break}else l(A,he);he=he.sibling}P.type===G?(O=ha(P.props.children,A.mode,W,P.key),O.return=A,A=O):(W=Gu(P.type,P.key,P.props,null,A.mode,W),W.ref=Ns(A,O,P),W.return=A,A=W)}return x(A);case z:e:{for(he=P.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){f(A,O.sibling),O=m(O,P.children||[]),O.return=A,A=O;break e}else{f(A,O);break}else l(A,O);O=O.sibling}O=Th(P,A.mode,W),O.return=A,A=O}return x(A);case Ke:return he=P._init,tt(A,O,he(P._payload),W)}if(Tn(P))return ie(A,O,P,W);if(ue(P))return ae(A,O,P,W);xu(A,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,O!==null&&O.tag===6?(f(A,O.sibling),O=m(O,P),O.return=A,A=O):(f(A,O),O=xh(P,A.mode,W),O.return=A,A=O),x(A)):f(A,O)}return tt}var uo=$g(!0),Vg=$g(!1),Tu=ui(null),Su=null,co=null,Id=null;function Rd(){Id=co=Su=null}function Pd(o){var l=Tu.current;Ue(Tu),o._currentValue=l}function _d(o,l,f){for(;o!==null;){var h=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),o===f)break;o=o.return}}function fo(o,l){Su=o,Id=co=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(rr=!0),o.firstContext=null)}function Sr(o){var l=o._currentValue;if(Id!==o)if(o={context:o,memoizedValue:l,next:null},co===null){if(Su===null)throw Error(r(308));co=o,Su.dependencies={lanes:0,firstContext:o}}else co=co.next=o;return l}var oa=null;function Bd(o){oa===null?oa=[o]:oa.push(o)}function jg(o,l,f,h){var m=l.interleaved;return m===null?(f.next=f,Bd(l)):(f.next=m.next,m.next=f),l.interleaved=f,Pn(o,h)}function Pn(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var di=!1;function Fd(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function _n(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function hi(o,l,f){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,Ie&2){var m=h.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),h.pending=l,Pn(o,f)}return m=h.interleaved,m===null?(l.next=l,Bd(h)):(l.next=m.next,m.next=l),h.interleaved=l,Pn(o,f)}function Eu(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var h=l.lanes;h&=o.pendingLanes,f|=h,l.lanes=f,Yf(o,f)}}function Ug(o,l){var f=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var m=null,y=null;if(f=f.firstBaseUpdate,f!==null){do{var x={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};y===null?m=y=x:y=y.next=x,f=f.next}while(f!==null);y===null?m=y=l:y=y.next=l}else m=y=l;f={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function Mu(o,l,f,h){var m=o.updateQueue;di=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var E=S,_=E.next;E.next=null,x===null?y=_:x.next=_,x=E;var q=o.alternate;q!==null&&(q=q.updateQueue,S=q.lastBaseUpdate,S!==x&&(S===null?q.firstBaseUpdate=_:S.next=_,q.lastBaseUpdate=E))}if(y!==null){var U=m.baseState;x=0,q=_=E=null,S=y;do{var V=S.lane,te=S.eventTime;if((h&V)===V){q!==null&&(q=q.next={eventTime:te,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ie=o,ae=S;switch(V=l,te=f,ae.tag){case 1:if(ie=ae.payload,typeof ie=="function"){U=ie.call(te,U,V);break e}U=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ae.payload,V=typeof ie=="function"?ie.call(te,U,V):ie,V==null)break e;U=Y({},U,V);break e;case 2:di=!0}}S.callback!==null&&S.lane!==0&&(o.flags|=64,V=m.effects,V===null?m.effects=[S]:V.push(S))}else te={eventTime:te,lane:V,tag:S.tag,payload:S.payload,callback:S.callback,next:null},q===null?(_=q=te,E=U):q=q.next=te,x|=V;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;V=S,S=V.next,V.next=null,m.lastBaseUpdate=V,m.shared.pending=null}}while(!0);if(q===null&&(E=U),m.baseState=E,m.firstBaseUpdate=_,m.lastBaseUpdate=q,l=m.shared.interleaved,l!==null){m=l;do x|=m.lane,m=m.next;while(m!==l)}else y===null&&(m.shared.lanes=0);ua|=x,o.lanes=x,o.memoizedState=U}}function Wg(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var h=o[l],m=h.callback;if(m!==null){if(h.callback=null,h=f,typeof m!="function")throw Error(r(191,m));m.call(h)}}}var Ls={},sn=ui(Ls),As=ui(Ls),Ds=ui(Ls);function sa(o){if(o===Ls)throw Error(r(174));return o}function Hd(o,l){switch(je(Ds,l),je(As,o),je(sn,Ls),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ji(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Ji(l,o)}Ue(sn),je(sn,l)}function ho(){Ue(sn),Ue(As),Ue(Ds)}function Gg(o){sa(Ds.current);var l=sa(sn.current),f=Ji(l,o.type);l!==f&&(je(As,o),je(sn,f))}function zd(o){As.current===o&&(Ue(sn),Ue(As))}var Qe=ui(0);function Ou(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var $d=[];function Vd(){for(var o=0;o<$d.length;o++)$d[o]._workInProgressVersionPrimary=null;$d.length=0}var Nu=R.ReactCurrentDispatcher,jd=R.ReactCurrentBatchConfig,la=0,Je=null,ft=null,yt=null,Lu=!1,Is=!1,Rs=0,jE=0;function Pt(){throw Error(r(321))}function qd(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Br(o[f],l[f]))return!1;return!0}function Ud(o,l,f,h,m,y){if(la=y,Je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Nu.current=o===null||o.memoizedState===null?GE:KE,o=f(h,m),Is){y=0;do{if(Is=!1,Rs=0,25<=y)throw Error(r(301));y+=1,yt=ft=null,l.updateQueue=null,Nu.current=QE,o=f(h,m)}while(Is)}if(Nu.current=Iu,l=ft!==null&&ft.next!==null,la=0,yt=ft=Je=null,Lu=!1,l)throw Error(r(300));return o}function Wd(){var o=Rs!==0;return Rs=0,o}function ln(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=o:yt=yt.next=o,yt}function Er(){if(ft===null){var o=Je.alternate;o=o!==null?o.memoizedState:null}else o=ft.next;var l=yt===null?Je.memoizedState:yt.next;if(l!==null)yt=l,ft=o;else{if(o===null)throw Error(r(310));ft=o,o={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},yt===null?Je.memoizedState=yt=o:yt=yt.next=o}return yt}function Ps(o,l){return typeof l=="function"?l(o):l}function Gd(o){var l=Er(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var h=ft,m=h.baseQueue,y=f.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}h.baseQueue=m=y,f.pending=null}if(m!==null){y=m.next,h=h.baseState;var S=x=null,E=null,_=y;do{var q=_.lane;if((la&q)===q)E!==null&&(E=E.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),h=_.hasEagerState?_.eagerState:o(h,_.action);else{var U={lane:q,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};E===null?(S=E=U,x=h):E=E.next=U,Je.lanes|=q,ua|=q}_=_.next}while(_!==null&&_!==y);E===null?x=h:E.next=S,Br(h,l.memoizedState)||(rr=!0),l.memoizedState=h,l.baseState=x,l.baseQueue=E,f.lastRenderedState=h}if(o=f.interleaved,o!==null){m=o;do y=m.lane,Je.lanes|=y,ua|=y,m=m.next;while(m!==o)}else m===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Kd(o){var l=Er(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var h=f.dispatch,m=f.pending,y=l.memoizedState;if(m!==null){f.pending=null;var x=m=m.next;do y=o(y,x.action),x=x.next;while(x!==m);Br(y,l.memoizedState)||(rr=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),f.lastRenderedState=y}return[y,h]}function Kg(){}function Qg(o,l){var f=Je,h=Er(),m=l(),y=!Br(h.memoizedState,m);if(y&&(h.memoizedState=m,rr=!0),h=h.queue,Qd(Yg.bind(null,f,h,o),[o]),h.getSnapshot!==l||y||yt!==null&&yt.memoizedState.tag&1){if(f.flags|=2048,_s(9,Xg.bind(null,f,h,m,l),void 0,null),wt===null)throw Error(r(349));la&30||Jg(f,l,m)}return m}function Jg(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Je.updateQueue,l===null?(l={lastEffect:null,stores:null},Je.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function Xg(o,l,f,h){l.value=f,l.getSnapshot=h,Zg(l)&&ey(o)}function Yg(o,l,f){return f(function(){Zg(l)&&ey(o)})}function Zg(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Br(o,f)}catch{return!0}}function ey(o){var l=Pn(o,1);l!==null&&Vr(l,o,1,-1)}function ty(o){var l=ln();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:o},l.queue=o,o=o.dispatch=WE.bind(null,Je,o),[l.memoizedState,o]}function _s(o,l,f,h){return o={tag:o,create:l,destroy:f,deps:h,next:null},l=Je.updateQueue,l===null?(l={lastEffect:null,stores:null},Je.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(h=f.next,f.next=o,o.next=h,l.lastEffect=o)),o}function ry(){return Er().memoizedState}function Au(o,l,f,h){var m=ln();Je.flags|=o,m.memoizedState=_s(1|l,f,void 0,h===void 0?null:h)}function Du(o,l,f,h){var m=Er();h=h===void 0?null:h;var y=void 0;if(ft!==null){var x=ft.memoizedState;if(y=x.destroy,h!==null&&qd(h,x.deps)){m.memoizedState=_s(l,f,y,h);return}}Je.flags|=o,m.memoizedState=_s(1|l,f,y,h)}function ny(o,l){return Au(8390656,8,o,l)}function Qd(o,l){return Du(2048,8,o,l)}function iy(o,l){return Du(4,2,o,l)}function ay(o,l){return Du(4,4,o,l)}function oy(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function sy(o,l,f){return f=f!=null?f.concat([o]):null,Du(4,4,oy.bind(null,l,o),f)}function Jd(){}function ly(o,l){var f=Er();l=l===void 0?null:l;var h=f.memoizedState;return h!==null&&l!==null&&qd(l,h[1])?h[0]:(f.memoizedState=[o,l],o)}function uy(o,l){var f=Er();l=l===void 0?null:l;var h=f.memoizedState;return h!==null&&l!==null&&qd(l,h[1])?h[0]:(o=o(),f.memoizedState=[o,l],o)}function cy(o,l,f){return la&21?(Br(f,l)||(f=zm(),Je.lanes|=f,ua|=f,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,rr=!0),o.memoizedState=f)}function qE(o,l){var f=Ve;Ve=f!==0&&4>f?f:4,o(!0);var h=jd.transition;jd.transition={};try{o(!1),l()}finally{Ve=f,jd.transition=h}}function fy(){return Er().memoizedState}function UE(o,l,f){var h=gi(o);if(f={lane:h,action:f,hasEagerState:!1,eagerState:null,next:null},dy(o))hy(l,f);else if(f=jg(o,l,f,h),f!==null){var m=Wt();Vr(f,o,h,m),py(f,l,h)}}function WE(o,l,f){var h=gi(o),m={lane:h,action:f,hasEagerState:!1,eagerState:null,next:null};if(dy(o))hy(l,m);else{var y=o.alternate;if(o.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var x=l.lastRenderedState,S=y(x,f);if(m.hasEagerState=!0,m.eagerState=S,Br(S,x)){var E=l.interleaved;E===null?(m.next=m,Bd(l)):(m.next=E.next,E.next=m),l.interleaved=m;return}}catch{}finally{}f=jg(o,l,m,h),f!==null&&(m=Wt(),Vr(f,o,h,m),py(f,l,h))}}function dy(o){var l=o.alternate;return o===Je||l!==null&&l===Je}function hy(o,l){Is=Lu=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function py(o,l,f){if(f&4194240){var h=l.lanes;h&=o.pendingLanes,f|=h,l.lanes=f,Yf(o,f)}}var Iu={readContext:Sr,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},GE={readContext:Sr,useCallback:function(o,l){return ln().memoizedState=[o,l===void 0?null:l],o},useContext:Sr,useEffect:ny,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,Au(4194308,4,oy.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Au(4194308,4,o,l)},useInsertionEffect:function(o,l){return Au(4,2,o,l)},useMemo:function(o,l){var f=ln();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var h=ln();return l=f!==void 0?f(l):l,h.memoizedState=h.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},h.queue=o,o=o.dispatch=UE.bind(null,Je,o),[h.memoizedState,o]},useRef:function(o){var l=ln();return o={current:o},l.memoizedState=o},useState:ty,useDebugValue:Jd,useDeferredValue:function(o){return ln().memoizedState=o},useTransition:function(){var o=ty(!1),l=o[0];return o=qE.bind(null,o[1]),ln().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var h=Je,m=ln();if(We){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),wt===null)throw Error(r(349));la&30||Jg(h,l,f)}m.memoizedState=f;var y={value:f,getSnapshot:l};return m.queue=y,ny(Yg.bind(null,h,y,o),[o]),h.flags|=2048,_s(9,Xg.bind(null,h,y,f,l),void 0,null),f},useId:function(){var o=ln(),l=wt.identifierPrefix;if(We){var f=Rn,h=In;f=(h&~(1<<32-_r(h)-1)).toString(32)+f,l=":"+l+"R"+f,f=Rs++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=jE++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},KE={readContext:Sr,useCallback:ly,useContext:Sr,useEffect:Qd,useImperativeHandle:sy,useInsertionEffect:iy,useLayoutEffect:ay,useMemo:uy,useReducer:Gd,useRef:ry,useState:function(){return Gd(Ps)},useDebugValue:Jd,useDeferredValue:function(o){var l=Er();return cy(l,ft.memoizedState,o)},useTransition:function(){var o=Gd(Ps)[0],l=Er().memoizedState;return[o,l]},useMutableSource:Kg,useSyncExternalStore:Qg,useId:fy,unstable_isNewReconciler:!1},QE={readContext:Sr,useCallback:ly,useContext:Sr,useEffect:Qd,useImperativeHandle:sy,useInsertionEffect:iy,useLayoutEffect:ay,useMemo:uy,useReducer:Kd,useRef:ry,useState:function(){return Kd(Ps)},useDebugValue:Jd,useDeferredValue:function(o){var l=Er();return ft===null?l.memoizedState=o:cy(l,ft.memoizedState,o)},useTransition:function(){var o=Kd(Ps)[0],l=Er().memoizedState;return[o,l]},useMutableSource:Kg,useSyncExternalStore:Qg,useId:fy,unstable_isNewReconciler:!1};function Hr(o,l){if(o&&o.defaultProps){l=Y({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function Xd(o,l,f,h){l=o.memoizedState,f=f(h,l),f=f==null?l:Y({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Ru={isMounted:function(o){return(o=o._reactInternals)?Me(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var h=Wt(),m=gi(o),y=_n(h,m);y.payload=l,f!=null&&(y.callback=f),l=hi(o,y,m),l!==null&&(Vr(l,o,m,h),Eu(l,o,m))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var h=Wt(),m=gi(o),y=_n(h,m);y.tag=1,y.payload=l,f!=null&&(y.callback=f),l=hi(o,y,m),l!==null&&(Vr(l,o,m,h),Eu(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Wt(),h=gi(o),m=_n(f,h);m.tag=2,l!=null&&(m.callback=l),l=hi(o,m,h),l!==null&&(Vr(l,o,h,f),Eu(l,o,h))}};function vy(o,l,f,h,m,y,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,y,x):l.prototype&&l.prototype.isPureReactComponent?!Cs(f,h)||!Cs(m,y):!0}function my(o,l,f){var h=!1,m=ci,y=l.contextType;return typeof y=="object"&&y!==null?y=Sr(y):(m=tr(l)?na:Rt.current,h=l.contextTypes,y=(h=h!=null)?ao(o,m):ci),l=new l(f,y),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ru,o.stateNode=l,l._reactInternals=o,h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=m,o.__reactInternalMemoizedMaskedChildContext=y),l}function gy(o,l,f,h){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,h),l.state!==o&&Ru.enqueueReplaceState(l,l.state,null)}function Yd(o,l,f,h){var m=o.stateNode;m.props=f,m.state=o.memoizedState,m.refs={},Fd(o);var y=l.contextType;typeof y=="object"&&y!==null?m.context=Sr(y):(y=tr(l)?na:Rt.current,m.context=ao(o,y)),m.state=o.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(Xd(o,l,y,f),m.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(l=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),l!==m.state&&Ru.enqueueReplaceState(m,m.state,null),Mu(o,f,m,h),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308)}function po(o,l){try{var f="",h=l;do f+=Te(h),h=h.return;while(h);var m=f}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:o,source:l,stack:m,digest:null}}function Zd(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function eh(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var JE=typeof WeakMap=="function"?WeakMap:Map;function yy(o,l,f){f=_n(-1,f),f.tag=3,f.payload={element:null};var h=l.value;return f.callback=function(){$u||($u=!0,vh=h),eh(o,l)},f}function wy(o,l,f){f=_n(-1,f),f.tag=3;var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;f.payload=function(){return h(m)},f.callback=function(){eh(o,l)}}var y=o.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(f.callback=function(){eh(o,l),typeof h!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})}),f}function by(o,l,f){var h=o.pingCache;if(h===null){h=o.pingCache=new JE;var m=new Set;h.set(l,m)}else m=h.get(l),m===void 0&&(m=new Set,h.set(l,m));m.has(f)||(m.add(f),o=cM.bind(null,o,l,f),l.then(o,o))}function ky(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Cy(o,l,f,h,m){return o.mode&1?(o.flags|=65536,o.lanes=m,o):(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=_n(-1,1),l.tag=2,hi(f,l,1))),f.lanes|=1),o)}var XE=R.ReactCurrentOwner,rr=!1;function Ut(o,l,f,h){l.child=o===null?Vg(l,null,f,h):uo(l,o.child,f,h)}function xy(o,l,f,h,m){f=f.render;var y=l.ref;return fo(l,m),h=Ud(o,l,f,h,y,m),f=Wd(),o!==null&&!rr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~m,Bn(o,l,m)):(We&&f&&Od(l),l.flags|=1,Ut(o,l,h,m),l.child)}function Ty(o,l,f,h,m){if(o===null){var y=f.type;return typeof y=="function"&&!Ch(y)&&y.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=y,Sy(o,l,y,h,m)):(o=Gu(f.type,null,h,l,l.mode,m),o.ref=l.ref,o.return=l,l.child=o)}if(y=o.child,!(o.lanes&m)){var x=y.memoizedProps;if(f=f.compare,f=f!==null?f:Cs,f(x,h)&&o.ref===l.ref)return Bn(o,l,m)}return l.flags|=1,o=wi(y,h),o.ref=l.ref,o.return=l,l.child=o}function Sy(o,l,f,h,m){if(o!==null){var y=o.memoizedProps;if(Cs(y,h)&&o.ref===l.ref)if(rr=!1,l.pendingProps=h=y,(o.lanes&m)!==0)o.flags&131072&&(rr=!0);else return l.lanes=o.lanes,Bn(o,l,m)}return th(o,l,f,h,m)}function Ey(o,l,f){var h=l.pendingProps,m=h.children,y=o!==null?o.memoizedState:null;if(h.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(mo,vr),vr|=f;else{if(!(f&1073741824))return o=y!==null?y.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,je(mo,vr),vr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:f,je(mo,vr),vr|=h}else y!==null?(h=y.baseLanes|f,l.memoizedState=null):h=f,je(mo,vr),vr|=h;return Ut(o,l,m,f),l.child}function My(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function th(o,l,f,h,m){var y=tr(f)?na:Rt.current;return y=ao(l,y),fo(l,m),f=Ud(o,l,f,h,y,m),h=Wd(),o!==null&&!rr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~m,Bn(o,l,m)):(We&&h&&Od(l),l.flags|=1,Ut(o,l,f,m),l.child)}function Oy(o,l,f,h,m){if(tr(f)){var y=!0;yu(l)}else y=!1;if(fo(l,m),l.stateNode===null)_u(o,l),my(l,f,h),Yd(l,f,h,m),h=!0;else if(o===null){var x=l.stateNode,S=l.memoizedProps;x.props=S;var E=x.context,_=f.contextType;typeof _=="object"&&_!==null?_=Sr(_):(_=tr(f)?na:Rt.current,_=ao(l,_));var q=f.getDerivedStateFromProps,U=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function";U||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==h||E!==_)&&gy(l,x,h,_),di=!1;var V=l.memoizedState;x.state=V,Mu(l,h,x,m),E=l.memoizedState,S!==h||V!==E||er.current||di?(typeof q=="function"&&(Xd(l,f,q,h),E=l.memoizedState),(S=di||vy(l,f,S,h,V,E,_))?(U||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=E),x.props=h,x.state=E,x.context=_,h=S):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{x=l.stateNode,qg(o,l),S=l.memoizedProps,_=l.type===l.elementType?S:Hr(l.type,S),x.props=_,U=l.pendingProps,V=x.context,E=f.contextType,typeof E=="object"&&E!==null?E=Sr(E):(E=tr(f)?na:Rt.current,E=ao(l,E));var te=f.getDerivedStateFromProps;(q=typeof te=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==U||V!==E)&&gy(l,x,h,E),di=!1,V=l.memoizedState,x.state=V,Mu(l,h,x,m);var ie=l.memoizedState;S!==U||V!==ie||er.current||di?(typeof te=="function"&&(Xd(l,f,te,h),ie=l.memoizedState),(_=di||vy(l,f,_,h,V,ie,E)||!1)?(q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ie,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ie,E)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===o.memoizedProps&&V===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===o.memoizedProps&&V===o.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=ie),x.props=h,x.state=ie,x.context=E,h=_):(typeof x.componentDidUpdate!="function"||S===o.memoizedProps&&V===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===o.memoizedProps&&V===o.memoizedState||(l.flags|=1024),h=!1)}return rh(o,l,f,h,y,m)}function rh(o,l,f,h,m,y){My(o,l);var x=(l.flags&128)!==0;if(!h&&!x)return m&&Ig(l,f,!1),Bn(o,l,y);h=l.stateNode,XE.current=l;var S=x&&typeof f.getDerivedStateFromError!="function"?null:h.render();return l.flags|=1,o!==null&&x?(l.child=uo(l,o.child,null,y),l.child=uo(l,null,S,y)):Ut(o,l,S,y),l.memoizedState=h.state,m&&Ig(l,f,!0),l.child}function Ny(o){var l=o.stateNode;l.pendingContext?Ag(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Ag(o,l.context,!1),Hd(o,l.containerInfo)}function Ly(o,l,f,h,m){return lo(),Dd(m),l.flags|=256,Ut(o,l,f,h),l.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function ih(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ay(o,l,f){var h=l.pendingProps,m=Qe.current,y=!1,x=(l.flags&128)!==0,S;if((S=x)||(S=o!==null&&o.memoizedState===null?!1:(m&2)!==0),S?(y=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(m|=1),je(Qe,m&1),o===null)return Ad(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(x=h.children,o=h.fallback,y?(h=l.mode,y=l.child,x={mode:"hidden",children:x},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=x):y=Ku(x,h,0,null),o=ha(o,h,f,null),y.return=l,o.return=l,y.sibling=o,l.child=y,l.child.memoizedState=ih(f),l.memoizedState=nh,o):ah(l,x));if(m=o.memoizedState,m!==null&&(S=m.dehydrated,S!==null))return YE(o,l,x,h,S,m,f);if(y){y=h.fallback,x=l.mode,m=o.child,S=m.sibling;var E={mode:"hidden",children:h.children};return!(x&1)&&l.child!==m?(h=l.child,h.childLanes=0,h.pendingProps=E,l.deletions=null):(h=wi(m,E),h.subtreeFlags=m.subtreeFlags&14680064),S!==null?y=wi(S,y):(y=ha(y,x,f,null),y.flags|=2),y.return=l,h.return=l,h.sibling=y,l.child=h,h=y,y=l.child,x=o.child.memoizedState,x=x===null?ih(f):{baseLanes:x.baseLanes|f,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=o.childLanes&~f,l.memoizedState=nh,h}return y=o.child,o=y.sibling,h=wi(y,{mode:"visible",children:h.children}),!(l.mode&1)&&(h.lanes=f),h.return=l,h.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=h,l.memoizedState=null,h}function ah(o,l){return l=Ku({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Pu(o,l,f,h){return h!==null&&Dd(h),uo(l,o.child,null,f),o=ah(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function YE(o,l,f,h,m,y,x){if(f)return l.flags&256?(l.flags&=-257,h=Zd(Error(r(422))),Pu(o,l,x,h)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(y=h.fallback,m=l.mode,h=Ku({mode:"visible",children:h.children},m,0,null),y=ha(y,m,x,null),y.flags|=2,h.return=l,y.return=l,h.sibling=y,l.child=h,l.mode&1&&uo(l,o.child,null,x),l.child.memoizedState=ih(x),l.memoizedState=nh,y);if(!(l.mode&1))return Pu(o,l,x,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var S=h.dgst;return h=S,y=Error(r(419)),h=Zd(y,h,void 0),Pu(o,l,x,h)}if(S=(x&o.childLanes)!==0,rr||S){if(h=wt,h!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|x)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Pn(o,m),Vr(h,o,m,-1))}return kh(),h=Zd(Error(r(421))),Pu(o,l,x,h)}return m.data==="$?"?(l.flags|=128,l.child=o.child,l=fM.bind(null,o),m._reactRetry=l,null):(o=y.treeContext,pr=li(m.nextSibling),hr=l,We=!0,Fr=null,o!==null&&(xr[Tr++]=In,xr[Tr++]=Rn,xr[Tr++]=ia,In=o.id,Rn=o.overflow,ia=l),l=ah(l,h.children),l.flags|=4096,l)}function Dy(o,l,f){o.lanes|=l;var h=o.alternate;h!==null&&(h.lanes|=l),_d(o.return,l,f)}function oh(o,l,f,h,m){var y=o.memoizedState;y===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:m}:(y.isBackwards=l,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=f,y.tailMode=m)}function Iy(o,l,f){var h=l.pendingProps,m=h.revealOrder,y=h.tail;if(Ut(o,l,h.children,f),h=Qe.current,h&2)h=h&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Dy(o,f,l);else if(o.tag===19)Dy(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}if(je(Qe,h),!(l.mode&1))l.memoizedState=null;else switch(m){case"forwards":for(f=l.child,m=null;f!==null;)o=f.alternate,o!==null&&Ou(o)===null&&(m=f),f=f.sibling;f=m,f===null?(m=l.child,l.child=null):(m=f.sibling,f.sibling=null),oh(l,!1,m,f,y);break;case"backwards":for(f=null,m=l.child,l.child=null;m!==null;){if(o=m.alternate,o!==null&&Ou(o)===null){l.child=m;break}o=m.sibling,m.sibling=f,f=m,m=o}oh(l,!0,f,null,y);break;case"together":oh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function _u(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Bn(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),ua|=l.lanes,!(f&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=wi(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=wi(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function ZE(o,l,f){switch(l.tag){case 3:Ny(l),lo();break;case 5:Gg(l);break;case 1:tr(l.type)&&yu(l);break;case 4:Hd(l,l.stateNode.containerInfo);break;case 10:var h=l.type._context,m=l.memoizedProps.value;je(Tu,h._currentValue),h._currentValue=m;break;case 13:if(h=l.memoizedState,h!==null)return h.dehydrated!==null?(je(Qe,Qe.current&1),l.flags|=128,null):f&l.child.childLanes?Ay(o,l,f):(je(Qe,Qe.current&1),o=Bn(o,l,f),o!==null?o.sibling:null);je(Qe,Qe.current&1);break;case 19:if(h=(f&l.childLanes)!==0,o.flags&128){if(h)return Iy(o,l,f);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),je(Qe,Qe.current),h)break;return null;case 22:case 23:return l.lanes=0,Ey(o,l,f)}return Bn(o,l,f)}var Ry,sh,Py,_y;Ry=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},sh=function(){},Py=function(o,l,f,h){var m=o.memoizedProps;if(m!==h){o=l.stateNode,sa(sn.current);var y=null;switch(f){case"input":m=Gi(o,m),h=Gi(o,h),y=[];break;case"select":m=Y({},m,{value:void 0}),h=Y({},h,{value:void 0}),y=[];break;case"textarea":m=tn(o,m),h=tn(o,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(o.onclick=vu)}is(f,h);var x;f=null;for(_ in m)if(!h.hasOwnProperty(_)&&m.hasOwnProperty(_)&&m[_]!=null)if(_==="style"){var S=m[_];for(x in S)S.hasOwnProperty(x)&&(f||(f={}),f[x]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?y||(y=[]):(y=y||[]).push(_,null));for(_ in h){var E=h[_];if(S=m!=null?m[_]:void 0,h.hasOwnProperty(_)&&E!==S&&(E!=null||S!=null))if(_==="style")if(S){for(x in S)!S.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(f||(f={}),f[x]="");for(x in E)E.hasOwnProperty(x)&&S[x]!==E[x]&&(f||(f={}),f[x]=E[x])}else f||(y||(y=[]),y.push(_,f)),f=E;else _==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,S=S?S.__html:void 0,E!=null&&S!==E&&(y=y||[]).push(_,E)):_==="children"?typeof E!="string"&&typeof E!="number"||(y=y||[]).push(_,""+E):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(i.hasOwnProperty(_)?(E!=null&&_==="onScroll"&&qe("scroll",o),y||S===E||(y=[])):(y=y||[]).push(_,E))}f&&(y=y||[]).push("style",f);var _=y;(l.updateQueue=_)&&(l.flags|=4)}},_y=function(o,l,f,h){f!==h&&(l.flags|=4)};function Bs(o,l){if(!We)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function _t(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,h=0;if(l)for(var m=o.child;m!==null;)f|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)f|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=h,o.childLanes=f,l}function eM(o,l,f){var h=l.pendingProps;switch(Nd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(l),null;case 1:return tr(l.type)&&gu(),_t(l),null;case 3:return h=l.stateNode,ho(),Ue(er),Ue(Rt),Vd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Cu(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Fr!==null&&(yh(Fr),Fr=null))),sh(o,l),_t(l),null;case 5:zd(l);var m=sa(Ds.current);if(f=l.type,o!==null&&l.stateNode!=null)Py(o,l,f,h,m),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!h){if(l.stateNode===null)throw Error(r(166));return _t(l),null}if(o=sa(sn.current),Cu(l)){h=l.stateNode,f=l.type;var y=l.memoizedProps;switch(h[on]=l,h[Ms]=y,o=(l.mode&1)!==0,f){case"dialog":qe("cancel",h),qe("close",h);break;case"iframe":case"object":case"embed":qe("load",h);break;case"video":case"audio":for(m=0;m<Ts.length;m++)qe(Ts[m],h);break;case"source":qe("error",h);break;case"img":case"image":case"link":qe("error",h),qe("load",h);break;case"details":qe("toggle",h);break;case"input":xn(h,y),qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},qe("invalid",h);break;case"textarea":Sn(h,y),qe("invalid",h)}is(f,y),m=null;for(var x in y)if(y.hasOwnProperty(x)){var S=y[x];x==="children"?typeof S=="string"?h.textContent!==S&&(y.suppressHydrationWarning!==!0&&pu(h.textContent,S,o),m=["children",S]):typeof S=="number"&&h.textContent!==""+S&&(y.suppressHydrationWarning!==!0&&pu(h.textContent,S,o),m=["children",""+S]):i.hasOwnProperty(x)&&S!=null&&x==="onScroll"&&qe("scroll",h)}switch(f){case"input":Yt(h),Qi(h,y,!0);break;case"textarea":Yt(h),rs(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=vu)}h=m,l.updateQueue=h,h!==null&&(l.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ns(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof h.is=="string"?o=x.createElement(f,{is:h.is}):(o=x.createElement(f),f==="select"&&(x=o,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):o=x.createElementNS(o,f),o[on]=l,o[Ms]=h,Ry(o,l,!1,!1),l.stateNode=o;e:{switch(x=rn(f,h),f){case"dialog":qe("cancel",o),qe("close",o),m=h;break;case"iframe":case"object":case"embed":qe("load",o),m=h;break;case"video":case"audio":for(m=0;m<Ts.length;m++)qe(Ts[m],o);m=h;break;case"source":qe("error",o),m=h;break;case"img":case"image":case"link":qe("error",o),qe("load",o),m=h;break;case"details":qe("toggle",o),m=h;break;case"input":xn(o,h),m=Gi(o,h),qe("invalid",o);break;case"option":m=h;break;case"select":o._wrapperState={wasMultiple:!!h.multiple},m=Y({},h,{value:void 0}),qe("invalid",o);break;case"textarea":Sn(o,h),m=tn(o,h),qe("invalid",o);break;default:m=h}is(f,m),S=m;for(y in S)if(S.hasOwnProperty(y)){var E=S[y];y==="style"?Mn(o,E):y==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&qa(o,E)):y==="children"?typeof E=="string"?(f!=="textarea"||E!=="")&&En(o,E):typeof E=="number"&&En(o,""+E):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?E!=null&&y==="onScroll"&&qe("scroll",o):E!=null&&N(o,y,E,x))}switch(f){case"input":Yt(o),Qi(o,h,!1);break;case"textarea":Yt(o),rs(o);break;case"option":h.value!=null&&o.setAttribute("value",""+Ae(h.value));break;case"select":o.multiple=!!h.multiple,y=h.value,y!=null?br(o,!!h.multiple,y,!1):h.defaultValue!=null&&br(o,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(o.onclick=vu)}switch(f){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _t(l),null;case 6:if(o&&l.stateNode!=null)_y(o,l,o.memoizedProps,h);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(f=sa(Ds.current),sa(sn.current),Cu(l)){if(h=l.stateNode,f=l.memoizedProps,h[on]=l,(y=h.nodeValue!==f)&&(o=hr,o!==null))switch(o.tag){case 3:pu(h.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&pu(h.nodeValue,f,(o.mode&1)!==0)}y&&(l.flags|=4)}else h=(f.nodeType===9?f:f.ownerDocument).createTextNode(h),h[on]=l,l.stateNode=h}return _t(l),null;case 13:if(Ue(Qe),h=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(We&&pr!==null&&l.mode&1&&!(l.flags&128))Hg(),lo(),l.flags|=98560,y=!1;else if(y=Cu(l),h!==null&&h.dehydrated!==null){if(o===null){if(!y)throw Error(r(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[on]=l}else lo(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;_t(l),y=!1}else Fr!==null&&(yh(Fr),Fr=null),y=!0;if(!y)return l.flags&65536?l:null}return l.flags&128?(l.lanes=f,l):(h=h!==null,h!==(o!==null&&o.memoizedState!==null)&&h&&(l.child.flags|=8192,l.mode&1&&(o===null||Qe.current&1?dt===0&&(dt=3):kh())),l.updateQueue!==null&&(l.flags|=4),_t(l),null);case 4:return ho(),sh(o,l),o===null&&Ss(l.stateNode.containerInfo),_t(l),null;case 10:return Pd(l.type._context),_t(l),null;case 17:return tr(l.type)&&gu(),_t(l),null;case 19:if(Ue(Qe),y=l.memoizedState,y===null)return _t(l),null;if(h=(l.flags&128)!==0,x=y.rendering,x===null)if(h)Bs(y,!1);else{if(dt!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(x=Ou(o),x!==null){for(l.flags|=128,Bs(y,!1),h=x.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),l.subtreeFlags=0,h=f,f=l.child;f!==null;)y=f,o=h,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=o,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,o=x.dependencies,y.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return je(Qe,Qe.current&1|2),l.child}o=o.sibling}y.tail!==null&&et()>go&&(l.flags|=128,h=!0,Bs(y,!1),l.lanes=4194304)}else{if(!h)if(o=Ou(x),o!==null){if(l.flags|=128,h=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Bs(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!We)return _t(l),null}else 2*et()-y.renderingStartTime>go&&f!==1073741824&&(l.flags|=128,h=!0,Bs(y,!1),l.lanes=4194304);y.isBackwards?(x.sibling=l.child,l.child=x):(f=y.last,f!==null?f.sibling=x:l.child=x,y.last=x)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=et(),l.sibling=null,f=Qe.current,je(Qe,h?f&1|2:f&1),l):(_t(l),null);case 22:case 23:return bh(),h=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==h&&(l.flags|=8192),h&&l.mode&1?vr&1073741824&&(_t(l),l.subtreeFlags&6&&(l.flags|=8192)):_t(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function tM(o,l){switch(Nd(l),l.tag){case 1:return tr(l.type)&&gu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ho(),Ue(er),Ue(Rt),Vd(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return zd(l),null;case 13:if(Ue(Qe),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));lo()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Ue(Qe),null;case 4:return ho(),null;case 10:return Pd(l.type._context),null;case 22:case 23:return bh(),null;case 24:return null;default:return null}}var Bu=!1,Bt=!1,rM=typeof WeakSet=="function"?WeakSet:Set,ne=null;function vo(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(h){Ze(o,l,h)}else f.current=null}function lh(o,l,f){try{f()}catch(h){Ze(o,l,h)}}var By=!1;function nM(o,l){if(bd=nu,o=vg(),dd(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var h=f.getSelection&&f.getSelection();if(h&&h.rangeCount!==0){f=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{f.nodeType,y.nodeType}catch{f=null;break e}var x=0,S=-1,E=-1,_=0,q=0,U=o,V=null;t:for(;;){for(var te;U!==f||m!==0&&U.nodeType!==3||(S=x+m),U!==y||h!==0&&U.nodeType!==3||(E=x+h),U.nodeType===3&&(x+=U.nodeValue.length),(te=U.firstChild)!==null;)V=U,U=te;for(;;){if(U===o)break t;if(V===f&&++_===m&&(S=x),V===y&&++q===h&&(E=x),(te=U.nextSibling)!==null)break;U=V,V=U.parentNode}U=te}f=S===-1||E===-1?null:{start:S,end:E}}else f=null}f=f||{start:0,end:0}}else f=null;for(kd={focusedElem:o,selectionRange:f},nu=!1,ne=l;ne!==null;)if(l=ne,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ne=o;else for(;ne!==null;){l=ne;try{var ie=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ae=ie.memoizedProps,tt=ie.memoizedState,A=l.stateNode,O=A.getSnapshotBeforeUpdate(l.elementType===l.type?ae:Hr(l.type,ae),tt);A.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var P=l.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(W){Ze(l,l.return,W)}if(o=l.sibling,o!==null){o.return=l.return,ne=o;break}ne=l.return}return ie=By,By=!1,ie}function Fs(o,l,f){var h=l.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&o)===o){var y=m.destroy;m.destroy=void 0,y!==void 0&&lh(l,f,y)}m=m.next}while(m!==h)}}function Fu(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var h=f.create;f.destroy=h()}f=f.next}while(f!==l)}}function uh(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function Fy(o){var l=o.alternate;l!==null&&(o.alternate=null,Fy(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[on],delete l[Ms],delete l[Sd],delete l[HE],delete l[zE])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Hy(o){return o.tag===5||o.tag===3||o.tag===4}function zy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Hy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ch(o,l,f){var h=o.tag;if(h===5||h===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=vu));else if(h!==4&&(o=o.child,o!==null))for(ch(o,l,f),o=o.sibling;o!==null;)ch(o,l,f),o=o.sibling}function fh(o,l,f){var h=o.tag;if(h===5||h===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(h!==4&&(o=o.child,o!==null))for(fh(o,l,f),o=o.sibling;o!==null;)fh(o,l,f),o=o.sibling}var St=null,zr=!1;function pi(o,l,f){for(f=f.child;f!==null;)$y(o,l,f),f=f.sibling}function $y(o,l,f){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Xl,f)}catch{}switch(f.tag){case 5:Bt||vo(f,l);case 6:var h=St,m=zr;St=null,pi(o,l,f),St=h,zr=m,St!==null&&(zr?(o=St,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):St.removeChild(f.stateNode));break;case 18:St!==null&&(zr?(o=St,f=f.stateNode,o.nodeType===8?Td(o.parentNode,f):o.nodeType===1&&Td(o,f),ms(o)):Td(St,f.stateNode));break;case 4:h=St,m=zr,St=f.stateNode.containerInfo,zr=!0,pi(o,l,f),St=h,zr=m;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=f.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,x=y.destroy;y=y.tag,x!==void 0&&(y&2||y&4)&&lh(f,l,x),m=m.next}while(m!==h)}pi(o,l,f);break;case 1:if(!Bt&&(vo(f,l),h=f.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=f.memoizedProps,h.state=f.memoizedState,h.componentWillUnmount()}catch(S){Ze(f,l,S)}pi(o,l,f);break;case 21:pi(o,l,f);break;case 22:f.mode&1?(Bt=(h=Bt)||f.memoizedState!==null,pi(o,l,f),Bt=h):pi(o,l,f);break;default:pi(o,l,f)}}function Vy(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new rM),l.forEach(function(h){var m=dM.bind(null,o,h);f.has(h)||(f.add(h),h.then(m,m))})}}function $r(o,l){var f=l.deletions;if(f!==null)for(var h=0;h<f.length;h++){var m=f[h];try{var y=o,x=l,S=x;e:for(;S!==null;){switch(S.tag){case 5:St=S.stateNode,zr=!1;break e;case 3:St=S.stateNode.containerInfo,zr=!0;break e;case 4:St=S.stateNode.containerInfo,zr=!0;break e}S=S.return}if(St===null)throw Error(r(160));$y(y,x,m),St=null,zr=!1;var E=m.alternate;E!==null&&(E.return=null),m.return=null}catch(_){Ze(m,l,_)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)jy(l,o),l=l.sibling}function jy(o,l){var f=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if($r(l,o),un(o),h&4){try{Fs(3,o,o.return),Fu(3,o)}catch(ae){Ze(o,o.return,ae)}try{Fs(5,o,o.return)}catch(ae){Ze(o,o.return,ae)}}break;case 1:$r(l,o),un(o),h&512&&f!==null&&vo(f,f.return);break;case 5:if($r(l,o),un(o),h&512&&f!==null&&vo(f,f.return),o.flags&32){var m=o.stateNode;try{En(m,"")}catch(ae){Ze(o,o.return,ae)}}if(h&4&&(m=o.stateNode,m!=null)){var y=o.memoizedProps,x=f!==null?f.memoizedProps:y,S=o.type,E=o.updateQueue;if(o.updateQueue=null,E!==null)try{S==="input"&&y.type==="radio"&&y.name!=null&&Ki(m,y),rn(S,x);var _=rn(S,y);for(x=0;x<E.length;x+=2){var q=E[x],U=E[x+1];q==="style"?Mn(m,U):q==="dangerouslySetInnerHTML"?qa(m,U):q==="children"?En(m,U):N(m,q,U,_)}switch(S){case"input":Va(m,y);break;case"textarea":ts(m,y);break;case"select":var V=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var te=y.value;te!=null?br(m,!!y.multiple,te,!1):V!==!!y.multiple&&(y.defaultValue!=null?br(m,!!y.multiple,y.defaultValue,!0):br(m,!!y.multiple,y.multiple?[]:"",!1))}m[Ms]=y}catch(ae){Ze(o,o.return,ae)}}break;case 6:if($r(l,o),un(o),h&4){if(o.stateNode===null)throw Error(r(162));m=o.stateNode,y=o.memoizedProps;try{m.nodeValue=y}catch(ae){Ze(o,o.return,ae)}}break;case 3:if($r(l,o),un(o),h&4&&f!==null&&f.memoizedState.isDehydrated)try{ms(l.containerInfo)}catch(ae){Ze(o,o.return,ae)}break;case 4:$r(l,o),un(o);break;case 13:$r(l,o),un(o),m=o.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(ph=et())),h&4&&Vy(o);break;case 22:if(q=f!==null&&f.memoizedState!==null,o.mode&1?(Bt=(_=Bt)||q,$r(l,o),Bt=_):$r(l,o),un(o),h&8192){if(_=o.memoizedState!==null,(o.stateNode.isHidden=_)&&!q&&o.mode&1)for(ne=o,q=o.child;q!==null;){for(U=ne=q;ne!==null;){switch(V=ne,te=V.child,V.tag){case 0:case 11:case 14:case 15:Fs(4,V,V.return);break;case 1:vo(V,V.return);var ie=V.stateNode;if(typeof ie.componentWillUnmount=="function"){h=V,f=V.return;try{l=h,ie.props=l.memoizedProps,ie.state=l.memoizedState,ie.componentWillUnmount()}catch(ae){Ze(h,f,ae)}}break;case 5:vo(V,V.return);break;case 22:if(V.memoizedState!==null){Wy(U);continue}}te!==null?(te.return=V,ne=te):Wy(U)}q=q.sibling}e:for(q=null,U=o;;){if(U.tag===5){if(q===null){q=U;try{m=U.stateNode,_?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(S=U.stateNode,E=U.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,S.style.display=Wa("display",x))}catch(ae){Ze(o,o.return,ae)}}}else if(U.tag===6){if(q===null)try{U.stateNode.nodeValue=_?"":U.memoizedProps}catch(ae){Ze(o,o.return,ae)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===o)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===o)break e;for(;U.sibling===null;){if(U.return===null||U.return===o)break e;q===U&&(q=null),U=U.return}q===U&&(q=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:$r(l,o),un(o),h&4&&Vy(o);break;case 21:break;default:$r(l,o),un(o)}}function un(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(Hy(f)){var h=f;break e}f=f.return}throw Error(r(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(En(m,""),h.flags&=-33);var y=zy(o);fh(o,y,m);break;case 3:case 4:var x=h.stateNode.containerInfo,S=zy(o);ch(o,S,x);break;default:throw Error(r(161))}}catch(E){Ze(o,o.return,E)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function iM(o,l,f){ne=o,qy(o)}function qy(o,l,f){for(var h=(o.mode&1)!==0;ne!==null;){var m=ne,y=m.child;if(m.tag===22&&h){var x=m.memoizedState!==null||Bu;if(!x){var S=m.alternate,E=S!==null&&S.memoizedState!==null||Bt;S=Bu;var _=Bt;if(Bu=x,(Bt=E)&&!_)for(ne=m;ne!==null;)x=ne,E=x.child,x.tag===22&&x.memoizedState!==null?Gy(m):E!==null?(E.return=x,ne=E):Gy(m);for(;y!==null;)ne=y,qy(y),y=y.sibling;ne=m,Bu=S,Bt=_}Uy(o)}else m.subtreeFlags&8772&&y!==null?(y.return=m,ne=y):Uy(o)}}function Uy(o){for(;ne!==null;){var l=ne;if(l.flags&8772){var f=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Bt||Fu(5,l);break;case 1:var h=l.stateNode;if(l.flags&4&&!Bt)if(f===null)h.componentDidMount();else{var m=l.elementType===l.type?f.memoizedProps:Hr(l.type,f.memoizedProps);h.componentDidUpdate(m,f.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=l.updateQueue;y!==null&&Wg(l,y,h);break;case 3:var x=l.updateQueue;if(x!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}Wg(l,x,f)}break;case 5:var S=l.stateNode;if(f===null&&l.flags&4){f=S;var E=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&f.focus();break;case"img":E.src&&(f.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var _=l.alternate;if(_!==null){var q=_.memoizedState;if(q!==null){var U=q.dehydrated;U!==null&&ms(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Bt||l.flags&512&&uh(l)}catch(V){Ze(l,l.return,V)}}if(l===o){ne=null;break}if(f=l.sibling,f!==null){f.return=l.return,ne=f;break}ne=l.return}}function Wy(o){for(;ne!==null;){var l=ne;if(l===o){ne=null;break}var f=l.sibling;if(f!==null){f.return=l.return,ne=f;break}ne=l.return}}function Gy(o){for(;ne!==null;){var l=ne;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Fu(4,l)}catch(E){Ze(l,f,E)}break;case 1:var h=l.stateNode;if(typeof h.componentDidMount=="function"){var m=l.return;try{h.componentDidMount()}catch(E){Ze(l,m,E)}}var y=l.return;try{uh(l)}catch(E){Ze(l,y,E)}break;case 5:var x=l.return;try{uh(l)}catch(E){Ze(l,x,E)}}}catch(E){Ze(l,l.return,E)}if(l===o){ne=null;break}var S=l.sibling;if(S!==null){S.return=l.return,ne=S;break}ne=l.return}}var aM=Math.ceil,Hu=R.ReactCurrentDispatcher,dh=R.ReactCurrentOwner,Mr=R.ReactCurrentBatchConfig,Ie=0,wt=null,at=null,Et=0,vr=0,mo=ui(0),dt=0,Hs=null,ua=0,zu=0,hh=0,zs=null,nr=null,ph=0,go=1/0,Fn=null,$u=!1,vh=null,vi=null,Vu=!1,mi=null,ju=0,$s=0,mh=null,qu=-1,Uu=0;function Wt(){return Ie&6?et():qu!==-1?qu:qu=et()}function gi(o){return o.mode&1?Ie&2&&Et!==0?Et&-Et:VE.transition!==null?(Uu===0&&(Uu=zm()),Uu):(o=Ve,o!==0||(o=window.event,o=o===void 0?16:Qm(o.type)),o):1}function Vr(o,l,f,h){if(50<$s)throw $s=0,mh=null,Error(r(185));fs(o,f,h),(!(Ie&2)||o!==wt)&&(o===wt&&(!(Ie&2)&&(zu|=f),dt===4&&yi(o,Et)),ir(o,h),f===1&&Ie===0&&!(l.mode&1)&&(go=et()+500,wu&&fi()))}function ir(o,l){var f=o.callbackNode;VS(o,l);var h=eu(o,o===wt?Et:0);if(h===0)f!==null&&Ql(f),o.callbackNode=null,o.callbackPriority=0;else if(l=h&-h,o.callbackPriority!==l){if(f!=null&&Ql(f),l===1)o.tag===0?$E(Qy.bind(null,o)):Rg(Qy.bind(null,o)),BE(function(){!(Ie&6)&&fi()}),f=null;else{switch($m(h)){case 1:f=Qf;break;case 4:f=Fm;break;case 16:f=Jl;break;case 536870912:f=Hm;break;default:f=Jl}f=nw(f,Ky.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function Ky(o,l){if(qu=-1,Uu=0,Ie&6)throw Error(r(327));var f=o.callbackNode;if(yo()&&o.callbackNode!==f)return null;var h=eu(o,o===wt?Et:0);if(h===0)return null;if(h&30||h&o.expiredLanes||l)l=Wu(o,h);else{l=h;var m=Ie;Ie|=2;var y=Xy();(wt!==o||Et!==l)&&(Fn=null,go=et()+500,fa(o,l));do try{lM();break}catch(S){Jy(o,S)}while(!0);Rd(),Hu.current=y,Ie=m,at!==null?l=0:(wt=null,Et=0,l=dt)}if(l!==0){if(l===2&&(m=Jf(o),m!==0&&(h=m,l=gh(o,m))),l===1)throw f=Hs,fa(o,0),yi(o,h),ir(o,et()),f;if(l===6)yi(o,h);else{if(m=o.current.alternate,!(h&30)&&!oM(m)&&(l=Wu(o,h),l===2&&(y=Jf(o),y!==0&&(h=y,l=gh(o,y))),l===1))throw f=Hs,fa(o,0),yi(o,h),ir(o,et()),f;switch(o.finishedWork=m,o.finishedLanes=h,l){case 0:case 1:throw Error(r(345));case 2:da(o,nr,Fn);break;case 3:if(yi(o,h),(h&130023424)===h&&(l=ph+500-et(),10<l)){if(eu(o,0)!==0)break;if(m=o.suspendedLanes,(m&h)!==h){Wt(),o.pingedLanes|=o.suspendedLanes&m;break}o.timeoutHandle=xd(da.bind(null,o,nr,Fn),l);break}da(o,nr,Fn);break;case 4:if(yi(o,h),(h&4194240)===h)break;for(l=o.eventTimes,m=-1;0<h;){var x=31-_r(h);y=1<<x,x=l[x],x>m&&(m=x),h&=~y}if(h=m,h=et()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*aM(h/1960))-h,10<h){o.timeoutHandle=xd(da.bind(null,o,nr,Fn),h);break}da(o,nr,Fn);break;case 5:da(o,nr,Fn);break;default:throw Error(r(329))}}}return ir(o,et()),o.callbackNode===f?Ky.bind(null,o):null}function gh(o,l){var f=zs;return o.current.memoizedState.isDehydrated&&(fa(o,l).flags|=256),o=Wu(o,l),o!==2&&(l=nr,nr=f,l!==null&&yh(l)),o}function yh(o){nr===null?nr=o:nr.push.apply(nr,o)}function oM(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var h=0;h<f.length;h++){var m=f[h],y=m.getSnapshot;m=m.value;try{if(!Br(y(),m))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yi(o,l){for(l&=~hh,l&=~zu,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-_r(l),h=1<<f;o[f]=-1,l&=~h}}function Qy(o){if(Ie&6)throw Error(r(327));yo();var l=eu(o,0);if(!(l&1))return ir(o,et()),null;var f=Wu(o,l);if(o.tag!==0&&f===2){var h=Jf(o);h!==0&&(l=h,f=gh(o,h))}if(f===1)throw f=Hs,fa(o,0),yi(o,l),ir(o,et()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,da(o,nr,Fn),ir(o,et()),null}function wh(o,l){var f=Ie;Ie|=1;try{return o(l)}finally{Ie=f,Ie===0&&(go=et()+500,wu&&fi())}}function ca(o){mi!==null&&mi.tag===0&&!(Ie&6)&&yo();var l=Ie;Ie|=1;var f=Mr.transition,h=Ve;try{if(Mr.transition=null,Ve=1,o)return o()}finally{Ve=h,Mr.transition=f,Ie=l,!(Ie&6)&&fi()}}function bh(){vr=mo.current,Ue(mo)}function fa(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,_E(f)),at!==null)for(f=at.return;f!==null;){var h=f;switch(Nd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&gu();break;case 3:ho(),Ue(er),Ue(Rt),Vd();break;case 5:zd(h);break;case 4:ho();break;case 13:Ue(Qe);break;case 19:Ue(Qe);break;case 10:Pd(h.type._context);break;case 22:case 23:bh()}f=f.return}if(wt=o,at=o=wi(o.current,null),Et=vr=l,dt=0,Hs=null,hh=zu=ua=0,nr=zs=null,oa!==null){for(l=0;l<oa.length;l++)if(f=oa[l],h=f.interleaved,h!==null){f.interleaved=null;var m=h.next,y=f.pending;if(y!==null){var x=y.next;y.next=m,h.next=x}f.pending=h}oa=null}return o}function Jy(o,l){do{var f=at;try{if(Rd(),Nu.current=Iu,Lu){for(var h=Je.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Lu=!1}if(la=0,yt=ft=Je=null,Is=!1,Rs=0,dh.current=null,f===null||f.return===null){dt=1,Hs=l,at=null;break}e:{var y=o,x=f.return,S=f,E=l;if(l=Et,S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var _=E,q=S,U=q.tag;if(!(q.mode&1)&&(U===0||U===11||U===15)){var V=q.alternate;V?(q.updateQueue=V.updateQueue,q.memoizedState=V.memoizedState,q.lanes=V.lanes):(q.updateQueue=null,q.memoizedState=null)}var te=ky(x);if(te!==null){te.flags&=-257,Cy(te,x,S,y,l),te.mode&1&&by(y,_,l),l=te,E=_;var ie=l.updateQueue;if(ie===null){var ae=new Set;ae.add(E),l.updateQueue=ae}else ie.add(E);break e}else{if(!(l&1)){by(y,_,l),kh();break e}E=Error(r(426))}}else if(We&&S.mode&1){var tt=ky(x);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),Cy(tt,x,S,y,l),Dd(po(E,S));break e}}y=E=po(E,S),dt!==4&&(dt=2),zs===null?zs=[y]:zs.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,l&=-l,y.lanes|=l;var A=yy(y,E,l);Ug(y,A);break e;case 1:S=E;var O=y.type,P=y.stateNode;if(!(y.flags&128)&&(typeof O.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(vi===null||!vi.has(P)))){y.flags|=65536,l&=-l,y.lanes|=l;var W=wy(y,S,l);Ug(y,W);break e}}y=y.return}while(y!==null)}Zy(f)}catch(le){l=le,at===f&&f!==null&&(at=f=f.return);continue}break}while(!0)}function Xy(){var o=Hu.current;return Hu.current=Iu,o===null?Iu:o}function kh(){(dt===0||dt===3||dt===2)&&(dt=4),wt===null||!(ua&268435455)&&!(zu&268435455)||yi(wt,Et)}function Wu(o,l){var f=Ie;Ie|=2;var h=Xy();(wt!==o||Et!==l)&&(Fn=null,fa(o,l));do try{sM();break}catch(m){Jy(o,m)}while(!0);if(Rd(),Ie=f,Hu.current=h,at!==null)throw Error(r(261));return wt=null,Et=0,dt}function sM(){for(;at!==null;)Yy(at)}function lM(){for(;at!==null&&!Bm();)Yy(at)}function Yy(o){var l=rw(o.alternate,o,vr);o.memoizedProps=o.pendingProps,l===null?Zy(o):at=l,dh.current=null}function Zy(o){var l=o;do{var f=l.alternate;if(o=l.return,l.flags&32768){if(f=tM(f,l),f!==null){f.flags&=32767,at=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{dt=6,at=null;return}}else if(f=eM(f,l,vr),f!==null){at=f;return}if(l=l.sibling,l!==null){at=l;return}at=l=o}while(l!==null);dt===0&&(dt=5)}function da(o,l,f){var h=Ve,m=Mr.transition;try{Mr.transition=null,Ve=1,uM(o,l,f,h)}finally{Mr.transition=m,Ve=h}return null}function uM(o,l,f,h){do yo();while(mi!==null);if(Ie&6)throw Error(r(327));f=o.finishedWork;var m=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var y=f.lanes|f.childLanes;if(jS(o,y),o===wt&&(at=wt=null,Et=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Vu||(Vu=!0,nw(Jl,function(){return yo(),null})),y=(f.flags&15990)!==0,f.subtreeFlags&15990||y){y=Mr.transition,Mr.transition=null;var x=Ve;Ve=1;var S=Ie;Ie|=4,dh.current=null,nM(o,f),jy(f,o),NE(kd),nu=!!bd,kd=bd=null,o.current=f,iM(f),RS(),Ie=S,Ve=x,Mr.transition=y}else o.current=f;if(Vu&&(Vu=!1,mi=o,ju=m),y=o.pendingLanes,y===0&&(vi=null),BS(f.stateNode),ir(o,et()),l!==null)for(h=o.onRecoverableError,f=0;f<l.length;f++)m=l[f],h(m.value,{componentStack:m.stack,digest:m.digest});if($u)throw $u=!1,o=vh,vh=null,o;return ju&1&&o.tag!==0&&yo(),y=o.pendingLanes,y&1?o===mh?$s++:($s=0,mh=o):$s=0,fi(),null}function yo(){if(mi!==null){var o=$m(ju),l=Mr.transition,f=Ve;try{if(Mr.transition=null,Ve=16>o?16:o,mi===null)var h=!1;else{if(o=mi,mi=null,ju=0,Ie&6)throw Error(r(331));var m=Ie;for(Ie|=4,ne=o.current;ne!==null;){var y=ne,x=y.child;if(ne.flags&16){var S=y.deletions;if(S!==null){for(var E=0;E<S.length;E++){var _=S[E];for(ne=_;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:Fs(8,q,y)}var U=q.child;if(U!==null)U.return=q,ne=U;else for(;ne!==null;){q=ne;var V=q.sibling,te=q.return;if(Fy(q),q===_){ne=null;break}if(V!==null){V.return=te,ne=V;break}ne=te}}}var ie=y.alternate;if(ie!==null){var ae=ie.child;if(ae!==null){ie.child=null;do{var tt=ae.sibling;ae.sibling=null,ae=tt}while(ae!==null)}}ne=y}}if(y.subtreeFlags&2064&&x!==null)x.return=y,ne=x;else e:for(;ne!==null;){if(y=ne,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Fs(9,y,y.return)}var A=y.sibling;if(A!==null){A.return=y.return,ne=A;break e}ne=y.return}}var O=o.current;for(ne=O;ne!==null;){x=ne;var P=x.child;if(x.subtreeFlags&2064&&P!==null)P.return=x,ne=P;else e:for(x=O;ne!==null;){if(S=ne,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Fu(9,S)}}catch(le){Ze(S,S.return,le)}if(S===x){ne=null;break e}var W=S.sibling;if(W!==null){W.return=S.return,ne=W;break e}ne=S.return}}if(Ie=m,fi(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Xl,o)}catch{}h=!0}return h}finally{Ve=f,Mr.transition=l}}return!1}function ew(o,l,f){l=po(f,l),l=yy(o,l,1),o=hi(o,l,1),l=Wt(),o!==null&&(fs(o,1,l),ir(o,l))}function Ze(o,l,f){if(o.tag===3)ew(o,o,f);else for(;l!==null;){if(l.tag===3){ew(l,o,f);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vi===null||!vi.has(h))){o=po(f,o),o=wy(l,o,1),l=hi(l,o,1),o=Wt(),l!==null&&(fs(l,1,o),ir(l,o));break}}l=l.return}}function cM(o,l,f){var h=o.pingCache;h!==null&&h.delete(l),l=Wt(),o.pingedLanes|=o.suspendedLanes&f,wt===o&&(Et&f)===f&&(dt===4||dt===3&&(Et&130023424)===Et&&500>et()-ph?fa(o,0):hh|=f),ir(o,l)}function tw(o,l){l===0&&(o.mode&1?(l=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):l=1);var f=Wt();o=Pn(o,l),o!==null&&(fs(o,l,f),ir(o,f))}function fM(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),tw(o,f)}function dM(o,l){var f=0;switch(o.tag){case 13:var h=o.stateNode,m=o.memoizedState;m!==null&&(f=m.retryLane);break;case 19:h=o.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(l),tw(o,f)}var rw;rw=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||er.current)rr=!0;else{if(!(o.lanes&f)&&!(l.flags&128))return rr=!1,ZE(o,l,f);rr=!!(o.flags&131072)}else rr=!1,We&&l.flags&1048576&&Pg(l,ku,l.index);switch(l.lanes=0,l.tag){case 2:var h=l.type;_u(o,l),o=l.pendingProps;var m=ao(l,Rt.current);fo(l,f),m=Ud(null,l,h,o,m,f);var y=Wd();return l.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,tr(h)?(y=!0,yu(l)):y=!1,l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Fd(l),m.updater=Ru,l.stateNode=m,m._reactInternals=l,Yd(l,h,o,f),l=rh(null,l,h,!0,y,f)):(l.tag=0,We&&y&&Od(l),Ut(null,l,m,f),l=l.child),l;case 16:h=l.elementType;e:{switch(_u(o,l),o=l.pendingProps,m=h._init,h=m(h._payload),l.type=h,m=l.tag=pM(h),o=Hr(h,o),m){case 0:l=th(null,l,h,o,f);break e;case 1:l=Oy(null,l,h,o,f);break e;case 11:l=xy(null,l,h,o,f);break e;case 14:l=Ty(null,l,h,Hr(h.type,o),f);break e}throw Error(r(306,h,""))}return l;case 0:return h=l.type,m=l.pendingProps,m=l.elementType===h?m:Hr(h,m),th(o,l,h,m,f);case 1:return h=l.type,m=l.pendingProps,m=l.elementType===h?m:Hr(h,m),Oy(o,l,h,m,f);case 3:e:{if(Ny(l),o===null)throw Error(r(387));h=l.pendingProps,y=l.memoizedState,m=y.element,qg(o,l),Mu(l,h,null,f);var x=l.memoizedState;if(h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){m=po(Error(r(423)),l),l=Ly(o,l,h,f,m);break e}else if(h!==m){m=po(Error(r(424)),l),l=Ly(o,l,h,f,m);break e}else for(pr=li(l.stateNode.containerInfo.firstChild),hr=l,We=!0,Fr=null,f=Vg(l,null,h,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(lo(),h===m){l=Bn(o,l,f);break e}Ut(o,l,h,f)}l=l.child}return l;case 5:return Gg(l),o===null&&Ad(l),h=l.type,m=l.pendingProps,y=o!==null?o.memoizedProps:null,x=m.children,Cd(h,m)?x=null:y!==null&&Cd(h,y)&&(l.flags|=32),My(o,l),Ut(o,l,x,f),l.child;case 6:return o===null&&Ad(l),null;case 13:return Ay(o,l,f);case 4:return Hd(l,l.stateNode.containerInfo),h=l.pendingProps,o===null?l.child=uo(l,null,h,f):Ut(o,l,h,f),l.child;case 11:return h=l.type,m=l.pendingProps,m=l.elementType===h?m:Hr(h,m),xy(o,l,h,m,f);case 7:return Ut(o,l,l.pendingProps,f),l.child;case 8:return Ut(o,l,l.pendingProps.children,f),l.child;case 12:return Ut(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(h=l.type._context,m=l.pendingProps,y=l.memoizedProps,x=m.value,je(Tu,h._currentValue),h._currentValue=x,y!==null)if(Br(y.value,x)){if(y.children===m.children&&!er.current){l=Bn(o,l,f);break e}}else for(y=l.child,y!==null&&(y.return=l);y!==null;){var S=y.dependencies;if(S!==null){x=y.child;for(var E=S.firstContext;E!==null;){if(E.context===h){if(y.tag===1){E=_n(-1,f&-f),E.tag=2;var _=y.updateQueue;if(_!==null){_=_.shared;var q=_.pending;q===null?E.next=E:(E.next=q.next,q.next=E),_.pending=E}}y.lanes|=f,E=y.alternate,E!==null&&(E.lanes|=f),_d(y.return,f,l),S.lanes|=f;break}E=E.next}}else if(y.tag===10)x=y.type===l.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(r(341));x.lanes|=f,S=x.alternate,S!==null&&(S.lanes|=f),_d(x,f,l),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===l){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}Ut(o,l,m.children,f),l=l.child}return l;case 9:return m=l.type,h=l.pendingProps.children,fo(l,f),m=Sr(m),h=h(m),l.flags|=1,Ut(o,l,h,f),l.child;case 14:return h=l.type,m=Hr(h,l.pendingProps),m=Hr(h.type,m),Ty(o,l,h,m,f);case 15:return Sy(o,l,l.type,l.pendingProps,f);case 17:return h=l.type,m=l.pendingProps,m=l.elementType===h?m:Hr(h,m),_u(o,l),l.tag=1,tr(h)?(o=!0,yu(l)):o=!1,fo(l,f),my(l,h,m),Yd(l,h,m,f),rh(null,l,h,!0,o,f);case 19:return Iy(o,l,f);case 22:return Ey(o,l,f)}throw Error(r(156,l.tag))};function nw(o,l){return us(o,l)}function hM(o,l,f,h){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(o,l,f,h){return new hM(o,l,f,h)}function Ch(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pM(o){if(typeof o=="function")return Ch(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Ce)return 11;if(o===it)return 14}return 2}function wi(o,l){var f=o.alternate;return f===null?(f=Or(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Gu(o,l,f,h,m,y){var x=2;if(h=o,typeof o=="function")Ch(o)&&(x=1);else if(typeof o=="string")x=5;else e:switch(o){case G:return ha(f.children,m,y,l);case ee:x=8,m|=8;break;case K:return o=Or(12,f,l,m|2),o.elementType=K,o.lanes=y,o;case Le:return o=Or(13,f,l,m),o.elementType=Le,o.lanes=y,o;case Fe:return o=Or(19,f,l,m),o.elementType=Fe,o.lanes=y,o;case He:return Ku(f,m,y,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case de:x=10;break e;case ve:x=9;break e;case Ce:x=11;break e;case it:x=14;break e;case Ke:x=16,h=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=Or(x,f,l,m),l.elementType=o,l.type=h,l.lanes=y,l}function ha(o,l,f,h){return o=Or(7,o,h,l),o.lanes=f,o}function Ku(o,l,f,h){return o=Or(22,o,h,l),o.elementType=He,o.lanes=f,o.stateNode={isHidden:!1},o}function xh(o,l,f){return o=Or(6,o,null,l),o.lanes=f,o}function Th(o,l,f){return l=Or(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function vM(o,l,f,h,m){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xf(0),this.expirationTimes=Xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xf(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Sh(o,l,f,h,m,y,x,S,E){return o=new vM(o,l,f,S,E),l===1?(l=1,y===!0&&(l|=8)):l=0,y=Or(3,null,null,l),o.current=y,y.stateNode=o,y.memoizedState={element:h,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fd(y),o}function mM(o,l,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:h==null?null:""+h,children:o,containerInfo:l,implementation:f}}function iw(o){if(!o)return ci;o=o._reactInternals;e:{if(Me(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(tr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(tr(f))return Dg(o,f,l)}return l}function aw(o,l,f,h,m,y,x,S,E){return o=Sh(f,h,!0,o,m,y,x,S,E),o.context=iw(null),f=o.current,h=Wt(),m=gi(f),y=_n(h,m),y.callback=l??null,hi(f,y,m),o.current.lanes=m,fs(o,m,h),ir(o,h),o}function Qu(o,l,f,h){var m=l.current,y=Wt(),x=gi(m);return f=iw(f),l.context===null?l.context=f:l.pendingContext=f,l=_n(y,x),l.payload={element:o},h=h===void 0?null:h,h!==null&&(l.callback=h),o=hi(m,l,x),o!==null&&(Vr(o,m,x,y),Eu(o,m,x)),x}function Ju(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function ow(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Eh(o,l){ow(o,l),(o=o.alternate)&&ow(o,l)}var sw=typeof reportError=="function"?reportError:function(o){console.error(o)};function Mh(o){this._internalRoot=o}Xu.prototype.render=Mh.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));Qu(o,l,null,null)},Xu.prototype.unmount=Mh.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;ca(function(){Qu(null,o,null,null)}),l[An]=null}};function Xu(o){this._internalRoot=o}Xu.prototype.unstable_scheduleHydration=function(o){if(o){var l=qm();o={blockedOn:null,target:o,priority:l};for(var f=0;f<ai.length&&l!==0&&l<ai[f].priority;f++);ai.splice(f,0,o),f===0&&Gm(o)}};function Oh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Yu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function lw(){}function gM(o,l,f,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var _=Ju(x);y.call(_)}}var x=aw(l,h,o,0,null,!1,!1,"",lw);return o._reactRootContainer=x,o[An]=x.current,Ss(o.nodeType===8?o.parentNode:o),ca(),x}for(;m=o.lastChild;)o.removeChild(m);if(typeof h=="function"){var S=h;h=function(){var _=Ju(E);S.call(_)}}var E=Sh(o,0,!1,null,null,!1,!1,"",lw);return o._reactRootContainer=E,o[An]=E.current,Ss(o.nodeType===8?o.parentNode:o),ca(function(){Qu(l,E,f,h)}),E}function Zu(o,l,f,h,m){var y=f._reactRootContainer;if(y){var x=y;if(typeof m=="function"){var S=m;m=function(){var E=Ju(x);S.call(E)}}Qu(l,x,o,m)}else x=gM(f,l,o,m,h);return Ju(x)}Vm=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=cs(l.pendingLanes);f!==0&&(Yf(l,f|1),ir(l,et()),!(Ie&6)&&(go=et()+500,fi()))}break;case 13:ca(function(){var h=Pn(o,1);if(h!==null){var m=Wt();Vr(h,o,1,m)}}),Eh(o,1)}},Zf=function(o){if(o.tag===13){var l=Pn(o,134217728);if(l!==null){var f=Wt();Vr(l,o,134217728,f)}Eh(o,134217728)}},jm=function(o){if(o.tag===13){var l=gi(o),f=Pn(o,l);if(f!==null){var h=Wt();Vr(f,o,l,h)}Eh(o,l)}},qm=function(){return Ve},Um=function(o,l){var f=Ve;try{return Ve=o,l()}finally{Ve=f}},Yi=function(o,l,f){switch(l){case"input":if(Va(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var h=f[l];if(h!==o&&h.form===o.form){var m=mu(h);if(!m)throw Error(r(90));Cn(h),Va(h,m)}}}break;case"textarea":ts(o,f);break;case"select":l=f.value,l!=null&&br(o,!!f.multiple,l,!1)}},kr=wh,ss=ca;var yM={usingClientEntryPoint:!1,Events:[Os,no,mu,Ga,Gl,wh]},Vs={findFiberByHostInstance:ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wM={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Cr(o),o===null?null:o.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Xl=ec.inject(wM),an=ec}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM,ar.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oh(l))throw Error(r(200));return mM(o,l,null,f)},ar.createRoot=function(o,l){if(!Oh(o))throw Error(r(299));var f=!1,h="",m=sw;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(m=l.onRecoverableError)),l=Sh(o,1,!1,null,null,f,!1,h,m),o[An]=l.current,Ss(o.nodeType===8?o.parentNode:o),new Mh(l)},ar.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Cr(l),o=o===null?null:o.stateNode,o},ar.flushSync=function(o){return ca(o)},ar.hydrate=function(o,l,f){if(!Yu(l))throw Error(r(200));return Zu(null,o,l,!0,f)},ar.hydrateRoot=function(o,l,f){if(!Oh(o))throw Error(r(405));var h=f!=null&&f.hydratedSources||null,m=!1,y="",x=sw;if(f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onRecoverableError!==void 0&&(x=f.onRecoverableError)),l=aw(l,null,o,1,f??null,m,!1,y,x),o[An]=l.current,Ss(o),h)for(o=0;o<h.length;o++)f=h[o],m=f._getVersion,m=m(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,m]:l.mutableSourceEagerHydrationData.push(f,m);return new Xu(l)},ar.render=function(o,l,f){if(!Yu(l))throw Error(r(200));return Zu(null,o,l,!1,f)},ar.unmountComponentAtNode=function(o){if(!Yu(o))throw Error(r(40));return o._reactRootContainer?(ca(function(){Zu(null,null,o,!1,function(){o._reactRootContainer=null,o[An]=null})}),!0):!1},ar.unstable_batchedUpdates=wh,ar.unstable_renderSubtreeIntoContainer=function(o,l,f,h){if(!Yu(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Zu(o,l,f,!1,h)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var mw;function mk(){if(mw)return Ah.exports;mw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ah.exports=LM(),Ah.exports}var gw;function AM(){if(gw)return tc;gw=1;var t=mk();return tc.createRoot=t.createRoot,tc.hydrateRoot=t.hydrateRoot,tc}var DM=AM(),IM=mk();/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ml.apply(this,arguments)}var Oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oi||(Oi={}));const yw="popstate";function RM(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:u}=n.location;return Mp("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:yk(i)}return _M(e,r,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PM(){return Math.random().toString(36).substr(2,8)}function ww(t,e){return{usr:t.state,key:t.key,idx:e}}function Mp(t,e,r,n){return r===void 0&&(r=null),ml({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:r,key:e&&e.key||n||PM()})}function yk(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function _M(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,u=Oi.Pop,c=null,d=p();d==null&&(d=0,s.replaceState(ml({},s.state,{idx:d}),""));function p(){return(s.state||{idx:null}).idx}function v(){u=Oi.Pop;let k=p(),T=k==null?null:k-d;d=k,c&&c({action:u,location:C.location,delta:T})}function g(k,T){u=Oi.Push;let M=Mp(C.location,k,T);d=p()+1;let N=ww(M,d),R=C.createHref(M);try{s.pushState(N,"",R)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(R)}a&&c&&c({action:u,location:C.location,delta:1})}function w(k,T){u=Oi.Replace;let M=Mp(C.location,k,T);d=p();let N=ww(M,d),R=C.createHref(M);s.replaceState(N,"",R),a&&c&&c({action:u,location:C.location,delta:0})}function b(k){let T=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof k=="string"?k:yk(k);return M=M.replace(/ $/,"%20"),vt(T,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,T)}let C={get action(){return u},get location(){return t(i,s)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yw,v),c=k,()=>{i.removeEventListener(yw,v),c=null}},createHref(k){return e(i,k)},createURL:b,encodeLocation(k){let T=b(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:w,go(k){return s.go(k)}};return C}var bw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bw||(bw={}));function BM(t,e,r){return r===void 0&&(r="/"),FM(t,e,r)}function FM(t,e,r,n){let i=typeof e=="string"?Xo(e):e,a=kk(i.pathname||"/",r);if(a==null)return null;let s=wk(t);HM(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let d=XM(a);u=KM(s[c],d)}return u}function wk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Sa([n,c.relativePath]),p=r.concat(c);a.children&&a.children.length>0&&(vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),wk(a.children,e,p,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:WM(d,a.index),routesMeta:p})};return t.forEach((a,s)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,s);else for(let c of bk(a.path))i(a,s,c)}),e}function bk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=bk(n.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function HM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:GM(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zM=/^:[\w-]+$/,$M=3,VM=2,jM=1,qM=10,UM=-2,kw=t=>t==="*";function WM(t,e){let r=t.split("/"),n=r.length;return r.some(kw)&&(n+=UM),e&&(n+=VM),r.filter(i=>!kw(i)).reduce((i,a)=>i+(zM.test(a)?$M:a===""?jM:qM),n)}function GM(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function KM(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let u=0;u<n.length;++u){let c=n[u],d=u===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=QM({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),g=c.route;if(!v)return null;Object.assign(i,v.params),s.push({params:i,pathname:Sa([a,v.pathname]),pathnameBase:nO(Sa([a,v.pathnameBase])),route:g}),v.pathnameBase!=="/"&&(a=Sa([a,v.pathnameBase]))}return s}function QM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=JM(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((d,p,v)=>{let{paramName:g,isOptional:w}=p;if(g==="*"){let C=u[v]||"";s=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const b=u[v];return w&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:t}}function JM(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),gk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function XM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function YM(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Xo(t):t;return{pathname:r?r.startsWith("/")?r:ZM(r,e):e,search:iO(n),hash:aO(i)}}function ZM(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Rh(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eO(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tO(t,e){let r=eO(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Xo(t):(i=ml({},t),vt(!i.pathname||!i.pathname.includes("?"),Rh("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Rh("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Rh("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=r;else{let v=e.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),v-=1;i.pathname=g.join("/")}u=v>=0?e[v]:"/"}let c=YM(i,u),d=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Sa=t=>t.join("/").replace(/\/\/+/g,"/"),nO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ck=["post","put","patch","delete"];new Set(Ck);const sO=["get",...Ck];new Set(sO);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gl.apply(this,arguments)}const Mv=I.createContext(null),lO=I.createContext(null),mf=I.createContext(null),gf=I.createContext(null),qi=I.createContext({outlet:null,matches:[],isDataRoute:!1}),xk=I.createContext(null);function yf(){return I.useContext(gf)!=null}function Tk(){return yf()||vt(!1),I.useContext(gf).location}function Sk(t){I.useContext(mf).static||I.useLayoutEffect(t)}function uO(){let{isDataRoute:t}=I.useContext(qi);return t?SO():cO()}function cO(){yf()||vt(!1);let t=I.useContext(Mv),{basename:e,future:r,navigator:n}=I.useContext(mf),{matches:i}=I.useContext(qi),{pathname:a}=Tk(),s=JSON.stringify(tO(i,r.v7_relativeSplatPath)),u=I.useRef(!1);return Sk(()=>{u.current=!0}),I.useCallback(function(d,p){if(p===void 0&&(p={}),!u.current)return;if(typeof d=="number"){n.go(d);return}let v=rO(d,JSON.parse(s),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Sa([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,s,a,t])}const Ek=I.createContext(null);function fO(){return I.useContext(Ek)}function dO(t){let e=I.useContext(qi).outlet;return e&&I.createElement(Ek.Provider,{value:t},e)}function hO(){let{matches:t}=I.useContext(qi),e=t[t.length-1];return e?e.params:{}}function pO(t,e){return vO(t,e)}function vO(t,e,r,n){yf()||vt(!1);let{navigator:i}=I.useContext(mf),{matches:a}=I.useContext(qi),s=a[a.length-1],u=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=Tk(),p;if(e){var v;let k=typeof e=="string"?Xo(e):e;c==="/"||(v=k.pathname)!=null&&v.startsWith(c)||vt(!1),p=k}else p=d;let g=p.pathname||"/",w=g;if(c!=="/"){let k=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=BM(t,{pathname:w}),C=bO(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Sa([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Sa([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,n);return e&&C?I.createElement(gf.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Oi.Pop}},C):C}function mO(){let t=TO(),e=oO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:i},r):null,null)}const gO=I.createElement(mO,null);class yO extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?I.createElement(qi.Provider,{value:this.props.routeContext},I.createElement(xk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wO(t){let{routeContext:e,match:r,children:n}=t,i=I.useContext(Mv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(qi.Provider,{value:e},n)}function bO(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,u=(i=r)==null?void 0:i.errors;if(u!=null){let p=s.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);p>=0||vt(!1),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<s.length;p++){let v=s[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=p),v.route.id){let{loaderData:g,errors:w}=r,b=v.route.loader&&g[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||b){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,v,g)=>{let w,b=!1,C=null,k=null;r&&(w=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||gO,c&&(d<0&&g===0?(b=!0,k=null):d===g&&(b=!0,k=v.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,g+1)),M=()=>{let N;return w?N=C:b?N=k:v.route.Component?N=I.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=p,I.createElement(wO,{match:v,routeContext:{outlet:p,matches:T,isDataRoute:r!=null},children:N})};return r&&(v.route.ErrorBoundary||v.route.errorElement||g===0)?I.createElement(yO,{location:r.location,revalidation:r.revalidation,component:C,error:w,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):M()},null)}var Mk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mk||{}),Ic=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ic||{});function kO(t){let e=I.useContext(Mv);return e||vt(!1),e}function CO(t){let e=I.useContext(lO);return e||vt(!1),e}function xO(t){let e=I.useContext(qi);return e||vt(!1),e}function Ok(t){let e=xO(),r=e.matches[e.matches.length-1];return r.route.id||vt(!1),r.route.id}function TO(){var t;let e=I.useContext(xk),r=CO(Ic.UseRouteError),n=Ok(Ic.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function SO(){let{router:t}=kO(Mk.UseNavigateStable),e=Ok(Ic.UseNavigateStable),r=I.useRef(!1);return Sk(()=>{r.current=!0}),I.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gl({fromRouteId:e},a)))},[t,e])}const Cw={};function EO(t,e){Cw[e]||(Cw[e]=!0,console.warn(e))}const xw=(t,e,r)=>EO(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function MO(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&xw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&xw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function OO(t){return dO(t.context)}function Zs(t){vt(!1)}function NO(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Oi.Pop,navigator:a,static:s=!1,future:u}=t;yf()&&vt(!1);let c=e.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:c,navigator:a,static:s,future:gl({v7_relativeSplatPath:!1},u)}),[c,u,a,s]);typeof n=="string"&&(n=Xo(n));let{pathname:p="/",search:v="",hash:g="",state:w=null,key:b="default"}=n,C=I.useMemo(()=>{let k=kk(p,c);return k==null?null:{location:{pathname:k,search:v,hash:g,state:w,key:b},navigationType:i}},[c,p,v,g,w,b,i]);return C==null?null:I.createElement(mf.Provider,{value:d},I.createElement(gf.Provider,{children:r,value:C}))}function LO(t){let{children:e,location:r}=t;return pO(Op(e),r)}new Promise(()=>{});function Op(t,e){e===void 0&&(e=[]);let r=[];return I.Children.forEach(t,(n,i)=>{if(!I.isValidElement(n))return;let a=[...e,i];if(n.type===I.Fragment){r.push.apply(r,Op(n.props.children,a));return}n.type!==Zs&&vt(!1),!n.props.index||!n.props.children||vt(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Op(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const AO="6";try{window.__reactRouterVersion=AO}catch{}const DO="startTransition",Tw=MM[DO];function IO(t){let{basename:e,children:r,future:n,window:i}=t,a=I.useRef();a.current==null&&(a.current=RM({window:i,v5Compat:!0}));let s=a.current,[u,c]=I.useState({action:s.action,location:s.location}),{v7_startTransition:d}=n||{},p=I.useCallback(v=>{d&&Tw?Tw(()=>c(v)):c(v)},[c,d]);return I.useLayoutEffect(()=>s.listen(p),[s,p]),I.useEffect(()=>MO(n),[n]),I.createElement(NO,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:s,future:n})}var Sw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sw||(Sw={}));var Ew;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ew||(Ew={}));var Ov=Fl(),be=t=>Bl(t,Ov),Nv=Fl();be.write=t=>Bl(t,Nv);var wf=Fl();be.onStart=t=>Bl(t,wf);var Lv=Fl();be.onFrame=t=>Bl(t,Lv);var Av=Fl();be.onFinish=t=>Bl(t,Av);var Lo=[];be.setTimeout=(t,e)=>{const r=be.now()+e,n=()=>{const a=Lo.findIndex(s=>s.cancel==n);~a&&Lo.splice(a,1),Li-=~a?1:0},i={time:r,handler:t,cancel:n};return Lo.splice(Nk(r),0,i),Li+=1,Lk(),i};var Nk=t=>~(~Lo.findIndex(e=>e.time>t)||~Lo.length);be.cancel=t=>{wf.delete(t),Lv.delete(t),Av.delete(t),Ov.delete(t),Nv.delete(t)};be.sync=t=>{Np=!0,be.batchedUpdates(t),Np=!1};be.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,be.onStart(r)}return n.handler=t,n.cancel=()=>{wf.delete(r),e=null},n};var Dv=typeof window<"u"?window.requestAnimationFrame:()=>{};be.use=t=>Dv=t;be.now=typeof performance<"u"?()=>performance.now():Date.now;be.batchedUpdates=t=>t();be.catch=console.error;be.frameLoop="always";be.advance=()=>{be.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Dk()};var Ni=-1,Li=0,Np=!1;function Bl(t,e){Np?(e.delete(t),t(0)):(e.add(t),Lk())}function Lk(){Ni<0&&(Ni=0,be.frameLoop!=="demand"&&Dv(Ak))}function RO(){Ni=-1}function Ak(){~Ni&&(Dv(Ak),be.batchedUpdates(Dk))}function Dk(){const t=Ni;Ni=be.now();const e=Nk(Ni);if(e&&(Ik(Lo.splice(0,e),r=>r.handler()),Li-=e),!Li){RO();return}wf.flush(),Ov.flush(t?Math.min(64,Ni-t):16.667),Lv.flush(),Nv.flush(),Av.flush()}function Fl(){let t=new Set,e=t;return{add(r){Li+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return Li-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,Li-=e.size,Ik(e,n=>n(r)&&t.add(n)),Li+=t.size,e=t)}}}function Ik(t,e){t.forEach(r=>{try{e(r)}catch(n){be.catch(n)}})}var PO=Object.defineProperty,_O=(t,e)=>{for(var r in e)PO(t,r,{get:e[r],enumerable:!0})},Xr={};_O(Xr,{assign:()=>FO,colors:()=>Ri,createStringInterpolator:()=>Rv,skipAnimation:()=>Pk,to:()=>Rk,willAdvance:()=>Pv});function Lp(){}var BO=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),Q={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function $n(t,e){if(Q.arr(t)){if(!Q.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var Oe=(t,e)=>t.forEach(e);function gn(t,e,r){if(Q.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var yr=t=>Q.und(t)?[]:Q.arr(t)?t:[t];function sl(t,e){if(t.size){const r=Array.from(t);t.clear(),Oe(r,e)}}var el=(t,...e)=>sl(t,r=>r(...e)),Iv=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Rv,Rk,Ri=null,Pk=!1,Pv=Lp,FO=t=>{t.to&&(Rk=t.to),t.now&&(be.now=t.now),t.colors!==void 0&&(Ri=t.colors),t.skipAnimation!=null&&(Pk=t.skipAnimation),t.createStringInterpolator&&(Rv=t.createStringInterpolator),t.requestAnimationFrame&&be.use(t.requestAnimationFrame),t.batchedUpdates&&(be.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Pv=t.willAdvance),t.frameLoop&&(be.frameLoop=t.frameLoop)},ll=new Set,Ar=[],Ph=[],Rc=0,bf={get idle(){return!ll.size&&!Ar.length},start(t){Rc>t.priority?(ll.add(t),be.onStart(HO)):(_k(t),be(Ap))},advance:Ap,sort(t){if(Rc)be.onFrame(()=>bf.sort(t));else{const e=Ar.indexOf(t);~e&&(Ar.splice(e,1),Bk(t))}},clear(){Ar=[],ll.clear()}};function HO(){ll.forEach(_k),ll.clear(),be(Ap)}function _k(t){Ar.includes(t)||Bk(t)}function Bk(t){Ar.splice(zO(Ar,e=>e.priority>t.priority),0,t)}function Ap(t){const e=Ph;for(let r=0;r<Ar.length;r++){const n=Ar[r];Rc=n.priority,n.idle||(Pv(n),n.advance(t),n.idle||e.push(n))}return Rc=0,Ph=Ar,Ph.length=0,Ar=e,Ar.length>0}function zO(t,e){const r=t.findIndex(e);return r<0?t.length:r}var $O=(t,e,r)=>Math.min(Math.max(r,t),e),VO={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Gr="[-+]?\\d*\\.?\\d+",Pc=Gr+"%";function kf(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var jO=new RegExp("rgb"+kf(Gr,Gr,Gr)),qO=new RegExp("rgba"+kf(Gr,Gr,Gr,Gr)),UO=new RegExp("hsl"+kf(Gr,Pc,Pc)),WO=new RegExp("hsla"+kf(Gr,Pc,Pc,Gr)),GO=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,KO=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,QO=/^#([0-9a-fA-F]{6})$/,JO=/^#([0-9a-fA-F]{8})$/;function XO(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=QO.exec(t))?parseInt(e[1]+"ff",16)>>>0:Ri&&Ri[t]!==void 0?Ri[t]:(e=jO.exec(t))?(wo(e[1])<<24|wo(e[2])<<16|wo(e[3])<<8|255)>>>0:(e=qO.exec(t))?(wo(e[1])<<24|wo(e[2])<<16|wo(e[3])<<8|Nw(e[4]))>>>0:(e=GO.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=JO.exec(t))?parseInt(e[1],16)>>>0:(e=KO.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=UO.exec(t))?(Mw(Ow(e[1]),rc(e[2]),rc(e[3]))|255)>>>0:(e=WO.exec(t))?(Mw(Ow(e[1]),rc(e[2]),rc(e[3]))|Nw(e[4]))>>>0:null}function _h(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Mw(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,a=_h(i,n,t+1/3),s=_h(i,n,t),u=_h(i,n,t-1/3);return Math.round(a*255)<<24|Math.round(s*255)<<16|Math.round(u*255)<<8}function wo(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Ow(t){return(parseFloat(t)%360+360)%360/360}function Nw(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function rc(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Lw(t){let e=XO(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,a=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${a})`}var yl=(t,e,r)=>{if(Q.fun(t))return t;if(Q.arr(t))return yl({range:t,output:e,extrapolate:r});if(Q.str(t.output[0]))return Rv(t);const n=t,i=n.output,a=n.range||[0,1],s=n.extrapolateLeft||n.extrapolate||"extend",u=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(d=>d);return d=>{const p=ZO(d,a);return YO(d,a[p],a[p+1],i[p],i[p+1],c,s,u,n.map)}};function YO(t,e,r,n,i,a,s,u,c){let d=c?c(t):t;if(d<e){if(s==="identity")return d;s==="clamp"&&(d=e)}if(d>r){if(u==="identity")return d;u==="clamp"&&(d=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?d=-d:r===1/0?d=d-e:d=(d-e)/(r-e),d=a(d),n===-1/0?d=-d:i===1/0?d=d+n:d=d*(i-n)+n,d)}function ZO(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var eN=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return $O(0,1,i/t)},_c=1.70158,nc=_c*1.525,Aw=_c+1,Dw=2*Math.PI/3,Iw=2*Math.PI/4.5,ic=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,tN={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>Aw*t*t*t-_c*t*t,easeOutBack:t=>1+Aw*Math.pow(t-1,3)+_c*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((nc+1)*2*t-nc)/2:(Math.pow(2*t-2,2)*((nc+1)*(t*2-2)+nc)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*Dw),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*Dw)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*Iw))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*Iw)/2+1,easeInBounce:t=>1-ic(1-t),easeOutBounce:ic,easeInOutBounce:t=>t<.5?(1-ic(1-2*t))/2:(1+ic(2*t-1))/2,steps:eN},wl=Symbol.for("FluidValue.get"),_o=Symbol.for("FluidValue.observers"),Lr=t=>!!(t&&t[wl]),or=t=>t&&t[wl]?t[wl]():t,Rw=t=>t[_o]||null;function rN(t,e){t.eventObserved?t.eventObserved(e):t(e)}function bl(t,e){const r=t[_o];r&&r.forEach(n=>{rN(n,e)})}var Fk=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");nN(this,t)}},nN=(t,e)=>Hk(t,wl,e);function Yo(t,e){if(t[wl]){let r=t[_o];r||Hk(t,_o,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function kl(t,e){const r=t[_o];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[_o]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var Hk=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),bc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,iN=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Pw=new RegExp(`(${bc.source})(%|[a-z]+)`,"i"),aN=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Cf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,zk=t=>{const[e,r]=oN(t);if(!e||Iv())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&Cf.test(r))return zk(r);if(r)return r}return t},oN=t=>{const e=Cf.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},Bh,sN=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,$k=t=>{Bh||(Bh=Ri?new RegExp(`(${Object.keys(Ri).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(a=>or(a).replace(Cf,zk).replace(iN,Lw).replace(Bh,Lw)),r=e.map(a=>a.match(bc).map(Number)),i=r[0].map((a,s)=>r.map(u=>{if(!(s in u))throw Error('The arity of each "output" value must be equal');return u[s]})).map(a=>yl({...t,output:a}));return a=>{var c;const s=!Pw.test(e[0])&&((c=e.find(d=>Pw.test(d)))==null?void 0:c.replace(bc,""));let u=0;return e[0].replace(bc,()=>`${i[u++](a)}${s||""}`).replace(aN,sN)}},_v="react-spring: ",Vk=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${_v}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},lN=Vk(console.warn);function uN(){lN(`${_v}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var cN=Vk(console.warn);function fN(){cN(`${_v}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function xf(t){return Q.str(t)&&(t[0]=="#"||/\d/.test(t)||!Iv()&&Cf.test(t)||t in(Ri||{}))}var Tf=Iv()?I.useEffect:I.useLayoutEffect,dN=()=>{const t=I.useRef(!1);return Tf(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function jk(){const t=I.useState()[1],e=dN();return()=>{e.current&&t(Math.random())}}function hN(t,e){const[r]=I.useState(()=>({inputs:e,result:t()})),n=I.useRef(),i=n.current;let a=i;return a?a.inputs&&pN(e,a.inputs)||(a={inputs:e,result:t()}):a=r,I.useEffect(()=>{n.current=a,i==r&&(r.inputs=r.result=void 0)},[a]),a.result}function pN(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var qk=t=>I.useEffect(t,vN),vN=[];function _w(t){const e=I.useRef();return I.useEffect(()=>{e.current=t}),e.current}var Cl=Symbol.for("Animated:node"),mN=t=>!!t&&t[Cl]===t,hn=t=>t&&t[Cl],Bv=(t,e)=>BO(t,Cl,e),Sf=t=>t&&t[Cl]&&t[Cl].getPayload(),Uk=class{constructor(){Bv(this,this)}getPayload(){return this.payload||[]}},Hl=class extends Uk{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Q.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Hl(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Q.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Q.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},xl=class extends Hl{constructor(t){super(0),this._string=null,this._toString=yl({output:[t,t]})}static create(t){return new xl(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Q.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=yl({output:[this.getValue(),t]})),this._value=0,super.reset()}},Bc={dependencies:null},Ef=class extends Uk{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return gn(this.source,(r,n)=>{mN(r)?e[n]=r.getValue(t):Lr(r)?e[n]=or(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Oe(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return gn(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Bc.dependencies&&Lr(t)&&Bc.dependencies.add(t);const e=Sf(t);e&&Oe(e,r=>this.add(r))}},Wk=class extends Ef{constructor(t){super(t)}static create(t){return new Wk(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(gN)),!0)}};function gN(t){return(xf(t)?xl:Hl).create(t)}function Dp(t){const e=hn(t);return e?e.constructor:Q.arr(t)?Wk:xf(t)?xl:Hl}var Bw=(t,e)=>{const r=!Q.fun(t)||t.prototype&&t.prototype.isReactComponent;return I.forwardRef((n,i)=>{const a=I.useRef(null),s=r&&I.useCallback(b=>{a.current=bN(i,b)},[i]),[u,c]=wN(n,e),d=jk(),p=()=>{const b=a.current;if(r&&!b)return;(b?e.applyAnimatedValues(b,u.getValue(!0)):!1)===!1&&d()},v=new yN(p,c),g=I.useRef();Tf(()=>(g.current=v,Oe(c,b=>Yo(b,v)),()=>{g.current&&(Oe(g.current.deps,b=>kl(b,g.current)),be.cancel(g.current.update))})),I.useEffect(p,[]),qk(()=>()=>{const b=g.current;Oe(b.deps,C=>kl(C,b))});const w=e.getComponentProps(u.getValue());return I.createElement(t,{...w,ref:s})})},yN=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&be.write(this.update)}};function wN(t,e){const r=new Set;return Bc.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Ef(t),Bc.dependencies=null,[t,r]}function bN(t,e){return t&&(Q.fun(t)?t(e):t.current=e),e}var Fw=Symbol.for("AnimatedComponent"),kN=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new Ef(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},a=s=>{const u=Hw(s)||"Anonymous";return Q.str(s)?s=a[s]||(a[s]=Bw(s,i)):s=s[Fw]||(s[Fw]=Bw(s,i)),s.displayName=`Animated(${u})`,s};return gn(t,(s,u)=>{Q.arr(t)&&(u=Hw(s)),a[u]=a(s)}),{animated:a}},Hw=t=>Q.str(t)?t:t&&Q.str(t.displayName)?t.displayName:Q.fun(t)&&t.name||null;function wa(t,...e){return Q.fun(t)?t(...e):t}var ul=(t,e)=>t===!0||!!(e&&t&&(Q.fun(t)?t(e):yr(t).includes(e))),Gk=(t,e)=>Q.obj(t)?e&&t[e]:t,Kk=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,CN=t=>t,Fv=(t,e=CN)=>{let r=xN;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const a=e(t[i],i);Q.und(a)||(n[i]=a)}return n},xN=["config","onProps","onStart","onChange","onPause","onResume","onRest"],TN={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function SN(t){const e={};let r=0;if(gn(t,(n,i)=>{TN[i]||(e[i]=n,r++)}),r)return e}function Qk(t){const e=SN(t);if(e){const r={to:e};return gn(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function Tl(t){return t=or(t),Q.arr(t)?t.map(Tl):xf(t)?Xr.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function EN(t){for(const e in t)return!0;return!1}function Ip(t){return Q.fun(t)||Q.arr(t)&&Q.obj(t[0])}function MN(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function Jk(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var tl={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Rp={...tl.default,mass:1,damping:1,easing:tN.linear,clamp:!1},ON=class{constructor(){this.velocity=0,Object.assign(this,Rp)}};function NN(t,e,r){r&&(r={...r},zw(r,e),e={...r,...e}),zw(t,e),Object.assign(t,e);for(const s in Rp)t[s]==null&&(t[s]=Rp[s]);let{frequency:n,damping:i}=t;const{mass:a}=t;return Q.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*a,t.friction=4*Math.PI*i*a/n),t}function zw(t,e){if(!Q.und(e.decay))t.duration=void 0;else{const r=!Q.und(e.tension)||!Q.und(e.friction);(r||!Q.und(e.frequency)||!Q.und(e.damping)||!Q.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var $w=[],LN=class{constructor(){this.changed=!1,this.values=$w,this.toValues=null,this.fromValues=$w,this.config=new ON,this.immediate=!1}};function Xk(t,{key:e,props:r,defaultProps:n,state:i,actions:a}){return new Promise((s,u)=>{let c,d,p=ul(r.cancel??(n==null?void 0:n.cancel),e);if(p)w();else{Q.und(r.pause)||(i.paused=ul(r.pause,e));let b=n==null?void 0:n.pause;b!==!0&&(b=i.paused||ul(b,e)),c=wa(r.delay||0,e),b?(i.resumeQueue.add(g),a.pause()):(a.resume(),g())}function v(){i.resumeQueue.add(g),i.timeouts.delete(d),d.cancel(),c=d.time-be.now()}function g(){c>0&&!Xr.skipAnimation?(i.delayed=!0,d=be.setTimeout(w,c),i.pauseQueue.add(v),i.timeouts.add(d)):w()}function w(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(v),i.timeouts.delete(d),t<=(i.cancelId||0)&&(p=!0);try{a.start({...r,callId:t,cancel:p},s)}catch(b){u(b)}}})}var Hv=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?Ao(t.get()):e.every(r=>r.noop)?Yk(t.get()):qr(t.get(),e.every(r=>r.finished)),Yk=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),qr=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),Ao=t=>({value:t,cancelled:!0,finished:!1});function Zk(t,e,r,n){const{callId:i,parentId:a,onRest:s}=e,{asyncTo:u,promise:c}=r;return!a&&t===u&&!e.reset?c:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const d=Fv(e,(k,T)=>T==="onRest"?void 0:k);let p,v;const g=new Promise((k,T)=>(p=k,v=T)),w=k=>{const T=i<=(r.cancelId||0)&&Ao(n)||i!==r.asyncId&&qr(n,!1);if(T)throw k.result=T,v(k),k},b=(k,T)=>{const M=new Vw,N=new jw;return(async()=>{if(Xr.skipAnimation)throw Sl(r),N.result=qr(n,!1),v(N),N;w(M);const R=Q.obj(k)?{...k}:{...T,to:k};R.parentId=i,gn(d,(z,G)=>{Q.und(R[G])&&(R[G]=z)});const B=await n.start(R);return w(M),r.paused&&await new Promise(z=>{r.resumeQueue.add(z)}),B})()};let C;if(Xr.skipAnimation)return Sl(r),qr(n,!1);try{let k;Q.arr(t)?k=(async T=>{for(const M of T)await b(M)})(t):k=Promise.resolve(t(b,n.stop.bind(n))),await Promise.all([k.then(p),g]),C=qr(n.get(),!0,!1)}catch(k){if(k instanceof Vw)C=k.result;else if(k instanceof jw)C=k.result;else throw k}finally{i==r.asyncId&&(r.asyncId=a,r.asyncTo=a?u:void 0,r.promise=a?c:void 0)}return Q.fun(s)&&be.batchedUpdates(()=>{s(C,n,n.item)}),C})()}function Sl(t,e){sl(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var Vw=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},jw=class extends Error{constructor(){super("SkipAnimationSignal")}},Pp=t=>t instanceof zv,AN=1,zv=class extends Fk{constructor(){super(...arguments),this.id=AN++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=hn(this);return t&&t.getValue()}to(...t){return Xr.to(this,t)}interpolate(...t){return uN(),Xr.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){bl(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||bf.sort(this),bl(this,{type:"priority",parent:this,priority:t})}},Aa=Symbol.for("SpringPhase"),eC=1,tC=2,rC=4,Fh=t=>(t[Aa]&eC)>0,ki=t=>(t[Aa]&tC)>0,qs=t=>(t[Aa]&rC)>0,qw=(t,e)=>e?t[Aa]|=tC|eC:t[Aa]&=-3,Uw=(t,e)=>e?t[Aa]|=rC:t[Aa]&=-5,DN=class extends zv{constructor(t,e){if(super(),this.animation=new LN,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Q.und(t)||!Q.und(e)){const r=Q.obj(t)?{...t}:{...e,from:t};Q.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(ki(this)||this._state.asyncTo)||qs(this)}get goal(){return or(this.animation.to)}get velocity(){const t=hn(this);return t instanceof Hl?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Fh(this)}get isAnimating(){return ki(this)}get isPaused(){return qs(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:a}=n,s=Sf(n.to);!s&&Lr(n.to)&&(i=yr(or(n.to))),n.values.forEach((d,p)=>{if(d.done)return;const v=d.constructor==xl?1:s?s[p].lastPosition:i[p];let g=n.immediate,w=v;if(!g){if(w=d.lastPosition,a.tension<=0){d.done=!0;return}let b=d.elapsedTime+=t;const C=n.fromValues[p],k=d.v0!=null?d.v0:d.v0=Q.arr(a.velocity)?a.velocity[p]:a.velocity;let T;const M=a.precision||(C==v?.005:Math.min(1,Math.abs(v-C)*.001));if(Q.und(a.duration))if(a.decay){const N=a.decay===!0?.998:a.decay,R=Math.exp(-(1-N)*b);w=C+k/(1-N)*(1-R),g=Math.abs(d.lastPosition-w)<=M,T=k*R}else{T=d.lastVelocity==null?k:d.lastVelocity;const N=a.restVelocity||M/10,R=a.clamp?0:a.bounce,B=!Q.und(R),z=C==v?d.v0>0:C<v;let G,ee=!1;const K=1,de=Math.ceil(t/K);for(let ve=0;ve<de&&(G=Math.abs(T)>N,!(!G&&(g=Math.abs(v-w)<=M,g)));++ve){B&&(ee=w==v||w>v==z,ee&&(T=-T*R,w=v));const Ce=-a.tension*1e-6*(w-v),Le=-a.friction*.001*T,Fe=(Ce+Le)/a.mass;T=T+Fe*K,w=w+T*K}}else{let N=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,d.durationProgress>0&&(d.elapsedTime=a.duration*d.durationProgress,b=d.elapsedTime+=t)),N=(a.progress||0)+b/this._memoizedDuration,N=N>1?1:N<0?0:N,d.durationProgress=N),w=C+a.easing(N)*(v-C),T=(w-d.lastPosition)/t,g=N==1}d.lastVelocity=T,Number.isNaN(w)&&(console.warn("Got NaN while animating:",this),g=!0)}s&&!s[p].done&&(g=!1),g?d.done=!0:e=!1,d.setValue(w,a.round)&&(r=!0)});const u=hn(this),c=u.getValue();if(e){const d=or(n.to);(c!==d||r)&&!a.decay?(u.setValue(d),this._onChange(d)):r&&a.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(t){return be.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ki(this)){const{to:t,config:e}=this.animation;be.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return Q.und(t)?(r=this.queue||[],this.queue=[]):r=[Q.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>Hv(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Sl(this._state,t&&this._lastCallId),be.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=Q.obj(r)?r[e]:r,(r==null||Ip(r))&&(r=void 0),n=Q.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return Fh(this)||(t.reverse&&([r,n]=[n,r]),n=or(n),Q.und(n)?hn(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,Fv(t,(s,u)=>/^on/.test(u)?Gk(s,r):s)),Gw(this,t,"onProps"),Ws(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Xk(++this._lastCallId,{key:r,props:t,defaultProps:n,state:a,actions:{pause:()=>{qs(this)||(Uw(this,!0),el(a.pauseQueue),Ws(this,"onPause",qr(this,Us(this,this.animation.to)),this))},resume:()=>{qs(this)&&(Uw(this,!1),ki(this)&&this._resume(),el(a.resumeQueue),Ws(this,"onResume",qr(this,Us(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(s=>{if(t.loop&&s.finished&&!(e&&s.noop)){const u=nC(t);if(u)return this._update(u,!0)}return s})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(Ao(this));const n=!Q.und(t.to),i=!Q.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(Ao(this));const{key:a,defaultProps:s,animation:u}=this,{to:c,from:d}=u;let{to:p=c,from:v=d}=t;i&&!n&&(!e.default||Q.und(p))&&(p=v),e.reverse&&([p,v]=[v,p]);const g=!$n(v,d);g&&(u.from=v),v=or(v);const w=!$n(p,c);w&&this._focus(p);const b=Ip(e.to),{config:C}=u,{decay:k,velocity:T}=C;(n||i)&&(C.velocity=0),e.config&&!b&&NN(C,wa(e.config,a),e.config!==s.config?wa(s.config,a):void 0);let M=hn(this);if(!M||Q.und(p))return r(qr(this,!0));const N=Q.und(e.reset)?i&&!e.default:!Q.und(v)&&ul(e.reset,a),R=N?v:this.get(),B=Tl(p),z=Q.num(B)||Q.arr(B)||xf(B),G=!b&&(!z||ul(s.immediate||e.immediate,a));if(w){const ve=Dp(p);if(ve!==M.constructor)if(G)M=this._set(B);else throw Error(`Cannot animate between ${M.constructor.name} and ${ve.name}, as the "to" prop suggests`)}const ee=M.constructor;let K=Lr(p),de=!1;if(!K){const ve=N||!Fh(this)&&g;(w||ve)&&(de=$n(Tl(R),B),K=!de),(!$n(u.immediate,G)&&!G||!$n(C.decay,k)||!$n(C.velocity,T))&&(K=!0)}if(de&&ki(this)&&(u.changed&&!N?K=!0:K||this._stop(c)),!b&&((K||Lr(c))&&(u.values=M.getPayload(),u.toValues=Lr(p)?null:ee==xl?[1]:yr(B)),u.immediate!=G&&(u.immediate=G,!G&&!N&&this._set(c)),K)){const{onRest:ve}=u;Oe(RN,Le=>Gw(this,e,Le));const Ce=qr(this,Us(this,c));el(this._pendingCalls,Ce),this._pendingCalls.add(r),u.changed&&be.batchedUpdates(()=>{var Le;u.changed=!N,ve==null||ve(Ce,this),N?wa(s.onRest,Ce):(Le=u.onStart)==null||Le.call(u,Ce,this)})}N&&this._set(R),b?r(Zk(e.to,e,this._state,this)):K?this._start():ki(this)&&!w?this._pendingCalls.add(r):r(Yk(R))}_focus(t){const e=this.animation;t!==e.to&&(Rw(this)&&this._detach(),e.to=t,Rw(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Lr(e)&&(Yo(e,this),Pp(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Lr(t)&&kl(t,this)}_set(t,e=!0){const r=or(t);if(!Q.und(r)){const n=hn(this);if(!n||!$n(r,n.getValue())){const i=Dp(r);!n||n.constructor!=i?Bv(this,i.create(r)):n.setValue(r),n&&be.batchedUpdates(()=>{this._onChange(r,e)})}}return hn(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Ws(this,"onStart",qr(this,Us(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),wa(this.animation.onChange,t,this)),wa(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;hn(this).reset(or(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),ki(this)||(qw(this,!0),qs(this)||this._resume())}_resume(){Xr.skipAnimation?this.finish():bf.start(this)}_stop(t,e){if(ki(this)){qw(this,!1);const r=this.animation;Oe(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),bl(this,{type:"idle",parent:this});const n=e?Ao(this.get()):qr(this.get(),Us(this,t??r.to));el(this._pendingCalls,n),r.changed&&(r.changed=!1,Ws(this,"onRest",n,this))}}};function Us(t,e){const r=Tl(e),n=Tl(t.get());return $n(n,r)}function nC(t,e=t.loop,r=t.to){const n=wa(e);if(n){const i=n!==!0&&Qk(n),a=(i||t).reverse,s=!i||i.reset;return El({...t,loop:e,default:!1,pause:void 0,to:!a||Ip(r)?r:void 0,from:s?t.from:void 0,reset:s,...i})}}function El(t){const{to:e,from:r}=t=Qk(t),n=new Set;return Q.obj(e)&&Ww(e,n),Q.obj(r)&&Ww(r,n),t.keys=n.size?Array.from(n):null,t}function IN(t){const e=El(t);return Q.und(e.default)&&(e.default=Fv(e)),e}function Ww(t,e){gn(t,(r,n)=>r!=null&&e.add(n))}var RN=["onStart","onRest","onChange","onPause","onResume"];function Gw(t,e,r){t.animation[r]=e[r]!==Kk(e,r)?Gk(e[r],t.key):void 0}function Ws(t,e,...r){var n,i,a,s;(i=(n=t.animation)[e])==null||i.call(n,...r),(s=(a=t.defaultProps)[e])==null||s.call(a,...r)}var PN=["onStart","onChange","onRest"],_N=1,BN=class{constructor(t,e){this.id=_N++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];Q.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(El(t)),this}start(t){let{queue:e}=this;return t?e=yr(t).map(El):this.queue=[],this._flush?this._flush(this,e):(lC(this,e),_p(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;Oe(yr(e),n=>r[n].stop(!!t))}else Sl(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(Q.und(t))this.start({pause:!0});else{const e=this.springs;Oe(yr(t),r=>e[r].pause())}return this}resume(t){if(Q.und(t))this.start({pause:!1});else{const e=this.springs;Oe(yr(t),r=>e[r].resume())}return this}each(t){gn(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,sl(t,([u,c])=>{c.value=this.get(),u(c,this,this._item)}));const a=!n&&this._started,s=i||a&&r.size?this.get():null;i&&e.size&&sl(e,([u,c])=>{c.value=s,u(c,this,this._item)}),a&&(this._started=!1,sl(r,([u,c])=>{c.value=s,u(c,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;be.onFrame(this._onFrame)}};function _p(t,e){return Promise.all(e.map(r=>iC(t,r))).then(r=>Hv(t,r))}async function iC(t,e,r){const{keys:n,to:i,from:a,loop:s,onRest:u,onResolve:c}=e,d=Q.obj(e.default)&&e.default;s&&(e.loop=!1),i===!1&&(e.to=null),a===!1&&(e.from=null);const p=Q.arr(i)||Q.fun(i)?i:void 0;p?(e.to=void 0,e.onRest=void 0,d&&(d.onRest=void 0)):Oe(PN,C=>{const k=e[C];if(Q.fun(k)){const T=t._events[C];e[C]=({finished:M,cancelled:N})=>{const R=T.get(k);R?(M||(R.finished=!1),N&&(R.cancelled=!0)):T.set(k,{value:null,finished:M||!1,cancelled:N||!1})},d&&(d[C]=e[C])}});const v=t._state;e.pause===!v.paused?(v.paused=e.pause,el(e.pause?v.pauseQueue:v.resumeQueue)):v.paused&&(e.pause=!0);const g=(n||Object.keys(t.springs)).map(C=>t.springs[C].start(e)),w=e.cancel===!0||Kk(e,"cancel")===!0;(p||w&&v.asyncId)&&g.push(Xk(++t._lastAsyncId,{props:e,state:v,actions:{pause:Lp,resume:Lp,start(C,k){w?(Sl(v,t._lastAsyncId),k(Ao(t))):(C.onRest=u,k(Zk(p,C,v,t)))}}})),v.paused&&await new Promise(C=>{v.resumeQueue.add(C)});const b=Hv(t,await Promise.all(g));if(s&&b.finished&&!(r&&b.noop)){const C=nC(e,s,i);if(C)return lC(t,[C]),iC(t,C,!0)}return c&&be.batchedUpdates(()=>c(b,t,t.item)),b}function Kw(t,e){const r={...t.springs};return e&&Oe(yr(e),n=>{Q.und(n.keys)&&(n=El(n)),Q.obj(n.to)||(n={...n,to:void 0}),sC(r,n,i=>oC(i))}),aC(t,r),r}function aC(t,e){gn(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,Yo(r,t))})}function oC(t,e){const r=new DN;return r.key=t,e&&Yo(r,e),r}function sC(t,e,r){e.keys&&Oe(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function lC(t,e){Oe(e,r=>{sC(t.springs,r,n=>oC(n,t))})}var Mf=({children:t,...e})=>{const r=I.useContext(Fc),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=hN(()=>({pause:n,immediate:i}),[n,i]);const{Provider:a}=Fc;return I.createElement(a,{value:e},t)},Fc=FN(Mf,{});Mf.Provider=Fc.Provider;Mf.Consumer=Fc.Consumer;function FN(t,e){return Object.assign(t,I.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var HN=()=>{const t=[],e=function(n){fN();const i=[];return Oe(t,(a,s)=>{if(Q.und(n))i.push(a.start());else{const u=r(n,a,s);u&&i.push(a.start(u))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return Oe(t,n=>n.pause(...arguments)),this},e.resume=function(){return Oe(t,n=>n.resume(...arguments)),this},e.set=function(n){Oe(t,(i,a)=>{const s=Q.fun(n)?n(a,i):n;s&&i.set(s)})},e.start=function(n){const i=[];return Oe(t,(a,s)=>{if(Q.und(n))i.push(a.start());else{const u=this._getProps(n,a,s);u&&i.push(a.start(u))}}),i},e.stop=function(){return Oe(t,n=>n.stop(...arguments)),this},e.update=function(n){return Oe(t,(i,a)=>i.update(this._getProps(n,i,a))),this};const r=function(n,i,a){return Q.fun(n)?n(a,i):n};return e._getProps=r,e};function uC(t,e,r){const n=Q.fun(e)&&e;n&&!r&&(r=[]);const i=I.useMemo(()=>n||arguments.length==3?HN():void 0,[]),a=I.useRef(0),s=jk(),u=I.useMemo(()=>({ctrls:[],queue:[],flush(T,M){const N=Kw(T,M);return a.current>0&&!u.queue.length&&!Object.keys(N).some(B=>!T.springs[B])?_p(T,M):new Promise(B=>{aC(T,N),u.queue.push(()=>{B(_p(T,M))}),s()})}}),[]),c=I.useRef([...u.ctrls]),d=[],p=_w(t)||0;I.useMemo(()=>{Oe(c.current.slice(t,p),T=>{MN(T,i),T.stop(!0)}),c.current.length=t,v(p,t)},[t]),I.useMemo(()=>{v(0,Math.min(p,t))},r);function v(T,M){for(let N=T;N<M;N++){const R=c.current[N]||(c.current[N]=new BN(null,u.flush)),B=n?n(N,R):e[N];B&&(d[N]=IN(B))}}const g=c.current.map((T,M)=>Kw(T,d[M])),w=I.useContext(Mf),b=_w(w),C=w!==b&&EN(w);Tf(()=>{a.current++,u.ctrls=c.current;const{queue:T}=u;T.length&&(u.queue=[],Oe(T,M=>M())),Oe(c.current,(M,N)=>{i==null||i.add(M),C&&M.start({default:w});const R=d[N];R&&(Jk(M,R.ref),M.ref?M.queue.push(R):M.start(R))})}),qk(()=>()=>{Oe(u.ctrls,T=>T.stop(!0))});const k=g.map(T=>({...T}));return i?[k,i]:k}function ba(t,e){const r=Q.fun(t),[[n],i]=uC(1,r?t:[t],r?[]:e);return r||arguments.length==2?[n,i]:n}function zN(t,e,r){const n=Q.fun(e)&&e;n&&!r&&(r=[]);let i=!0,a;const s=uC(t,(u,c)=>{const d=n?n(u,c):e;return a=d.ref,i=i&&d.reverse,d},r||[{}]);if(Tf(()=>{Oe(s[1].current,(u,c)=>{const d=s[1].current[c+(i?1:-1)];if(Jk(u,a),u.ref){d&&u.update({to:d.springs});return}d?u.start({to:d.springs}):u.start()})},r),n||arguments.length==3){const u=a??s[1];return u._getProps=(c,d,p)=>{const v=Q.fun(c)?c(p,d):c;if(v){const g=u.current[p+(v.reverse?1:-1)];return g&&(v.to=g.springs),v}},s}return s[0]}var $N=class extends zv{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=yl(...e);const r=this._get(),n=Dp(r);Bv(this,n.create(r))}advance(t){const e=this._get(),r=this.get();$n(e,r)||(hn(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&Qw(this._active)&&Hh(this)}_get(){const t=Q.arr(this.source)?this.source.map(or):yr(or(this.source));return this.calc(...t)}_start(){this.idle&&!Qw(this._active)&&(this.idle=!1,Oe(Sf(this),t=>{t.done=!1}),Xr.skipAnimation?(be.batchedUpdates(()=>this.advance()),Hh(this)):bf.start(this))}_attach(){let t=1;Oe(yr(this.source),e=>{Lr(e)&&Yo(e,this),Pp(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Oe(yr(this.source),t=>{Lr(t)&&kl(t,this)}),this._active.clear(),Hh(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=yr(this.source).reduce((e,r)=>Math.max(e,(Pp(r)?r.priority:0)+1),0))}};function VN(t){return t.idle!==!1}function Qw(t){return!t.size||Array.from(t).every(VN)}function Hh(t){t.idle||(t.idle=!0,Oe(Sf(t),e=>{e.done=!0}),bl(t,{type:"idle",parent:t}))}Xr.assign({createStringInterpolator:$k,to:(t,e)=>new $N(t,e)});var cC=/^--/;function jN(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!cC.test(t)&&!(cl.hasOwnProperty(t)&&cl[t])?e+"px":(""+e).trim()}var Jw={};function qN(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:n,style:i,children:a,scrollTop:s,scrollLeft:u,viewBox:c,...d}=e,p=Object.values(d),v=Object.keys(d).map(g=>r||t.hasAttribute(g)?g:Jw[g]||(Jw[g]=g.replace(/([A-Z])/g,w=>"-"+w.toLowerCase())));a!==void 0&&(t.textContent=a);for(const g in i)if(i.hasOwnProperty(g)){const w=jN(g,i[g]);cC.test(g)?t.style.setProperty(g,w):t.style[g]=w}v.forEach((g,w)=>{t.setAttribute(g,p[w])}),n!==void 0&&(t.className=n),s!==void 0&&(t.scrollTop=s),u!==void 0&&(t.scrollLeft=u),c!==void 0&&t.setAttribute("viewBox",c)}var cl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UN=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),WN=["Webkit","Ms","Moz","O"];cl=Object.keys(cl).reduce((t,e)=>(WN.forEach(r=>t[UN(r,e)]=t[e]),t),cl);var GN=/^(matrix|translate|scale|rotate|skew)/,KN=/^(translate)/,QN=/^(rotate|skew)/,zh=(t,e)=>Q.num(t)&&t!==0?t+e:t,kc=(t,e)=>Q.arr(t)?t.every(r=>kc(r,e)):Q.num(t)?t===e:parseFloat(t)===e,JN=class extends Ef{constructor({x:t,y:e,z:r,...n}){const i=[],a=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),a.push(s=>[`translate3d(${s.map(u=>zh(u,"px")).join(",")})`,kc(s,0)])),gn(n,(s,u)=>{if(u==="transform")i.push([s||""]),a.push(c=>[c,c===""]);else if(GN.test(u)){if(delete n[u],Q.und(s))return;const c=KN.test(u)?"px":QN.test(u)?"deg":"";i.push(yr(s)),a.push(u==="rotate3d"?([d,p,v,g])=>[`rotate3d(${d},${p},${v},${zh(g,c)})`,kc(g,0)]:d=>[`${u}(${d.map(p=>zh(p,c)).join(",")})`,kc(d,u.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new XN(i,a)),super(n)}},XN=class extends Fk{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Oe(this.inputs,(r,n)=>{const i=or(r[0]),[a,s]=this.transforms[n](Q.arr(i)?i:r.map(or));t+=" "+a,e=e&&s}),e?"none":t}observerAdded(t){t==1&&Oe(this.inputs,e=>Oe(e,r=>Lr(r)&&Yo(r,this)))}observerRemoved(t){t==0&&Oe(this.inputs,e=>Oe(e,r=>Lr(r)&&kl(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),bl(this,t)}},YN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Xr.assign({batchedUpdates:IM.unstable_batchedUpdates,createStringInterpolator:$k,colors:VO});var ZN=kN(YN,{applyAnimatedValues:qN,createAnimatedStyle:t=>new JN(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),Ur=ZN.animated;function eL({textColor:t}){const[e,r]=I.useState(!1),n=I.useRef(null);I.useEffect(()=>{const v=g=>{n.current&&!n.current.contains(g.target)&&r(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[n]);const i=ba({transform:e?"translateX(0%)":"translateX(100%)",opacity:e?1:0,onRest:()=>{e||r(!1)}}),a=["Home","Intro","Project","Activities"],s=a.map((v,g)=>{const w=e?g*100:(a.length-g-1)*100,b=ba({transform:e?"translateX(0px)":"translateX(250px)",opacity:e?1:0,delay:w,config:tl.wobbly});return $.jsx(Ur.button,{style:b,className:"px-10 text-3xl font-bold text-left",onClick:()=>{r(!1),window.location.hash=`#${v}`},children:v},v)}),u=ba({transform:e?"translateX(0px)":"translateX(250px)",opacity:e?1:0,delay:e?500:100,config:tl.wobbly}),c=ba({transform:e?"translateX(0px)":"translateX(250px)",opacity:e?1:0,delay:e?600:0,config:tl.wobbly}),d=ba({transform:e?"translateX(0px)":"translateX(250px)",opacity:e?1:0,delay:e?700:200,config:tl.wobbly}),p=t==="text-black"?{filter:"invert(1)"}:{};return $.jsxs("header",{className:"fixed top-0 left-0 z-50 w-full",children:[$.jsxs("nav",{className:`flex items-center justify-between px-5 py-5 ${t}`,children:[$.jsx("div",{children:"Howu"}),$.jsx("div",{onClick:()=>r(!e),children:$.jsx("img",{src:"/menu.svg",alt:"Menu",className:"cursor-pointer",style:p})})]}),$.jsxs(Ur.div,{ref:n,style:i,className:"fixed top-0 right-0 w-[400px] h-full bg-black text-white opacity-95",children:[$.jsx("button",{onClick:()=>r(!1),className:"absolute text-white top-5 right-5",children:"X"}),$.jsx("div",{className:"flex flex-col py-[100px] gap-[24px]",children:s}),$.jsxs("div",{className:"flex items-center gap-3 px-10 text-left",children:[$.jsx(Ur.button,{onClick:()=>{window.open("https://blog.howu.run","_blank")},style:u,children:"Blog"}),$.jsx(Ur.div,{style:c,className:"w-[1px] h-3 bg-white"}),$.jsx(Ur.button,{onClick:()=>{window.location.href="mailto:hochoi8621@gmail.com"},style:d,children:"Contact"})]})]})]})}const tL=()=>{window.location.hash&&history.replaceState(null,"",window.location.pathname+window.location.search)},rL=()=>{const[t,e]=I.useState(0),r=t===0||t===2?"text-white":"text-black";return I.useEffect(()=>{e(0),tL()},[location.pathname,location.search]),$.jsxs($.Fragment,{children:[$.jsx(eL,{textColor:r}),$.jsx(OO,{context:{activeIndex:t,setActiveIndex:e}})]})};function nL(t){var e=I.useRef();return I.useEffect(function(){e.current=t},[t]),e.current}function $v(){var t=typeof window=="object",e=I.useState({width:t?window.innerWidth:0,height:t?window.innerHeight:0}),r=e[0],n=e[1];return I.useEffect(function(){function i(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[t]),r}var iL=function(t){var e=t.children,r=I.useRef(null),n=I.useState([]),i=n[0],a=n[1],s=[],u=I.useCallback(function(c){if(c){var d=c.parentNode;d&&d.classList?(s.push(d),u(d)):a(s)}},[]);return I.useEffect(function(){var c=r.current;return c&&u(c),i.length&&i.forEach(function(d){d.classList.add("react-fullpage__parents")}),function(){i.forEach(function(d){d.classList.remove("react-fullpage__parents")})}},[u,i]),$.jsx("div",{className:"react-fullpage__wrapper",ref:r,children:e})};function aL(t){var e=t.children,r=t.activeIndex,n=t.allowScroll,i=n===void 0?!0:n,a=t.allowScrollUp,s=a===void 0?!0:a,u=t.allowScrollDown,c=u===void 0?!0:u,d=t.transitionDuration,p=d===void 0?700:d,v=t.setActiveIndex,g=t.onBeforeChange,w=t.onAfterChange,b=t.onAfterLoad,C=t.topScrollOnChange,k=C===void 0?!1:C,T=I.useState(0),M=T[0],N=T[1],R=I.useRef(null),B=I.useState(!1),z=B[0],G=B[1],ee=nL(r),K=I.useState(0),de=K[0],ve=K[1],Ce=I.useState(!1),Le=Ce[0],Fe=Ce[1],it=$v(),Ke=it.width,He=it.height,X=I.useCallback(function(){g&&g(ee,r)},[g,r]),ue=I.useCallback(function(){w&&w(ee,r)},[w,r]);return I.useEffect(function(){X();var Y=setTimeout(function(){G(!1),ue()},p);return function(){return clearTimeout(Y)}},[r,X,ue]),I.useEffect(function(){var Y=0;r<0&&v(0),de&&r>de-1&&v(de-1);for(var L=0;L<=r;L+=1)if(R!==null&&R.current){var H=R.current.children[L];H&&L>0&&(Y+=H.clientHeight||0)}N(Y)},[Ke,He,r,v,R,Le,de]),I.useEffect(function(){R!==null&&R.current&&ve(R.current.childElementCount)},[R,Le]),I.useEffect(function(){Le&&b&&b(R)},[Le]),I.useEffect(function(){return Fe(!0),function(){Fe(!1)}},[]),$.jsx(iL,{children:$.jsx("div",{className:"react-fullpage__container",style:{transform:"translate3d(0px, -".concat(M,"px, 0px)"),transitionDuration:"".concat(p,"ms")},ref:R,"data-is-animating":z,children:Le&&I.Children.map(e,function(Y,L){var H=Y;return I.cloneElement(H,{index:L,activeIndex:r,setActiveIndex:v,sectionCount:de,isAnimating:z,setIsAnimating:G,allowScroll:i,allowScrollUp:s,allowScrollDown:c,topScrollOnChange:k,transitionDuration:p})})})})}function oL(t,e){var r=I.useState({scrollX:0,scrollY:0,isAtTop:!0,isAtBottom:!1,hasScrollbar:!1}),n=r[0],i=r[1],a=$v().height;return I.useEffect(function(){var s=t.current;if(!s)return;function u(){var c=s?s.scrollTop:0,d=c<=0,p=s?s.clientHeight:0,v=e-c<=p+1,g=e>p;i({scrollX:(s==null?void 0:s.scrollLeft)||0,scrollY:(s==null?void 0:s.scrollTop)||0,isAtTop:d,isAtBottom:v,hasScrollbar:g})}return u(),s.addEventListener("scroll",u),function(){s&&s.removeEventListener("scroll",u)}},[t,e,a]),n}function sL(t){var e=I.useState(0),r=e[0],n=e[1],i=I.useState(0),a=i[0],s=i[1];return I.useEffect(function(){var u=t.current;if(u){var c=function(){var p=u?u.clientWidth:0,v=u?u.clientHeight:0;n(p),s(v)},d=new ResizeObserver(function(){c()});return c(),d.observe(u),function(){return d.disconnect()}}},[t]),{width:r,height:a}}function lL(){var t=I.useState(""),e=t[0],r=t[1];I.useEffect(function(){var i=function(){var a=window.location.hash.substring(1);r(a)};return i(),window.addEventListener("hashchange",i),function(){window.removeEventListener("hashchange",i)}},[]);var n=function(i){i?(window.location.hash=i,r(i)):(window.history.replaceState(null,document.title,window.location.pathname),r(""))};return{hashValue:e,updateHash:n}}var Xw=30,uL=function(t,e){var r=Math.atan2(e,t)*(180/Math.PI);return r>=-45&&r<=45?"RIGHT":r>=45&&r<=135?"DOWN":r>=-135&&r<=-45?"UP":"LEFT"},cL=function(t,e){var r=e.onSwipeStart,n=e.onSwipeEnd;I.useEffect(function(){var i,a,s,u,c=!1,d=function(w){!t.current||!w.touches[0]||(i=w.touches[0].clientX,a=w.touches[0].clientY,c=!0,r&&r())},p=function(w){if(!(!c||!t.current||!w.touches[0])){s=w.touches[0].clientX,u=w.touches[0].clientY;var b=s-i,C=u-a;if(Math.abs(b)>Xw||Math.abs(C)>Xw){var k=uL(b,C);n&&n(k),c=!1}}},v=function(){c=!1},g=t.current;return g==null||g.addEventListener("touchstart",d,{passive:!0}),g==null||g.addEventListener("touchmove",p,{passive:!0}),g==null||g.addEventListener("touchend",v),function(){g==null||g.removeEventListener("touchstart",d),g==null||g.removeEventListener("touchmove",p),g==null||g.removeEventListener("touchend",v)}},[t,r,n])};function fL(t){var e=t.contentsRef,r=t.children;return $.jsx("div",{className:"react-fullpage__contents",ref:e,children:r})}var dL=function(){var t=I.useState({x:0,y:0}),e=t[0],r=t[1],n=function(i){r({x:i.clientX,y:i.clientY})};return I.useEffect(function(){return document.addEventListener("mousemove",n),function(){document.removeEventListener("mousemove",n)}},[]),e},hL=function(t){var e=I.useState(!1),r=e[0],n=e[1],i=function(){n(!0)},a=function(){n(!1)};return I.useEffect(function(){var s="current"in t?t.current:t;if(s)return s.addEventListener("mousedown",i),document.addEventListener("mouseup",a),function(){s.removeEventListener("mousedown",i),document.removeEventListener("mouseup",a)}},[t]),r};function pL(t){var e=t.contentsHeight,r=t.scrollY,n=t.sectionRef,i=I.useRef(null),a=dL().y,s=hL(i),u=I.useState(0),c=u[0],d=u[1],p=I.useState(0),v=p[0],g=p[1],w=$v(),b=w.width,C=w.height,k=I.useState(0),T=k[0],M=k[1],N=I.useState(0),R=N[0],B=N[1];return I.useEffect(function(){g((100-C/e*100)*(r/(e-C))),d(C/e*100)},[C,e,r]),I.useEffect(function(){s&&(M(a),B(r))},[s]),I.useEffect(function(){if(s){var z=(a-T)/C*e+R;n.current&&n.current.scrollTo(0,z)}},[a,T,b,C,e,R,s,n]),$.jsx("div",{className:"react-fullpage__scrollbar",style:{height:"".concat(e,"px")},children:$.jsx("div",{className:"react-fullpage__scrollbar-sticker",style:{height:"".concat(C,"px")},children:$.jsx("div",{className:"react-fullpage__scrollbar-container",style:{height:"".concat(C,"px")},children:$.jsx("button",{type:"button",ref:i,className:"react-fullpage__scrollbar-handler ".concat(s&&"is-pressed"),style:{top:"".concat(v,"%"),height:"".concat(c,"%")},"data-is-pressed":s})})})})}function ac(t){var e=t.children,r=t.allowScroll,n=t.allowScrollUp,i=t.allowScrollDown,a=t.isAutoHeight,s=a===void 0?!1:a,u=t.activeIndex,c=t.sectionCount,d=t.isAnimating,p=d===void 0?!1:d,v=t.setActiveIndex,g=t.setIsAnimating,w=t.name,b=w===void 0?"":w,C=t.index,k=C===void 0?0:C,T=t.topScrollOnChange,M=t.transitionDuration,N=I.useRef(null),R=I.useRef(null),B=sL(R).height,z=oL(N,B),G=z.isAtTop,ee=z.isAtBottom,K=z.hasScrollbar,de=z.scrollY,ve=I.useState(!1),Ce=ve[0],Le=ve[1],Fe=lL().hashValue,it=I.useRef(0),Ke=I.useState(0),He=Ke[0],X=Ke[1],ue=I.useState(0),Y=ue[0],L=ue[1],H=I.useRef(null),me=I.useRef(!0);I.useEffect(function(){Fe&&Fe===b&&v!==void 0&&v(k)},[Fe,v,k,b]),I.useEffect(function(){Le(G||ee)},[G,ee]),I.useEffect(function(){if(Ce){var we=setTimeout(function(){Le(!1)},300);return function(){return clearTimeout(we)}}},[Ce]);var ce=function(we){g===void 0||v===void 0||!r||p||Ce||(g(!0),v(we))},Te=function(){u===void 0||c===void 0||u>=c-1||!i||u===k&&K&&!ee||ce(u+1)},xe=function(){u===void 0||u<=0||!n||u===k&&K&&!G||ce(u-1)},_e=function(we){var lt=new Date().getTime();if(lt-it.current<300){var Yt=He+Math.abs(we.deltaY);Yt>Y&&(me.current=!0),X(Yt)}else L(He),it.current=lt,X(0);me.current&&(we.deltaY>0&&Te(),we.deltaY<0&&xe())};I.useEffect(function(){me.current=!1,H.current!==null&&clearTimeout(H.current),H.current=setTimeout(function(){me.current=!0,X(0)},300)},[He]);var Ae=function(we){we==="UP"&&Te(),we==="DOWN"&&xe()};return cL(N,{onSwipeEnd:Ae}),I.useEffect(function(){T&&u!==k&&setTimeout(function(){var we;(we=N.current)===null||we===void 0||we.scrollTo(0,0)},M)},[u]),$.jsxs("div",{ref:N,onWheel:_e,className:"react-fullpage__section","data-active":u===k,"data-animating":p,style:{height:"".concat(s?"auto":"100%")},children:[$.jsx(fL,{contentsRef:R,children:e}),K&&!p&&$.jsx(pL,{contentsHeight:B,scrollY:de,sectionRef:N})]})}function vL(){const[t,e]=I.useState(0),[r,n]=I.useState(!0),i=[["  | HOWU","I'm a Frontend","Developer"],[" UX DX"," "," ."]],a=i[t],s=zN(a.length,{config:{mass:5,tension:2e3,friction:200},opacity:1,x:0,height:110,from:{opacity:0,x:20,height:0},reset:!0}),u=()=>{e(d=>(d+1)%i.length),n(!1)},c=d=>{switch(d){case 0:return"text-3xl";case 1:return"text-[60px]";case 2:return"text-[60px]";default:return"text-white"}};return $.jsxs("div",{className:"grid w-screen h-screen grid-cols-2 overflow-hidden text-white bg-black",children:[$.jsxs("div",{onClick:u,className:"flex flex-col justify-center gap-4 ml-[30%] h-full",children:[r&&$.jsx("div",{className:"opacity-40 animate-bounce",children:"click "}),s.map((d,p)=>$.jsx(Ur.div,{className:` font-bold ${c(p)}`,style:{transform:d.x.interpolate(v=>`translate3d(0,${v}px,0)`),opacity:d.opacity},children:a[p]},p)),$.jsx("div",{className:"mt-6",children:$.jsxs("a",{href:"choiho_resume.pdf",download:"ChoiHo_Resume.pdf",className:"flex items-center gap-3",children:[$.jsx("div",{className:"h-[2px] bg-white w-[20px]"})," View My Resume"]})})]}),$.jsx("div",{className:"relative flex items-center justify-center h-screen",children:$.jsx("div",{className:"absolute z-0 flex justify-center w-[90%] h-full transform skew-y-12 bg-white rounded-full animate-slide-in -bottom-1/4",children:$.jsx("img",{src:"me.png",alt:"Choi Ho",className:"z-10 animate-float-up-down"})})})]})}var Bp=new Map,oc=new WeakMap,Yw=0,mL=void 0;function gL(t){return t?(oc.has(t)||(Yw+=1,oc.set(t,Yw.toString())),oc.get(t)):"0"}function yL(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?gL(t.root):t[e]}`).toString()}function wL(t){const e=yL(t);let r=Bp.get(e);if(!r){const n=new Map;let i;const a=new IntersectionObserver(s=>{s.forEach(u=>{var c;const d=u.isIntersecting&&i.some(p=>u.intersectionRatio>=p);t.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=d),(c=n.get(u.target))==null||c.forEach(p=>{p(d,u)})})},t);i=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:a,elements:n},Bp.set(e,r)}return r}function bL(t,e,r={},n=mL){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:i,observer:a,elements:s}=wL(r),u=s.get(t)||[];return s.has(t)||s.set(t,u),u.push(e),a.observe(t),function(){u.splice(u.indexOf(e),1),u.length===0&&(s.delete(t),a.unobserve(t)),s.size===0&&(a.disconnect(),Bp.delete(i))}}function kL({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:a,skip:s,initialInView:u,fallbackInView:c,onChange:d}={}){var p;const[v,g]=I.useState(null),w=I.useRef(d),[b,C]=I.useState({inView:!!u,entry:void 0});w.current=d,I.useEffect(()=>{if(s||!v)return;let N;return N=bL(v,(R,B)=>{C({inView:R,entry:B}),w.current&&w.current(R,B),B.isIntersecting&&a&&N&&(N(),N=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},c),()=>{N&&N()}},[Array.isArray(t)?t.toString():t,v,i,n,a,s,r,c,e]);const k=(p=b.entry)==null?void 0:p.target,T=I.useRef(void 0);!v&&k&&!a&&!s&&T.current!==k&&(T.current=k,C({inView:!!u,entry:void 0}));const M=[g,b.inView,b.entry];return M.ref=M[0],M.inView=M[1],M.entry=M[2],M}function CL(){const[t,e]=kL({triggerOnce:!1,threshold:.5}),r=(c,d)=>ba({to:{opacity:e?1:0,transform:e?"translate(0%, 0%)":`translate(${c}vw, ${d}vh)`},from:{opacity:0,transform:`translate(${c}vw, ${d}vh)`},config:{duration:1e3}}),[n]=ba(()=>({opacity:1,transform:"translate(0%, 0%)",from:{opacity:0,transform:"translate(0%, -100vh)"},config:{duration:1e3}})),i=r(-100,-100),a=r(100,-100),s=r(-100,100),u=r(100,100);return $.jsxs("div",{ref:t,className:"flex flex-col items-center justify-center w-screen h-screen overflow-hidden text-black bg-white",children:[$.jsx("div",{className:"w-72 h-72",children:$.jsx("img",{src:"developer.svg"})}),$.jsxs(Ur.div,{className:"text-left text-[48px] font-bold",style:n,children:[" ",$.jsx("p",{className:"inline text-me",children:"UX DX "})," Front-end   ."]}),$.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8 text-[#5c5c5c]",children:[$.jsxs(Ur.div,{style:i,className:"p-4 w-[370px]",children:[$.jsxs("div",{className:"text-[28px] font-bold ",children:[$.jsx("p",{className:"inline text-me text-[40px]",children:"W"}),"hy"]}),$.jsx("div",{className:"text-l",children:"   ,           ."})]}),$.jsxs(Ur.div,{style:a,className:"p-4 w-[370px]",children:[$.jsxs("div",{className:"font-bold text-[28px]",children:[$.jsx("p",{className:"inline text-me text-[40px]",children:"H"}),"ow"]}),$.jsx("div",{className:"text-l",children:"        ,        ."})]}),$.jsxs(Ur.div,{style:s,className:"p-4 w-[370px]",children:[$.jsxs("div",{className:"font-bold text-[28px]",children:[$.jsx("p",{className:"inline text-me text-[40px]",children:"W"}),"hat"]}),$.jsx("div",{className:"text-l",children:"  ,           ."})]}),$.jsxs(Ur.div,{style:u,className:"p-4 w-[370px] ",children:[$.jsxs("div",{className:"text-[28px] font-bold",children:[$.jsx("p",{className:"inline text-me text-[40px]",children:"G"}),"oal"]}),$.jsx("div",{className:"text-l",children:"       ,          ."})]})]})]})}function xL(){return $.jsx("div",{className:"w-screen h-screen overflow-hidden"})}function TL({project:t}){return $.jsxs("div",{className:"flex items-center justify-center w-[400px] h-[300px] text-black text-[60px] bg-white rounded-md relative ",children:[t,$.jsx("div",{className:"absolute flex text-sm right-5 bottom-5",children:"  "})]})}const SL=({name:t,description:e,techStack:r,onClick:n})=>{const i=[...r.frontend,...r.stateManagement,...r.styling,...r.buildTool,...r.deployment,...r.additionalLibraries].join(", ");return $.jsxs("div",{className:"text-black p-5 bg-white rounded-lg w-[400px] h-[300px] cursor-pointer",onClick:n,children:[$.jsx("h2",{className:"text-3xl font-bold text-left ",children:t}),$.jsx("p",{className:"h-[100px] mt-5",children:e}),$.jsx("div",{className:"p-2 mt-3 border border-solid rounded-lg border-me",children:$.jsx("p",{children:i})})]})};function EL(t){return t.type==="mainButton"||t.type==="subButton"}const ML=()=>{const t=uO(),[e,r]=I.useState([]),[n,i]=I.useState(0),a=6;I.useEffect(()=>{fetch("/data/projects.json").then(k=>k.json()).then(k=>{r(k.projects.map(T=>({...T,type:"project"}))),console.log(k)}).catch(k=>console.error("Failed to fetch projects",k))},[]);const s=e.filter(k=>k.projectOverview.type==="main"),u=e.filter(k=>k.projectOverview.type==="sub"),c=[{type:"mainButton",label:"Main Projects",id:"main"},...s,{type:"subButton",label:"Sub Projects",id:"sub"},...u],d=Math.ceil(c.length/a),p=(n+1)*a,v=n*a,g=c.slice(v,p),w=()=>i(Math.max(0,n-1)),b=()=>i(Math.min(d-1,n+1)),C=k=>{t(`/project/${k}`)};return $.jsx("div",{className:"flex flex-col items-center justify-center w-screen h-screen overflow-hidden text-white bg-black",children:$.jsxs("div",{className:"mt-[100px] px-8",children:[$.jsxs("div",{className:"flex justify-end gap-4 mb-3",children:[$.jsx("button",{onClick:w,"aria-label":"Previous Page",disabled:n===0,children:""}),$.jsx("button",{onClick:b,"aria-label":"Next Page",disabled:n===d-1,children:""})]}),$.jsx("div",{className:"grid grid-cols-3 grid-rows-2 gap-6",children:g.map((k,T)=>EL(k)?$.jsx(TL,{project:k.label},T):$.jsx(SL,{name:k.projectOverview.name,description:k.projectOverview.description,techStack:k.techStack,onClick:()=>C(k.projectOverview.name)},T))})]})})},OL=()=>{const{activeIndex:t,setActiveIndex:e}=fO();return $.jsxs(aL,{activeIndex:t,setActiveIndex:e,children:[$.jsx(ac,{name:"Home",children:$.jsx(vL,{})}),$.jsx(ac,{name:"Intro",children:$.jsx(CL,{})}),$.jsx(ac,{name:"Project",children:$.jsx(ML,{})}),$.jsx(ac,{name:"Activities",children:$.jsx(xL,{})})]})};function Mt(t){this.content=t}Mt.prototype={constructor:Mt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),a=n.content.slice();return i==-1?a.push(r||t,e):(a[i+1]=e,r&&(a[i]=r)),new Mt(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Mt(r)},addToStart:function(t,e){return new Mt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Mt(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),a=n.find(t);return i.splice(a==-1?i.length:a,0,e,r),new Mt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Mt.from(t),t.size?new Mt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Mt.from(t),t.size?new Mt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Mt.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Mt.from=function(t){if(t instanceof Mt)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Mt(e)};function fC(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),a=e.child(n);if(i==a){r+=i.nodeSize;continue}if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(let s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){let s=fC(i.content,a.content,r+1);if(s!=null)return s}r+=i.nodeSize}}function dC(t,e,r,n){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:r,b:n};let s=t.child(--i),u=e.child(--a),c=s.nodeSize;if(s==u){r-=c,n-=c;continue}if(!s.sameMarkup(u))return{a:r,b:n};if(s.isText&&s.text!=u.text){let d=0,p=Math.min(s.text.length,u.text.length);for(;d<p&&s.text[s.text.length-d-1]==u.text[u.text.length-d-1];)d++,r--,n--;return{a:r,b:n}}if(s.content.size||u.content.size){let d=dC(s.content,u.content,r-1,n-1);if(d)return d}r-=c,n-=c}}class j{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,a){for(let s=0,u=0;u<r;s++){let c=this.content[s],d=u+c.nodeSize;if(d>e&&n(c,i+u,a||null,s)!==!1&&c.content.size){let p=u+1;c.nodesBetween(Math.max(0,e-p),Math.min(c.content.size,r-p),n,i+p)}u=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let a="",s=!0;return this.nodesBetween(e,r,(u,c)=>{let d=u.isText?u.text.slice(Math.max(e,c)-c,r-c):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&d||u.isTextblock)&&n&&(s?s=!1:a+=n),a+=d},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new j(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let a=0,s=0;s<r;a++){let u=this.content[a],c=s+u.nodeSize;c>e&&((s<e||c>r)&&(u.isText?u=u.cut(Math.max(0,e-s),Math.min(u.text.length,r-s)):u=u.cut(Math.max(0,e-s-1),Math.min(u.content.size,r-s-1))),n.push(u),i+=u.nodeSize),s=c}return new j(n,i)}cutByIndex(e,r){return e==r?j.empty:e==0&&r==this.content.length?this:new j(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new j(i,a)}addToStart(e){return new j([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new j(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return fC(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return dC(this,e,r,n)}findIndex(e,r=-1){if(e==0)return sc(0,e);if(e==this.size)return sc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let a=this.child(n),s=i+a.nodeSize;if(s>=e)return s==e||r>0?sc(n+1,s):sc(n,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return j.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new j(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return j.empty;let r,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(r||(r=e.slice(0,i)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new j(r||e,n)}static from(e){if(!e)return j.empty;if(e instanceof j)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new j([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}j.empty=new j([],0);const $h={index:0,offset:0};function sc(t,e){return $h.index=t,$h.offset=e,$h}function Hc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Hc(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Hc(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let ze=class Fp{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))r||(r=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Fp.none;if(e instanceof Fp)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};ze.none=[];class zc extends Error{}class Z{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=pC(this.content,e+this.openStart,r);return n&&new Z(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Z(hC(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Z.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(j.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)i++;return new Z(e,n,i)}}Z.empty=new Z(j.empty,0,0);function hC(t,e,r){let{index:n,offset:i}=t.findIndex(e),a=t.maybeChild(n),{index:s,offset:u}=t.findIndex(r);if(i==e||a.isText){if(u!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,a.copy(hC(a.content,e-i-1,r-i-1)))}function pC(t,e,r,n){let{index:i,offset:a}=t.findIndex(e),s=t.maybeChild(i);if(a==e||s.isText)return t.cut(0,e).append(r).append(t.cut(e));let u=pC(s.content,e-a-1,r);return u&&t.replaceChild(i,s.copy(u))}function NL(t,e,r){if(r.openStart>t.depth)throw new zc("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new zc("Inconsistent open depths");return vC(t,e,r,0)}function vC(t,e,r,n){let i=t.index(n),a=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=vC(t,e,r,n+1);return a.copy(a.content.replaceChild(i,s))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let s=t.parent,u=s.content;return Ma(s,u.cut(0,t.parentOffset).append(r.content).append(u.cut(e.parentOffset)))}else{let{start:s,end:u}=LL(r,t);return Ma(a,gC(t,s,u,e,n))}else return Ma(a,$c(t,e,n))}function mC(t,e){if(!e.type.compatibleContent(t.type))throw new zc("Cannot join "+e.type.name+" onto "+t.type.name)}function Hp(t,e,r){let n=t.node(r);return mC(n,e.node(r)),n}function Ea(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function fl(t,e,r,n){let i=(e||t).node(r),a=0,s=e?e.index(r):i.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(Ea(t.nodeAfter,n),a++));for(let u=a;u<s;u++)Ea(i.child(u),n);e&&e.depth==r&&e.textOffset&&Ea(e.nodeBefore,n)}function Ma(t,e){return t.type.checkContent(e),t.copy(e)}function gC(t,e,r,n,i){let a=t.depth>i&&Hp(t,e,i+1),s=n.depth>i&&Hp(r,n,i+1),u=[];return fl(null,t,i,u),a&&s&&e.index(i)==r.index(i)?(mC(a,s),Ea(Ma(a,gC(t,e,r,n,i+1)),u)):(a&&Ea(Ma(a,$c(t,e,i+1)),u),fl(e,r,i,u),s&&Ea(Ma(s,$c(r,n,i+1)),u)),fl(n,null,i,u),new j(u)}function $c(t,e,r){let n=[];if(fl(null,t,r,n),t.depth>r){let i=Hp(t,e,r+1);Ea(Ma(i,$c(t,e,r+1)),n)}return fl(e,null,r,n),new j(n)}function LL(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let a=r-1;a>=0;a--)i=e.node(a).copy(j.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class Ml{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return ze.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let u=n;n=i,i=u}let a=n.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Vc(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,a=r;for(let s=e;;){let{index:u,offset:c}=s.content.findIndex(a),d=a-c;if(n.push(s,u,i+c),!d||(s=s.child(u),s.isText))break;a=d-1,i+=c+1}return new Ml(r,n,a)}static resolveCached(e,r){let n=Zw.get(e);if(n)for(let a=0;a<n.elts.length;a++){let s=n.elts[a];if(s.pos==r)return s}else Zw.set(e,n=new AL);let i=n.elts[n.i]=Ml.resolve(e,r);return n.i=(n.i+1)%DL,i}}class AL{constructor(){this.elts=[],this.i=0}}const DL=12,Zw=new WeakMap;class Vc{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const IL=Object.create(null);let Pi=class zp{constructor(e,r,n,i=ze.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||j.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Hc(this.attrs,r||e.defaultAttrs||IL)&&ze.sameSet(this.marks,n||ze.none)}copy(e=null){return e==this.content?this:new zp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new zp(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Z.empty;let i=this.resolve(e),a=this.resolve(r),s=n?0:i.sharedDepth(r),u=i.start(s),d=i.node(s).content.cut(i.pos-u,a.pos-u);return new Z(d,i.depth-s,a.depth-s)}replace(e,r,n){return NL(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return Ml.resolveCached(this,e)}resolveNoCache(e){return Ml.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),yC(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=j.empty,i=0,a=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,i,a),u=s&&s.matchFragment(this.content,r);if(!u||!u.validEnd)return!1;for(let c=i;c<a;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),s=a&&a.matchFragment(this.content,r);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ze.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!ze.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=j.fromJSON(e,r.content),a=e.nodeType(r.type).create(r.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};Pi.prototype.text=void 0;class jc extends Pi{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):yC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new jc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new jc(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function yC(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Da{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new RL(e,r);if(n.next==null)return Da.empty;let i=wC(n);n.next&&n.err("Unexpected trailing text");let a=$L(zL(i));return VL(a,n),a}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let a=r;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function a(s,u){let c=s.matchFragment(e,n);if(c&&(!r||c.validEnd))return j.from(u.map(d=>d.createAndFill()));for(let d=0;d<s.next.length;d++){let{type:p,next:v}=s.next[d];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(v)==-1){i.push(v);let g=a(v,u.concat(p));if(g)return g}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let s=[];for(let u=i;u.type;u=u.via)s.push(u.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:u,next:c}=a.next[s];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in r)&&(!i.type||c.validEnd)&&(n.push({match:u.contentMatch,type:u,via:i}),r[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)a+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return a}).join(`
`)}}Da.empty=new Da(!0);class RL{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function wC(t){let e=[];do e.push(PL(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function PL(t){let e=[];do e.push(_L(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function _L(t){let e=HL(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=BL(t,e);else break;return e}function e1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function BL(t,e){let r=e1(t),n=r;return t.eat(",")&&(t.next!="}"?n=e1(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function FL(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let a in r){let s=r[a];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function HL(t){if(t.eat("(")){let e=wC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=FL(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function zL(t){let e=[[]];return i(a(t,0),r()),e;function r(){return e.push([])-1}function n(s,u,c){let d={term:c,to:u};return e[s].push(d),d}function i(s,u){s.forEach(c=>c.to=u)}function a(s,u){if(s.type=="choice")return s.exprs.reduce((c,d)=>c.concat(a(d,u)),[]);if(s.type=="seq")for(let c=0;;c++){let d=a(s.exprs[c],u);if(c==s.exprs.length-1)return d;i(d,u=r())}else if(s.type=="star"){let c=r();return n(u,c),i(a(s.expr,c),c),[n(c)]}else if(s.type=="plus"){let c=r();return i(a(s.expr,u),c),i(a(s.expr,c),c),[n(c)]}else{if(s.type=="opt")return[n(u)].concat(a(s.expr,u));if(s.type=="range"){let c=u;for(let d=0;d<s.min;d++){let p=r();i(a(s.expr,c),p),c=p}if(s.max==-1)i(a(s.expr,c),c);else for(let d=s.min;d<s.max;d++){let p=r();n(c,p),i(a(s.expr,c),p),c=p}return[n(c)]}else{if(s.type=="name")return[n(u,void 0,s.value)];throw new Error("Unknown expr type")}}}}function bC(t,e){return e-t}function t1(t,e){let r=[];return n(e),r.sort(bC);function n(i){let a=t[i];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(i);for(let s=0;s<a.length;s++){let{term:u,to:c}=a[s];!u&&r.indexOf(c)==-1&&n(c)}}}function $L(t){let e=Object.create(null);return r(t1(t,0));function r(n){let i=[];n.forEach(s=>{t[s].forEach(({term:u,to:c})=>{if(!u)return;let d;for(let p=0;p<i.length;p++)i[p][0]==u&&(d=i[p][1]);t1(t,c).forEach(p=>{d||i.push([u,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let a=e[n.join(",")]=new Da(n.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let u=i[s][1].sort(bC);a.next.push({type:i[s][0],next:e[u.join(",")]||r(u)})}return a}}function VL(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],a=!i.validEnd,s=[];for(let u=0;u<i.next.length;u++){let{type:c,next:d}=i.next[u];s.push(c.name),a&&!(c.isText||c.hasRequiredAttrs())&&(a=!1),n.indexOf(d)==-1&&n.push(d)}a&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kC(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function CC(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let a=t[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function xC(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}function TC(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new qL(t,n,e[n]);return r}let r1=class SC{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=TC(e,n.attrs),this.defaultAttrs=kC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Da.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:CC(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Pi(this,this.computeAttrs(e),j.from(r),ze.setFrom(n))}createChecked(e=null,r,n){return r=j.from(r),this.checkContent(r),new Pi(this,this.computeAttrs(e),r,ze.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=j.from(r),r.size){let s=this.contentMatch.fillBefore(r);if(!s)return null;r=s.append(r)}let i=this.contentMatch.matchFragment(r),a=i&&i.fillBefore(j.empty,!0);return a?new Pi(this,e,r.append(a),ze.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){xC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:ze.none:e}static compile(e,r){let n=Object.create(null);e.forEach((a,s)=>n[a]=new SC(a,r,s));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function jL(t,e,r){let n=r.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${a}`)}}class qL{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?jL(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Of{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=TC(e,i.attrs),this.excluded=null;let a=kC(this.attrs);this.instance=a?new ze(this,a):null}create(e=null){return!e&&this.instance?this.instance:new ze(this,CC(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((a,s)=>n[a]=new Of(a,i++,r,s)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){xC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class EC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=Mt.from(e.nodes),r.marks=Mt.from(e.marks||{}),this.nodes=r1.compile(this.spec.nodes,this),this.marks=Of.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],s=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=n[s]||(n[s]=Da.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?n1(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:n1(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof r1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new jc(n,n.defaultAttrs,e,ze.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Pi.fromJSON(this,e)}markFromJSON(e){return ze.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function n1(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t.marks[i],s=a;if(a)r.push(a);else for(let u in t.marks){let c=t.marks[u];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function UL(t){return t.tag!=null}function WL(t){return t.style!=null}class Ia{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(UL(i))this.tags.push(i);else if(WL(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,r={}){let n=new a1(this,r,!1);return n.addAll(e,ze.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new a1(this,r,!0);return n.addAll(e,ze.none,r.from,r.to),Z.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(QL(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(e);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(e,r,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let s=this.styles[a],u=s.style;if(!(u.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=r))){if(s.getAttrs){let c=s.getAttrs(r);if(c===!1)continue;s.attrs=c||void 0}return s}}}static schemaRules(e){let r=[];function n(i){let a=i.priority==null?50:i.priority,s=0;for(;s<r.length;s++){let u=r[s];if((u.priority==null?50:u.priority)<a)break}r.splice(s,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(s=>{n(s=o1(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(s=>{n(s=o1(s)),s.node||s.ignore||s.mark||(s.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ia(e,Ia.schemaRules(e)))}}const MC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},GL={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},OC={ol:!0,ul:!0},Ol=1,$p=2,Cc=4;function i1(t,e,r){return e!=null?(e?Ol:0)|(e==="full"?$p:0):t&&t.whitespace=="pre"?Ol|$p:r&-5}class lc{constructor(e,r,n,i,a,s){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=s,this.content=[],this.activeMarks=ze.none,this.match=a||(s&Cc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(j.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ol)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let r=j.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!MC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class a1{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,a,s=i1(null,r.preserveWhitespace,0)|(n?Cc:0);i?a=new lc(i.type,i.attrs,ze.none,!0,r.topMatch||i.type.contentMatch,s):n?a=new lc(null,null,ze.none,!0,null,s):a=new lc(e.schema.topNodeType,null,ze.none,!0,null,s),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,a=i.options&$p?"full":this.localPreserveWS||(i.options&Ol)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],u=e.previousSibling;(!s||u&&u.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),u;OC.hasOwnProperty(s)&&this.parser.normalizeLists&&KL(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,n));e:if(c?c.ignore:GL.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,p=this.needsBlock;if(MC.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),d=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let v=c&&c.skip?r:this.readStyles(e,r);v&&this.addAll(e,v),d&&this.sync(a),this.needsBlock=p}else{let d=this.readStyles(e,r);d&&this.addElementByRule(e,c,d,c.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],s=n.getPropertyValue(a);if(s)for(let u=void 0;;){let c=this.parser.matchStyle(a,s,this,u);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(d=>!c.clearMark(d)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)u=c;else break}}return r}addElementByRule(e,r,n,i){let a,s;if(r.node)if(s=this.parser.schema.nodes[r.node],s.isLeaf)this.insertNode(s.create(r.attrs),n)||this.leafFallback(e,n);else{let c=this.enter(s,r.attrs||null,n,r.preserveWhitespace);c&&(a=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let u=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}a&&this.sync(u)&&this.open--}addAll(e,r,n,i){let a=n||0;for(let s=n?e.childNodes[n]:e.firstChild,u=i==null?null:e.childNodes[i];s!=u;s=s.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(s,r);this.findAtPoint(e,a)}findPlace(e,r){let n,i;for(let a=this.open;a>=0;a--){let s=this.nodes[a],u=s.findWrapping(e);if(u&&(!n||n.length>u.length)&&(n=u,i=s,!u.length)||s.solid)break}if(!n)return null;this.sync(i);for(let a=0;a<n.length;a++)r=this.enterInner(n[a],null,r,!1);return r}insertNode(e,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let n=this.findPlace(e,r);if(n){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=ze.none;for(let s of n.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):s1(s.type,e.type))&&(a=s.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,r,n,i){let a=this.findPlace(e.create(r),n);return a&&(a=this.enterInner(e,r,n,!0,i)),a}enterInner(e,r,n,i=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let u=i1(e,a,s.options);s.options&Cc&&s.content.length==0&&(u|=Cc);let c=ze.none;return n=n.filter(d=>(s.type?s.type.allowsMarkType(d.type):s1(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new lc(e,r,c,i,null,u)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Ol)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),s=(u,c)=>{for(;u>=0;u--){let d=r[u];if(d==""){if(u==r.length-1||u==0)continue;for(;c>=a;c--)if(s(u-1,c))return!0;return!1}else{let p=c>0||c==0&&i?this.nodes[c].type:n&&c>=a?n.node(c-a).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;c--}}return!0};return s(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function KL(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&OC.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function QL(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function o1(t){let e={};for(let r in t)e[r]=t[r];return e}function s1(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let a=[],s=u=>{a.push(u);for(let c=0;c<u.edgeCount;c++){let{type:d,next:p}=u.edge(c);if(d==e||a.indexOf(p)<0&&s(p))return!0}};if(s(i.contentMatch))return!0}}class Zo{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Vh(r).createDocumentFragment());let i=n,a=[];return e.forEach(s=>{if(a.length||s.marks.length){let u=0,c=0;for(;u<a.length&&c<s.marks.length;){let d=s.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(a[u][0])||d.type.spec.spanning===!1)break;u++,c++}for(;u<a.length;)i=a.pop()[1];for(;c<s.marks.length;){let d=s.marks[c++],p=this.serializeMark(d,s.isInline,r);p&&(a.push([d,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(s,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=xc(Vh(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&xc(Vh(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return xc(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Zo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=l1(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return l1(e.marks)}}function l1(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Vh(t){return t.document||window.document}const u1=new WeakMap;function JL(t){let e=u1.get(t);return e===void 0&&u1.set(t,e=XL(t)),e}function XL(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function xc(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=JL(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let u,c=r?t.createElementNS(r,i):t.createElement(i),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let v in d)if(d[v]!=null){let g=v.indexOf(" ");g>0?c.setAttributeNS(v.slice(0,g),v.slice(g+1),d[v]):c.setAttribute(v,d[v])}}for(let v=p;v<e.length;v++){let g=e[v];if(g===0){if(v<e.length-1||v>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:w,contentDOM:b}=xc(t,g,r,n);if(c.appendChild(w),b){if(u)throw new RangeError("Multiple content holes");u=b}}}return{dom:c,contentDOM:u}}const NC=65535,LC=Math.pow(2,16);function YL(t,e){return t+e*LC}function c1(t){return t&NC}function ZL(t){return(t-(t&NC))/LC}const AC=1,DC=2,Tc=4,IC=8;class Vp{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&IC)>0}get deletedBefore(){return(this.delInfo&(AC|Tc))>0}get deletedAfter(){return(this.delInfo&(DC|Tc))>0}get deletedAcross(){return(this.delInfo&Tc)>0}}class sr{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&sr.empty)return sr.empty}recover(e){let r=0,n=c1(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+ZL(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?i:0);if(c>e)break;let d=this.ranges[u+a],p=this.ranges[u+s],v=c+d;if(e<=v){let g=d?e==c?-1:e==v?1:r:r,w=c+i+(g<0?0:p);if(n)return w;let b=e==(r<0?c:v)?null:YL(u/3,e-c),C=e==c?DC:e==v?AC:Tc;return(r<0?e!=c:e!=v)&&(C|=IC),new Vp(w,C,b)}i+=p-d}return n?e+i:new Vp(e+i,0,null)}touches(e,r){let n=0,i=c1(r),a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let c=this.ranges[u]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[u+a],p=c+d;if(e<=p&&u==i*3)return!0;n+=this.ranges[u+s]-d}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let s=this.ranges[i],u=s-(this.inverted?a:0),c=s+(this.inverted?0:a),d=this.ranges[i+r],p=this.ranges[i+n];e(u,u+d,c,c+p),a+=p-d}}invert(){return new sr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?sr.empty:new sr(e<0?[0,-e,0]:[0,0,e])}}sr.empty=new sr([]);class Do{constructor(e=[],r,n=0,i=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=i}slice(e=0,r=this.maps.length){return new Do(this.maps,this.mirror,e,r)}copy(){return new Do(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let i=e.getMirror(r);this.appendMap(e.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new Do;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let a=this.from;a<this.to;a++){let s=this.maps[a],u=s.mapResult(e,r);if(u.recover!=null){let c=this.getMirror(a);if(c!=null&&c>a&&c<this.to){a=c,e=this.maps[c].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return n?e:new Vp(e,i,null)}}const jh=Object.create(null);class Vt{getMap(){return sr.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=jh[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in jh)throw new RangeError("Duplicate use of step JSON ID "+e);return jh[e]=r,r.prototype.jsonID=e,r}}class ot{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new ot(e,null)}static fail(e){return new ot(null,e)}static fromReplace(e,r,n,i){try{return ot.ok(e.replace(r,n,i))}catch(a){if(a instanceof zc)return ot.fail(a.message);throw a}}}function Vv(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(Vv(a.content,e,a))),a.isInline&&(a=e(a,r,i)),n.push(a)}return j.fromArray(n)}class Ai extends Vt{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new Z(Vv(r.content,(s,u)=>!s.isAtom||!u.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),r.openStart,r.openEnd);return ot.fromReplace(e,this.from,this.to,a)}invert(){return new pn(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ai(r.pos,n.pos,this.mark)}merge(e){return e instanceof Ai&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ai(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ai(r.from,r.to,e.markFromJSON(r.mark))}}Vt.jsonID("addMark",Ai);class pn extends Vt{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Z(Vv(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return ot.fromReplace(e,this.from,this.to,n)}invert(){return new Ai(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new pn(r.pos,n.pos,this.mark)}merge(e){return e instanceof pn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new pn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new pn(r.from,r.to,e.markFromJSON(r.mark))}}Vt.jsonID("removeMark",pn);class Di extends Vt{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ot.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return ot.fromReplace(e,this.pos,this.pos+1,new Z(j.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Di(this.pos,r.marks[i]);return new Di(this.pos,this.mark)}}return new Bo(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Di(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Di(r.pos,e.markFromJSON(r.mark))}}Vt.jsonID("addNodeMark",Di);class Bo extends Vt{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ot.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return ot.fromReplace(e,this.pos,this.pos+1,new Z(j.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Di(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Bo(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Bo(r.pos,e.markFromJSON(r.mark))}}Vt.jsonID("removeNodeMark",Bo);class Ht extends Vt{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&jp(e,this.from,this.to)?ot.fail("Structure replace would overwrite content"):ot.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new sr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ht(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Ht(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Ht)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ht(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ht(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ht(r.from,r.to,Z.fromJSON(e,r.slice),!!r.structure)}}Vt.jsonID("replace",Ht);class Ct extends Vt{constructor(e,r,n,i,a,s,u=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=s,this.structure=u}apply(e){if(this.structure&&(jp(e,this.from,this.gapFrom)||jp(e,this.gapTo,this.to)))return ot.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return ot.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?ot.fromReplace(e,this.from,this.to,n):ot.fail("Content does not fit in gap")}getMap(){return new sr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Ct(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||a>n.pos?null:new Ct(r.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ct(r.from,r.to,r.gapFrom,r.gapTo,Z.fromJSON(e,r.slice),r.insert,!!r.structure)}}Vt.jsonID("replaceAround",Ct);function jp(t,e,r){let n=t.resolve(e),i=r-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let s=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function eA(t,e,r,n){let i=[],a=[],s,u;t.doc.nodesBetween(e,r,(c,d,p)=>{if(!c.isInline)return;let v=c.marks;if(!n.isInSet(v)&&p.type.allowsMarkType(n.type)){let g=Math.max(d,e),w=Math.min(d+c.nodeSize,r),b=n.addToSet(v);for(let C=0;C<v.length;C++)v[C].isInSet(b)||(s&&s.to==g&&s.mark.eq(v[C])?s.to=w:i.push(s=new pn(g,w,v[C])));u&&u.to==g?u.to=w:a.push(u=new Ai(g,w,n))}}),i.forEach(c=>t.step(c)),a.forEach(c=>t.step(c))}function tA(t,e,r,n){let i=[],a=0;t.doc.nodesBetween(e,r,(s,u)=>{if(!s.isInline)return;a++;let c=null;if(n instanceof Of){let d=s.marks,p;for(;p=n.isInSet(d);)(c||(c=[])).push(p),d=p.removeFromSet(d)}else n?n.isInSet(s.marks)&&(c=[n]):c=s.marks;if(c&&c.length){let d=Math.min(u+s.nodeSize,r);for(let p=0;p<c.length;p++){let v=c[p],g;for(let w=0;w<i.length;w++){let b=i[w];b.step==a-1&&v.eq(i[w].style)&&(g=b)}g?(g.to=d,g.step=a):i.push({style:v,from:Math.max(u,e),to:d,step:a})}}}),i.forEach(s=>t.step(new pn(s.from,s.to,s.style)))}function jv(t,e,r,n=r.contentMatch,i=!0){let a=t.doc.nodeAt(e),s=[],u=e+1;for(let c=0;c<a.childCount;c++){let d=a.child(c),p=u+d.nodeSize,v=n.matchType(d.type);if(!v)s.push(new Ht(u,p,Z.empty));else{n=v;for(let g=0;g<d.marks.length;g++)r.allowsMarkType(d.marks[g].type)||t.step(new pn(u,p,d.marks[g]));if(i&&d.isText&&r.whitespace!="pre"){let g,w=/\r?\n|\r/g,b;for(;g=w.exec(d.text);)b||(b=new Z(j.from(r.schema.text(" ",r.allowedMarks(d.marks))),0,0)),s.push(new Ht(u+g.index,u+g.index+g[0].length,b))}}u=p}if(!n.validEnd){let c=n.fillBefore(j.empty,!0);t.replace(u,u,new Z(c,0,0))}for(let c=s.length-1;c>=0;c--)t.step(s[c])}function rA(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Nf(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),a=t.$from.index(n),s=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(a,s,r))return n;if(n==0||i.type.spec.isolating||!rA(i,a,s))break}return null}function nA(t,e,r){let{$from:n,$to:i,depth:a}=e,s=n.before(a+1),u=i.after(a+1),c=s,d=u,p=j.empty,v=0;for(let b=a,C=!1;b>r;b--)C||n.index(b)>0?(C=!0,p=j.from(n.node(b).copy(p)),v++):c--;let g=j.empty,w=0;for(let b=a,C=!1;b>r;b--)C||i.after(b+1)<i.end(b)?(C=!0,g=j.from(i.node(b).copy(g)),w++):d++;t.step(new Ct(c,d,s,u,new Z(p.append(g),v,w),p.size-v,!0))}function iA(t,e,r=null,n=t){let i=aA(t,e),a=i&&oA(n,e);return a?i.map(f1).concat({type:e,attrs:r}).concat(a.map(f1)):null}function f1(t){return{type:t,attrs:null}}function aA(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.contentMatchAt(n).findWrapping(e);if(!a)return null;let s=a.length?a[0]:e;return r.canReplaceWith(n,i,s)?a:null}function oA(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.child(n),s=e.contentMatch.findWrapping(a.type);if(!s)return null;let c=(s.length?s[s.length-1]:e).contentMatch;for(let d=n;c&&d<i;d++)c=c.matchType(r.child(d).type);return!c||!c.validEnd?null:s}function sA(t,e,r){let n=j.empty;for(let s=r.length-1;s>=0;s--){if(n.size){let u=r[s].type.contentMatch.matchFragment(n);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=j.from(r[s].type.create(r[s].attrs,n))}let i=e.start,a=e.end;t.step(new Ct(i,a,i,a,new Z(n,0,0),r.length,!0))}function lA(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,r,(s,u)=>{let c=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(n,c)&&uA(t.doc,t.mapping.slice(a).map(u),n)){let d=null;if(n.schema.linebreakReplacement){let w=n.whitespace=="pre",b=!!n.contentMatch.matchType(n.schema.linebreakReplacement);w&&!b?d=!1:!w&&b&&(d=!0)}d===!1&&PC(t,s,u,a),jv(t,t.mapping.slice(a).map(u,1),n,void 0,d===null);let p=t.mapping.slice(a),v=p.map(u,1),g=p.map(u+s.nodeSize,1);return t.step(new Ct(v,g,v+1,g-1,new Z(j.from(n.create(c,null,s.marks)),0,0),1,!0)),d===!0&&RC(t,s,u,a),!1}})}function RC(t,e,r,n){e.forEach((i,a)=>{if(i.isText){let s,u=/\r?\n|\r/g;for(;s=u.exec(i.text);){let c=t.mapping.slice(n).map(r+1+a+s.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function PC(t,e,r,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(n).map(r+1+a);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function uA(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function cA(t,e,r,n,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let s=r.create(n,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,s);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Ct(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Z(j.from(s),0,0),1,!0))}function Io(t,e,r=1,n){let i=t.resolve(e),a=i.depth-r,s=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,p=r-2;d>a;d--,p--){let v=i.node(d),g=i.index(d);if(v.type.spec.isolating)return!1;let w=v.content.cutByIndex(g,v.childCount),b=n&&n[p+1];b&&(w=w.replaceChild(0,b.type.create(b.attrs)));let C=n&&n[p]||v;if(!v.canReplace(g+1,v.childCount)||!C.type.validContent(w))return!1}let u=i.indexAfter(a),c=n&&n[0];return i.node(a).canReplaceWith(u,u,c?c.type:i.node(a+1).type)}function fA(t,e,r=1,n){let i=t.doc.resolve(e),a=j.empty,s=j.empty;for(let u=i.depth,c=i.depth-r,d=r-1;u>c;u--,d--){a=j.from(i.node(u).copy(a));let p=n&&n[d];s=j.from(p?p.type.create(p.attrs,s):i.node(u).copy(s))}t.step(new Ht(e,e,new Z(a.append(s),r,r),!0))}function _C(t,e){let r=t.resolve(e),n=r.index();return hA(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function dA(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),s=a.type==n?t.type.schema.nodes.text:a.type;if(r=r.matchType(s),!r||!t.type.allowsMarks(a.marks))return!1}return r.validEnd}function hA(t,e){return!!(t&&e&&!t.isLeaf&&dA(t,e))}function pA(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-r),s=a.node().type;if(i&&s.inlineContent){let p=s.whitespace=="pre",v=!!s.contentMatch.matchType(i);p&&!v?n=!1:!p&&v&&(n=!0)}let u=t.steps.length;if(n===!1){let p=t.doc.resolve(e+r);PC(t,p.node(),p.before(),u)}s.inlineContent&&jv(t,e+r-1,s,a.node().contentMatchAt(a.index()),n==null);let c=t.mapping.slice(u),d=c.map(e-r);if(t.step(new Ht(d,c.map(e+r,-1),Z.empty,!0)),n===!0){let p=t.doc.resolve(d);RC(t,p.node(),p.before(),t.steps.length)}return t}function vA(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,r))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,r))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function mA(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let a=0;a<r.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let s=n.depth;s>=0;s--){let u=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,c=n.index(s)+(u>0?1:0),d=n.node(s),p=!1;if(a==1)p=d.canReplace(c,c,i);else{let v=d.contentMatchAt(c).findWrapping(i.firstChild.type);p=v&&d.canReplaceWith(c,c,v[0])}if(p)return u==0?n.pos:u<0?n.before(s+1):n.after(s+1)}return null}function qv(t,e,r=e,n=Z.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),a=t.resolve(r);return BC(i,a,n)?new Ht(e,r,n):new gA(i,a,n).fit()}function BC(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class gA{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=j.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=j.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,s=n.depth,u=i.depth;for(;s&&u&&a.childCount==1;)a=a.firstChild.content,s--,u--;let c=new Z(a,s,u);return e>-1?new Ct(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new Ht(n.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=r.firstChild;if(r.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=qh(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let s=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:c,match:d}=this.frontier[u],p,v=null;if(r==1&&(s?d.matchType(s.type)||(v=d.fillBefore(j.from(s),!1)):a&&c.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:u,parent:a,inject:v};if(r==2&&s&&(p=d.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:u,parent:a,wrap:p};if(a&&d.matchType(a.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=qh(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Z(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=qh(e,r);if(i.childCount<=1&&r>0){let a=e.size-r<=r+i.size;this.unplaced=new Z(rl(e,r-1,1),r-1,a?r-1:n)}else this.unplaced=new Z(rl(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let C=0;C<a.length;C++)this.openFrontierNode(a[C]);let s=this.unplaced,u=n?n.content:s.content,c=s.openStart-e,d=0,p=[],{match:v,type:g}=this.frontier[r];if(i){for(let C=0;C<i.childCount;C++)p.push(i.child(C));v=v.matchFragment(i)}let w=u.size+e-(s.content.size-s.openEnd);for(;d<u.childCount;){let C=u.child(d),k=v.matchType(C.type);if(!k)break;d++,(d>1||c==0||C.content.size)&&(v=k,p.push(FC(C.mark(g.allowedMarks(C.marks)),d==1?c:0,d==u.childCount?w:-1)))}let b=d==u.childCount;b||(w=-1),this.placed=nl(this.placed,r,j.from(p)),this.frontier[r].match=v,b&&w<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,k=u;C<w;C++){let T=k.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),k=T.content}this.unplaced=b?e==0?Z.empty:new Z(rl(s.content,e-1,1),e-1,w<0?s.openEnd:e-1):new Z(rl(s.content,e,d),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Uh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),s=Uh(e,r,i,n,a);if(s){for(let u=r-1;u>=0;u--){let{match:c,type:d}=this.frontier[u],p=Uh(e,u,d,c,!0);if(!p||p.childCount)continue e}return{depth:r,fit:s,move:a?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=nl(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=nl(this.placed,this.depth,j.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(j.empty,!0);r.childCount&&(this.placed=nl(this.placed,this.frontier.length,r))}}function rl(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(rl(t.firstChild.content,e-1,r)))}function nl(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(nl(t.lastChild.content,e-1,r)))}function qh(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function FC(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,FC(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(j.empty,!0)))),t.copy(n)}function Uh(t,e,r,n,i){let a=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==a.childCount&&!r.compatibleContent(a.type))return null;let u=n.fillBefore(a.content,!0,s);return u&&!yA(r,a.content,s)?u:null}function yA(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function wA(t){return t.spec.defining||t.spec.definingForContent}function bA(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),a=t.doc.resolve(r);if(BC(i,a,n))return t.step(new Ht(e,r,n));let s=zC(i,t.doc.resolve(r));s[s.length-1]==0&&s.pop();let u=-(i.depth+1);s.unshift(u);for(let g=i.depth,w=i.pos-1;g>0;g--,w--){let b=i.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;s.indexOf(g)>-1?u=g:i.before(g)==w&&s.splice(1,0,-g)}let c=s.indexOf(u),d=[],p=n.openStart;for(let g=n.content,w=0;;w++){let b=g.firstChild;if(d.push(b),w==n.openStart)break;g=b.content}for(let g=p-1;g>=0;g--){let w=d[g],b=wA(w.type);if(b&&!w.sameMarkup(i.node(Math.abs(u)-1)))p=g;else if(b||!w.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let w=(g+p+1)%(n.openStart+1),b=d[w];if(b)for(let C=0;C<s.length;C++){let k=s[(C+c)%s.length],T=!0;k<0&&(T=!1,k=-k);let M=i.node(k-1),N=i.index(k-1);if(M.canReplaceWith(N,N,b.type,b.marks))return t.replace(i.before(k),T?a.after(k):r,new Z(HC(n.content,0,n.openStart,w),w,n.openEnd))}}let v=t.steps.length;for(let g=s.length-1;g>=0&&(t.replace(e,r,n),!(t.steps.length>v));g--){let w=s[g];w<0||(e=i.before(w),r=a.after(w))}}function HC(t,e,r,n,i){if(e<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(HC(a.content,e+1,r,n,a)))}if(e>n){let a=i.contentMatchAt(0),s=a.fillBefore(t).append(t);t=s.append(a.matchFragment(s).fillBefore(j.empty,!0))}return t}function kA(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=vA(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new Z(j.from(n),0,0))}function CA(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),a=zC(n,i);for(let s=0;s<a.length;s++){let u=a[s],c=s==a.length-1;if(c&&u==0||n.node(u).type.contentMatch.validEnd)return t.delete(n.start(u),i.end(u));if(u>0&&(c||n.node(u-1).canReplace(n.index(u-1),i.indexAfter(u-1))))return t.delete(n.before(u),i.after(u))}for(let s=1;s<=n.depth&&s<=i.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&i.end(s)-r!=i.depth-s&&n.start(s-1)==i.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),i.index(s-1)))return t.delete(n.before(s),r);t.delete(e,r)}function zC(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&r.push(i)}return r}class Ro extends Vt{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return ot.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return ot.fromReplace(e,this.pos,this.pos+1,new Z(j.from(i),0,r.isLeaf?0:1))}getMap(){return sr.empty}invert(e){return new Ro(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ro(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ro(r.pos,r.attr,r.value)}}Vt.jsonID("attr",Ro);class Nl extends Vt{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return ot.ok(n)}getMap(){return sr.empty}invert(e){return new Nl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Nl(r.attr,r.value)}}Vt.jsonID("docAttr",Nl);let Fo=class extends Error{};Fo=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Fo.prototype=Object.create(Error.prototype);Fo.prototype.constructor=Fo;Fo.prototype.name="TransformError";class xA{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Do}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Fo(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Z.empty){let i=qv(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new Z(j.from(n),0,0))}delete(e,r){return this.replace(e,r,Z.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return bA(this,e,r,n),this}replaceRangeWith(e,r,n){return kA(this,e,r,n),this}deleteRange(e,r){return CA(this,e,r),this}lift(e,r){return nA(this,e,r),this}join(e,r=1){return pA(this,e,r),this}wrap(e,r){return sA(this,e,r),this}setBlockType(e,r=e,n,i=null){return lA(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return cA(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new Ro(e,r,n)),this}setDocAttribute(e,r){return this.step(new Nl(e,r)),this}addNodeMark(e,r){return this.step(new Di(e,r)),this}removeNodeMark(e,r){if(!(r instanceof ze)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new Bo(e,r)),this}split(e,r=1,n){return fA(this,e,r,n),this}addMark(e,r,n){return eA(this,e,r,n),this}removeMark(e,r,n){return tA(this,e,r,n),this}clearIncompatible(e,r,n){return jv(this,e,r,n),this}}const Wh=Object.create(null);class Ne{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new $C(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Z.empty){let n=r.content.lastChild,i=null;for(let u=0;u<r.openEnd;u++)i=n,n=n.lastChild;let a=e.steps.length,s=this.ranges;for(let u=0;u<s.length;u++){let{$from:c,$to:d}=s[u],p=e.mapping.slice(a);e.replaceRange(p.map(c.pos),p.map(d.pos),u?Z.empty:r),u==0&&p1(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:u}=i[a],c=e.mapping.slice(n),d=c.map(s.pos),p=c.map(u.pos);a?e.deleteRange(d,p):(e.replaceRangeWith(d,p,r),p1(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new De(e):So(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let s=r<0?So(e.node(0),e.node(a),e.before(a+1),e.index(a),r,n):So(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,r,n);if(s)return s}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Gt(e.node(0))}static atStart(e){return So(e,e,0,0,1)||new Gt(e)}static atEnd(e){return So(e,e,e.content.size,e.childCount,-1)||new Gt(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Wh[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Wh)throw new RangeError("Duplicate use of selection JSON ID "+e);return Wh[e]=r,r.prototype.jsonID=e,r}getBookmark(){return De.between(this.$anchor,this.$head).getBookmark()}}Ne.prototype.visible=!0;class $C{constructor(e,r){this.$from=e,this.$to=r}}let d1=!1;function h1(t){!d1&&!t.parent.inlineContent&&(d1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class De extends Ne{constructor(e,r=e){h1(e),h1(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return Ne.near(n);let i=e.resolve(r.map(this.anchor));return new De(i.parent.inlineContent?i:n,n)}replace(e,r=Z.empty){if(super.replace(e,r),r==Z.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof De&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Lf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new De(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let a=Ne.findFrom(r,n,!0)||Ne.findFrom(r,-n,!0);if(a)r=a.$head;else return Ne.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(Ne.findFrom(e,-n,!0)||Ne.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new De(e,r)}}Ne.jsonID("text",De);class Lf{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Lf(e.map(this.anchor),e.map(this.head))}resolve(e){return De.between(e.resolve(this.anchor),e.resolve(this.head))}}class ye extends Ne{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),a=e.resolve(i);return n?Ne.near(a):new ye(a)}content(){return new Z(j.from(this.node),0,0)}eq(e){return e instanceof ye&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Uv(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ye(e.resolve(r.anchor))}static create(e,r){return new ye(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ye.prototype.visible=!1;Ne.jsonID("node",ye);class Uv{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Lf(n,n):new Uv(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&ye.isSelectable(n)?new ye(r):Ne.near(r)}}class Gt extends Ne{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Z.empty){if(r==Z.empty){e.delete(0,e.doc.content.size);let n=Ne.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gt(e)}map(e){return new Gt(e)}eq(e){return e instanceof Gt}getBookmark(){return TA}}Ne.jsonID("all",Gt);const TA={map(){return this},resolve(t){return new Gt(t)}};function So(t,e,r,n,i,a=!1){if(e.inlineContent)return De.create(t,r);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let u=e.child(s);if(u.isAtom){if(!a&&ye.isSelectable(u))return ye.create(t,r-(i<0?u.nodeSize:0))}else{let c=So(t,u,r+i,i<0?u.childCount:0,i,a);if(c)return c}r+=u.nodeSize*i}return null}function p1(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof Ht||i instanceof Ct))return;let a=t.mapping.maps[n],s;a.forEach((u,c,d,p)=>{s==null&&(s=p)}),t.setSelection(Ne.near(t.doc.resolve(s),r))}const v1=1,m1=2,g1=4;class SA extends xA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|v1)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&v1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=m1,this}ensureMarks(e){return ze.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&m1)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ze.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let s=this.doc.resolve(r);a=n==r?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,a)),this.selection.empty||this.setSelection(Ne.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=g1,this}get scrolledIntoView(){return(this.updated&g1)>0}}function y1(t,e){return!e||!t?t:t.bind(e)}class il{constructor(e,r,n){this.name=e,this.init=y1(r.init,n),this.apply=y1(r.apply,n)}}const EA=[new il("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new il("selection",{init(t,e){return t.selection||Ne.atStart(e.doc)},apply(t){return t.selection}}),new il("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new il("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Gh{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=EA.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new il(n.key,n.spec.state,n))})}}class Ca{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let s=0;s<this.config.plugins.length;s++){let u=this.config.plugins[s];if(u.spec.appendTransaction){let c=i?i[s].n:0,d=i?i[s].state:this,p=c<r.length&&u.spec.appendTransaction.call(u,c?r.slice(c):r,d,n);if(p&&n.filterTransaction(p,s)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let v=0;v<this.config.plugins.length;v++)i.push(v<s?{state:n,n:r.length}:{state:this,n:0})}r.push(p),n=n.applyInner(p),a=!0}i&&(i[s]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Ca(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];r[a.name]=a.apply(e,this[a.name],this,r)}return r}get tr(){return new SA(this)}static create(e){let r=new Gh(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Ca(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new Gh(this.schema,e.plugins),n=r.fields,i=new Ca(r);for(let a=0;a<n.length;a++){let s=n[a].name;i[s]=this.hasOwnProperty(s)?this[s]:n[a].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Gh(e.schema,e.plugins),a=new Ca(i);return i.fields.forEach(s=>{if(s.name=="doc")a.doc=Pi.fromJSON(e.schema,r.doc);else if(s.name=="selection")a.selection=Ne.fromJSON(a.doc,r.selection);else if(s.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let u in n){let c=n[u],d=c.spec.state;if(c.key==s.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(r,u)){a[s.name]=d.fromJSON.call(c,e,r[u],a);return}}a[s.name]=s.init(e,a)}}),a}}function VC(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=VC(i,e,{})),r[n]=i}return r}class fr{constructor(e){this.spec=e,this.props={},e.props&&VC(e.props,this,this.props),this.key=e.key?e.key.key:jC("plugin")}getState(e){return e[this.key]}}const Kh=Object.create(null);function jC(t){return t in Kh?t+"$"+ ++Kh[t]:(Kh[t]=0,t+"$")}class zl{constructor(e="key"){this.key=jC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Lt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ll=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let qp=null;const Vn=function(t,e,r){let n=qp||(qp=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},MA=function(){qp=null},Ra=function(t,e,r,n){return r&&(w1(t,e,r,n,-1)||w1(t,e,r,n,1))},OA=/^(img|br|input|textarea|hr)$/i;function w1(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Dr(t))){let a=t.parentNode;if(!a||a.nodeType!=1||$l(t)||OA.test(t.nodeName)||t.contentEditable=="false")return!1;e=Lt(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Dr(t):0}else return!1}}function Dr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function NA(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Dr(t)}else if(t.parentNode&&!$l(t))e=Lt(t),t=t.parentNode;else return null}}function LA(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!$l(t))e=Lt(t)+1,t=t.parentNode;else return null}}function AA(t,e,r){for(let n=e==0,i=e==Dr(t);n||i;){if(t==r)return!0;let a=Lt(t);if(t=t.parentNode,!t)return!1;n=n&&a==0,i=i&&a==Dr(t)}}function $l(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Af=function(t){return t.focusNode&&Ra(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ka(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function DA(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function IA(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Dr(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Dr(n.startContainer),n.startOffset)}}}const yn=typeof navigator<"u"?navigator:null,b1=typeof document<"u"?document:null,Ui=yn&&yn.userAgent||"",Up=/Edge\/(\d+)/.exec(Ui),qC=/MSIE \d/.exec(Ui),Wp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ui),ur=!!(qC||Wp||Up),_i=qC?document.documentMode:Wp?+Wp[1]:Up?+Up[1]:0,Yr=!ur&&/gecko\/(\d+)/i.test(Ui);Yr&&+(/Firefox\/(\d+)/.exec(Ui)||[0,0])[1];const Gp=!ur&&/Chrome\/(\d+)/.exec(Ui),zt=!!Gp,UC=Gp?+Gp[1]:0,Kt=!ur&&!!yn&&/Apple Computer/.test(yn.vendor),Ho=Kt&&(/Mobile\/\w+/.test(Ui)||!!yn&&yn.maxTouchPoints>2),Nr=Ho||(yn?/Mac/.test(yn.platform):!1),RA=yn?/Win/.test(yn.platform):!1,Un=/Android \d/.test(Ui),Vl=!!b1&&"webkitFontSmoothing"in b1.documentElement.style,PA=Vl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _A(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Hn(t,e){return typeof t=="number"?t:t[e]}function BA(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function k1(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let s=r||t.dom;s;s=Ll(s)){if(s.nodeType!=1)continue;let u=s,c=u==a.body,d=c?_A(a):BA(u),p=0,v=0;if(e.top<d.top+Hn(n,"top")?v=-(d.top-e.top+Hn(i,"top")):e.bottom>d.bottom-Hn(n,"bottom")&&(v=e.bottom-e.top>d.bottom-d.top?e.top+Hn(i,"top")-d.top:e.bottom-d.bottom+Hn(i,"bottom")),e.left<d.left+Hn(n,"left")?p=-(d.left-e.left+Hn(i,"left")):e.right>d.right-Hn(n,"right")&&(p=e.right-d.right+Hn(i,"right")),p||v)if(c)a.defaultView.scrollBy(p,v);else{let g=u.scrollLeft,w=u.scrollTop;v&&(u.scrollTop+=v),p&&(u.scrollLeft+=p);let b=u.scrollLeft-g,C=u.scrollTop-w;e={left:e.left-b,top:e.top-C,right:e.right-b,bottom:e.bottom-C}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function FA(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,s=r+1;s<Math.min(innerHeight,e.bottom);s+=5){let u=t.root.elementFromPoint(a,s);if(!u||u==t.dom||!t.dom.contains(u))continue;let c=u.getBoundingClientRect();if(c.top>=r-20){n=u,i=c.top;break}}return{refDOM:n,refTop:i,stack:WC(t.dom)}}function WC(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Ll(n));return e}function HA({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;GC(r,n==0?0:n-e)}function GC(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:a}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let bo=null;function zA(t){if(t.setActive)return t.setActive();if(bo)return t.focus(bo);let e=WC(t);t.focus(bo==null?{get preventScroll(){return bo={preventScroll:!0},!0}}:void 0),bo||(bo=!1,GC(e,0))}function KC(t,e){let r,n=2e8,i,a=0,s=e.top,u=e.top,c,d;for(let p=t.firstChild,v=0;p;p=p.nextSibling,v++){let g;if(p.nodeType==1)g=p.getClientRects();else if(p.nodeType==3)g=Vn(p).getClientRects();else continue;for(let w=0;w<g.length;w++){let b=g[w];if(b.top<=s&&b.bottom>=u){s=Math.max(b.bottom,s),u=Math.min(b.top,u);let C=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(C<n){r=p,n=C,i=C&&r.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,p.nodeType==1&&C&&(a=v+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!c&&b.left<=e.left&&b.right>=e.left&&(c=p,d={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!r&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(a=v+1)}}return!r&&c&&(r=c,i=d,n=0),r&&r.nodeType==3?$A(r,i):!r||n&&r.nodeType==1?{node:t,offset:a}:KC(r,i)}function $A(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let a=xi(n,1);if(a.top!=a.bottom&&Wv(e,a))return{node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}function Wv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function VA(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function jA(t,e,r){let{node:n,offset:i}=KC(e,r),a=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();a=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(n,i,a)}function qA(t,e,r,n){let i=-1;for(let a=e,s=!1;a!=t.dom;){let u=t.docView.nearestDesc(a,!0),c;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((c=u.dom.getBoundingClientRect()).width||c.height)&&(u.node.isBlock&&u.parent&&(!s&&c.left>n.left||c.top>n.top?i=u.posBefore:(!s&&c.right<n.left||c.bottom<n.top)&&(i=u.posAfter),s=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function QC(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),a=i;;){let s=t.childNodes[a];if(s.nodeType==1){let u=s.getClientRects();for(let c=0;c<u.length;c++){let d=u[c];if(Wv(e,d))return QC(s,e,d)}}if((a=(a+1)%n)==i)break}return t}function UA(t,e){let r=t.dom.ownerDocument,n,i=0,a=IA(r,e.left,e.top);a&&({node:n,offset:i}=a);let s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),u;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let d=t.dom.getBoundingClientRect();if(!Wv(e,d)||(s=QC(t.dom,e,d),!s))return null}if(Kt)for(let d=s;n&&d;d=Ll(d))d.draggable&&(n=void 0);if(s=VA(s,e),n){if(Yr&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let p=n.childNodes[i],v;p.nodeName=="IMG"&&(v=p.getBoundingClientRect()).right<=e.left&&v.bottom>e.top&&i++}let d;Vl&&i&&n.nodeType==1&&(d=n.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(u=qA(t,n,i,e))}u==null&&(u=jA(t,s,e));let c=t.docView.nearestDesc(s,!0);return{pos:u,inside:c?c.posAtStart-c.border:-1}}function C1(t){return t.top<t.bottom||t.left<t.right}function xi(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(C1(n))return n}return Array.prototype.find.call(r,C1)||t.getBoundingClientRect()}const WA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function JC(t,e,r){let{node:n,offset:i,atom:a}=t.docView.domFromPos(e,r<0?-1:1),s=Vl||Yr;if(n.nodeType==3)if(s&&(WA.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let c=xi(Vn(n,i,i),r);if(Yr&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let d=xi(Vn(n,i-1,i-1),-1);if(d.top==c.top){let p=xi(Vn(n,i,i+1),-1);if(p.top!=c.top)return Gs(p,p.left<d.left)}}return c}else{let c=i,d=i,p=r<0?1:-1;return r<0&&!i?(d++,p=-1):r>=0&&i==n.nodeValue.length?(c--,p=1):r<0?c--:d++,Gs(xi(Vn(n,c,d),p),p<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(r<0||i==Dr(n))){let c=n.childNodes[i-1];if(c.nodeType==1)return Qh(c.getBoundingClientRect(),!1)}if(a==null&&i<Dr(n)){let c=n.childNodes[i];if(c.nodeType==1)return Qh(c.getBoundingClientRect(),!0)}return Qh(n.getBoundingClientRect(),r>=0)}if(a==null&&i&&(r<0||i==Dr(n))){let c=n.childNodes[i-1],d=c.nodeType==3?Vn(c,Dr(c)-(s?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Gs(xi(d,1),!1)}if(a==null&&i<Dr(n)){let c=n.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?Vn(c,0,s?0:1):c.nodeType==1?c:null:null;if(d)return Gs(xi(d,-1),!0)}return Gs(xi(n.nodeType==3?Vn(n):n,-r),r>=0)}function Gs(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Qh(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function XC(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function GA(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return XC(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let s=JC(t,i.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let c;if(u.nodeType==1)c=u.getClientRects();else if(u.nodeType==3)c=Vn(u,0,u.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let p=c[d];if(p.bottom>p.top+1&&(r=="up"?s.top-p.top>(p.bottom-s.top)*2:p.bottom-s.bottom>(s.bottom-p.top)*2))return!1}}return!0})}const KA=/[\u0590-\u08ac]/;function QA(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,s=i==n.parent.content.size,u=t.domSelection();return u?!KA.test(n.parent.textContent)||!u.modify?r=="left"||r=="backward"?a:s:XC(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:p,anchorOffset:v}=t.domSelectionRange(),g=u.caretBidiLevel;u.modify("move",r,"character");let w=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:b,focusOffset:C}=t.domSelectionRange(),k=b&&!w.contains(b.nodeType==1?b:b.parentNode)||c==b&&d==C;try{u.collapse(p,v),c&&(c!=p||d!=v)&&u.extend&&u.extend(c,d)}catch{}return g!=null&&(u.caretBidiLevel=g),k}):n.pos==n.start()||n.pos==n.end()}let x1=null,T1=null,S1=!1;function JA(t,e,r){return x1==e&&T1==r?S1:(x1=e,T1=r,S1=r=="up"||r=="down"?GA(t,e,r):QA(t,e,r))}const Ir=0,E1=1,xa=2,wn=3;class jl{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Ir,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,s;if(e==this.contentDOM)a=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(s)+s.size:this.posAtStart}else{let a,s;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Lt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),s;if(a&&(!r||a.node))if(n&&(s=a.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return a}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let u=i.children[s];if(u.size){i=u;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let s=this.children[n],u=a+s.size;if(u>e||s instanceof ZC){i=e-a;break}a=u}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof YC&&a.side>=0;n--);if(r<=0){let a,s=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,s=!1);return a&&r&&s&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?Lt(a.dom)+1:0}}else{let a,s=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,s=!1);return a&&s&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?Lt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let s=n,u=0;;u++){let c=this.children[u],d=s+c.size;if(i==-1&&e<=d){let p=s+c.border;if(e>=p&&r<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,p);e=s;for(let v=u;v>0;v--){let g=this.children[v-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Lt(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(d>r||u==this.children.length-1)){r=d;for(let p=u+1;p<this.children.length;p++){let v=this.children[p];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(-1)){a=Lt(v.dom);break}r+=v.size}a==-1&&(a=this.contentDOM.childNodes.length);break}s=d}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let a=Math.min(e,r),s=Math.max(e,r);for(let w=0,b=0;w<this.children.length;w++){let C=this.children[w],k=b+C.size;if(a>b&&s<k)return C.setSelection(e-b-C.border,r-b-C.border,n,i);b=k}let u=this.domFromPos(e,e?-1:1),c=r==e?u:this.domFromPos(r,r?-1:1),d=n.root.getSelection(),p=n.domSelectionRange(),v=!1;if((Yr||Kt)&&e==r){let{node:w,offset:b}=u;if(w.nodeType==3){if(v=!!(b&&w.nodeValue[b-1]==`
`),v&&b==w.nodeValue.length)for(let C=w,k;C;C=C.parentNode){if(k=C.nextSibling){k.nodeName=="BR"&&(u=c={node:k.parentNode,offset:Lt(k)+1});break}let T=C.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let C=w.childNodes[b-1];v=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(Yr&&p.focusNode&&p.focusNode!=c.node&&p.focusNode.nodeType==1){let w=p.focusNode.childNodes[p.focusOffset];w&&w.contentEditable=="false"&&(i=!0)}if(!(i||v&&Kt)&&Ra(u.node,u.offset,p.anchorNode,p.anchorOffset)&&Ra(c.node,c.offset,p.focusNode,p.focusOffset))return;let g=!1;if((d.extend||e==r)&&!v){d.collapse(u.node,u.offset);try{e!=r&&d.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>r){let b=u;u=c,c=b}let w=document.createRange();w.setEnd(c.node,c.offset),w.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(w)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],s=n+a.size;if(n==s?e<=s&&r>=n:e<s&&r>n){let u=n+a.border,c=s-a.border;if(e>=u&&r<=c){this.dirty=e==n||r==s?xa:E1,e==u&&r==c&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=wn:a.markDirty(e-u,r-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?xa:wn}n=s}this.dirty=xa}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?xa:E1;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class YC extends jl{constructor(e,r,n,i){let a,s=r.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(s.nodeType!=1){let u=document.createElement("span");u.appendChild(s),s=u}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=r,this.widget=r,a=this}matchesWidget(e){return this.dirty==Ir&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class XA extends jl{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Pa extends jl{constructor(e,r,n,i,a){super(e,[],n,i),this.mark=r,this.spec=a}static create(e,r,n,i){let a=i.nodeViews[r.type.name],s=a&&a(r,i,n);return(!s||!s.dom)&&(s=Zo.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Pa(e,r,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&wn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=wn&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Ir){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Ir}}slice(e,r,n){let i=Pa.create(this.parent,this.mark,!0,n),a=this.children,s=this.size;r<s&&(a=Qp(a,r,s,n)),e>0&&(a=Qp(a,0,e,n));for(let u=0;u<a.length;u++)a[u].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Bi extends jl{constructor(e,r,n,i,a,s,u,c,d){super(e,[],a,s),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=u}static create(e,r,n,i,a,s){let u=a.nodeViews[r.type.name],c,d=u&&u(r,a,()=>{if(!c)return s;if(c.parent)return c.parent.posBeforeChild(c)},n,i),p=d&&d.dom,v=d&&d.contentDOM;if(r.isText){if(!p)p=document.createTextNode(r.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:v}=Zo.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!v&&!r.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),r.type.spec.draggable&&(p.draggable=!0));let g=p;return p=rx(p,n,r),d?c=new YA(e,r,n,i,p,v||null,g,d,a,s+1):r.isText?new Df(e,r,n,i,p,g,a):new Bi(e,r,n,i,p,v||null,g,a,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>j.empty)}return e}matchesNode(e,r,n){return this.dirty==Ir&&e.eq(this.node)&&qc(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,a=e.composing?this.localCompositionInfo(e,r):null,s=a&&a.pos>-1?a:null,u=a&&a.pos<0,c=new eD(this,s&&s.node,e);nD(this.node,this.innerDeco,(d,p,v)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!v&&c.syncToMarks(p==this.node.childCount?ze.none:this.node.child(p).marks,n,e),c.placeWidget(d,e,i)},(d,p,v,g)=>{c.syncToMarks(d.marks,n,e);let w;c.findNodeMatch(d,p,v,g)||u&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(w=c.findIndexWithChild(a.node))>-1&&c.updateNodeAt(d,p,v,w,e)||c.updateNextNode(d,p,v,e,g,i)||c.addNode(d,p,v,e,i),i+=d.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==xa)&&(s&&this.protectLocalComposition(e,s),ex(this.contentDOM,this.children,e),Ho&&iD(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof De)||n<r||i>r+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,u=aD(this.node.content,s,n-r,i-r);return u<0?null:{node:a,pos:u,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new XA(this,a,r,i);e.input.compositionNodes.push(s),this.children=Qp(this.children,n,n+i.length,e,s)}update(e,r,n,i){return this.dirty==wn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ir}updateOuterDeco(e){if(qc(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=tx(this.dom,this.nodeDOM,Kp(this.outerDeco,this.node,r),Kp(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function M1(t,e,r,n,i){rx(n,e,t);let a=new Bi(void 0,t,e,r,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class Df extends Bi{constructor(e,r,n,i,a,s,u){super(e,r,n,i,a,null,s,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==wn||this.dirty!=Ir&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Ir||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ir,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),a=document.createTextNode(i.text);return new Df(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=wn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class ZC extends jl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ir&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class YA extends Bi{constructor(e,r,n,i,a,s,u,c,d,p){super(e,r,n,i,a,s,u,d,p),this.spec=c}update(e,r,n,i){if(this.dirty==wn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,r,n);return a&&this.updateInner(e,r,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ex(t,e,r){let n=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let s=e[a],u=s.dom;if(u.parentNode==t){for(;u!=n;)n=O1(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(u,n);if(s instanceof Pa){let c=n?n.previousSibling:t.lastChild;ex(s.contentDOM,s.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=O1(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const dl=function(t){t&&(this.nodeName=t)};dl.prototype=Object.create(null);const Ta=[new dl];function Kp(t,e,r){if(t.length==0)return Ta;let n=r?Ta[0]:new dl,i=[n];for(let a=0;a<t.length;a++){let s=t[a].type.attrs;if(s){s.nodeName&&i.push(n=new dl(s.nodeName));for(let u in s){let c=s[u];c!=null&&(r&&i.length==1&&i.push(n=new dl(e.isInline?"span":"div")),u=="class"?n.class=(n.class?n.class+" ":"")+c:u=="style"?n.style=(n.style?n.style+";":"")+c:u!="nodeName"&&(n[u]=c))}}}return i}function tx(t,e,r,n){if(r==Ta&&n==Ta)return e;let i=e;for(let a=0;a<n.length;a++){let s=n[a],u=r[a];if(a){let c;u&&u.nodeName==s.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName),c.pmIsDeco=!0,c.appendChild(i),u=Ta[0]),i=c}ZA(i,u||Ta[0],s)}return i}function ZA(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&t.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function rx(t,e,r){return tx(t,t,Ta,Kp(e,r,t.nodeType!=1))}function qc(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function O1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class eD{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=tD(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,a=this.stack.length>>1,s=Math.min(a,e.length);for(;i<s&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Ir,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[a])&&!this.isLocked(d.dom)){u=c;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let c=Pa.create(this.top,e[a],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,a++}}findNodeMatch(e,r,n,i){let a=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,r,n))a=this.top.children.indexOf(s,this.index);else for(let u=this.index,c=Math.min(this.top.children.length,u+5);u<c;u++){let d=this.top.children[u];if(d.matchesNode(e,r,n)&&!this.preMatch.matched.has(d)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,r,n,i,a){let s=this.top.children[i];return s.dirty==wn&&s.dom==s.contentDOM&&(s.dirty=xa),s.update(e,r,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,a,s){for(let u=this.index;u<this.top.children.length;u++){let c=this.top.children[u];if(c instanceof Bi){let d=this.preMatch.matched.get(c);if(d!=null&&d!=a)return!1;let p=c.dom,v,g=this.isLocked(p)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=wn&&qc(r,c.outerDeco));if(!g&&c.update(e,r,n,i))return this.destroyBetween(this.index,u),c.dom!=p&&(this.changed=!0),this.index++,!0;if(!g&&(v=this.recreateWrapper(c,e,r,n,i,s)))return this.destroyBetween(this.index,u),this.top.children[this.index]=v,v.contentDOM&&(v.dirty=xa,v.updateChildren(i,s+1),v.dirty=Ir),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,a,s){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!qc(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=Bi.create(this.top,r,n,i,a,s);if(u.contentDOM){u.children=e.children,e.children=[];for(let c of u.children)c.parent=u}return e.destroy(),u}addNode(e,r,n,i,a){let s=Bi.create(this.top,e,r,n,i,a);s.contentDOM&&s.updateChildren(i,a+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new YC(this.top,e,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Pa;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Df)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Kt||zt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new ZC(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function tD(t,e){let r=e,n=r.children.length,i=t.childCount,a=new Map,s=[];e:for(;i>0;){let u;for(;;)if(n){let d=r.children[n-1];if(d instanceof Pa)r=d,n=d.children.length;else{u=d,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=u.node;if(c){if(c!=t.child(i-1))break;--i,a.set(u,i),s.push(u)}}return{index:i,matched:a,matches:s.reverse()}}function rD(t,e){return t.type.side-e.type.side}function nD(t,e,r,n){let i=e.locals(t),a=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let p=t.child(d);n(p,i,e.forChild(a,p),d),a+=p.nodeSize}return}let s=0,u=[],c=null;for(let d=0;;){let p,v;for(;s<i.length&&i[s].to==a;){let k=i[s++];k.widget&&(p?(v||(v=[p])).push(k):p=k)}if(p)if(v){v.sort(rD);for(let k=0;k<v.length;k++)r(v[k],d,!!c)}else r(p,d,!!c);let g,w;if(c)w=-1,g=c,c=null;else if(d<t.childCount)w=d,g=t.child(d++);else break;for(let k=0;k<u.length;k++)u[k].to<=a&&u.splice(k--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)u.push(i[s++]);let b=a+g.nodeSize;if(g.isText){let k=b;s<i.length&&i[s].from<k&&(k=i[s].from);for(let T=0;T<u.length;T++)u[T].to<k&&(k=u[T].to);k<b&&(c=g.cut(k-a),g=g.cut(0,k-a),b=k,w=-1)}else for(;s<i.length&&i[s].to<b;)s++;let C=g.isInline&&!g.isLeaf?u.filter(k=>!k.inline):u.slice();n(g,C,e.forChild(a,g),w),a=b}}function iD(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function aD(t,e,r,n){for(let i=0,a=0;i<t.childCount&&a<=n;){let s=t.child(i++),u=a;if(a+=s.nodeSize,!s.isText)continue;let c=s.text;for(;i<t.childCount;){let d=t.child(i++);if(a+=d.nodeSize,!d.isText)break;c+=d.text}if(a>=r){if(a>=n&&c.slice(n-e.length-u,n-u)==e)return n-e.length;let d=u<n?c.lastIndexOf(e,n-u-1):-1;if(d>=0&&d+e.length+u>=r)return u+d;if(r==n&&c.length>=n+e.length-u&&c.slice(n-u,n-u+e.length)==e)return n}}return-1}function Qp(t,e,r,n,i){let a=[];for(let s=0,u=0;s<t.length;s++){let c=t[s],d=u,p=u+=c.size;d>=r||p<=e?a.push(c):(d<e&&a.push(c.slice(0,e-d,n)),i&&(a.push(i),i=void 0),p>r&&a.push(c.slice(r-d,c.size,n)))}return a}function Gv(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),a=i&&i.size==0,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let u=n.resolve(s),c,d;if(Af(r)){for(c=s;i&&!i.node;)i=i.parent;let v=i.node;if(i&&v.isAtom&&ye.isSelectable(v)&&i.parent&&!(v.isInline&&AA(r.focusNode,r.focusOffset,i.dom))){let g=i.posBefore;d=new ye(s==g?u:n.resolve(g))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let v=s,g=s;for(let w=0;w<r.rangeCount;w++){let b=r.getRangeAt(w);v=Math.min(v,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(v<0)return null;[c,s]=g==t.state.selection.anchor?[g,v]:[v,g],u=n.resolve(s)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let p=n.resolve(c);if(!d){let v=e=="pointer"||t.state.selection.head<u.pos&&!a?1:-1;d=Kv(t,p,u,v)}return d}function nx(t){return t.editable?t.hasFocus():ax(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Gn(t,e=!1){let r=t.state.selection;if(ix(t,r),!!nx(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&zt){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Ra(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)sD(t);else{let{anchor:n,head:i}=r,a,s;N1&&!(r instanceof De)&&(r.$from.parent.inlineContent||(a=L1(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(s=L1(t,r.to))),t.docView.setSelection(n,i,t,e),N1&&(a&&A1(a),s&&A1(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&oD(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const N1=Kt||zt&&UC<63;function L1(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(Kt&&i&&i.contentEditable=="false")return Jh(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return Jh(i);if(a)return Jh(a)}}function Jh(t){return t.contentEditable="true",Kt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function A1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function oD(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!nx(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function sD(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,Lt(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&ur&&_i<=11&&(n.disabled=!0,n.disabled=!1)}function ix(t,e){if(e instanceof ye){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(D1(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else D1(t)}function D1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Kv(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||De.between(e,r,n)}function I1(t){return t.editable&&!t.hasFocus()?!1:ax(t)}function ax(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function lD(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Ra(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Jp(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Ne.findFrom(a,e)}function Ti(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function R1(t,e,r){let n=t.state.selection;if(n instanceof De)if(r.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return Ti(t,new De(n.$anchor,s))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Jp(t.state,e);return i&&i instanceof ye?Ti(t,i):!1}else if(!(Nr&&r.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!a||a.isText)return!1;let u=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(s=t.docView.descAt(u))&&!s.contentDOM?ye.isSelectable(a)?Ti(t,new ye(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):Vl?Ti(t,new De(t.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof ye&&n.node.isInline)return Ti(t,new De(e>0?n.$to:n.$from));{let i=Jp(t.state,e);return i?Ti(t,i):!1}}}function Uc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function hl(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ko(t,e){return e<0?uD(t):cD(t)}function uD(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,a,s=!1;for(Yr&&r.nodeType==1&&n<Uc(r)&&hl(r.childNodes[n],-1)&&(s=!0);;)if(n>0){if(r.nodeType!=1)break;{let u=r.childNodes[n-1];if(hl(u,-1))i=r,a=--n;else if(u.nodeType==3)r=u,n=r.nodeValue.length;else break}}else{if(ox(r))break;{let u=r.previousSibling;for(;u&&hl(u,-1);)i=r.parentNode,a=Lt(u),u=u.previousSibling;if(u)r=u,n=Uc(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?Xp(t,r,n):i&&Xp(t,i,a)}function cD(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Uc(r),a,s;for(;;)if(n<i){if(r.nodeType!=1)break;let u=r.childNodes[n];if(hl(u,1))a=r,s=++n;else break}else{if(ox(r))break;{let u=r.nextSibling;for(;u&&hl(u,1);)a=u.parentNode,s=Lt(u)+1,u=u.nextSibling;if(u)r=u,n=0,i=Uc(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}a&&Xp(t,a,s)}function ox(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function fD(t,e){for(;t&&e==t.childNodes.length&&!$l(t);)e=Lt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function dD(t,e){for(;t&&!e&&!$l(t);)e=Lt(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Xp(t,e,r){if(e.nodeType!=3){let a,s;(s=fD(e,r))?(e=s,r=0):(a=dD(e,r))&&(e=a,r=a.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Af(n)){let a=document.createRange();a.setEnd(e,r),a.setStart(e,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Gn(t)},50)}function P1(t,e){let r=t.state.doc.resolve(e);if(!(zt||RA)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let a=t.coordsAtPos(e-1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<r.end()){let a=t.coordsAtPos(e+1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function _1(t,e,r){let n=t.state.selection;if(n instanceof De&&!n.empty||r.indexOf("s")>-1||Nr&&r.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Jp(t.state,e);if(s&&s instanceof ye)return Ti(t,s)}if(!i.parent.inlineContent){let s=e<0?i:a,u=n instanceof Gt?Ne.near(s,e):Ne.findFrom(s,e);return u?Ti(t,u):!1}return!1}function B1(t,e){if(!(t.state.selection instanceof De))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let s=t.state.tr;return e<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),t.dispatch(s),!0}return!1}function F1(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function hD(t){if(!Kt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;F1(t,n,"true"),setTimeout(()=>F1(t,n,"false"),20)}return!1}function pD(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function vD(t,e){let r=e.keyCode,n=pD(e);if(r==8||Nr&&r==72&&n=="c")return B1(t,-1)||ko(t,-1);if(r==46&&!e.shiftKey||Nr&&r==68&&n=="c")return B1(t,1)||ko(t,1);if(r==13||r==27)return!0;if(r==37||Nr&&r==66&&n=="c"){let i=r==37?P1(t,t.state.selection.from)=="ltr"?-1:1:-1;return R1(t,i,n)||ko(t,i)}else if(r==39||Nr&&r==70&&n=="c"){let i=r==39?P1(t,t.state.selection.from)=="ltr"?1:-1:1;return R1(t,i,n)||ko(t,i)}else{if(r==38||Nr&&r==80&&n=="c")return _1(t,-1,n)||ko(t,-1);if(r==40||Nr&&r==78&&n=="c")return hD(t)||_1(t,1,n)||ko(t,1);if(n==(Nr?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function sx(t,e){t.someProp("transformCopied",w=>{e=w(e,t)});let r=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let w=n.firstChild;r.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),n=w.content}let s=t.someProp("clipboardSerializer")||Zo.fromSchema(t.state.schema),u=hx(),c=u.createElement("div");c.appendChild(s.serializeFragment(n,{document:u}));let d=c.firstChild,p,v=0;for(;d&&d.nodeType==1&&(p=dx[d.nodeName.toLowerCase()]);){for(let w=p.length-1;w>=0;w--){let b=u.createElement(p[w]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),v++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${a}${v?` -${v}`:""} ${JSON.stringify(r)}`);let g=t.someProp("clipboardTextSerializer",w=>w(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function lx(t,e,r,n,i){let a=i.parent.type.spec.code,s,u;if(!r&&!e)return null;let c=e&&(n||a||!r);if(c){if(t.someProp("transformPastedText",g=>{e=g(e,a||n,t)}),a)return e?new Z(j.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Z.empty;let v=t.someProp("clipboardTextParser",g=>g(e,i,n,t));if(v)u=v;else{let g=i.marks(),{schema:w}=t.state,b=Zo.fromSchema(w);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let k=s.appendChild(document.createElement("p"));C&&k.appendChild(b.serializeNode(w.text(C,g)))})}}else t.someProp("transformPastedHTML",v=>{r=v(r,t)}),s=wD(r),Vl&&bD(s);let d=s&&s.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let v=+p[3];v>0;v--){let g=s.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;s=g}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Ia.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(c||p),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!mD.test(g.parentNode.nodeName)?{ignore:!0}:null}})),p)u=kD(H1(u,+p[1],+p[2]),p[4]);else if(u=Z.maxOpen(gD(u.content,i),!0),u.openStart||u.openEnd){let v=0,g=0;for(let w=u.content.firstChild;v<u.openStart&&!w.type.spec.isolating;v++,w=w.firstChild);for(let w=u.content.lastChild;g<u.openEnd&&!w.type.spec.isolating;g++,w=w.lastChild);u=H1(u,v,g)}return t.someProp("transformPasted",v=>{u=v(u,t)}),u}const mD=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function gD(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),a,s=[];if(t.forEach(u=>{if(!s)return;let c=i.findWrapping(u.type),d;if(!c)return s=null;if(d=s.length&&a.length&&cx(c,a,u,s[s.length-1],0))s[s.length-1]=d;else{s.length&&(s[s.length-1]=fx(s[s.length-1],a.length));let p=ux(u,c);s.push(p),i=i.matchType(p.type),a=c}}),s)return j.from(s)}return t}function ux(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,j.from(t));return t}function cx(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=cx(t,e,r,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(j.from(ux(r,t,i+1))))}}function fx(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,fx(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(j.empty,!0);return t.copy(r.append(n))}function Yp(t,e,r,n,i,a){let s=e<0?t.firstChild:t.lastChild,u=s.content;return t.childCount>1&&(a=0),i<n-1&&(u=Yp(u,e,r,n,i+1,a)),i>=r&&(u=e<0?s.contentMatchAt(0).fillBefore(u,a<=i).append(u):u.append(s.contentMatchAt(s.childCount).fillBefore(j.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(u))}function H1(t,e,r){return e<t.openStart&&(t=new Z(Yp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new Z(Yp(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const dx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let z1=null;function hx(){return z1||(z1=document.implementation.createHTMLDocument("title"))}let Xh=null;function yD(t){let e=window.trustedTypes;return e?(Xh||(Xh=e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Xh.createHTML(t)):t}function wD(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=hx().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&dx[n[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=yD(t),i)for(let a=0;a<i.length;a++)r=r.querySelector(i[a])||r;return r}function bD(t){let e=t.querySelectorAll(zt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function kD(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:a,openEnd:s}=t;for(let u=n.length-2;u>=0;u-=2){let c=r.nodes[n[u]];if(!c||c.hasRequiredAttrs())break;i=j.from(c.create(n[u+1],i)),a++,s++}return new Z(i,a,s)}const Qt={},Jt={},CD={touchstart:!0,touchmove:!0};class xD{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function TD(t){for(let e in Qt){let r=Qt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{ED(t,n)&&!Qv(t,n)&&(t.editable||!(n.type in Jt))&&r(t,n)},CD[e]?{passive:!0}:void 0)}Kt&&t.dom.addEventListener("input",()=>null),Zp(t)}function Ii(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function SD(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Zp(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Qv(t,n))})}function Qv(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function ED(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function MD(t,e){!Qv(t,e)&&Qt[e.type]&&(t.editable||!(e.type in Jt))&&Qt[e.type](t,e)}Jt.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!vx(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Un&&zt&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Ho&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,ka(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||vD(t,r)?r.preventDefault():Ii(t,"key")};Jt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Jt.keypress=(t,e)=>{let r=e;if(vx(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Nr&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof De)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,n.$from.pos,n.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function If(t){return{left:t.clientX,top:t.clientY}}function OD(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Jv(t,e,r,n,i){if(n==-1)return!1;let a=t.state.doc.resolve(n);for(let s=a.depth+1;s>0;s--)if(t.someProp(e,u=>s>a.depth?u(t,r,a.nodeAfter,a.before(s),i,!0):u(t,r,a.node(s),a.before(s),i,!1)))return!0;return!1}function Po(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function ND(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&ye.isSelectable(n)?(Po(t,new ye(r)),!0):!1}function LD(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof ye&&(n=r.node);let a=t.state.doc.resolve(e);for(let s=a.depth+1;s>0;s--){let u=s>a.depth?a.nodeAfter:a.node(s);if(ye.isSelectable(u)){n&&r.$from.depth>0&&s>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?i=a.before(r.$from.depth):i=a.before(s);break}}return i!=null?(Po(t,ye.create(t.state.doc,i)),!0):!1}function AD(t,e,r,n,i){return Jv(t,"handleClickOn",e,r,n)||t.someProp("handleClick",a=>a(t,e,n))||(i?LD(t,r):ND(t,r))}function DD(t,e,r,n){return Jv(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function ID(t,e,r,n){return Jv(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||RD(t,r,n)}function RD(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Po(t,De.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let s=a>i.depth?i.nodeAfter:i.node(a),u=i.before(a);if(s.inlineContent)Po(t,De.create(n,u+1,u+1+s.content.size));else if(ye.isSelectable(s))Po(t,ye.create(n,u));else continue;return!0}}function Xv(t){return Wc(t)}const px=Nr?"metaKey":"ctrlKey";Qt.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=Xv(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&OD(r,t.input.lastClick)&&!r[px]&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:a};let s=t.posAtCoords(If(r));s&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new PD(t,s,r,!!n)):(a=="doubleClick"?DD:ID)(t,s.pos,s.inside,r)?r.preventDefault():Ii(t,"pointer"))};class PD{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[px],this.allowDefault=n.shiftKey;let a,s;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),s=r.inside;else{let p=e.state.doc.resolve(r.pos);a=p.parent,s=p.depth?p.before():0}const u=i?null:n.target,c=u?e.docView.nearestDesc(u,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:d}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||d instanceof ye&&d.from<=s&&d.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Yr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ii(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Gn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(If(e))),this.updateAllowDefault(e),this.allowDefault||!r?Ii(this.view,"pointer"):AD(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Kt&&this.mightDrag&&!this.mightDrag.node.isAtom||zt&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Po(this.view,Ne.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Ii(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ii(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Qt.touchstart=t=>{t.input.lastTouch=Date.now(),Xv(t),Ii(t,"pointer")};Qt.touchmove=t=>{t.input.lastTouch=Date.now(),Ii(t,"pointer")};Qt.contextmenu=t=>Xv(t);function vx(t,e){return t.composing?!0:Kt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const _D=Un?5e3:-1;Jt.compositionstart=Jt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof De&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Wc(t,!0),t.markCursor=null;else if(Wc(t,!e.selection.empty),Yr&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let s=a<0?i.lastChild:i.childNodes[a-1];if(!s)break;if(s.nodeType==3){let u=t.domSelection();u&&u.collapse(s,s.nodeValue.length);break}else i=s,a=-1}}t.input.composing=!0}mx(t,_D)};Jt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,mx(t,20))};function mx(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Wc(t),e))}function gx(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=FD());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function BD(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=NA(e.focusNode,e.focusOffset),n=LA(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let s=r.pmViewDesc;if(!(!s||!s.isText(r.nodeValue)))return n}}return r||n}function FD(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Wc(t,e=!1){if(!(Un&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),gx(t),e||t.docView&&t.docView.dirty){let r=Gv(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function HD(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Al=ur&&_i<15||Ho&&PA<604;Qt.copy=Jt.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let a=Al?null:r.clipboardData,s=n.content(),{dom:u,text:c}=sx(t,s);a?(r.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",c)):HD(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function zD(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function $D(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Dl(t,n.value,null,i,e):Dl(t,n.textContent,n.innerHTML,i,e)},50)}function Dl(t,e,r,n,i){let a=lx(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,a||Z.empty)))return!0;if(!a)return!1;let s=zD(a),u=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(a);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yx(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Jt.paste=(t,e)=>{let r=e;if(t.composing&&!Un)return;let n=Al?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Dl(t,yx(n),n.getData("text/html"),i,r)?r.preventDefault():$D(t,r)};class wx{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const bx=Nr?"altKey":"ctrlKey";Qt.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(If(r)),s;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof ye?i.to-1:i.to))){if(n&&n.mightDrag)s=ye.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let v=t.docView.nearestDesc(r.target,!0);v&&v.node.type.spec.draggable&&v!=t.docView&&(s=ye.create(t.state.doc,v.posBefore))}}let u=(s||t.state.selection).content(),{dom:c,text:d,slice:p}=sx(t,u);(!r.dataTransfer.files.length||!zt||UC>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Al?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",Al||r.dataTransfer.setData("text/plain",d),t.dragging=new wx(p,!r[bx],s)};Qt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Jt.dragover=Jt.dragenter=(t,e)=>e.preventDefault();Jt.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(If(r));if(!i)return;let a=t.state.doc.resolve(i.pos),s=n&&n.slice;s?t.someProp("transformPasted",b=>{s=b(s,t)}):s=lx(t,yx(r.dataTransfer),Al?null:r.dataTransfer.getData("text/html"),!1,a);let u=!!(n&&!r[bx]);if(t.someProp("handleDrop",b=>b(t,r,s||Z.empty,u))){r.preventDefault();return}if(!s)return;r.preventDefault();let c=s?mA(t.state.doc,a.pos,s):a.pos;c==null&&(c=a.pos);let d=t.state.tr;if(u){let{node:b}=n;b?b.replace(d):d.deleteSelection()}let p=d.mapping.map(c),v=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,g=d.doc;if(v?d.replaceRangeWith(p,p,s.content.firstChild):d.replaceRange(p,p,s),d.doc.eq(g))return;let w=d.doc.resolve(p);if(v&&ye.isSelectable(s.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new ye(w));else{let b=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((C,k,T,M)=>b=M),d.setSelection(Kv(t,w,d.doc.resolve(b)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};Qt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Gn(t)},20))};Qt.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Qt.beforeinput=(t,e)=>{if(zt&&Un&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,ka(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Jt)Qt[t]=Jt[t];function Il(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Gc{constructor(e,r){this.toDOM=e,this.spec=r||Oa,this.side=this.spec.side||0}map(e,r,n,i){let{pos:a,deleted:s}=e.mapResult(r.from+i,this.side<0?-1:1);return s?null:new lr(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Gc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Il(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Fi{constructor(e,r){this.attrs=e,this.spec=r||Oa}map(e,r,n,i){let a=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,s=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=s?null:new lr(a,s,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Fi&&Il(this.attrs,e.attrs)&&Il(this.spec,e.spec)}static is(e){return e.type instanceof Fi}destroy(){}}class Yv{constructor(e,r){this.attrs=e,this.spec=r||Oa}map(e,r,n,i){let a=e.mapResult(r.from+i,1);if(a.deleted)return null;let s=e.mapResult(r.to+i,-1);return s.deleted||s.pos<=a.pos?null:new lr(a.pos-n,s.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),a;return i==r.from&&!(a=e.child(n)).isText&&i+a.nodeSize==r.to}eq(e){return this==e||e instanceof Yv&&Il(this.attrs,e.attrs)&&Il(this.spec,e.spec)}destroy(){}}class lr{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new lr(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new lr(e,e,new Gc(r,n))}static inline(e,r,n,i){return new lr(e,r,new Fi(n,i))}static node(e,r,n,i){return new lr(e,r,new Yv(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fi}get widget(){return this.type instanceof Gc}}const Eo=[],Oa={};class nt{constructor(e,r){this.local=e.length?e:Eo,this.children=r.length?r:Eo}static create(e,r){return r.length?Kc(r,e,0,Oa):Ft}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,a){for(let s=0;s<this.local.length;s++){let u=this.local[s];u.from<=r&&u.to>=e&&(!a||a(u.spec))&&n.push(u.copy(u.from+i,u.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<r&&this.children[s+1]>e){let u=this.children[s]+1;this.children[s+2].findInner(e-u,r-u,n,i+u,a)}}map(e,r,n){return this==Ft||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Oa)}mapInner(e,r,n,i,a){let s;for(let u=0;u<this.local.length;u++){let c=this.local[u].map(e,n,i);c&&c.type.valid(r,c)?(s||(s=[])).push(c):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?VD(this.children,s||[],e,r,n,i,a):s?new nt(s.sort(Na),Eo):Ft}add(e,r){return r.length?this==Ft?nt.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,a=0;e.forEach((u,c)=>{let d=c+n,p;if(p=Cx(r,u,d)){for(i||(i=this.children.slice());a<i.length&&i[a]<c;)a+=3;i[a]==c?i[a+2]=i[a+2].addInner(u,p,d+1):i.splice(a,0,c,c+u.nodeSize,Kc(p,u,d+1,Oa)),a+=3}});let s=kx(a?xx(r):r,-n);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||s.splice(u--,1);return new nt(s.length?this.local.concat(s).sort(Na):this.local,i||this.children)}remove(e){return e.length==0||this==Ft?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let s,u=n[a]+r,c=n[a+1]+r;for(let p=0,v;p<e.length;p++)(v=e[p])&&v.from>u&&v.to<c&&(e[p]=null,(s||(s=[])).push(v));if(!s)continue;n==this.children&&(n=this.children.slice());let d=n[a+2].removeInner(s,u+1);d!=Ft?n[a+2]=d:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,s;a<e.length;a++)if(s=e[a])for(let u=0;u<i.length;u++)i[u].eq(s,r)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new nt(i,n):Ft}forChild(e,r){if(this==Ft)return this;if(r.isLeaf)return nt.empty;let n,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(n=this.children[u+2]);break}let a=e+1,s=a+r.content.size;for(let u=0;u<this.local.length;u++){let c=this.local[u];if(c.from<s&&c.to>a&&c.type instanceof Fi){let d=Math.max(a,c.from)-a,p=Math.min(s,c.to)-a;d<p&&(i||(i=[])).push(c.copy(d,p))}}if(i){let u=new nt(i.sort(Na),Eo);return n?new Ei([u,n]):u}return n||Ft}eq(e){if(this==e)return!0;if(!(e instanceof nt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Zv(this.localsInner(e))}localsInner(e){if(this==Ft)return Eo;if(e.inlineContent||!this.local.some(Fi.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Fi||r.push(this.local[n]);return r}forEachSet(e){e(this)}}nt.empty=new nt([],[]);nt.removeOverlap=Zv;const Ft=nt.empty;class Ei{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,Oa));return Ei.from(n)}forChild(e,r){if(r.isLeaf)return nt.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,r);a!=Ft&&(a instanceof Ei?n=n.concat(a.members):n.push(a))}return Ei.from(n)}eq(e){if(!(e instanceof Ei)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let s=0;s<a.length;s++)r.push(a[s])}}return r?Zv(n?r:r.sort(Na)):Eo}static from(e){switch(e.length){case 0:return Ft;case 1:return e[0];default:return new Ei(e.every(r=>r instanceof nt)?e:e.reduce((r,n)=>r.concat(n instanceof nt?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function VD(t,e,r,n,i,a,s){let u=t.slice();for(let d=0,p=a;d<r.maps.length;d++){let v=0;r.maps[d].forEach((g,w,b,C)=>{let k=C-b-(w-g);for(let T=0;T<u.length;T+=3){let M=u[T+1];if(M<0||g>M+p-v)continue;let N=u[T]+p-v;w>=N?u[T+1]=g<=N?-2:-1:g>=p&&k&&(u[T]+=k,u[T+1]+=k)}v+=k}),p=r.maps[d].map(p,-1)}let c=!1;for(let d=0;d<u.length;d+=3)if(u[d+1]<0){if(u[d+1]==-2){c=!0,u[d+1]=-1;continue}let p=r.map(t[d]+a),v=p-i;if(v<0||v>=n.content.size){c=!0;continue}let g=r.map(t[d+1]+a,-1),w=g-i,{index:b,offset:C}=n.content.findIndex(v),k=n.maybeChild(b);if(k&&C==v&&C+k.nodeSize==w){let T=u[d+2].mapInner(r,k,p+1,t[d]+a+1,s);T!=Ft?(u[d]=v,u[d+1]=w,u[d+2]=T):(u[d+1]=-2,c=!0)}else c=!0}if(c){let d=jD(u,t,e,r,i,a,s),p=Kc(d,n,0,s);e=p.local;for(let v=0;v<u.length;v+=3)u[v+1]<0&&(u.splice(v,3),v-=3);for(let v=0,g=0;v<p.children.length;v+=3){let w=p.children[v];for(;g<u.length&&u[g]<w;)g+=3;u.splice(g,0,p.children[v],p.children[v+1],p.children[v+2])}}return new nt(e.sort(Na),u)}function kx(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new lr(i.from+e,i.to+e,i.type))}return r}function jD(t,e,r,n,i,a,s){function u(c,d){for(let p=0;p<c.local.length;p++){let v=c.local[p].map(n,i,d);v?r.push(v):s.onRemove&&s.onRemove(c.local[p].spec)}for(let p=0;p<c.children.length;p+=3)u(c.children[p+2],c.children[p]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&u(t[c+2],e[c]+a+1);return r}function Cx(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let a=0,s;a<t.length;a++)(s=t[a])&&s.from>r&&s.to<n&&((i||(i=[])).push(s),t[a]=null);return i}function xx(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Kc(t,e,r,n){let i=[],a=!1;e.forEach((u,c)=>{let d=Cx(t,u,c+r);if(d){a=!0;let p=Kc(d,u,r+c+1,n);p!=Ft&&i.push(c,c+u.nodeSize,p)}});let s=kx(a?xx(t):t,-r).sort(Na);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||(n.onRemove&&n.onRemove(s[u].spec),s.splice(u--,1));return s.length||i.length?new nt(s,i):Ft}function Na(t,e){return t.from-e.from||t.to-e.to}function Zv(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,n.to),$1(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,a.from),$1(e,i,n.copy(a.from,n.to)));break}}}return e}function $1(t,e,r){for(;e<t.length&&Na(r,t[e])>0;)e++;t.splice(e,0,r)}function Yh(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=Ft&&e.push(n)}),t.cursorWrapper&&e.push(nt.create(t.state.doc,[t.cursorWrapper.deco])),Ei.from(e)}const qD={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},UD=ur&&_i<=11;class WD{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class GD{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new WD,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);ur&&_i<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),UD&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qD)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(I1(this.view)){if(this.suppressingSelectionUpdates)return Gn(this.view);if(ur&&_i<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ra(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let a=e.focusNode;a;a=Ll(a))r.add(a);for(let a=e.anchorNode;a;a=Ll(a))if(r.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&I1(e)&&!this.ignoreSelectionChange(n),a=-1,s=-1,u=!1,c=[];if(e.editable)for(let p=0;p<r.length;p++){let v=this.registerMutation(r[p],c);v&&(a=a<0?v.from:Math.min(v.from,a),s=s<0?v.to:Math.max(v.to,s),v.typeOver&&(u=!0))}if(Yr&&c.length){let p=c.filter(v=>v.nodeName=="BR");if(p.length==2){let[v,g]=p;v.parentNode&&v.parentNode.parentNode==g.parentNode?g.remove():v.remove()}else{let{focusNode:v}=this.currentSelection;for(let g of p){let w=g.parentNode;w&&w.nodeName=="LI"&&(!v||JD(e,v)!=w)&&g.remove()}}}let d=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Af(n)&&(d=Gv(e))&&d.eq(Ne.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Gn(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,s),KD(e)),this.handleDOMChange(a,s,u,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Gn(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let v=e.addedNodes[p];r.push(v),v.nodeType==3&&(this.lastChangedTextNode=v)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(ur&&_i<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:v,nextSibling:g}=e.addedNodes[p];(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(i=v),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(a=g)}let s=i&&i.parentNode==e.target?Lt(i)+1:0,u=n.localPosFromDOM(e.target,s,-1),c=a&&a.parentNode==e.target?Lt(a):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:u,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let V1=new WeakMap,j1=!1;function KD(t){if(!V1.has(t)&&(V1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Yr,j1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),j1=!0}}function q1(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Ra(s.node,s.offset,i,a)&&([r,n,i,a]=[i,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}}function QD(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return q1(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?q1(t,r):null}function JD(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function XD(t,e,r){let{node:n,fromOffset:i,toOffset:a,from:s,to:u}=t.docView.parseRange(e,r),c=t.domSelectionRange(),d,p=c.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:c.anchorOffset}],Af(c)||d.push({node:c.focusNode,offset:c.focusOffset})),zt&&t.input.lastKeyCode===8)for(let k=a;k>i;k--){let T=n.childNodes[k-1],M=T.pmViewDesc;if(T.nodeName=="BR"&&!M){a=k;break}if(!M||M.size)break}let v=t.state.doc,g=t.someProp("domParser")||Ia.fromSchema(t.state.schema),w=v.resolve(s),b=null,C=g.parse(n,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:i,to:a,preserveWhitespace:w.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:YD,context:w});if(d&&d[0].pos!=null){let k=d[0].pos,T=d[1]&&d[1].pos;T==null&&(T=k),b={anchor:k+s,head:T+s}}return{doc:C,sel:b,from:s,to:u}}function YD(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Kt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Kt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ZD=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function eI(t,e,r,n,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let K=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,de=Gv(t,K);if(de&&!t.state.selection.eq(de)){if(zt&&Un&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Ce=>Ce(t,ka(13,"Enter"))))return;let ve=t.state.tr.setSelection(de);K=="pointer"?ve.setMeta("pointer",!0):K=="key"&&ve.scrollIntoView(),a&&ve.setMeta("composition",a),t.dispatch(ve)}return}let s=t.state.doc.resolve(e),u=s.sharedDepth(r);e=s.before(u+1),r=t.state.doc.resolve(r).after(u+1);let c=t.state.selection,d=XD(t,e,r),p=t.state.doc,v=p.slice(d.from,d.to),g,w;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,w="end"):(g=t.state.selection.from,w="start"),t.input.lastKeyCode=null;let b=nI(v.content,d.doc.content,d.from,g,w);if(b&&t.input.domChangeCount++,(Ho&&t.input.lastIOSEnter>Date.now()-225||Un)&&i.some(K=>K.nodeType==1&&!ZD.test(K.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",K=>K(t,ka(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(n&&c instanceof De&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let K=U1(t,t.state.doc,d.sel);if(K&&!K.eq(t.state.selection)){let de=t.state.tr.setSelection(K);a&&de.setMeta("composition",a),t.dispatch(de)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof De&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),ur&&_i<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)==" "&&(b.start--,b.endA--,b.endB--);let C=d.doc.resolveNoCache(b.start-d.from),k=d.doc.resolveNoCache(b.endB-d.from),T=p.resolve(b.start),M=C.sameParent(k)&&C.parent.inlineContent&&T.end()>=b.endA,N;if((Ho&&t.input.lastIOSEnter>Date.now()-225&&(!M||i.some(K=>K.nodeName=="DIV"||K.nodeName=="P"))||!M&&C.pos<d.doc.content.size&&!C.sameParent(k)&&(N=Ne.findFrom(d.doc.resolve(C.pos+1),1,!0))&&N.head==k.pos)&&t.someProp("handleKeyDown",K=>K(t,ka(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&rI(p,b.start,b.endA,C,k)&&t.someProp("handleKeyDown",K=>K(t,ka(8,"Backspace")))){Un&&zt&&t.domObserver.suppressSelectionUpdates();return}zt&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),Un&&!M&&C.start()!=k.start()&&k.parentOffset==0&&C.depth==k.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,k=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(K){return K(t,ka(13,"Enter"))})},20));let R=b.start,B=b.endA,z,G,ee;if(M){if(C.pos==k.pos)ur&&_i<=11&&C.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Gn(t),20)),z=t.state.tr.delete(R,B),G=p.resolve(b.start).marksAcross(p.resolve(b.endA));else if(b.endA==b.endB&&(ee=tI(C.parent.content.cut(C.parentOffset,k.parentOffset),T.parent.content.cut(T.parentOffset,b.endA-T.start()))))z=t.state.tr,ee.type=="add"?z.addMark(R,B,ee.mark):z.removeMark(R,B,ee.mark);else if(C.parent.child(C.index()).isText&&C.index()==k.index()-(k.textOffset?0:1)){let K=C.parent.textBetween(C.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",de=>de(t,R,B,K)))return;z=t.state.tr.insertText(K,R,B)}}if(z||(z=t.state.tr.replace(R,B,d.doc.slice(b.start-d.from,b.endB-d.from))),d.sel){let K=U1(t,z.doc,d.sel);K&&!(zt&&t.composing&&K.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(K.head==R||K.head==z.mapping.map(B)-1)||ur&&K.empty&&K.head==R)&&z.setSelection(K)}G&&z.ensureMarks(G),a&&z.setMeta("composition",a),t.dispatch(z.scrollIntoView())}function U1(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Kv(t,e.resolve(r.anchor),e.resolve(r.head))}function tI(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,a=n,s,u,c;for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);for(let p=0;p<r.length;p++)a=r[p].removeFromSet(a);if(i.length==1&&a.length==0)u=i[0],s="add",c=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&a.length==1)u=a[0],s="remove",c=p=>p.mark(u.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(c(e.child(p)));if(j.from(d).eq(t))return{mark:u,type:s}}function rI(t,e,r,n,i){if(r-e<=i.pos-n.pos||Zh(n,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!n.parent.isTextblock){let u=a.nodeAfter;return u!=null&&r==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=t.resolve(Zh(a,!0,!0));return!s.parent.isTextblock||s.pos>r||Zh(s,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function Zh(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let a=t.node(n).maybeChild(t.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function nI(t,e,r,n,i){let a=t.findDiffStart(e,r);if(a==null)return null;let{a:s,b:u}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let c=Math.max(0,a-Math.min(s,u));n-=s+c-a}if(s<a&&t.size<e.size){let c=n<=a&&n>=s?a-n:0;a-=c,a&&a<e.size&&W1(e.textBetween(a-1,a+1))&&(a+=c?1:-1),u=a+(u-s),s=a}else if(u<a){let c=n<=a&&n>=u?a-n:0;a-=c,a&&a<t.size&&W1(t.textBetween(a-1,a+1))&&(a+=c?1:-1),s=a+(s-u),u=a}return{start:a,endA:s,endB:u}}function W1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class em{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xD,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(X1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Q1(this),K1(this),this.nodeViews=J1(this),this.docView=M1(this.state.doc,G1(this),Yh(this),this.dom,this),this.domObserver=new GD(this,(n,i,a,s)=>eI(this,n,i,a,s)),this.domObserver.start(),TD(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Zp(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(X1),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,a=!1,s=!1;e.storedMarks&&this.composing&&(gx(this),s=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(u||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let w=J1(this);aI(w,this.nodeViews)&&(this.nodeViews=w,a=!0)}(u||r.handleDOMEvents!=this._props.handleDOMEvents)&&Zp(this),this.editable=Q1(this),K1(this);let c=Yh(this),d=G1(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",v=a||!this.docView.matchesNode(e.doc,d,c);(v||!e.selection.eq(i.selection))&&(s=!0);let g=p=="preserve"&&s&&this.dom.style.overflowAnchor==null&&FA(this);if(s){this.domObserver.stop();let w=v&&(ur||zt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&iI(i.selection,e.selection);if(v){let b=zt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=BD(this)),(a||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=M1(e.doc,d,c,this.dom,this)),b&&!this.trackWrites&&(w=!0)}w||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&lD(this))?Gn(this,w):(ix(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():g&&HA(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof ye){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&k1(this,r.getBoundingClientRect(),e)}else k1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new wx(e.slice,e.move,i<0?void 0:ye.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let s=0;s<this.directPlugins.length;s++){let u=this.directPlugins[s].props[e];if(u!=null&&(i=r?r(u):u))return i}let a=this.state.plugins;if(a)for(let s=0;s<a.length;s++){let u=a[s].props[e];if(u!=null&&(i=r?r(u):u))return i}}hasFocus(){if(ur){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&zA(this.dom),Gn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return UA(this,e)}coordsAtPos(e,r=1){return JC(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return JA(this,r||this.state,e)}pasteHTML(e,r){return Dl(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Dl(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(SD(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Yh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,MA())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return MD(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Kt&&this.root.nodeType===11&&DA(this.dom.ownerDocument)==this.dom&&QD(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function G1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[lr.node(0,t.state.doc.content.size,e)]}function K1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:lr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Q1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function iI(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function J1(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function aI(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function X1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Vi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},oI=typeof navigator<"u"&&/Mac/.test(navigator.platform),sI=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var At=0;At<10;At++)Vi[48+At]=Vi[96+At]=String(At);for(var At=1;At<=24;At++)Vi[At+111]="F"+At;for(var At=65;At<=90;At++)Vi[At]=String.fromCharCode(At+32),Qc[At]=String.fromCharCode(At);for(var ep in Vi)Qc.hasOwnProperty(ep)||(Qc[ep]=Vi[ep]);function lI(t){var e=oI&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||sI&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Qc:Vi)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const uI=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function cI(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,a,s;for(let u=0;u<e.length-1;u++){let c=e[u];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))uI?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function fI(t){let e=Object.create(null);for(let r in t)e[cI(r)]=t[r];return e}function tp(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function Rl(t){return new fr({props:{handleKeyDown:dI(t)}})}function dI(t){let e=fI(t);return function(r,n){let i=lI(n),a,s=e[tp(i,n)];if(s&&s(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let u=e[tp(i,n,!1)];if(u&&u(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(a=Vi[n.keyCode])&&a!=i){let u=e[tp(a,n)];if(u&&u(r.state,r.dispatch,r))return!0}}return!1}}const tm=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function hI(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const pI=(t,e,r)=>{let n=hI(t,r);if(!n)return!1;let i=Tx(n);if(!i){let s=n.blockRange(),u=s&&Nf(s);return u==null?!1:(e&&e(t.tr.lift(s,u).scrollIntoView()),!0)}let a=i.nodeBefore;if(Nx(t,i,e,-1))return!0;if(n.parent.content.size==0&&(zo(a,"end")||ye.isSelectable(a)))for(let s=n.depth;;s--){let u=qv(t.doc,n.before(s),n.after(s),Z.empty);if(u&&u.slice.size<u.to-u.from){if(e){let c=t.tr.step(u);c.setSelection(zo(a,"end")?Ne.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):ye.create(c.doc,i.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function zo(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const vI=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;a=Tx(n)}let s=a&&a.nodeBefore;return!s||!ye.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ye.create(t.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)};function Tx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function mI(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const Sx=(t,e,r)=>{let n=mI(t,r);if(!n)return!1;let i=Ex(n);if(!i)return!1;let a=i.nodeAfter;if(Nx(t,i,e,1))return!0;if(n.parent.content.size==0&&(zo(a,"start")||ye.isSelectable(a))){let s=qv(t.doc,n.before(),n.after(),Z.empty);if(s&&s.slice.size<s.to-s.from){if(e){let u=t.tr.step(s);u.setSelection(zo(a,"start")?Ne.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):ye.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},gI=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;a=Ex(n)}let s=a&&a.nodeAfter;return!s||!ye.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ye.create(t.doc,a.pos)).scrollIntoView()),!0)};function Ex(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const Mx=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function rm(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const nm=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),a=r.indexAfter(-1),s=rm(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(e){let u=r.after(),c=t.tr.replaceWith(u,u,s.createAndFill());c.setSelection(Ne.near(c.doc.resolve(u),1)),e(c.scrollIntoView())}return!0},yI=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof Gt||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=rm(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,u=t.tr.insert(s,a.createAndFill());u.setSelection(De.create(u.doc,s+1)),e(u.scrollIntoView())}return!0},wI=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(Io(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),i=n&&Nf(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function bI(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof ye&&e.selection.node.isBlock)return!n.parentOffset||!Io(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],s,u,c=!1,d=!1;for(let w=n.depth;;w--)if(n.node(w).isBlock){c=n.end(w)==n.pos+(n.depth-w),d=n.start(w)==n.pos-(n.depth-w),u=rm(n.node(w-1).contentMatchAt(n.indexAfter(w-1))),a.unshift(c&&u?{type:u}:null),s=w;break}else{if(w==1)return!1;a.unshift(null)}let p=e.tr;(e.selection instanceof De||e.selection instanceof Gt)&&p.deleteSelection();let v=p.mapping.map(n.pos),g=Io(p.doc,v,a.length,a);if(g||(a[0]=u?{type:u}:null,g=Io(p.doc,v,a.length,a)),p.split(v,a.length,a),!c&&d&&n.node(s).type!=u){let w=p.mapping.map(n.before(s)),b=p.doc.resolve(w);u&&n.node(s-1).canReplaceWith(b.index(),b.index()+1,u)&&p.setNodeMarkup(p.mapping.map(n.before(s)),u)}return r&&r(p.scrollIntoView()),!0}}const kI=bI(),Ox=(t,e)=>(e&&e(t.tr.setSelection(new Gt(t.doc))),!0);function CI(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||_C(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function Nx(t,e,r,n){let i=e.nodeBefore,a=e.nodeAfter,s,u,c=i.type.spec.isolating||a.type.spec.isolating;if(!c&&CI(t,e,r))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(s=(u=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&u.matchType(s[0]||a.type).validEnd){if(r){let w=e.pos+a.nodeSize,b=j.empty;for(let T=s.length-1;T>=0;T--)b=j.from(s[T].create(null,b));b=j.from(i.copy(b));let C=t.tr.step(new Ct(e.pos-1,w,e.pos,w,new Z(b,1,0),s.length,!0)),k=C.doc.resolve(w+2*s.length);k.nodeAfter&&k.nodeAfter.type==i.type&&_C(C.doc,k.pos)&&C.join(k.pos),r(C.scrollIntoView())}return!0}let p=a.type.spec.isolating||n>0&&c?null:Ne.findFrom(e,1),v=p&&p.$from.blockRange(p.$to),g=v&&Nf(v);if(g!=null&&g>=e.depth)return r&&r(t.tr.lift(v,g).scrollIntoView()),!0;if(d&&zo(a,"start",!0)&&zo(i,"end")){let w=i,b=[];for(;b.push(w),!w.isTextblock;)w=w.lastChild;let C=a,k=1;for(;!C.isTextblock;C=C.firstChild)k++;if(w.canReplace(w.childCount,w.childCount,C.content)){if(r){let T=j.empty;for(let N=b.length-1;N>=0;N--)T=j.from(b[N].copy(T));let M=t.tr.step(new Ct(e.pos-b.length,e.pos+a.nodeSize,e.pos+k,e.pos+a.nodeSize-k,new Z(T,b.length,0),0,!0));r(M.scrollIntoView())}return!0}}return!1}function Lx(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(r&&r(e.tr.setSelection(De.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}const xI=Lx(-1),TI=Lx(1);function SI(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,s=i.blockRange(a),u=s&&iA(s,t,e);return u?(n&&n(r.tr.wrap(s,u).scrollIntoView()),!0):!1}}function im(t,e=null){return function(r,n){let i=!1;for(let a=0;a<r.selection.ranges.length&&!i;a++){let{$from:{pos:s},$to:{pos:u}}=r.selection.ranges[a];r.doc.nodesBetween(s,u,(c,d)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let p=r.doc.resolve(d),v=p.index();i=p.parent.canReplaceWith(v,v+1,t)}})}if(!i)return!1;if(n){let a=r.tr;for(let s=0;s<r.selection.ranges.length;s++){let{$from:{pos:u},$to:{pos:c}}=r.selection.ranges[s];a.setBlockType(u,c,t,e)}n(a.scrollIntoView())}return!0}}function EI(t,e,r,n){for(let i=0;i<e.length;i++){let{$from:a,$to:s}=e[i],u=a.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(a.pos,s.pos,(c,d)=>{if(u)return!1;u=c.inlineContent&&c.type.allowsMarkType(r)}),u)return!0}return!1}function ql(t,e=null,r){return function(n,i){let{empty:a,$cursor:s,ranges:u}=n.selection;if(a&&!s||!EI(n.doc,u,t))return!1;if(i)if(s)t.isInSet(n.storedMarks||s.marks())?i(n.tr.removeStoredMark(t)):i(n.tr.addStoredMark(t.create(e)));else{let c,d=n.tr;c=!u.some(p=>n.doc.rangeHasMark(p.$from.pos,p.$to.pos,t));for(let p=0;p<u.length;p++){let{$from:v,$to:g}=u[p];if(!c)d.removeMark(v.pos,g.pos,t);else{let w=v.pos,b=g.pos,C=v.nodeAfter,k=g.nodeBefore,T=C&&C.isText?/^\s*/.exec(C.text)[0].length:0,M=k&&k.isText?/\s*$/.exec(k.text)[0].length:0;w+T<b&&(w+=T,b-=M),d.addMark(w,b,t.create(e))}}i(d.scrollIntoView())}return!0}}function Rf(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}let rp=Rf(tm,pI,vI),Y1=Rf(tm,Sx,gI);const jn={Enter:Rf(Mx,yI,wI,kI),"Mod-Enter":nm,Backspace:rp,"Mod-Backspace":rp,"Shift-Backspace":rp,Delete:Y1,"Mod-Delete":Y1,"Mod-a":Ox},Ax={"Ctrl-h":jn.Backspace,"Alt-Backspace":jn["Mod-Backspace"],"Ctrl-d":jn.Delete,"Ctrl-Alt-Backspace":jn["Mod-Delete"],"Alt-Delete":jn["Mod-Delete"],"Alt-d":jn["Mod-Delete"],"Ctrl-a":xI,"Ctrl-e":TI};for(let t in jn)Ax[t]=jn[t];const MI=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Z1=MI?Ax:jn;class Wi{constructor(e,r,n={}){this.match=e,this.match=e,this.handler=typeof r=="string"?OI(r):r,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1}}function OI(t){return function(e,r,n,i){let a=t;if(r[1]){let s=r[0].lastIndexOf(r[1]);a+=r[0].slice(s+r[1].length),n+=s;let u=n-i;u>0&&(a=r[0].slice(s-u,s)+a,n=i)}return e.tr.insertText(a,n,i)}}const NI=500;function Dx({rules:t}){let e=new fr({state:{init(){return null},apply(r,n){let i=r.getMeta(this);return i||(r.selectionSet||r.docChanged?null:n)}},props:{handleTextInput(r,n,i,a){return e0(r,n,i,a,t,e)},handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:n}=r.state.selection;n&&e0(r,n.pos,n.pos,"",t,e)})}}},isInputRules:!0});return e}function e0(t,e,r,n,i,a){if(t.composing)return!1;let s=t.state,u=s.doc.resolve(e),c=u.parent.textBetween(Math.max(0,u.parentOffset-NI),u.parentOffset,null,"")+n;for(let d=0;d<i.length;d++){let p=i[d];if(u.parent.type.spec.code){if(!p.inCode)continue}else if(p.inCode==="only")continue;let v=p.match.exec(c),g=v&&p.handler(s,v,e-(v[0].length-n.length),r);if(g)return p.undoable&&g.setMeta(a,{transform:g,from:e,to:r,text:n}),t.dispatch(g),!0}return!1}const LI=(t,e)=>{let r=t.plugins;for(let n=0;n<r.length;n++){let i=r[n],a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){let s=t.tr,u=a.transform;for(let c=u.steps.length-1;c>=0;c--)s.step(u.steps[c].invert(u.docs[c]));if(a.text){let c=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,t.schema.text(a.text,c))}else s.delete(a.from,a.to);e(s)}return!0}}return!1};new Wi(/--$/,"");new Wi(/\.\.\.$/,"");new Wi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"");new Wi(/"$/,"");new Wi(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"");new Wi(/'$/,"");var Jc=200,xt=function(){};xt.prototype.append=function(e){return e.length?(e=xt.from(e),!this.length&&e||e.length<Jc&&this.leafAppend(e)||this.length<Jc&&e.leafPrepend(this)||this.appendInner(e)):this};xt.prototype.prepend=function(e){return e.length?xt.from(e).append(this):this};xt.prototype.appendInner=function(e){return new AI(this,e)};xt.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?xt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};xt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};xt.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};xt.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,s){return i.push(e(a,s))},r,n),i};xt.from=function(e){return e instanceof xt?e:e&&e.length?new Ix(e):xt.empty};var Ix=function(t){function e(n){t.call(this),this.values=n}e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,s,u){for(var c=a;c<s;c++)if(i(this.values[c],u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,s,u){for(var c=a-1;c>=s;c--)if(i(this.values[c],u+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Jc)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Jc)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(xt);xt.empty=new Ix([]);var AI=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,s){var u=this.left.length;if(i<u&&this.left.forEachInner(n,i,Math.min(a,u),s)===!1||a>u&&this.right.forEachInner(n,Math.max(i-u,0),Math.min(this.length,a)-u,s+u)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,s){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(n,i-u,Math.max(a,u)-u,s+u)===!1||a<u&&this.left.forEachInvertedInner(n,Math.min(i,u),a,s)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(xt);const DI=500;class Wr{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;r&&(i=this.remapping(n,this.items.length),a=i.maps.length);let s=e.tr,u,c,d=[],p=[];return this.items.forEach((v,g)=>{if(!v.step){i||(i=this.remapping(n,g+1),a=i.maps.length),a--,p.push(v);return}if(i){p.push(new dn(v.map));let w=v.step.map(i.slice(a)),b;w&&s.maybeStep(w).doc&&(b=s.mapping.maps[s.mapping.maps.length-1],d.push(new dn(b,void 0,void 0,d.length+p.length))),a--,b&&i.appendMap(b,a)}else s.maybeStep(v.step);if(v.selection)return u=i?v.selection.map(i.slice(a)):v.selection,c=new Wr(this.items.slice(0,n).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:s,selection:u}}addTransform(e,r,n,i){let a=[],s=this.eventCount,u=this.items,c=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let v=e.steps[p].invert(e.docs[p]),g=new dn(e.mapping.maps[p],v,r),w;(w=c&&c.merge(g))&&(g=w,p?a.pop():u=u.slice(0,u.length-1)),a.push(g),r&&(s++,r=void 0),i||(c=g)}let d=s-n.depth;return d>RI&&(u=II(u,d),s-=d),new Wr(u.append(a),s)}remapping(e,r){let n=new Do;return this.items.forEach((i,a)=>{let s=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,s)},e,r),n}addMaps(e){return this.eventCount==0?this:new Wr(this.items.append(e.map(r=>new dn(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),a=e.mapping,s=e.steps.length,u=this.eventCount;this.items.forEach(g=>{g.selection&&u--},i);let c=r;this.items.forEach(g=>{let w=a.getMirror(--c);if(w==null)return;s=Math.min(s,w);let b=a.maps[w];if(g.step){let C=e.steps[w].invert(e.docs[w]),k=g.selection&&g.selection.map(a.slice(c+1,w));k&&u++,n.push(new dn(b,C,k))}else n.push(new dn(b))},i);let d=[];for(let g=r;g<s;g++)d.push(new dn(a.maps[g]));let p=this.items.slice(0,i).append(d).append(n),v=new Wr(p,u);return v.emptyItemCount()>DI&&(v=v.compress(this.items.length-n.length)),v}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],a=0;return this.items.forEach((s,u)=>{if(u>=e)i.push(s),s.selection&&a++;else if(s.step){let c=s.step.map(r.slice(n)),d=c&&c.getMap();if(n--,d&&r.appendMap(d,n),c){let p=s.selection&&s.selection.map(r.slice(n));p&&a++;let v=new dn(d.invert(),c,p),g,w=i.length-1;(g=i.length&&i[w].merge(v))?i[w]=g:i.push(v)}}else s.map&&n--},this.items.length,0),new Wr(xt.from(i.reverse()),a)}}Wr.empty=new Wr(xt.empty,0);function II(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}class dn{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new dn(r.getMap().invert(),r,this.selection)}}}class Si{constructor(e,r,n,i,a){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}}const RI=20;function PI(t,e,r,n){let i=r.getMeta(Hi),a;if(i)return i.historyState;r.getMeta(FI)&&(t=new Si(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(s&&s.getMeta(Hi))return s.getMeta(Hi).redo?new Si(t.done.addTransform(r,void 0,n,Sc(e)),t.undone,t0(r.mapping.maps),t.prevTime,t.prevComposition):new Si(t.done,t.undone.addTransform(r,void 0,n,Sc(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let u=r.getMeta("composition"),c=t.prevTime==0||!s&&t.prevComposition!=u&&(t.prevTime<(r.time||0)-n.newGroupDelay||!_I(r,t.prevRanges)),d=s?np(t.prevRanges,r.mapping):t0(r.mapping.maps);return new Si(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,Sc(e)),Wr.empty,d,r.time,u??t.prevComposition)}else return(a=r.getMeta("rebased"))?new Si(t.done.rebased(r,a),t.undone.rebased(r,a),np(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Si(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),np(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function _I(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(r=!0)}),r}function t0(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,a,s)=>e.push(a,s));return e}function np(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),a=e.map(t[n+1],-1);i<=a&&r.push(i,a)}return r}function BI(t,e,r){let n=Sc(e),i=Hi.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,n);if(!a)return null;let s=a.selection.resolve(a.transform.doc),u=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),c=new Si(r?u:a.remaining,r?a.remaining:u,null,0,-1);return a.transform.setSelection(s).setMeta(Hi,{redo:r,historyState:c})}let ip=!1,r0=null;function Sc(t){let e=t.plugins;if(r0!=e){ip=!1,r0=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){ip=!0;break}}return ip}const Hi=new zl("history"),FI=new zl("closeHistory");function Rx(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new fr({key:Hi,state:{init(){return new Si(Wr.empty,Wr.empty,null,0,-1)},apply(e,r,n){return PI(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?pl:n=="historyRedo"?am:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Px(t,e){return(r,n)=>{let i=Hi.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let a=BI(i,r,t);a&&n(e?a.scrollIntoView():a)}return!0}}const pl=Px(!1,!0),am=Px(!0,!0);function HI(t){let e=Hi.getState(t);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ev=function(t,e){return ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ev(t,e)};function re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ev(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var F=function(){return F=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F.apply(this,arguments)};function cr(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Re(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function zI(t,e,r){var n;r=r||null;for(n in t)if(t.hasOwnProperty(n)&&e.call(r,t[n],n,t)===!1)break}var $o=zI;function $I(t,e){var r=Object.prototype.hasOwnProperty,n,i,a,s;for(a=1,s=arguments.length;a<s;a+=1){n=arguments[a];for(i in n)r.call(n,i)&&(t[i]=n[i])}return t}var om=$I;function VI(t){return typeof t=="string"||t instanceof String}var Xn=VI;function jI(t){return t instanceof Array}var es=jI;function qI(t,e,r){var n=0,i=t.length;for(r=r||null;n<i&&e.call(r,t[n],n,t)!==!1;n+=1);}var Vo=qI,UI=es,WI=Vo,GI=$o;function KI(t,e,r){UI(t)?WI(t,e,r):GI(t,e,r)}var Pf=KI,QI=Xn,JI=Pf;function XI(t,e,r){var n=t.style;if(QI(e)){n[e]=r;return}JI(e,function(i,a){n[a]=i})}var bn=XI,YI=es;function ZI(t,e,r){var n,i;if(r=r||0,!YI(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);for(i=e.length,n=r;r>=0&&n<i;n+=1)if(e[n]===t)return n;return-1}var _a=ZI;function eR(t){return t===void 0}var Zr=eR,tR=Zr;function rR(t){return!t||!t.className?"":tR(t.className.baseVal)?t.className:t.className.baseVal}var sm=rR,nR=es,iR=Zr;function aR(t,e){if(e=nR(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),iR(t.className.baseVal)){t.className=e;return}t.className.baseVal=e}var _x=aR,n0=Pf,oR=_a,sR=sm,lR=_x;function uR(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n=[],i;if(r){n0(e,function(a){t.classList.add(a)});return}i=sR(t),i&&(e=[].concat(i.split(/\s+/),e)),n0(e,function(a){oR(a,n)<0&&n.push(a)}),lR(t,n)}var vn=uR,i0=Vo,cR=_a,fR=sm,dR=_x;function hR(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n,i;if(r){i0(e,function(a){r.remove(a)});return}n=fR(t).split(/\s+/),i=[],i0(n,function(a){cR(a,e)<0&&i.push(a)}),dR(t,i)}var Kr=hR;function pR(t){return typeof t=="number"||t instanceof Number}var qn=pR;function vR(t){return t===null}var Xc=vR,mR=$o;function gR(t,e){var r=document.createElement("img"),n="";return mR(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),r.src=t+"?"+n,r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}var yR=gR,wR=Zr,bR=yR,kR=7*24*60*60*1e3;function CR(t){var e=new Date().getTime();return e-t>kR}function xR(t,e){var r="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",s="TOAST UI "+t+" for "+n+": Statistics",u=window.localStorage.getItem(s);!wR(window.tui)&&window.tui.usageStatistics===!1||u&&!CR(u)||(window.localStorage.setItem(s,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&bR(r,{v:1,t:i,tid:e,cid:n,dp:n,dh:t,el:t,ec:a})},1e3))}var TR=xR,SR=/[\u0020]+/g,ER=/[>(){}[\]+-.!#|]/g,a0=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,o0=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,MR=/[*_~`]/g,s0=/!\[.*\]\(.*\)/g,OR=/[[\]]/g,l0=/(?:^|[^\\])\\(?!\\)/g,NR='[&<>"]',u0=new RegExp(NR,"g");function LR(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function Oo(t){return u0.test(t)?t.replace(u0,LR):t}function AR(){TR("editor","UA-129966929-1")}function It(t,e){return t.indexOf(e)!==-1}var DR=["rel","target","hreflang","type"],IR={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function Bx(t){if(!t)return null;var e={};return DR.forEach(function(r){Zr(t[r])||(e[r]=t[r])}),e}function Yc(t,e){for(var r="",n=0;n<e;n+=1)r+=t;return r}function RR(t){var e=!1;return $o(IR,function(r){return r.test(t)&&(e=!0),!e}),e}function Zc(t){for(var e=[],r=s0.exec(t);r;)e.push([r.index,r.index+r[0].length]),r=s0.exec(t);return t.replace(OR,function(n,i){var a=e.some(function(s){return i>s[0]&&i<s[1]});return a?n:"\\"+n})}function PR(t){var e=function(i){return"\\"+i},r=function(i){return i+"\\"},n=t.replace(SR," ");return o0.test(n)&&(n=n.replace(o0,e)),l0.test(n)&&(n=n.replace(l0,r)),n=n.replace(MR,e),a0.test(n)&&(n=n.replace(a0,e)),RR(n)&&(n=n.replace(ER,e)),n}function _R(t){var e;return t.indexOf('"')===-1?e='""':e=t.indexOf("'")===-1?"''":"()",e[0]+t+e[1]}function tv(t){return Xc(t)||Zr(t)}function lm(t,e){if(t===null&&t===e)return!0;if(typeof t!="object"||typeof e!="object"||tv(t)||tv(e))return t===e;for(var r in t)if(t[r]!==e[r])return!1;for(var r in e)if(!(r in t))return!1;return!0}function $t(t){return t[t.length-1]}function BR(t,e,r){return t>=e&&t<=r}function um(t){return typeof t=="object"&&t!==null}function ef(t,e){var r=F({},t);return t&&e&&Object.keys(e).forEach(function(n){um(r[n])?Array.isArray(e[n])?r[n]=cm(e[n]):r.hasOwnProperty(n)?r[n]=ef(r[n],e[n]):r[n]=fm(e[n]):r[n]=e[n]}),r}function cm(t){return t.map(function(e){return um(e)?Array.isArray(e)?cm(e):fm(e):e})}function fm(t){var e=Object.keys(t);return e.length?e.reduce(function(r,n){return um(t[n])?r[n]=Array.isArray(t[n])?cm(t[n]):fm(t[n]):r[n]=t[n],r},{}):t}function dm(t,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(r){t.hasOwnProperty(r)&&typeof t[r]=="object"?Array.isArray(e[r])?t[r]=e[r]:dm(t[r],e[r]):t[r]=e[r]}),t}function c0(t,e){return t>e?[e,t]:[t,e]}var FR=Vo;function HR(t){var e;try{e=Array.prototype.slice.call(t)}catch{e=[],FR(t,function(n){e.push(n)})}return e}var kn=HR;function tf(t,e){var r=t.nodes.paragraph;return e?r.create(null,Xn(e)?t.text(e):e):r.createAndFill()}function Dt(t,e,r){return t.text(e,r)}function Xe(t,e,r){r===void 0&&(r=e);var n=t.doc.content.size,i=n>0?n-1:1;return De.create(t.doc,Math.min(e,i),Math.min(r,i))}function hm(t,e,r){var n=e.pos;return t.replaceWith(n,n,tf(r)),t.setSelection(Xe(t,n+1))}function rf(t){for(var e=t.state,r=t.from,n=t.startIndex,i=t.endIndex,a=t.createText,s=e.tr,u=e.doc,c=e.schema,d=n;d<=i;d+=1){var p=u.child(d),v=p.nodeSize,g=p.textContent,w=p.content,b=a(g),C=b?Dt(c,b):j.empty,k=s.mapping.map(r),T=k+w.size;s.replaceWith(k,T,C),r+=v}return s}function pm(t,e,r,n){var i=r.length;t.split(e).delete(e-i,e).insert(t.mapping.map(e),n).setSelection(Xe(t,t.mapping.map(e)-i))}function Ul(t){return t.sourcepos[0][0]}function _f(t){return t.sourcepos[1][0]}function Bf(t){return t.sourcepos[0][1]}function zi(t){return t.sourcepos[1][1]}function zR(t){var e=t.type;return e==="htmlBlock"||e==="htmlInline"}function $R(t){var e=t.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function VR(t){return t&&t.type==="codeBlock"}function Ba(t){return t&&(t.type==="item"||t.type==="list")}function Fx(t){return Ba(t)&&t.listData.type==="ordered"}function jR(t){return Ba(t)&&t.listData.type!=="ordered"}function f0(t){return t&&(t.type==="tableCell"||t.type==="tableDelimCell")}function qR(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function jo(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";){if(e(t))return t;t=t.parent}return null}function UR(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";)e(t),t=t.parent}function kt(t,e){return[t[0],t[1]+e]}function $i(t,e){return[t[0],e]}function WR(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var r=t,n=r.destination,i=r.title,a=t.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function GR(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function KR(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Pl=[],Hx={},d0=/\$\$widget\d+\s/;function Ff(t){var e=t.search(d0);if(e!==-1){var r=t.substring(e),n=r.replace(d0,"").replace("$$","");t=t.substring(0,e),t+=Ff(n)}return t}function zx(t,e){return"$$"+t+" "+e+"$$"}function $x(t,e){var r=Hx[t],n=r.rule,i=r.toDOM,a=Ff(e).match(n);return a&&(e=a[0]),i(e)}function QR(){return Pl}function JR(t){Pl=t,Pl.forEach(function(e,r){Hx["widget"+r]=e})}function ap(t,e,r,n){return t.concat(La(e,r,n))}function La(t,e,r){r===void 0&&(r=0);var n=[],i=(Pl[r]||{}).rule,a=r+1;if(t=Ff(t),i&&i.test(t)){for(var s=void 0;(s=t.search(i))!==-1;){var u=t.substring(0,s);u&&(n=ap(n,u,e,a)),t=t.substring(s);var c=t.match(i)[0],d="widget"+r;n.push(e.nodes.widget.create({info:d},e.text(zx(d,c)))),t=t.substring(c.length)}t&&(n=ap(n,t,e,a))}else t&&(n=r<Pl.length-1?ap(n,t,e,a):[e.text(t)]);return n}function Vx(t){for(var e,r="",n=t.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==t&&i.type!=="text"?(r+=WR(i),n.resumeAt(t,!1),n.next()):i.type==="text"&&(r+=i.literal))}return r}function jx(){return{deleteSelection:function(){return tm},selectAll:function(){return Ox},undo:function(){return pl},redo:function(){return am}}}function XR(t){return new fr({props:{decorations:function(e){var r=e.doc;if(t.text&&r.childCount===1&&r.firstChild.isTextblock&&r.firstChild.content.size===0){var n=document.createElement("span");return vn(n,"placeholder"),t.className&&vn(n,t.className),n.textContent=t.text,nt.create(r,[lr.widget(1,n)])}return null}}})}var YR=_a,ZR=sm;function eP(t,e){var r;return t.classList?t.classList.contains(e):(r=ZR(t).split(/\s+/),YR(e,r)>-1)}var qx=eP,tP=_a,rP=kn,uc=Element.prototype,nP=uc.matches||uc.webkitMatchesSelector||uc.mozMatchesSelector||uc.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return tP(this,rP(e.querySelectorAll(t)))>-1};function iP(t,e){return nP.call(t,e)}var aP=iP,Ux="[A-Za-z][A-Za-z0-9-]*",oP="[a-zA-Z_:][a-zA-Z0-9:._-]*",sP="[^\"'=<>`\\x00-\\x20]+",lP="'[^']*'",uP='"[^"]*"',cP="(?:"+sP+"|"+lP+"|"+uP+")",fP="(?:\\s*=\\s*"+cP+")",Wx="(?:\\s+"+oP+fP+"?)",Gx="<("+Ux+")("+Wx+")*\\s*/?>",dP="</("+Ux+")\\s*[>]",Kx="(?:"+Gx+"|"+dP+")",qo=new RegExp("^"+Kx,"i"),rv=/<br\s*\/*>/i,hP=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Qx="</p><p>";function vm(t,e,r){var n=parseInt(t.left,10),i=parseInt(t.top,10),a=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),s=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=n&&e<=n+a&&r>=i&&r<=i+s}var Jx="toastui-editor-";function oe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n],s=void 0;Array.isArray(a)?s=a[0]?a[1]:null:s=a,s&&r.push(""+Jx+s)}return r.join(" ")}function mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(r){return Jx+"md-"+r}).join(" ")}function pP(t){return(t==null?void 0:t.nodeType)===Node.TEXT_NODE}function Hf(t){return t&&t.nodeType===Node.ELEMENT_NODE}function vP(t,e){var r=kn(t.querySelectorAll(e));return r.length?r:[]}function mP(t,e){e=es(e)?kn(e):[e],e.forEach(function(r){t.appendChild(r)})}function gP(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function Fa(t){t.parentNode&&t.parentNode.removeChild(t)}function yP(t){for(var e=[];t.firstChild;)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return Fa(t),e}function mm(t,e,r){Zr(r)&&(r=!qx(t,e));var n=r?vn:Kr;n(t,e)}function Xx(t,e){var r=document.createElement("div");Xn(t)?r.innerHTML=t:r.appendChild(t);var n=r.firstChild;return e&&e.appendChild(n),n}function gm(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce(function(r,n){return r+parseInt(e.getPropertyValue(n),10)},0)+t.offsetWidth}function mn(t,e){var r;for(Xn(e)?r=function(n){return aP(n,e)}:r=function(n){return n===e};t&&t!==document;){if(Hf(t)&&r(t))return t;t=t.parentNode}return null}function Yx(t,e){for(var r=0,n=0;t&&t!==e;){var i=t.offsetTop,a=t.offsetLeft,s=t.offsetParent;if(r+=i,n+=a,s===e.offsetParent)break;t=t.offsetParent}return{offsetTop:r,offsetLeft:n}}function ym(t,e){Object.keys(t).forEach(function(r){tv(t[r])?e.removeAttribute(r):e.setAttribute(r,t[r])})}function wP(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),r=new RegExp(Kx,"ig"),n=e.match(r);return n==null||n.forEach(function(i,a){if(rv.test(i)){var s=Qx;if(a){var u=n[a-1],c=u.match(Gx);if(c&&!/br/i.test(c[1])){var d=c[1];s="</"+d+"><"+d+">"}}e=e.replace(rv,s)}}),e}function wm(t){var e=/<img class="ProseMirror-separator" alt="">/g,r=/ class="ProseMirror-trailingBreak"/g,n=t;return n=n.replace(e,""),n=n.replace(r,""),n}var Zx=new zl("widget"),h0=5,bP=function(){function t(e,r){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=r,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=mn(e.dom.parentElement,"."+oe("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(e){var r=Zx.getState(e.state);if(this.removeWidget(),r){var n=r.node,i=r.style,a=e.coordsAtPos(r.pos),s=a.top,u=a.left,c=a.bottom,d=c-s,p=this.rootEl.getBoundingClientRect(),v=s-p.top;bn(n,{opacity:"0"}),this.rootEl.appendChild(n),bn(n,{position:"absolute",left:u-p.left+h0+"px",top:(i==="bottom"?v+d-h0:v-d)+"px",opacity:"1"}),this.popup=n,e.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t}();function kP(t){return new fr({key:Zx,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new bP(e,t)}})}function CP(t){t.listen("addImageBlobHook",function(e,r){var n=new FileReader;n.onload=function(i){var a=i.target;return r(a.result)},n.readAsDataURL(e)})}function bm(t,e,r){var n=function(i,a){t.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};t.emit("addImageBlobHook",e,n,r)}function eT(t){var e=kn(t).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var r=e[0];if(r)return r.getAsFile()}return null}function xP(t){var e=t.eventEmitter;return new fr({props:{handleDOMEvents:{drop:function(r,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&Vo(a,function(s){return s.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),bm(e,s,n.type),!1):!0}),!0}}}})}var Ge=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function tT(t){var e=document.createElement("span"),r=$x(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(r),{dom:e}}function nv(t){return t.type.name==="widget"}var rT=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(r){var n=r.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e}(Ge),nT=function(){function t(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return t.prototype.createState=function(){return Ca.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var e=this,r=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return r.emit("focus",i)}),n.dom.addEventListener("blur",function(){return r.emit("blur",i)})},t.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),r=cr(cr([],this.keymaps),[Rl(F({"Shift-Enter":Z1.Enter},Z1)),Rx(),XR(this.placeholder),kP(this.eventEmitter),xP(this.context)]);return e?r.concat(e):r},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var e=QR(),r=e.map(function(n){var i=n.rule;return new Wi(i,function(a,s,u,c){var d=a.schema,p=a.tr,v=a.doc,g=s.input.match(new RegExp(i,"g")),w=v.resolve(u),b=w.parent,C=0;if(nv(b)&&(b=w.node(w.depth-1)),b.forEach(function(M){return nv(M)&&(C+=1)}),g.length>C){var k=$t(g),T=La(k,d);return p.replaceWith(c-k.length+1,c,T)}return null})});return r.length?Dx({rules:r}):null},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.createSchema=function(){return new EC({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(e){var r=jx(),n=r.undo,i=r.redo,a=this.specs.keymaps(e),s={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(Rl(s)):a},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(r){return r(e.eventEmitter)})},t.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(r){delete e[r]})},t.prototype.moveCursorToStart=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(Xe(r,1)).scrollIntoView()),e&&this.focus()},t.prototype.moveCursorToEnd=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(Xe(r,r.doc.content.size-1)).scrollIntoView()),e&&this.focus()},t.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(e){bn(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){bn(this.el,{minHeight:e+"px"})},t.prototype.getElement=function(){return this.el},t}();function TP(t){return t instanceof Function}var Rr=TP,SP=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function cc(t,e,r){return t.focus(),e(r)(t.state,t.dispatch,t)}var iT=function(){function t(e){this.specs=e}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,r){var n,i=r.name,a=r.schema;return F(F({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,r){var n,i=r.name,a=r.schema;return F(F({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(e,r){var n=this.specs.filter(function(a){var s=a.commands;return s}).reduce(function(a,s){var u={},c=s.commands();return Rr(c)?u[s.name]=function(d){return cc(e,c,d)}:Object.keys(c).forEach(function(d){u[d]=function(p){return cc(e,c[d],p)}}),F(F({},a),u)},{}),i=jx();return Object.keys(i).forEach(function(a){n[a]=function(s){return cc(e,i[a],s)}}),r&&Object.keys(r).forEach(function(a){n[a]=function(s){return cc(e,r[a],s)}}),n},t.prototype.keymaps=function(e){var r=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return r.map(function(n){return e||Object.keys(n).forEach(function(i){It(SP,i)||delete n[i]}),Rl(n)})},t.prototype.setContext=function(e){this.specs.forEach(function(r){r.setContext(e)})},t}();function aT(t){var e=t.from,r=t.to;return t instanceof Gt?[e+1,r-1]:[e,r]}function p0(t){return t.index(0)+1}function Uo(t,e,r){r===void 0&&(r=1);var n=0;return t.forEach(function(i,a){nv(i)&&a+2<e&&(n+=2*r)}),n}function Ec(t,e,r){r===void 0&&(r=e);var n=e===r,i=t.resolve(e),a=p0(i),s=a,u=i.start(1),c=u;if(!n){var d=t.resolve(r===t.content.size?r-1:r);c=d.start(1),s=p0(d),d.pos===t.content.size&&(r=t.content.size-2)}var p=Math.max(e-u+1,1),v=Math.max(r-c+1,1);return[[a,p+Uo(t.child(a-1),p,-1)],[s,v+Uo(t.child(s-1),v,-1)]]}function oT(t,e){for(var r=[],n=0,i=0;n<e;n+=1){var a=t.child(n);r[n]=i,i+=a.nodeSize}return r}function ya(t,e,r){var n=oT(t,r[0]),i=e[0]-1,a=r[0]-1,s=t.child(i),u=t.child(a),c=n[i],d=n[a];return c+=e[1]+Uo(s,e[1]-1),d+=r[1]+Uo(u,r[1]-1),[c,Math.min(d,t.content.size)]}function pt(t){var e=t.$from,r=t.$to,n=t.from,i=t.to,a=e.doc;return t instanceof Gt&&(e=a.resolve(n+1),r=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),r=e),{startFromOffset:e.start(1),endFromOffset:r.start(1),startToOffset:e.end(1),endToOffset:r.end(1),startIndex:e.index(0),endIndex:r.index(0),from:e.pos,to:r.pos}}function nf(t,e){for(var r=1,n=1,i=0,a=0;i<t.childCount;i+=1){var s=t.child(i).nodeSize;if(r=a+1,n=a+s-1,i===e)break;a+=s}return{startOffset:r,endOffset:n}}var v0="heading",EP="blockQuote",MP="listItem",OP="table",NP="tableCell",LP="codeBlock",AP="thematicBreak",Mc="link",fc="code",zf="meta",Ha="delimiter",DP="taskDelimiter",km="markedText",IP="html",RP="customBlock",m0={strong:2,emph:1,strike:2};function $e(t,e,r,n){return{start:t,end:e,spec:{type:r,attrs:n}}}function PP(t,e,r){var n=t.level,i=t.headingType,a=[$e(e,r,v0,{level:n})];return i==="atx"?a.push($e(e,kt(e,n),Ha)):a.push($e($i(r,0),r,v0,{seText:!0})),a}function op(t,e,r){var n=t.type,i=kt(e,m0[n]),a=kt(r,-m0[n]);return[$e(i,a,n),$e(e,i,Ha),$e(a,r,Ha)]}function sT(t,e,r,n){return[$e(t,e,Mc),$e($i(t,r[1]+1),$i(e,n),Mc,{desc:!0}),$e($i(e,n+2),kt(e,-1),Mc,{url:!0})]}function _P(t,e,r){var n=t.lastChild,i=n?zi(n)+1:3,a=kt(e,1);return cr([$e(e,a,zf)],sT(e,r,a,i))}function BP(t,e,r){var n=t.lastChild,i=t.extendedAutolink,a=n?zi(n)+1:2;return i?[$e(e,r,Mc,{desc:!0})]:sT(e,r,e,a)}function FP(t,e,r){var n=t.tickCount,i=kt(e,n),a=kt(r,-n);return[$e(e,r,fc),$e(e,i,fc,{start:!0}),$e(i,a,fc,{marked:!0}),$e(a,r,fc,{end:!0})]}function lT(t,e,r,n){var i={start:e,end:r,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:r[0]}},lineBackground:!0};return t.type!=="item"&&t.type!=="blockQuote"?[F(F({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),F(F({},i),{start:[Math.min(e[0]+1,r[0]),e[1]]})]:null}function HP(t,e,r,n){var i=t.fenceOffset,a=t.fenceLength,s=t.fenceChar,u=t.info,c=t.infoPadding,d=t.parent,p=i+a,v=[$e($i(e,1),r,LP)];s&&v.push($e(e,kt(e,p),Ha)),u&&v.push($e(kt(e,a),kt(e,a+c+u.length),zf));var g="^(\\s{0,4})("+s+"{"+a+",})",w=new RegExp(g);w.test(n)&&v.push($e($i(r,1),r,Ha));var b=lT(d,e,r,"code-block");return b?v.concat(b):v}function zP(t,e,r){var n=t,i=n.offset,a=n.syntaxLength,s=n.info,u=n.parent,c=i+a,d=[$e($i(e,1),r,RP)];d.push($e(e,kt(e,c),Ha)),s&&d.push($e(kt(e,c),kt(e,a+s.length),zf)),d.push($e($i(r,1),r,Ha));var p=lT(u,e,r,"custom-block");return p?d.concat(p):d}function uT(t,e){for(var r=[];t;){var n=t.type;(n==="paragraph"||n==="codeBlock")&&r.push($e([Ul(t),Bf(t)-1],[_f(t),zi(t)+1],e)),t=t.next}return r}function $P(t){for(var e=[];t;)e.push($e([Ul(t),Bf(t)],[_f(t),zi(t)+1],km)),t=t.next;return e}function VP(t,e,r){var n=t.parent&&t.parent.type!=="blockQuote"?[$e(e,r,EP)]:[];if(t.firstChild){var i=[];t.firstChild.type==="paragraph"?i=$P(t.firstChild.firstChild):t.firstChild.type==="list"&&(i=uT(t.firstChild,km)),n=cr(cr([],n),i)}return n}function jP(t){for(var e=0;t.parent.parent&&t.parent.parent.type==="item";)t=t.parent.parent,e+=1;var r=[{odd:!0},{even:!0}][e%2];return[MP,F(F({},r),{listStyle:!0})]}function qP(t,e){var r=t.listData,n=r.padding,i=r.task,a=jP(t),s=[$e.apply(void 0,cr([e,kt(e,n)],a))];return i&&(s.push($e(kt(e,n),kt(e,n+3),DP)),s.push($e(kt(e,n+1),kt(e,n+2),zf))),s.concat(uT(t.firstChild,km))}var g0={heading:PP,strong:op,emph:op,strike:op,link:BP,image:_P,code:FP,codeBlock:HP,blockQuote:VP,item:qP,customBlock:zP},y0={thematicBreak:AP,table:OP,tableCell:NP,htmlInline:IP};function UP(t,e,r,n){var i=t.type;return Rr(g0[i])?g0[i](t,e,r,n):y0[i]?[$e(e,r,y0[i])]:null}var _l={};function WP(t){var e=t.schema,r=t.toastMark;return new fr({appendTransaction:function(n,i,a){var s=n[0],u=a.tr;if(s.docChanged){var c=[],d=s.getMeta("editResult");d.forEach(function(p){var v=p.nodes,g=p.removedNodeRange;if(v.length){c=c.concat(YP(u,v));for(var w=0,b=v;w<b.length;w++)for(var C=b[w],k=C.walker(),T=k.next();T;){var M=T.node,N=T.entering;N&&(c=c.concat(ZP(M,r))),T=k.next()}}else if(g)for(var R=u.doc.childCount-1,B=g.line,z=B[0],G=B[1],ee=Math.min(z,R),K=Math.min(G,R),de=ee;de<=K;de+=1)_l[de]=!0}),QP(u,e,c)}return u.setMeta("widget",s.getMeta("widget"))}})}function GP(t,e,r){return Object.keys(r).some(function(n){return r[n]!==t.child(e).attrs[n]})}function KP(t,e,r,n,i){i===void 0&&(i={});for(var a=n.startIndex,s=n.endIndex,u=n.from,c=n.to,d=!1,p=a;p<=s;p+=1)delete _l[p],d=GP(e,p,i);d&&t.setBlockType(u,c,r,i)}function QP(t,e,r){var n=t.doc,i=e.nodes.paragraph,a=oT(n,n.childCount);r.forEach(function(s){var u=s.start,c=s.end,d=s.spec,p=s.lineBackground,v=Math.min(u[0],n.childCount)-1,g=Math.min(c[0],n.childCount)-1,w=n.child(v),b=n.child(g),C=a[v],k=a[g];if(C+=u[1]+Uo(w,u[1]-1),k+=c[1]+Uo(b,c[1]-1),d)if(p){var T={from:C,to:k,startIndex:v,endIndex:g};KP(t,n,i,T,d.attrs)}else t.addMark(C,k,e.mark(d.type,d.attrs));else t.removeMark(C,k)}),JP(t,a,i)}function JP(t,e,r){Object.keys(_l).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,t.doc.childCount-1),s=e[i],u=e[a]-1;i===a&&(u+=2),t.setBlockType(s,u,r)})}function XP(t,e,r){var n=[];_l={};for(var i=e[0]-1;i<r[0];i+=1){var a=t.child(i),s=a.attrs.codeEnd,u=a.attrs.codeStart;if(u&&s&&!It(n,u)){n.push(u),s=Math.min(s,t.childCount);for(var c=u-1,d=r[0],p=c;p<d;p+=1)_l[p]=!0}}}function YP(t,e){var r=t.doc,n=e[0].sourcepos[0],i=$t(e).sourcepos,a=i[1],s=[n[0],n[1]],u=[a[0],a[1]+1],c=[];return XP(r,n,a),c.push({start:s,end:u}),c}function ZP(t,e){var r=e.getLineTexts(),n=[Ul(t),Bf(t)],i=[_f(t),zi(t)+1],a=UP(t,n,i,r[i[0]-1]);return a??[]}var e2=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function t2(t){var e=t.type;return Ba(t)?t.listData.task?"taskList":t.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":It(e2,e)?e:null}function r2(t){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},r=!0;return UR(t,function(n){var i=t2(n);i&&(i==="bulletList"||i==="orderedList"?r&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,r=!1):e[i]={active:!0})}),e}function n2(t){var e=t.toastMark,r=t.eventEmitter;return new fr({view:function(){return{update:function(n,i){var a=n.state,s=a.doc,u=a.selection;if(!(i&&i.doc.eq(s)&&i.selection.eq(u))){var c=u.from,d=a.doc.resolve(c).start(),p=a.doc.content.findIndex(c).index+1,v=c-d;c===d&&(v+=1);var g=[p,v],w=e.findNodeAtPosition(g),b=r2(w);r.emit("changeToolbarState",{cursorPos:g,mdNode:w,toolbarState:b}),r.emit("setFocusedNode",w)}}}}})}var i2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Ge),Ye=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t}();function mr(t,e){return ji(t,e-1)}function ji(t,e){return t.child(e).textContent}var al=/^\s*> ?/,a2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(r,n){return n?r.replace(al,"").trim():"> "+r.trim()},e.prototype.extendBlockQuote=function(){var r=this;return function(n,i){var a=n.selection,s=n.doc,u=n.tr,c=n.schema,d=pt(a),p=d.endFromOffset,v=d.endToOffset,g=d.endIndex,w=d.to,b=ji(s,g),C=al.test(b);if(C&&w>p&&a.empty){var k=!b.replace(al,"").trim();if(k)u.deleteRange(p,v).split(u.mapping.map(v));else{var T=b.slice(w-p).trim(),M=Dt(c,r.createBlockQuoteText(T));pm(u,v,T,M)}return i(u),!0}return!1}},e.prototype.commands=function(){var r=this;return function(){return function(n,i){var a=n.selection,s=n.doc,u=pt(a),c=u.startFromOffset,d=u.endToOffset,p=u.startIndex,v=u.endIndex,g=al.test(ji(s,p)),w=rf({state:n,startIndex:p,endIndex:v,from:c,createText:function(b){return r.createBlockQuoteText(b,g)}});return i(w.setSelection(Xe(w,w.mapping.map(d)))),!0}}},e.prototype.keymaps=function(){var r=this.commands()();return{"alt-q":r,"alt-Q":r,Enter:this.extendBlockQuote()}},e}(Ye),za=/(^\s*)([-*+] |[\d]+\. )/,Cm=/(^\s*)([\d])+\.( \[[ xX]])? /,Kn=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,af=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,o2=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,s2=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,l2=/(^\s*)([-*+])( \[[ xX]]) /;function xm(t){return Cm.test(t)?"ordered":"bullet"}function Tm(t){for(var e=0;t&&t.type!=="document";)t.type==="list"&&(e+=1),t=t.parent;return e}function iv(t,e,r,n){for(var i=t.getLineTexts(),a=i.length,s=[],u=e;n?u<a:u>1;){u=n?u+1:u-1;var c=t.findFirstNodeAtLine(u),d=Tm(c);if(d===r)s.push({line:u,depth:r,mdNode:c});else if(d<r)break}return s}function u2(t){var e=t.toastMark,r=t.mdNode,n=t.line,i=Tm(r),a=iv(e,n,i,!1).reverse(),s=iv(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:r}]).concat(s)}function c2(t){if(!za.test(t))return"* "+t;var e=xm(t);return e==="bullet"&&af.test(t)?t=t.replace(l2,"$1$2 "):e==="ordered"&&(t=t.replace(Cm,"$1* ")),t}function f2(t,e){if(!za.test(t))return e+". "+t;var r=xm(t);if(r==="bullet"||r==="ordered"&&af.test(t))t=t.replace(af,"$1"+e+". ");else if(r==="ordered"){var n=Kn.exec(t)[3];Number(n)!==e&&(t=t.replace(Cm,"$1"+e+". "))}return t}function cT(t,e,r,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,s=e.map(function(u,c){var d=u.line;i=Math.min(d-1,i),a=Math.max(d-1,a);var p=mr(t,d);return p=r==="bullet"?c2(p):f2(p,c+1+n),{text:p,line:d}});return{changedResults:s,firstIndex:i,lastIndex:a}}function w0(t,e){var r=u2(e);return cT(e.doc,r,t)}var d2={bullet:function(t){return w0("bullet",t)},ordered:function(t){return w0("ordered",t)},task:function(t){var e=t.mdNode,r=t.doc,n=t.line,i=mr(r,n);return e.listData.task?i=i.replace(s2,"$1$2"):Ba(e)&&(i=i.replace(za,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},h2={bullet:function(t){var e=t.doc,r=t.line,n=mr(e,r),i=[{text:"* "+n,line:r}];return{changedResults:i}},ordered:function(t){for(var e=t.toastMark,r=t.doc,n=t.line,i=t.startLine,a=mr(r,n),s=1,u=i,c=0,d=i-1;d>0;d-=1){var p=e.findFirstNodeAtLine(d),v=mr(r,d),g=v&&!!jo(p,function(N){return Ba(N)}),w=Kn.exec(mr(r,d));if(!w&&!g)break;if(!w&&g){c+=1;continue}var b=w,C=b[1],k=b[3];if(!C){s=Number(k),u=d;break}}var T=s+n-u-c,M=[{text:T+". "+a,line:n}];return{changedResults:M}},task:function(t){var e=t.doc,r=t.line,n=mr(e,r),i=[{text:"* [ ] "+n,line:r}];return{changedResults:i}}},p2={bullet:function(t){var e=t.line,r=t.doc,n=mr(r,e),i=o2.exec(n),a=i[1],s=i[2];return{listSyntax:""+a+s}},ordered:function(t){var e=t.toastMark,r=t.line,n=t.mdNode,i=t.doc,a=Tm(n),s=mr(i,r),u=Kn.exec(s),c=u[1],d=u[3],p=u[4],v=Number(d)+1,g=""+c+v+p,w=iv(e,r,a,!0),b=w.filter(function(C){var k=Kn.exec(mr(i,C.line));return k&&k[1].length===c.length&&!!jo(C.mdNode,function(T){return Fx(T)})});return F({listSyntax:g},cT(i,b,"ordered",v))}};function fT(t,e,r,n,i){for(var a=[],s=mr(t,r),u=Kn.exec(s);u;){var c=u[1],d=u[4],p=u[5],v=c.length;if(v===i)a.push(Dt(e,""+c+n+d+p)),n+=1,r+=1;else if(v>i){var g=fT(t,e,r,1,v);r=g.line,a=a.concat(g.nodes)}if(v<i||r>t.childCount)break;s=mr(t,r),u=Kn.exec(s)}return{nodes:a,line:r}}var b0=/(^\s{1,4})(.*)/;function k0(t,e,r){return t<e||za.test(r)||al.test(r)}function C0(t,e,r){var n=r.$from;n.depth===0&&(n=t.resolve(n.pos-1));var i=n.node(1),a=n.start(1),s=i.content.size;return i.rangeHasMark(0,s,e.marks.table)&&n.pos-a!==s&&n.pos!==a}function x0(t,e){var r=e.from,n=e.to;if(e.type==="indent"){var i=4;r+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;r-=a[0];for(var s=0;s<a.length;s+=1)n-=a[s]}return Xe(t,r,n)}var v2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(r){var n=r.attrs;return n.className?["div",{class:mt(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(r,n){for(var i=this.context,a=i.view,s=i.toastMark,u=i.schema,c=a.state,d=c.tr,p=c.selection,v=c.doc,g=s.findFirstNodeAtLine(r),w=g;g&&!jR(g)&&g.parent.type!=="document";)if(g=g.parent,Fx(g)){w=g;break}w&&(r=w.sourcepos[0][0]);var b=Kn.exec(mr(v,r)),C=b[1],k=b[3],T=C.length,M=fT(v,u,r,Number(k),T),N=M.line,R=M.nodes;n=Math.max(n,N-1);for(var B=nf(v,r-1).startOffset,z=r-1;z<=n-1;z+=1){var G=v.child(z),ee=G.nodeSize,K=G.content,de=d.mapping.map(B),ve=de+K.size;d.replaceWith(de,ve,R[z-r+1]),B+=ee}var Ce=Xe(d,p.from,p.to);a.dispatch(d.setSelection(Ce))},e.prototype.indent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(i,a){var s=i.schema,u=i.selection,c=i.doc,d=pt(u),p=d.from,v=d.to,g=d.startFromOffset,w=d.startIndex,b=d.endIndex;if(r&&C0(c,s,u))return!1;var C=ji(c,w);if(r&&k0(p,v,C)||!r&&za.test(C)){var k=rf({state:i,from:g,startIndex:w,endIndex:b,createText:function(M){return"    "+M}}),T={type:"indent",from:p,to:v,lineLen:b-w};a(k.setSelection(x0(k,T))),Kn.test(C)&&n.reorderList(w+1,b+1)}else r&&a(i.tr.insert(v,Dt(s,"    ")));return!0}}},e.prototype.outdent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(i,a){var s=i.selection,u=i.doc,c=i.schema,d=pt(s),p=d.from,v=d.to,g=d.startFromOffset,w=d.startIndex,b=d.endIndex;if(r&&C0(u,c,s))return!1;var C=ji(u,w);if(r&&k0(p,v,C)||!r&&za.test(C)){var k=[],T=rf({state:i,from:g,startIndex:w,endIndex:b,createText:function(z){var G=b0.exec(z);return k.push(G?G[1].length:0),z.replace(b0,"$2")}}),M={type:"outdent",from:p,to:v,spaceLenList:k};a(T.setSelection(x0(T,M))),Kn.test(C)&&n.reorderList(w+1,b+1)}else if(r){var N=C.slice(0,v-g),R=N.replace(/\s{1,4}$/,""),B=v-(N.length-R.length);a(i.tr.delete(B,v))}return!0}}},e.prototype.deleteLines=function(){var r=this;return function(n,i){var a=r.context.view,s=pt(n.selection),u=s.startFromOffset,c=s.endToOffset,d=function(){return i(n.tr.deleteRange(u,c)),!0};return Rf(d,Sx)(n,i,a)}},e.prototype.moveDown=function(){return function(r,n){var i=r.doc,a=r.tr,s=r.selection,u=r.schema,c=pt(s),d=c.startFromOffset,p=c.endToOffset,v=c.endIndex;if(v<i.content.childCount-1){var g=i.child(v+1),w=g.nodeSize,b=g.textContent;return a.delete(p,p+w).split(d).insert(a.mapping.map(d)-2,Dt(u,b)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(r,n){var i=r.tr,a=r.doc,s=r.selection,u=r.schema,c=pt(s),d=c.startFromOffset,p=c.endToOffset,v=c.startIndex;if(v>0){var g=a.child(v-1),w=g.nodeSize,b=g.textContent;return i.delete(d-w,d).split(i.mapping.map(p)).insert(i.mapping.map(p),Dt(u,b)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Ge),m2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Ge),g2=/^#{1,6}\s/,y2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.level,a=n.seText,s="heading|heading"+i;return a&&(s+="|delimiter|setext"),["span",{class:mt.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(r,n,i){for(var a=n.replace(i,"").trim(),s="";r>0;)s+="#",r-=1;return s+" "+a},e.prototype.commands=function(){var r=this;return function(n){return function(i,a){var s=n.level,u=pt(i.selection),c=u.startFromOffset,d=u.endToOffset,p=u.startIndex,v=u.endIndex,g=rf({state:i,from:c,startIndex:p,endIndex:v,createText:function(w){var b=w.match(g2),C=b?b[0]:"";return r.createHeadingText(s,w,C)}});return a(g.setSelection(Xe(g,g.mapping.map(d)))),!0}}},e}(Ye),sp="```",w2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){var i=r.selection,a=r.schema,s=r.tr,u=pt(i),c=u.startFromOffset,d=u.endToOffset,p=Dt(a,sp);return s.insert(c,p).split(c+sp.length),s.split(s.mapping.map(d)).insert(s.mapping.map(d),p),n(s.setSelection(Xe(s,s.mapping.map(d)-(sp.length+2)))),!0}}},e.prototype.keepIndentation=function(){var r=this;return function(n,i){var a=n.selection,s=n.tr,u=n.doc,c=n.schema,d=r.context.toastMark,p=pt(a),v=p.startFromOffset,g=p.endToOffset,w=p.endIndex,b=p.from,C=p.to,k=ji(u,w);if(b===C&&k.trim()){var T=k.match(/^\s+/),M=d.findFirstNodeAtLine(w+1);if(VR(M)&&T){var N=T[0],R=k.slice(C-v),B=Dt(c,N+R);return pm(s,g,R,B),i(s),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,Enter:this.keepIndentation()}},e}(Ye),b2=/\||\s/g;function k2(t){return[of(t),of(t,!0)]}function C2(t,e){for(var r=[],n=0;n<e;n+=1)r.push(of(t));return r}function of(t,e){for(var r="|",n=0;n<t;n+=1)r+=e?" --- |":"  |";return r}function x2(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var T2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var r=this;return function(n,i){var a=n.selection,s=n.doc,u=n.tr,c=n.schema;if(!a.empty)return!1;var d=pt(a),p=d.endFromOffset,v=d.endToOffset,g=d.endIndex,w=d.to,b=ji(s,g),C=[g+1,w-p+1],k=r.context.toastMark.findNodeAtPosition(C),T=jo(k,function(z){return f0(z)&&(z.parent.type==="tableDelimRow"||z.parent.parent.type==="tableBody")});if(T){var M=!b.replace(b2,"").trim(),N=T.parent,R=N.parent.parent.columns.length,B=of(R);return M?u.deleteRange(p,v).split(u.mapping.map(v)):u.split(v).insert(u.mapping.map(v),Dt(c,B)).setSelection(Xe(u,u.mapping.map(v)-2)),i(u),!0}return!1}},e.prototype.moveTableCell=function(r){var n=this;return function(i,a){var s=i.selection,u=i.tr,c=pt(s),d=c.endFromOffset,p=c.endIndex,v=c.to,g=[p+1,v-d],w=n.context.toastMark.findNodeAtPosition(g),b=jo(w,function(G){return f0(G)});if(b){var C=b.parent,k=x2(r),T=k.type,M=k.parentType,N=k.childType,R=zi(b);if(b[T])R=zi(b[T])-1;else{var B=!C[T]&&C.parent.type===M?C.parent[T][N]:C[T];if(T==="next"){var z=B?zi(B[N]):0;R+=z+2}else T==="prev"&&(R=B?-4:0)}return a(u.setSelection(Xe(u,d+R))),!0}return!1}},e.prototype.addTable=function(){return function(r){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,c=r,d=c.columnCount,p=c.rowCount,v=pt(a).endToOffset,g=k2(d),w=C2(d,p-1),b=cr(cr([],g),w);return b.forEach(function(C){s.split(s.mapping.map(v)).insert(s.mapping.map(v),Dt(u,C))}),i(s.setSelection(Xe(s,v+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(Ye),S2="***",E2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(r,n){var i=r.selection,a=r.schema,s=r.tr,u=pt(i),c=u.from,d=u.to,p=u.endToOffset,v=Dt(a,S2);return s.split(c).replaceWith(s.mapping.map(c),s.mapping.map(d),v).split(s.mapping.map(d)).setSelection(Xe(s,s.mapping.map(p))),n(s),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(Ye);function M2(t,e){var r=t.type,n=t.sourcepos,i=n[0][0];return e<=i&&(r==="codeBlock"||r==="heading"||r.match("table"))}var O2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.odd,a=n.even,s=n.listStyle,u="list-item";return s&&(u+="|list-item-style"),i&&(u+="|list-item-odd"),a&&(u+="|list-item-even"),["span",{class:mt.apply(void 0,u.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var r=this;return function(n,i){var a=n.selection,s=n.doc,u=n.schema,c=n.tr,d=r.context.toastMark,p=pt(a),v=p.to,g=p.startFromOffset,w=p.endFromOffset,b=p.endIndex,C=p.endToOffset,k=ji(s,b),T=za.test(k);if(!T||a.from===g||!a.empty)return!1;var M=!k.replace(af,"").trim();if(M)c.deleteRange(w,C).split(c.mapping.map(C));else{var N=xm(k),R=d.findFirstNodeAtLine(b+1),B=k.slice(v-w),z={toastMark:d,mdNode:R,doc:s,line:b+1},G=p2[N](z),ee=G.listSyntax,K=G.changedResults;if(K!=null&&K.length){c.split(v),K.unshift({text:ee+B,line:b+1}),r.changeToListPerLine(c,K,{from:v,startLine:K[0].line,endLine:$t(K).line});var de=c.mapping.map(C)-B.length;c.setSelection(Xe(c,de))}else{var ve=Dt(u,ee+B);pm(c,C,B,ve)}}return i(c),!0}},e.prototype.toList=function(r){var n=this;return function(){return function(i,a){for(var s=i.doc,u=i.tr,c=i.selection,d=n.context.toastMark,p=pt(c),v=p.startIndex+1,g=p.endIndex+1,w=p.endToOffset,b=[],C=v;C<=g;C+=1){var k=d.findFirstNodeAtLine(C);if(k&&M2(k,C))break;if(b.indexOf(C)===-1){var T={toastMark:d,mdNode:k,doc:s,line:C,startLine:v},M=(Ba(k)?d2[r](T):h2[r](T)).changedResults,N=n.changeToListPerLine(u,M,{from:nf(s,M[0].line-1).startOffset,startLine:M[0].line,endLine:$t(M).line,indexDiff:1});w=Math.max(N,w),M&&(b=b.concat(M.map(function(R){return R.line})))}}return a(u.setSelection(Xe(u,u.mapping.map(w)))),!0}}},e.prototype.changeToListPerLine=function(r,n,i){for(var a=i.from,s=i.startLine,u=i.endLine,c=i.indexDiff,d=c===void 0?0:c,p=0,v=function(b){var C=r.doc.child(b),k=C.nodeSize,T=C.content,M=r.mapping.map(a),N=M+T.size,R=n.filter(function(B){return B.line-d===b})[0];R&&(r.replaceWith(M,N,Dt(g.context.schema,R.text)),p=Math.max(p,a+T.size)),a+=k},g=this,w=s-d;w<=u-d;w+=1)v(w);return p},e.prototype.toggleTask=function(){var r=this;return function(n,i){for(var a=n.selection,s=n.tr,u=n.doc,c=n.schema,d=r.context.toastMark,p=pt(a),v=p.startIndex,g=p.endIndex,w=null,b=v;b<=g;b+=1){var C=d.findFirstNodeAtLine(b+1);if(Ba(C)&&C.listData.task){var k=C.listData,T=k.checked,M=k.padding,N=T?" ":"x",R=C.sourcepos[0],B=nf(u,R[0]-1).startOffset;B+=R[1]+M,w=s.replaceWith(B,B+1,c.text(N))}}return w?(i(w),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var r=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":r,"Mod-U":r,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e}(Ye);function $f(t,e){return function(){return function(r,n){var i=r.tr,a=r.selection,s=Rr(t)?t:function(N){return t.test(N)},u=e.length,c=i.doc,d=aT(a),p=d[0],v=d[1],g=Math.max(p-u,1),w=Math.min(v+u,c.content.size-1),b=a.content(),C=b.content.textBetween(0,b.content.size,`
`),k=c.textBetween(g,p,`
`),T=c.textBetween(v,w,`
`);if(C=""+k+C+T,k&&T&&s(C))i.delete(w-u,w).delete(g,g+u);else{i.insertText(e,v).insertText(e,p);var M=a.empty?Xe(i,p+u):Xe(i,p+u,v+u);i.setSelection(M)}return n(i),!0}}}var N2=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,L2="**",A2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return $f(N2,L2)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(Ye),D2=/^(~{2}).*([\s\S]*)\1$/m,I2="~~",R2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return $f(D2,I2)},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(Ye),P2=/^(\*|_).*([\s\S]*)\1$/m,_2="*",B2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return $f(P2,_2)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(Ye),F2=/^(`).*([\s\S]*)\1$/m,H2="`",z2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.start,a=n.end,s=n.marked,u="code";return i&&(u+="|delimiter|start"),a&&(u+="|delimiter|end"),s&&(u+="|marked-text"),["span",{class:mt.apply(void 0,u.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return $f(F2,H2)},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(Ye),$2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.url,a=n.desc,s="link";return i&&(s+="|link-url|marked-text"),a&&(s+="|link-desc|marked-text"),["span",{class:mt.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(r){return function(n){return function(i,a){var s=i.selection,u=i.tr,c=i.schema,d=aT(s),p=d[0],v=d[1],g=n,w=g.linkText,b=g.altText,C=g.linkUrl,k=g.imageUrl,T=w,M=C,N="";return r==="image"&&(T=b,M=k,N="!"),T=Zc(T),N+="["+T+"]("+M+")",a(u.replaceWith(p,v,Dt(c,N))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(Ye),V2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(Ye),j2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(Ye),q2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("meta")},0]}}},enumerable:!1,configurable:!0}),e}(Ye),U2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(Ye),W2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(Ye),G2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("html")},0]}}},enumerable:!1,configurable:!0}),e}(Ye),lp="$$",K2=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:mt("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){var a=n.selection,s=n.schema,u=n.tr,c=pt(a),d=c.startFromOffset,p=c.endToOffset;if(!(r!=null&&r.info))return!1;var v=""+lp+r.info,g=Dt(s,v),w=Dt(s,lp);return u.insert(d,g).split(d+v.length),u.split(u.mapping.map(p)).insert(u.mapping.map(p),w),i(u.setSelection(Xe(u,u.mapping.map(p)-(lp.length+2)))),!0}}},e}(Ye),Q2=/x|backspace/i,J2=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function X2(t){var e=t.schema,r=t.toastMark;return new fr({props:{handleDOMEvents:{keyup:function(n,i){var a,s=n.state,u=s.doc,c=s.tr,d=s.selection;if(d.empty&&Q2.test(i.key)){var p=pt(d),v=p.startIndex,g=p.startFromOffset,w=p.from,b=[v+1,w-g+1],C=r.findNodeAtPosition(b),k=jo(C,function(ve){var Ce;return ve.type==="paragraph"&&((Ce=ve.parent)===null||Ce===void 0?void 0:Ce.type)==="item"});if(!((a=k==null?void 0:k.firstChild)===null||a===void 0)&&a.literal){var T=k.firstChild,M=T.literal.match(J2);if(M){var N=T.sourcepos[0],R=M[1],B=M[2],z=M[3],G=R.length+z.length,ee=nf(u,N[0]-1).startOffset,K=N[1]+ee;if(B){var de=G?G+1:0;c.replaceWith(K,de+K,e.text(B)),n.dispatch(c)}else G||(c.insertText(" ",K),n.dispatch(c))}}}return!1}}}})}var up="cut",T0=/\r\n|\n|\r/,Y2=function(t){re(e,t);function e(r,n){var i=t.call(this,r)||this,a=n.toastMark,s=n.useCommandShortcut,u=s===void 0?!0:s,c=n.mdPlugins,d=c===void 0?[]:c;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=d,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(u),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(F(F({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(p){return i.toggleActive(!0,p)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(r,n){mm(this.el,"active",r),r?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var r=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=oe("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var s=kn(a).some(function(c){return c.kind==="string"&&c.type==="text/rtf"});if(!s){var u=eT(a);u&&(n.preventDefault(),bm(r.eventEmitter,u,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;r.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new iT([new i2,new v2,new rT,new m2,new y2,new a2,new w2,new K2,new T2,new W2,new E2,new O2,new A2,new R2,new B2,new z2,new $2,new j2,new V2,new U2,new q2,new G2])},e.prototype.createPlugins=function(){return cr([WP(this.context),n2(this.context),X2(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var r=this;return new em(this.el,{state:this.createState(),dispatchTransaction:function(n){r.updateMarkdown(n);var i=r.view.state.applyTransaction(n).state;r.view.updateState(i),r.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&r.clipboard.focus(),r.eventEmitter.emit("keydown",r.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return r.captureCopy(i)},cut:function(n,i){return r.captureCopy(i,up)},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return r.eventEmitter.emit("keyup",r.editorType,i),!1}},nodeViews:{widget:tT}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(r,n){r.preventDefault();var i=this.view.state,a=i.selection,s=i.tr;if(a.empty)return!0;var u=this.getChanged(a.content());return r.clipboardData?r.clipboardData.setData("text/plain",u):window.clipboardData.setData("Text",u),n===up&&this.view.dispatch(s.deleteSelection().scrollIntoView().setMeta("uiEvent",up)),!0},e.prototype.updateMarkdown=function(r){var n=this;r.docChanged&&r.steps.forEach(function(i,a){if(i.slice&&!(i instanceof Ct)){var s=r.docs[a],u=[i.from,i.to],c=u[0],d=u[1],p=Ec(s,c,d),v=p[0],g=p[1],w=n.getChanged(i.slice);v[0]===g[0]&&v[1]===g[1]&&w===""&&(w=`
`);var b=n.toastMark.editMarkdown(v,g,w);n.eventEmitter.emit("updatePreview",b),r.setMeta("editResult",b).scrollIntoView()}})},e.prototype.getChanged=function(r){var n="",i=0,a=r.content.size;return r.content.nodesBetween(i,a,function(s,u){s.isText?n+=s.text.slice(Math.max(i,u)-u,a-u):s.isBlock&&u>0&&(n+=`
`)}),n},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var i=this.view.state.tr,a=ya(i.doc,r,n),s=a[0],u=a[1];this.view.dispatch(i.setSelection(Xe(i,s,u)).scrollIntoView())},e.prototype.replaceSelection=function(r,n,i){var a,s=this.view.state,u=s.tr,c=s.schema,d=s.doc,p=r.split(T0),v=p.map(function(k){return tf(c,La(k,c))}),g=new Z(j.from(v),1,1);if(this.focus(),n&&i){var w=ya(d,n,i),b=w[0],C=w[1];a=u.replaceRange(b,C,g)}else a=u.replaceSelection(g);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(r,n){var i,a=this.view.state,s=a.tr,u=a.doc;if(r&&n){var c=ya(u,r,n),d=c[0],p=c[1];i=s.deleteRange(d,p)}else i=s.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var i=this.view.state,a=i.doc,s=i.selection,u=s.from,c=s.to;if(r&&n){var d=ya(a,r,n);u=d[0],c=d[1]}return a.textBetween(u,c,`
`)},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,i=r.to;return Ec(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(r,n){n===void 0&&(n=!0);var i=r.split(T0),a=this.view.state,s=a.tr,u=a.doc,c=a.schema,d=i.map(function(p){return tf(c,La(p,c))});this.view.dispatch(s.replaceWith(0,u.content.size,d)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(r,n,i){var a=this.view.state,s=a.tr,u=a.doc,c=a.selection,d=i?ya(u,i,i)[0]:c.to;this.view.dispatch(s.setMeta("widget",{pos:d,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,i){var a=this.view.state,s=a.tr,u=a.schema,c=a.doc,d=ya(c,r,n),p=La(i,u);this.view.dispatch(s.replaceWith(d[0],d[1],p))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,i=n.doc,a=n.selection,s=r||Ec(i,a.from)[0],u=this.toastMark.findNodeAtPosition(s);return u.type==="text"&&u.parent.type!=="paragraph"&&(u=u.parent),u.sourcepos[1][1]+=1,{range:u.sourcepos,type:u.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(r){return Ff(r)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(nT),S0="_feEventKey";function Z2(t,e){var r=t[S0],n;return r||(r=t[S0]={}),n=r[e],n||(n=r[e]=[]),n}var dT=Z2,e_=Xn,sf=Pf,t_=dT;function r_(t,e,r){if(e_(e)){sf(e.split(/\s+/g),function(n){E0(t,n,r)});return}sf(e,function(n,i){E0(t,i,n)})}function E0(t,e,r){var n=t_(t,e),i;r?(sf(n,function(a,s){return r===a.handler?(M0(t,e,a.wrappedHandler),i=s,!1):!0}),n.splice(i,1)):(sf(n,function(a){M0(t,e,a.wrappedHandler)}),n.splice(0,n.length))}function M0(t,e,r){"removeEventListener"in t?t.removeEventListener(e,r):"detachEvent"in t&&t.detachEvent("on"+e,r)}var hT=r_,n_=Xn,av=Pf,i_=dT;function a_(t,e,r,n){if(n_(e)){av(e.split(/\s+/g),function(i){O0(t,i,r,n)});return}av(e,function(i,a){O0(t,a,i,r)})}function O0(t,e,r,n){function i(a){r.call(n||t,a||window.event)}"addEventListener"in t?t.addEventListener(e,i):"attachEvent"in t&&t.attachEvent("on"+e,i),o_(t,e,r,i)}function o_(t,e,r,n){var i=i_(t,e),a=!1;av(i,function(s){return s.handler===r?(a=!0,!1):!0}),a||i.push({handler:r,wrappedHandler:n})}var pT=a_;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ov=function(t,e){return ov=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ov(t,e)};function Pr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ov(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Nt=function(){return Nt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nt.apply(this,arguments)};function sv(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N0={};function s_(t){var e,r,n=N0[t];if(n)return n;for(n=N0[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function Vf(t,e,r){var n,i,a,s,u,c="";for(typeof e!="string"&&(r=e,e=Vf.defaultChars),typeof r>"u"&&(r=!0),u=s_(e),n=0,i=t.length;n<i;n++){if(a=t.charCodeAt(n),r&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){c+=t.slice(n,n+3),n+=2;continue}if(a<128){c+=u[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(s=t.charCodeAt(n+1),s>=56320&&s<=57343)){c+=encodeURIComponent(t[n]+t[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(t[n])}return c}Vf.defaultChars=";/?:@&=+$,-_.!~*'()#";Vf.componentChars="-_.!~*'()";var l_=Vf,Sm={},Qn={},u_="",c_="",f_="",d_="",h_="",p_="",v_="",m_="",g_="",y_="",w_="",b_="",k_="",C_="",x_="",T_="",S_="",E_="",M_="",O_="",N_="",L_="",A_="",D_="",I_="",R_="",P_="&",__="&",B_="",F_="",H_="",z_="",$_="",V_="",j_="",q_="",U_="",W_="",G_="",K_="",Q_="",J_="",X_="",Y_="",Z_="",eB="",tB="",rB="",nB="",iB="",aB="",oB="",sB="",lB="",uB="",cB="",fB="",dB="",hB="",pB="",vB="",mB="'",gB="",yB="",wB="",bB="",kB="",CB="",xB="",TB="",SB="*",EB="",MB="",OB="",NB="",LB="",AB="",DB="",IB="",RB="",PB="",_B="",BB="",FB="",HB="",zB="",$B="",VB="",jB="",qB="",UB="",WB="",GB="",KB="",QB="",JB="",XB="",YB="",ZB="",e3="",t3="",r3="",n3="",i3="",a3="",o3="",s3="",l3="",u3="",c3="",f3="",d3="",h3="",p3="",v3="",m3="",g3="",y3="",w3="",b3="",k3="",C3="",x3="",T3="",S3="",E3="",M3="",O3="",N3="",L3="",A3="",D3="",I3="",R3="",P3="=",_3="",B3="",F3="",H3="",z3="",$3="",V3="",j3="",q3="",U3="",W3="",G3="",K3="",Q3="",J3="",X3="",Y3="",Z3="",eF="",tF="",rF="",nF="",iF="",aF="",oF="",sF="",lF="",uF="",cF="",fF="",dF="",hF="",pF="",vF="",mF="",gF="",yF="",wF="",bF="",kF="",CF="",xF="",TF="",SF="",EF="",MF="",OF="",NF="",LF="",AF="",DF="",IF="",RF="",PF="",_F="",BF="",FF="",HF="",zF="",$F="",VF="",jF="",qF="\\",UF="",WF="",GF="",KF="",QF="",JF="",XF="",YF="",ZF="",eH="",tH="",rH="",nH="",iH="",aH="",oH="",sH="",lH="",uH="",cH="",fH="",dH="",hH="",pH="",vH="",mH="",gH="",yH="",wH="",bH="",kH="",CH="",xH="",TH="",SH="",EH="",MH="",OH="",NH="",LH="",AH="",DH="",IH="",RH="",PH="",_H="",BH="",FH="",HH="",zH="",$H="",VH="",jH="",qH="",UH="",WH="",GH="",KH="",QH="",JH="",XH="",YH="",ZH="",ez="",tz="",rz="",nz="",iz="",az="",oz="",sz="",lz="",uz=":",cz="",fz="",dz="",hz="",pz=",",vz="@",mz="",gz="",yz="",wz="",bz="",kz="",Cz="",xz="",Tz="",Sz="",Ez="",Mz="",Oz="",Nz="",Lz="",Az="",Dz="",Iz="",Rz="",Pz="",_z="",Bz="",Fz="",Hz="",zz="",$z="",Vz="",jz="",qz="",Uz="",Wz="",Gz="",Kz="",Qz="",Jz="",Xz="",Yz="",Zz="",e$="",t$="",r$="",n$="",i$="",a$="",o$="",s$="",l$="",u$="",c$="",f$="",d$="",h$="",p$="",v$="",m$="",g$="",y$="",w$="",b$="",k$="",C$="",x$="",T$="",S$="",E$="",M$="",O$="",N$="",L$="",A$="",D$="",I$="",R$="",P$="",_$="",B$="",F$="",H$="",z$="",$$="",V$="",j$="",q$="",U$="",W$="",G$="",K$="",Q$="",J$="",X$="",Y$="",Z$="",e4="`",t4="",r4="",n4="",i4="",a4="",o4="",s4="",l4="",u4="",c4="",f4="",d4="",h4="",p4="",v4="",m4="",g4="",y4="",w4="$",b4="",k4="",C4="",x4="",T4="",S4="",E4="",M4="",O4="",N4="",L4="",A4="",D4="",I4="",R4="",P4="",_4="",B4="",F4="",H4="",z4="",$4="",V4="",j4="",q4="",U4="",W4="",G4="",K4="",Q4="",J4="",X4="",Y4="",Z4="",eV="",tV="",rV="",nV="",iV="",aV="",oV="",sV="",lV="",uV="",cV="",fV="",dV="",hV="",pV="",vV="",mV="",gV="",yV="",wV="",bV="",kV="",CV="",xV="",TV="",SV="",EV="",MV="",OV="",NV="",LV="",AV="",DV="",IV="",RV="",PV="",_V="",BV="",FV="",HV="",zV="",$V="",VV="",jV="",qV="",UV="",WV="",GV="",KV="",QV="",JV="",XV="",YV="",ZV="",ej="",tj="",rj="",nj="",ij="",aj="",oj="",sj="",lj="",uj="",cj="",fj="",dj="",hj="",pj="",vj="",mj="",gj="",yj="",wj="",bj="",kj="",Cj="",xj="",Tj="",Sj="",Ej="",Mj="",Oj="",Nj="",Lj="",Aj="",Dj="",Ij="",Rj="",Pj="=",_j="",Bj="",Fj="",Hj="",zj="",$j="",Vj="",jj="",qj="",Uj="",Wj="",Gj="",Kj="",Qj="",Jj="",Xj="",Yj="",Zj="",eq="",tq="",rq="!",nq="",iq="",aq="",oq="",sq="",lq="",uq="",cq="",fq="",dq="",hq="",pq="",vq="",mq="",gq="",yq="",wq="",bq="fj",kq="",Cq="",xq="",Tq="",Sq="",Eq="",Mq="",Oq="",Nq="",Lq="",Aq="",Dq="",Iq="",Rq="",Pq="",_q="",Bq="",Fq="",Hq="",zq="",$q="",Vq="",jq="",qq="",Uq="",Wq="",Gq="",Kq="",Qq="",Jq="",Xq="",Yq="",Zq="",e5="",t5="",r5="",n5="",i5="",a5="",o5="",s5="",l5="",u5="",c5="",f5="",d5="",h5="",p5="",v5="",m5="",g5="",y5="",w5="",b5="",k5="",C5="",x5="",T5="",S5="",E5="",M5="",O5="",N5="",L5="",A5="",D5="",I5="",R5="",P5="",_5="",B5="",F5="",H5="",z5="",$5="",V5="",j5="",q5="",U5="",W5="",G5="",K5="`",Q5="",J5="",X5="",Y5="",Z5="",eU="",tU="",rU="",nU="",iU="",aU="",oU="",sU="",lU="",uU=">",cU=">",fU="",dU="",hU="",pU="",vU="",mU="",gU="",yU="",wU="",bU="",kU="",CU="",xU="",TU="",SU="",EU="",MU="",OU="",NU="",LU="",AU="",DU="",IU="",RU="^",PU="",_U="",BU="",FU="",HU="",zU="",$U="",VU="",jU="",qU="",UU="",WU="",GU="",KU="",QU="",JU="",XU="",YU="",ZU="",e8="",t8="",r8="",n8="",i8="",a8="",o8="",s8="",l8="",u8="",c8="",f8="",d8="",h8="",p8="",v8="",m8="",g8="",y8="",w8="",b8="",k8="",C8="",x8="",T8="",S8="",E8="",M8="",O8="",N8="",L8="",A8="",D8="",I8="",R8="",P8="",_8="",B8="",F8="",H8="",z8="",$8="",V8="",j8="",q8="",U8="",W8="",G8="",K8="",Q8="",J8="",X8="",Y8="",Z8="",e6="",t6="",r6="",n6="",i6="",a6="",o6="",s6="",l6="",u6="",c6="",f6="",d6="",h6="",p6="",v6="",m6="",g6="",y6="",w6="",b6="",k6="",C6="",x6="",T6="",S6="",E6="",M6="",O6="",N6="",L6="",A6="",D6="",I6="",R6="",P6="",_6="",B6="",F6="",H6="",z6="",$6="",V6="",j6="",q6="",U6="",W6="",G6="",K6="",Q6="",J6="",X6="",Y6="",Z6="",e9="",t9="",r9="",n9="",i9="",a9="",o9="",s9="",l9="",u9="",c9="",f9="",d9="",h9="",p9="",v9="",m9="",g9="",y9="",w9="",b9="",k9="",C9="",x9="",T9="",S9="",E9="",M9="",O9="",N9="",L9="",A9="",D9="",I9="",R9="",P9="",_9="",B9="",F9="",H9="",z9="",$9="",V9="{",j9="[",q9="",U9="",W9="",G9="",K9="",Q9="",J9="",X9="",Y9="{",Z9="",eW="",tW="",rW="",nW="",iW="",aW="",oW="",sW="",lW="",uW="",cW="",fW="",dW="",hW="",pW="",vW="",mW="",gW="",yW="",wW="",bW="",kW="",CW="",xW="",TW="",SW="",EW="",MW="",OW="",NW="",LW="",AW="",DW="",IW="",RW="",PW="",_W="",BW="",FW="",HW="",zW="",$W="",VW="",jW="",qW="",UW="",WW="",GW="",KW="",QW="",JW="",XW="",YW="",ZW="",e7="",t7="",r7="",n7="",i7="",a7="",o7="",s7="",l7="",u7="",c7="",f7="",d7="",h7="",p7="",v7="",m7="",g7="",y7="",w7="",b7="",k7="",C7="",x7="",T7="",S7="",E7="",M7="",O7="",N7="",L7="",A7="",D7="",I7="",R7="",P7="",_7="",B7="",F7="",H7="",z7="",$7="",V7="",j7="",q7="",U7="",W7="",G7="",K7="",Q7="",J7="",X7="",Y7="",Z7="",eG="",tG="",rG="",nG="",iG="",aG="",oG="",sG="",lG="",uG="",cG="",fG="",dG="",hG="_",pG="",vG="",mG="",gG="",yG="",wG="(",bG="",kG="",CG="",xG="",TG="",SG="",EG="",MG="",OG="",NG="",LG="",AG="",DG="",IG="",RG="",PG="[",_G="",BG="",FG="",HG="",zG="",$G="",VG="<",jG="<",qG="",UG="",WG="",GG="",KG="",QG="",JG="",XG="",YG="",ZG="",eK="",tK="",rK="",nK="",iK="",aK="",oK="",sK="",lK="",uK="",cK="",fK="",dK="",hK="",pK="",vK="",mK="",gK="",yK="",wK="",bK="",kK="",CK="",xK="",TK="",SK="",EK="*",MK="",OK="",NK="",LK="",AK="",DK="",IK="",RK="",PK="",_K="",BK="",FK="",HK="",zK="",$K="",VK="",jK="",qK="",UK="",WK="",GK="",KK="",QK="",JK="",XK="",YK="",ZK="",eQ="",tQ="",rQ="",nQ="",iQ="",aQ="",oQ="",sQ="",lQ="",uQ="",cQ="",fQ="",dQ="",hQ="",pQ="",vQ="",mQ="",gQ="",yQ="",wQ="",bQ="",kQ="",CQ="",xQ="",TQ="",SQ="",EQ="",MQ="",OQ="",NQ="",LQ="",AQ="",DQ="",IQ="",RQ="",PQ="",_Q=`
`,BQ="",FQ="",HQ="",zQ="",$Q="",VQ="",jQ="",qQ="",UQ="",WQ="",GQ="",KQ="",QQ="",JQ="",XQ="",YQ="",ZQ="",eJ="",tJ="",rJ="",nJ="",iJ="",aJ="",oJ="",sJ="",lJ="",uJ="",cJ="",fJ="",dJ="",hJ="",pJ="",vJ="",mJ="",gJ="",yJ="",wJ="",bJ="",kJ="",CJ="",xJ="",TJ="",SJ="",EJ="",MJ="",OJ="",NJ="",LJ="",AJ="",DJ="",IJ="",RJ="",PJ="",_J="",BJ="",FJ="",HJ="",zJ="",$J="",VJ="",jJ="",qJ="",UJ="",WJ="",GJ="",KJ="",QJ="",JJ="",XJ="",YJ="",ZJ="",eX="",tX="",rX="",nX="",iX="",aX="",oX="",sX="",lX="",uX="",cX="",fX="",dX="",hX="",pX="",vX="",mX="",gX="",yX="",wX="",bX="",kX="",CX="",xX="",TX="",SX="",EX="",MX="",OX="",NX="",LX="",AX="",DX="",IX="",RX="",PX="",_X="",BX="",FX="",HX="",zX="",$X="",VX="",jX="",qX="",UX="",WX="",GX="",KX="",QX="",JX="",XX="",YX="",ZX="",eY="",tY="",rY="",nY="",iY="",aY="",oY="",sY="",lY="",uY="",cY="",fY="",dY="",hY="",pY="",vY="",mY="",gY="",yY="",wY="",bY="",kY="",CY="",xY="",TY="",SY="",EY="",MY="",OY="",NY="",LY="",AY="",DY="",IY="",RY="",PY="",_Y="",BY="",FY="",HY="",zY="",$Y="",VY="",jY="",qY="",UY="#",WY="",GY="",KY="",QY="",JY="",XY="",YY="",ZY="",eZ=">",tZ="",rZ="",nZ="",iZ="",aZ="<",oZ="",sZ="",lZ="",uZ="",cZ="",fZ="",dZ="",hZ="",pZ="",vZ="",mZ="",gZ="",yZ="",wZ="",bZ="",kZ="",CZ="",xZ="",TZ="",SZ="",EZ="",MZ="",OZ="",NZ="",LZ="",AZ="",DZ="",IZ="",RZ="",PZ="",_Z="",BZ="",FZ="",HZ="",zZ="",$Z="",VZ="",jZ="",qZ="",UZ="",WZ="",GZ="",KZ="",QZ="",JZ="",XZ="",YZ="",ZZ="",eee="",tee="",ree="",nee="",iee="",aee="",oee="",see="",lee="",uee="",cee="",fee="",dee="",hee="",pee="",vee="",mee="",gee="",yee="",wee="",bee="",kee="",Cee="",xee="",Tee="",See="",Eee="",Mee="",Oee="",Nee="",Lee="",Aee="",Dee="",Iee="",Ree="",Pee="",_ee="",Bee="",Fee="",Hee="",zee="",$ee="",Vee="",jee="",qee="",Uee="",Wee="%",Gee=".",Kee="",Qee="",Jee="",Xee="",Yee="",Zee="",ete="",tte="",rte="",nte="",ite="",ate="",ote="",ste="",lte="",ute="",cte="",fte="",dte="",hte="",pte="+",vte="",mte="",gte="",yte="",wte="",bte="",kte="",Cte="",xte="",Tte="",Ste="",Ete="",Mte="",Ote="",Nte="",Lte="",Ate="",Dte="",Ite="",Rte="",Pte="",_te="",Bte="",Fte="",Hte="",zte="",$te="",Vte="",jte="",qte="",Ute="",Wte="",Gte="",Kte="",Qte="",Jte="",Xte="",Yte="",Zte="",ere="",tre="",rre="",nre="",ire="",are="",ore="",sre="",lre="",ure="",cre="",fre="",dre="",hre="",pre="",vre="",mre="",gre="",yre="",wre="",bre="",kre="",Cre="",xre="",Tre="?",Sre="",Ere='"',Mre='"',Ore="",Nre="",Lre="",Are="",Dre="",Ire="",Rre="",Pre="",_re="",Bre="",Fre="",Hre="",zre="",$re="",Vre="",jre="",qre="",Ure="",Wre="",Gre="",Kre="",Qre="",Jre="",Xre="",Yre="",Zre="",ene="",tne="",rne="",nne="",ine="",ane="",one="",sne="",lne="",une="}",cne="]",fne="",dne="",hne="",pne="",vne="",mne="",gne="",yne="",wne="}",bne="",kne="",Cne="",xne="",Tne="",Sne="",Ene="",Mne="",One="",Nne="",Lne="",Ane="",Dne="",Ine="",Rne="",Pne="",_ne="",Bne="",Fne="",Hne="",zne="",$ne="",Vne="",jne="",qne="",Une="",Wne="",Gne="",Kne="",Qne="",Jne="",Xne="",Yne="",Zne="",eie="",tie="",rie="",nie="",iie="",aie="",oie="",sie="",lie="",uie="",cie="",fie="",die="",hie="",pie="",vie="",mie="",gie="",yie="",wie="",bie="",kie="",Cie="",xie="",Tie="",Sie="",Eie="",Mie="",Oie="",Nie="",Lie="",Aie="",Die="",Iie="",Rie="",Pie="",_ie="",Bie="",Fie="",Hie="",zie="",$ie="",Vie="",jie="",qie=")",Uie="",Wie="",Gie="",Kie="",Qie="",Jie="",Xie="",Yie="",Zie="",eae="]",tae="",rae="",nae="",iae="",aae="",oae="",sae="",lae="",uae="",cae="",fae="",dae="",hae="",pae="",vae="",mae="",gae="",yae="",wae="",bae="",kae="",Cae="",xae="",Tae="",Sae="",Eae="",Mae="",Oae="",Nae="",Lae="",Aae="",Dae="",Iae="",Rae="",Pae="",_ae="",Bae="",Fae="",Hae="",zae="",$ae="",Vae=";",jae="",qae="",Uae="",Wae="",Gae="",Kae="",Qae="",Jae="",Xae="",Yae="",Zae="",eoe="",toe="",roe="",noe="",ioe="",aoe="",ooe="",soe="",loe="",uoe="",coe="",foe="",doe="",hoe="",poe="",voe="",moe="",goe="",yoe="",woe="",boe="",koe="",Coe="",xoe="",Toe="",Soe="",Eoe="",Moe="",Ooe="",Noe="",Loe="",Aoe="",Doe="",Ioe="",Roe="",Poe="",_oe="",Boe="/",Foe="",Hoe="",zoe="",$oe="",Voe="",joe="",qoe="",Uoe="",Woe="",Goe="",Koe="",Qoe="",Joe="",Xoe="",Yoe="",Zoe="",ese="",tse="",rse="",nse="",ise="",ase="",ose="",sse="",lse="",use="",cse="",fse="",dse="",hse="",pse="",vse="",mse="",gse="",yse="",wse="",bse="",kse="",Cse="",xse="",Tse="",Sse="",Ese="",Mse="",Ose="",Nse="",Lse="",Ase="",Dse="",Ise="",Rse="",Pse="",_se="",Bse="",Fse="",Hse="",zse="",$se="",Vse="",jse="",qse="",Use="",Wse="",Gse="",Kse="",Qse="",Jse="",Xse="",Yse="",Zse="",ele="",tle="",rle="",nle="",ile="",ale="",ole="",sle="",lle="",ule="",cle="",fle="",dle="",hle="",ple="",vle="",mle="",gle="",yle="",wle="",ble="",kle="",Cle="",xle="",Tle="",Sle="",Ele="",Mle="",Ole="",Nle="",Lle="",Ale="",Dle="",Ile="",Rle="",Ple="",_le="",Ble="",Fle="",Hle="",zle="",$le="",Vle="	",jle="",qle="",Ule="",Wle="",Gle="",Kle="",Qle="",Jle="",Xle="",Yle="",Zle="",eue="",tue="",rue="",nue="",iue="",aue="",oue="",sue="",lue="",uue="",cue="",fue="",due="",hue="",pue="",vue="",mue="",gue="",yue="",wue="",bue="",kue="",Cue="",xue="",Tue="",Sue="",Eue="",Mue="",Oue="",Nue="",Lue="",Aue="",Due="",Iue="",Rue="",Pue="",_ue="",Bue="",Fue="",Hue="",zue="",$ue="",Vue="",jue="",que="",Uue="",Wue="",Gue="",Kue="",Que="",Jue="",Xue="",Yue="",Zue="",ece="",tce="",rce="",nce="",ice="",ace="",oce="",sce="",lce="",uce="",cce="",fce="",dce="",hce="",pce="",vce="",mce="",gce="",yce="",wce="",bce="",kce="",Cce="",xce="",Tce="",Sce="",Ece="",Mce="",Oce="",Nce="",Lce="",Ace="",Dce="",Ice="",Rce="",Pce="",_ce="",Bce="",Fce="",Hce="",zce="",$ce="",Vce="",jce="",qce="",Uce="",Wce="_",Gce="",Kce="",Qce="",Jce="",Xce="",Yce="",Zce="",efe="",tfe="",rfe="",nfe="",ife="",afe="",ofe="",sfe="",lfe="",ufe="",cfe="",ffe="",dfe="",hfe="",pfe="",vfe="",mfe="",gfe="",yfe="",wfe="",bfe="",kfe="",Cfe="",xfe="",Tfe="",Sfe="",Efe="",Mfe="",Ofe="",Nfe="",Lfe="",Afe="",Dfe="",Ife="",Rfe="",Pfe="",_fe="",Bfe="",Ffe="",Hfe="",zfe="",$fe="",Vfe="",jfe="",qfe="",Ufe="",Wfe="",Gfe="",Kfe="",Qfe="",Jfe="",Xfe="",Yfe="",Zfe="",ede="",tde="",rde="",nde="",ide="",ade="",ode="",sde="",lde="",ude="",cde="",fde="",dde="",hde="",pde="",vde="",mde="",gde="",yde="",wde="",bde="|",kde="",Cde="|",xde="",Tde="",Sde="|",Ede="",Mde="",Ode="",Nde="",Lde="",Ade="",Dde="",Ide="",Rde="",Pde="",_de="",Bde="",Fde="",Hde="",zde="",$de="",Vde="",jde="",qde="",Ude="",Wde="",Gde="",Kde="",Qde="",Jde="",Xde="",Yde="",Zde="",ehe="",the="",rhe="",nhe="",ihe="",ahe="",ohe="",she="",lhe="",uhe="",che="",fhe="",dhe="",hhe="",phe="",vhe="",mhe="",ghe="",yhe="",whe="",bhe="",khe="",Che="",xhe="",The="",She="",Ehe="",Mhe="",Ohe="",Nhe="",Lhe="",Ahe="",Dhe="",Ihe="",Rhe="",Phe="",_he="",Bhe="",Fhe="",Hhe="",zhe="",$he="",Vhe="",jhe="",qhe="",Uhe="",Whe="",Ghe="",Khe="",Qhe="",Jhe="",Xhe="",Yhe="",Zhe="",epe="",tpe="",rpe="",npe="",ipe="",ape="",ope="",spe="",lpe="",upe="",cpe="",fpe="",dpe="",hpe="",ppe="",vpe="",mpe="",gpe="",ype="",wpe="",bpe="",kpe="",Cpe="",xpe="",Tpe="",Spe="",vT={Aacute:u_,aacute:c_,Abreve:f_,abreve:d_,ac:h_,acd:p_,acE:v_,Acirc:m_,acirc:g_,acute:y_,Acy:w_,acy:b_,AElig:k_,aelig:C_,af:x_,Afr:T_,afr:S_,Agrave:E_,agrave:M_,alefsym:O_,aleph:N_,Alpha:L_,alpha:A_,Amacr:D_,amacr:I_,amalg:R_,amp:P_,AMP:__,andand:B_,And:F_,and:H_,andd:z_,andslope:$_,andv:V_,ang:j_,ange:q_,angle:U_,angmsdaa:W_,angmsdab:G_,angmsdac:K_,angmsdad:Q_,angmsdae:J_,angmsdaf:X_,angmsdag:Y_,angmsdah:Z_,angmsd:eB,angrt:tB,angrtvb:rB,angrtvbd:nB,angsph:iB,angst:aB,angzarr:oB,Aogon:sB,aogon:lB,Aopf:uB,aopf:cB,apacir:fB,ap:dB,apE:hB,ape:pB,apid:vB,apos:mB,ApplyFunction:gB,approx:yB,approxeq:wB,Aring:bB,aring:kB,Ascr:CB,ascr:xB,Assign:TB,ast:SB,asymp:EB,asympeq:MB,Atilde:OB,atilde:NB,Auml:LB,auml:AB,awconint:DB,awint:IB,backcong:RB,backepsilon:PB,backprime:_B,backsim:BB,backsimeq:FB,Backslash:HB,Barv:zB,barvee:$B,barwed:VB,Barwed:jB,barwedge:qB,bbrk:UB,bbrktbrk:WB,bcong:GB,Bcy:KB,bcy:QB,bdquo:JB,becaus:XB,because:YB,Because:ZB,bemptyv:e3,bepsi:t3,bernou:r3,Bernoullis:n3,Beta:i3,beta:a3,beth:o3,between:s3,Bfr:l3,bfr:u3,bigcap:c3,bigcirc:f3,bigcup:d3,bigodot:h3,bigoplus:p3,bigotimes:v3,bigsqcup:m3,bigstar:g3,bigtriangledown:y3,bigtriangleup:w3,biguplus:b3,bigvee:k3,bigwedge:C3,bkarow:x3,blacklozenge:T3,blacksquare:S3,blacktriangle:E3,blacktriangledown:M3,blacktriangleleft:O3,blacktriangleright:N3,blank:L3,blk12:A3,blk14:D3,blk34:I3,block:R3,bne:P3,bnequiv:_3,bNot:B3,bnot:F3,Bopf:H3,bopf:z3,bot:$3,bottom:V3,bowtie:j3,boxbox:q3,boxdl:U3,boxdL:W3,boxDl:G3,boxDL:K3,boxdr:Q3,boxdR:J3,boxDr:X3,boxDR:Y3,boxh:Z3,boxH:eF,boxhd:tF,boxHd:rF,boxhD:nF,boxHD:iF,boxhu:aF,boxHu:oF,boxhU:sF,boxHU:lF,boxminus:uF,boxplus:cF,boxtimes:fF,boxul:dF,boxuL:hF,boxUl:pF,boxUL:vF,boxur:mF,boxuR:gF,boxUr:yF,boxUR:wF,boxv:bF,boxV:kF,boxvh:CF,boxvH:xF,boxVh:TF,boxVH:SF,boxvl:EF,boxvL:MF,boxVl:OF,boxVL:NF,boxvr:LF,boxvR:AF,boxVr:DF,boxVR:IF,bprime:RF,breve:PF,Breve:_F,brvbar:BF,bscr:FF,Bscr:HF,bsemi:zF,bsim:$F,bsime:VF,bsolb:jF,bsol:qF,bsolhsub:UF,bull:WF,bullet:GF,bump:KF,bumpE:QF,bumpe:JF,Bumpeq:XF,bumpeq:YF,Cacute:ZF,cacute:eH,capand:tH,capbrcup:rH,capcap:nH,cap:iH,Cap:aH,capcup:oH,capdot:sH,CapitalDifferentialD:lH,caps:uH,caret:cH,caron:fH,Cayleys:dH,ccaps:hH,Ccaron:pH,ccaron:vH,Ccedil:mH,ccedil:gH,Ccirc:yH,ccirc:wH,Cconint:bH,ccups:kH,ccupssm:CH,Cdot:xH,cdot:TH,cedil:SH,Cedilla:EH,cemptyv:MH,cent:OH,centerdot:NH,CenterDot:LH,cfr:AH,Cfr:DH,CHcy:IH,chcy:RH,check:PH,checkmark:_H,Chi:BH,chi:FH,circ:HH,circeq:zH,circlearrowleft:$H,circlearrowright:VH,circledast:jH,circledcirc:qH,circleddash:UH,CircleDot:WH,circledR:GH,circledS:KH,CircleMinus:QH,CirclePlus:JH,CircleTimes:XH,cir:YH,cirE:ZH,cire:ez,cirfnint:tz,cirmid:rz,cirscir:nz,ClockwiseContourIntegral:iz,CloseCurlyDoubleQuote:az,CloseCurlyQuote:oz,clubs:sz,clubsuit:lz,colon:uz,Colon:cz,Colone:fz,colone:dz,coloneq:hz,comma:pz,commat:vz,comp:mz,compfn:gz,complement:yz,complexes:wz,cong:bz,congdot:kz,Congruent:Cz,conint:xz,Conint:Tz,ContourIntegral:Sz,copf:Ez,Copf:Mz,coprod:Oz,Coproduct:Nz,copy:Lz,COPY:Az,copysr:Dz,CounterClockwiseContourIntegral:Iz,crarr:Rz,cross:Pz,Cross:_z,Cscr:Bz,cscr:Fz,csub:Hz,csube:zz,csup:$z,csupe:Vz,ctdot:jz,cudarrl:qz,cudarrr:Uz,cuepr:Wz,cuesc:Gz,cularr:Kz,cularrp:Qz,cupbrcap:Jz,cupcap:Xz,CupCap:Yz,cup:Zz,Cup:e$,cupcup:t$,cupdot:r$,cupor:n$,cups:i$,curarr:a$,curarrm:o$,curlyeqprec:s$,curlyeqsucc:l$,curlyvee:u$,curlywedge:c$,curren:f$,curvearrowleft:d$,curvearrowright:h$,cuvee:p$,cuwed:v$,cwconint:m$,cwint:g$,cylcty:y$,dagger:w$,Dagger:b$,daleth:k$,darr:C$,Darr:x$,dArr:T$,dash:S$,Dashv:E$,dashv:M$,dbkarow:O$,dblac:N$,Dcaron:L$,dcaron:A$,Dcy:D$,dcy:I$,ddagger:R$,ddarr:P$,DD:_$,dd:B$,DDotrahd:F$,ddotseq:H$,deg:z$,Del:$$,Delta:V$,delta:j$,demptyv:q$,dfisht:U$,Dfr:W$,dfr:G$,dHar:K$,dharl:Q$,dharr:J$,DiacriticalAcute:X$,DiacriticalDot:Y$,DiacriticalDoubleAcute:Z$,DiacriticalGrave:e4,DiacriticalTilde:t4,diam:r4,diamond:n4,Diamond:i4,diamondsuit:a4,diams:o4,die:s4,DifferentialD:l4,digamma:u4,disin:c4,div:f4,divide:d4,divideontimes:h4,divonx:p4,DJcy:v4,djcy:m4,dlcorn:g4,dlcrop:y4,dollar:w4,Dopf:b4,dopf:k4,Dot:C4,dot:x4,DotDot:T4,doteq:S4,doteqdot:E4,DotEqual:M4,dotminus:O4,dotplus:N4,dotsquare:L4,doublebarwedge:A4,DoubleContourIntegral:D4,DoubleDot:I4,DoubleDownArrow:R4,DoubleLeftArrow:P4,DoubleLeftRightArrow:_4,DoubleLeftTee:B4,DoubleLongLeftArrow:F4,DoubleLongLeftRightArrow:H4,DoubleLongRightArrow:z4,DoubleRightArrow:$4,DoubleRightTee:V4,DoubleUpArrow:j4,DoubleUpDownArrow:q4,DoubleVerticalBar:U4,DownArrowBar:W4,downarrow:G4,DownArrow:K4,Downarrow:Q4,DownArrowUpArrow:J4,DownBreve:X4,downdownarrows:Y4,downharpoonleft:Z4,downharpoonright:eV,DownLeftRightVector:tV,DownLeftTeeVector:rV,DownLeftVectorBar:nV,DownLeftVector:iV,DownRightTeeVector:aV,DownRightVectorBar:oV,DownRightVector:sV,DownTeeArrow:lV,DownTee:uV,drbkarow:cV,drcorn:fV,drcrop:dV,Dscr:hV,dscr:pV,DScy:vV,dscy:mV,dsol:gV,Dstrok:yV,dstrok:wV,dtdot:bV,dtri:kV,dtrif:CV,duarr:xV,duhar:TV,dwangle:SV,DZcy:EV,dzcy:MV,dzigrarr:OV,Eacute:NV,eacute:LV,easter:AV,Ecaron:DV,ecaron:IV,Ecirc:RV,ecirc:PV,ecir:_V,ecolon:BV,Ecy:FV,ecy:HV,eDDot:zV,Edot:$V,edot:VV,eDot:jV,ee:qV,efDot:UV,Efr:WV,efr:GV,eg:KV,Egrave:QV,egrave:JV,egs:XV,egsdot:YV,el:ZV,Element:ej,elinters:tj,ell:rj,els:nj,elsdot:ij,Emacr:aj,emacr:oj,empty:sj,emptyset:lj,EmptySmallSquare:uj,emptyv:cj,EmptyVerySmallSquare:fj,emsp13:dj,emsp14:hj,emsp:pj,ENG:vj,eng:mj,ensp:gj,Eogon:yj,eogon:wj,Eopf:bj,eopf:kj,epar:Cj,eparsl:xj,eplus:Tj,epsi:Sj,Epsilon:Ej,epsilon:Mj,epsiv:Oj,eqcirc:Nj,eqcolon:Lj,eqsim:Aj,eqslantgtr:Dj,eqslantless:Ij,Equal:Rj,equals:Pj,EqualTilde:_j,equest:Bj,Equilibrium:Fj,equiv:Hj,equivDD:zj,eqvparsl:$j,erarr:Vj,erDot:jj,escr:qj,Escr:Uj,esdot:Wj,Esim:Gj,esim:Kj,Eta:Qj,eta:Jj,ETH:Xj,eth:Yj,Euml:Zj,euml:eq,euro:tq,excl:rq,exist:nq,Exists:iq,expectation:aq,exponentiale:oq,ExponentialE:sq,fallingdotseq:lq,Fcy:uq,fcy:cq,female:fq,ffilig:dq,fflig:hq,ffllig:pq,Ffr:vq,ffr:mq,filig:gq,FilledSmallSquare:yq,FilledVerySmallSquare:wq,fjlig:bq,flat:kq,fllig:Cq,fltns:xq,fnof:Tq,Fopf:Sq,fopf:Eq,forall:Mq,ForAll:Oq,fork:Nq,forkv:Lq,Fouriertrf:Aq,fpartint:Dq,frac12:Iq,frac13:Rq,frac14:Pq,frac15:_q,frac16:Bq,frac18:Fq,frac23:Hq,frac25:zq,frac34:$q,frac35:Vq,frac38:jq,frac45:qq,frac56:Uq,frac58:Wq,frac78:Gq,frasl:Kq,frown:Qq,fscr:Jq,Fscr:Xq,gacute:Yq,Gamma:Zq,gamma:e5,Gammad:t5,gammad:r5,gap:n5,Gbreve:i5,gbreve:a5,Gcedil:o5,Gcirc:s5,gcirc:l5,Gcy:u5,gcy:c5,Gdot:f5,gdot:d5,ge:h5,gE:p5,gEl:v5,gel:m5,geq:g5,geqq:y5,geqslant:w5,gescc:b5,ges:k5,gesdot:C5,gesdoto:x5,gesdotol:T5,gesl:S5,gesles:E5,Gfr:M5,gfr:O5,gg:N5,Gg:L5,ggg:A5,gimel:D5,GJcy:I5,gjcy:R5,gla:P5,gl:_5,glE:B5,glj:F5,gnap:H5,gnapprox:z5,gne:$5,gnE:V5,gneq:j5,gneqq:q5,gnsim:U5,Gopf:W5,gopf:G5,grave:K5,GreaterEqual:Q5,GreaterEqualLess:J5,GreaterFullEqual:X5,GreaterGreater:Y5,GreaterLess:Z5,GreaterSlantEqual:eU,GreaterTilde:tU,Gscr:rU,gscr:nU,gsim:iU,gsime:aU,gsiml:oU,gtcc:sU,gtcir:lU,gt:uU,GT:cU,Gt:fU,gtdot:dU,gtlPar:hU,gtquest:pU,gtrapprox:vU,gtrarr:mU,gtrdot:gU,gtreqless:yU,gtreqqless:wU,gtrless:bU,gtrsim:kU,gvertneqq:CU,gvnE:xU,Hacek:TU,hairsp:SU,half:EU,hamilt:MU,HARDcy:OU,hardcy:NU,harrcir:LU,harr:AU,hArr:DU,harrw:IU,Hat:RU,hbar:PU,Hcirc:_U,hcirc:BU,hearts:FU,heartsuit:HU,hellip:zU,hercon:$U,hfr:VU,Hfr:jU,HilbertSpace:qU,hksearow:UU,hkswarow:WU,hoarr:GU,homtht:KU,hookleftarrow:QU,hookrightarrow:JU,hopf:XU,Hopf:YU,horbar:ZU,HorizontalLine:e8,hscr:t8,Hscr:r8,hslash:n8,Hstrok:i8,hstrok:a8,HumpDownHump:o8,HumpEqual:s8,hybull:l8,hyphen:u8,Iacute:c8,iacute:f8,ic:d8,Icirc:h8,icirc:p8,Icy:v8,icy:m8,Idot:g8,IEcy:y8,iecy:w8,iexcl:b8,iff:k8,ifr:C8,Ifr:x8,Igrave:T8,igrave:S8,ii:E8,iiiint:M8,iiint:O8,iinfin:N8,iiota:L8,IJlig:A8,ijlig:D8,Imacr:I8,imacr:R8,image:P8,ImaginaryI:_8,imagline:B8,imagpart:F8,imath:H8,Im:z8,imof:$8,imped:V8,Implies:j8,incare:q8,in:"",infin:U8,infintie:W8,inodot:G8,intcal:K8,int:Q8,Int:J8,integers:X8,Integral:Y8,intercal:Z8,Intersection:e6,intlarhk:t6,intprod:r6,InvisibleComma:n6,InvisibleTimes:i6,IOcy:a6,iocy:o6,Iogon:s6,iogon:l6,Iopf:u6,iopf:c6,Iota:f6,iota:d6,iprod:h6,iquest:p6,iscr:v6,Iscr:m6,isin:g6,isindot:y6,isinE:w6,isins:b6,isinsv:k6,isinv:C6,it:x6,Itilde:T6,itilde:S6,Iukcy:E6,iukcy:M6,Iuml:O6,iuml:N6,Jcirc:L6,jcirc:A6,Jcy:D6,jcy:I6,Jfr:R6,jfr:P6,jmath:_6,Jopf:B6,jopf:F6,Jscr:H6,jscr:z6,Jsercy:$6,jsercy:V6,Jukcy:j6,jukcy:q6,Kappa:U6,kappa:W6,kappav:G6,Kcedil:K6,kcedil:Q6,Kcy:J6,kcy:X6,Kfr:Y6,kfr:Z6,kgreen:e9,KHcy:t9,khcy:r9,KJcy:n9,kjcy:i9,Kopf:a9,kopf:o9,Kscr:s9,kscr:l9,lAarr:u9,Lacute:c9,lacute:f9,laemptyv:d9,lagran:h9,Lambda:p9,lambda:v9,lang:m9,Lang:g9,langd:y9,langle:w9,lap:b9,Laplacetrf:k9,laquo:C9,larrb:x9,larrbfs:T9,larr:S9,Larr:E9,lArr:M9,larrfs:O9,larrhk:N9,larrlp:L9,larrpl:A9,larrsim:D9,larrtl:I9,latail:R9,lAtail:P9,lat:_9,late:B9,lates:F9,lbarr:H9,lBarr:z9,lbbrk:$9,lbrace:V9,lbrack:j9,lbrke:q9,lbrksld:U9,lbrkslu:W9,Lcaron:G9,lcaron:K9,Lcedil:Q9,lcedil:J9,lceil:X9,lcub:Y9,Lcy:Z9,lcy:eW,ldca:tW,ldquo:rW,ldquor:nW,ldrdhar:iW,ldrushar:aW,ldsh:oW,le:sW,lE:lW,LeftAngleBracket:uW,LeftArrowBar:cW,leftarrow:fW,LeftArrow:dW,Leftarrow:hW,LeftArrowRightArrow:pW,leftarrowtail:vW,LeftCeiling:mW,LeftDoubleBracket:gW,LeftDownTeeVector:yW,LeftDownVectorBar:wW,LeftDownVector:bW,LeftFloor:kW,leftharpoondown:CW,leftharpoonup:xW,leftleftarrows:TW,leftrightarrow:SW,LeftRightArrow:EW,Leftrightarrow:MW,leftrightarrows:OW,leftrightharpoons:NW,leftrightsquigarrow:LW,LeftRightVector:AW,LeftTeeArrow:DW,LeftTee:IW,LeftTeeVector:RW,leftthreetimes:PW,LeftTriangleBar:_W,LeftTriangle:BW,LeftTriangleEqual:FW,LeftUpDownVector:HW,LeftUpTeeVector:zW,LeftUpVectorBar:$W,LeftUpVector:VW,LeftVectorBar:jW,LeftVector:qW,lEg:UW,leg:WW,leq:GW,leqq:KW,leqslant:QW,lescc:JW,les:XW,lesdot:YW,lesdoto:ZW,lesdotor:e7,lesg:t7,lesges:r7,lessapprox:n7,lessdot:i7,lesseqgtr:a7,lesseqqgtr:o7,LessEqualGreater:s7,LessFullEqual:l7,LessGreater:u7,lessgtr:c7,LessLess:f7,lesssim:d7,LessSlantEqual:h7,LessTilde:p7,lfisht:v7,lfloor:m7,Lfr:g7,lfr:y7,lg:w7,lgE:b7,lHar:k7,lhard:C7,lharu:x7,lharul:T7,lhblk:S7,LJcy:E7,ljcy:M7,llarr:O7,ll:N7,Ll:L7,llcorner:A7,Lleftarrow:D7,llhard:I7,lltri:R7,Lmidot:P7,lmidot:_7,lmoustache:B7,lmoust:F7,lnap:H7,lnapprox:z7,lne:$7,lnE:V7,lneq:j7,lneqq:q7,lnsim:U7,loang:W7,loarr:G7,lobrk:K7,longleftarrow:Q7,LongLeftArrow:J7,Longleftarrow:X7,longleftrightarrow:Y7,LongLeftRightArrow:Z7,Longleftrightarrow:eG,longmapsto:tG,longrightarrow:rG,LongRightArrow:nG,Longrightarrow:iG,looparrowleft:aG,looparrowright:oG,lopar:sG,Lopf:lG,lopf:uG,loplus:cG,lotimes:fG,lowast:dG,lowbar:hG,LowerLeftArrow:pG,LowerRightArrow:vG,loz:mG,lozenge:gG,lozf:yG,lpar:wG,lparlt:bG,lrarr:kG,lrcorner:CG,lrhar:xG,lrhard:TG,lrm:SG,lrtri:EG,lsaquo:MG,lscr:OG,Lscr:NG,lsh:LG,Lsh:AG,lsim:DG,lsime:IG,lsimg:RG,lsqb:PG,lsquo:_G,lsquor:BG,Lstrok:FG,lstrok:HG,ltcc:zG,ltcir:$G,lt:VG,LT:jG,Lt:qG,ltdot:UG,lthree:WG,ltimes:GG,ltlarr:KG,ltquest:QG,ltri:JG,ltrie:XG,ltrif:YG,ltrPar:ZG,lurdshar:eK,luruhar:tK,lvertneqq:rK,lvnE:nK,macr:iK,male:aK,malt:oK,maltese:sK,Map:"",map:lK,mapsto:uK,mapstodown:cK,mapstoleft:fK,mapstoup:dK,marker:hK,mcomma:pK,Mcy:vK,mcy:mK,mdash:gK,mDDot:yK,measuredangle:wK,MediumSpace:bK,Mellintrf:kK,Mfr:CK,mfr:xK,mho:TK,micro:SK,midast:EK,midcir:MK,mid:OK,middot:NK,minusb:LK,minus:AK,minusd:DK,minusdu:IK,MinusPlus:RK,mlcp:PK,mldr:_K,mnplus:BK,models:FK,Mopf:HK,mopf:zK,mp:$K,mscr:VK,Mscr:jK,mstpos:qK,Mu:UK,mu:WK,multimap:GK,mumap:KK,nabla:QK,Nacute:JK,nacute:XK,nang:YK,nap:ZK,napE:eQ,napid:tQ,napos:rQ,napprox:nQ,natural:iQ,naturals:aQ,natur:oQ,nbsp:sQ,nbump:lQ,nbumpe:uQ,ncap:cQ,Ncaron:fQ,ncaron:dQ,Ncedil:hQ,ncedil:pQ,ncong:vQ,ncongdot:mQ,ncup:gQ,Ncy:yQ,ncy:wQ,ndash:bQ,nearhk:kQ,nearr:CQ,neArr:xQ,nearrow:TQ,ne:SQ,nedot:EQ,NegativeMediumSpace:MQ,NegativeThickSpace:OQ,NegativeThinSpace:NQ,NegativeVeryThinSpace:LQ,nequiv:AQ,nesear:DQ,nesim:IQ,NestedGreaterGreater:RQ,NestedLessLess:PQ,NewLine:_Q,nexist:BQ,nexists:FQ,Nfr:HQ,nfr:zQ,ngE:$Q,nge:VQ,ngeq:jQ,ngeqq:qQ,ngeqslant:UQ,nges:WQ,nGg:GQ,ngsim:KQ,nGt:QQ,ngt:JQ,ngtr:XQ,nGtv:YQ,nharr:ZQ,nhArr:eJ,nhpar:tJ,ni:rJ,nis:nJ,nisd:iJ,niv:aJ,NJcy:oJ,njcy:sJ,nlarr:lJ,nlArr:uJ,nldr:cJ,nlE:fJ,nle:dJ,nleftarrow:hJ,nLeftarrow:pJ,nleftrightarrow:vJ,nLeftrightarrow:mJ,nleq:gJ,nleqq:yJ,nleqslant:wJ,nles:bJ,nless:kJ,nLl:CJ,nlsim:xJ,nLt:TJ,nlt:SJ,nltri:EJ,nltrie:MJ,nLtv:OJ,nmid:NJ,NoBreak:LJ,NonBreakingSpace:AJ,nopf:DJ,Nopf:IJ,Not:RJ,not:PJ,NotCongruent:_J,NotCupCap:BJ,NotDoubleVerticalBar:FJ,NotElement:HJ,NotEqual:zJ,NotEqualTilde:$J,NotExists:VJ,NotGreater:jJ,NotGreaterEqual:qJ,NotGreaterFullEqual:UJ,NotGreaterGreater:WJ,NotGreaterLess:GJ,NotGreaterSlantEqual:KJ,NotGreaterTilde:QJ,NotHumpDownHump:JJ,NotHumpEqual:XJ,notin:YJ,notindot:ZJ,notinE:eX,notinva:tX,notinvb:rX,notinvc:nX,NotLeftTriangleBar:iX,NotLeftTriangle:aX,NotLeftTriangleEqual:oX,NotLess:sX,NotLessEqual:lX,NotLessGreater:uX,NotLessLess:cX,NotLessSlantEqual:fX,NotLessTilde:dX,NotNestedGreaterGreater:hX,NotNestedLessLess:pX,notni:vX,notniva:mX,notnivb:gX,notnivc:yX,NotPrecedes:wX,NotPrecedesEqual:bX,NotPrecedesSlantEqual:kX,NotReverseElement:CX,NotRightTriangleBar:xX,NotRightTriangle:TX,NotRightTriangleEqual:SX,NotSquareSubset:EX,NotSquareSubsetEqual:MX,NotSquareSuperset:OX,NotSquareSupersetEqual:NX,NotSubset:LX,NotSubsetEqual:AX,NotSucceeds:DX,NotSucceedsEqual:IX,NotSucceedsSlantEqual:RX,NotSucceedsTilde:PX,NotSuperset:_X,NotSupersetEqual:BX,NotTilde:FX,NotTildeEqual:HX,NotTildeFullEqual:zX,NotTildeTilde:$X,NotVerticalBar:VX,nparallel:jX,npar:qX,nparsl:UX,npart:WX,npolint:GX,npr:KX,nprcue:QX,nprec:JX,npreceq:XX,npre:YX,nrarrc:ZX,nrarr:eY,nrArr:tY,nrarrw:rY,nrightarrow:nY,nRightarrow:iY,nrtri:aY,nrtrie:oY,nsc:sY,nsccue:lY,nsce:uY,Nscr:cY,nscr:fY,nshortmid:dY,nshortparallel:hY,nsim:pY,nsime:vY,nsimeq:mY,nsmid:gY,nspar:yY,nsqsube:wY,nsqsupe:bY,nsub:kY,nsubE:CY,nsube:xY,nsubset:TY,nsubseteq:SY,nsubseteqq:EY,nsucc:MY,nsucceq:OY,nsup:NY,nsupE:LY,nsupe:AY,nsupset:DY,nsupseteq:IY,nsupseteqq:RY,ntgl:PY,Ntilde:_Y,ntilde:BY,ntlg:FY,ntriangleleft:HY,ntrianglelefteq:zY,ntriangleright:$Y,ntrianglerighteq:VY,Nu:jY,nu:qY,num:UY,numero:WY,numsp:GY,nvap:KY,nvdash:QY,nvDash:JY,nVdash:XY,nVDash:YY,nvge:ZY,nvgt:eZ,nvHarr:tZ,nvinfin:rZ,nvlArr:nZ,nvle:iZ,nvlt:aZ,nvltrie:oZ,nvrArr:sZ,nvrtrie:lZ,nvsim:uZ,nwarhk:cZ,nwarr:fZ,nwArr:dZ,nwarrow:hZ,nwnear:pZ,Oacute:vZ,oacute:mZ,oast:gZ,Ocirc:yZ,ocirc:wZ,ocir:bZ,Ocy:kZ,ocy:CZ,odash:xZ,Odblac:TZ,odblac:SZ,odiv:EZ,odot:MZ,odsold:OZ,OElig:NZ,oelig:LZ,ofcir:AZ,Ofr:DZ,ofr:IZ,ogon:RZ,Ograve:PZ,ograve:_Z,ogt:BZ,ohbar:FZ,ohm:HZ,oint:zZ,olarr:$Z,olcir:VZ,olcross:jZ,oline:qZ,olt:UZ,Omacr:WZ,omacr:GZ,Omega:KZ,omega:QZ,Omicron:JZ,omicron:XZ,omid:YZ,ominus:ZZ,Oopf:eee,oopf:tee,opar:ree,OpenCurlyDoubleQuote:nee,OpenCurlyQuote:iee,operp:aee,oplus:oee,orarr:see,Or:lee,or:uee,ord:cee,order:fee,orderof:dee,ordf:hee,ordm:pee,origof:vee,oror:mee,orslope:gee,orv:yee,oS:wee,Oscr:bee,oscr:kee,Oslash:Cee,oslash:xee,osol:Tee,Otilde:See,otilde:Eee,otimesas:Mee,Otimes:Oee,otimes:Nee,Ouml:Lee,ouml:Aee,ovbar:Dee,OverBar:Iee,OverBrace:Ree,OverBracket:Pee,OverParenthesis:_ee,para:Bee,parallel:Fee,par:Hee,parsim:zee,parsl:$ee,part:Vee,PartialD:jee,Pcy:qee,pcy:Uee,percnt:Wee,period:Gee,permil:Kee,perp:Qee,pertenk:Jee,Pfr:Xee,pfr:Yee,Phi:Zee,phi:ete,phiv:tte,phmmat:rte,phone:nte,Pi:ite,pi:ate,pitchfork:ote,piv:ste,planck:lte,planckh:ute,plankv:cte,plusacir:fte,plusb:dte,pluscir:hte,plus:pte,plusdo:vte,plusdu:mte,pluse:gte,PlusMinus:yte,plusmn:wte,plussim:bte,plustwo:kte,pm:Cte,Poincareplane:xte,pointint:Tte,popf:Ste,Popf:Ete,pound:Mte,prap:Ote,Pr:Nte,pr:Lte,prcue:Ate,precapprox:Dte,prec:Ite,preccurlyeq:Rte,Precedes:Pte,PrecedesEqual:_te,PrecedesSlantEqual:Bte,PrecedesTilde:Fte,preceq:Hte,precnapprox:zte,precneqq:$te,precnsim:Vte,pre:jte,prE:qte,precsim:Ute,prime:Wte,Prime:Gte,primes:Kte,prnap:Qte,prnE:Jte,prnsim:Xte,prod:Yte,Product:Zte,profalar:ere,profline:tre,profsurf:rre,prop:nre,Proportional:ire,Proportion:are,propto:ore,prsim:sre,prurel:lre,Pscr:ure,pscr:cre,Psi:fre,psi:dre,puncsp:hre,Qfr:pre,qfr:vre,qint:mre,qopf:gre,Qopf:yre,qprime:wre,Qscr:bre,qscr:kre,quaternions:Cre,quatint:xre,quest:Tre,questeq:Sre,quot:Ere,QUOT:Mre,rAarr:Ore,race:Nre,Racute:Lre,racute:Are,radic:Dre,raemptyv:Ire,rang:Rre,Rang:Pre,rangd:_re,range:Bre,rangle:Fre,raquo:Hre,rarrap:zre,rarrb:$re,rarrbfs:Vre,rarrc:jre,rarr:qre,Rarr:Ure,rArr:Wre,rarrfs:Gre,rarrhk:Kre,rarrlp:Qre,rarrpl:Jre,rarrsim:Xre,Rarrtl:Yre,rarrtl:Zre,rarrw:ene,ratail:tne,rAtail:rne,ratio:nne,rationals:ine,rbarr:ane,rBarr:one,RBarr:sne,rbbrk:lne,rbrace:une,rbrack:cne,rbrke:fne,rbrksld:dne,rbrkslu:hne,Rcaron:pne,rcaron:vne,Rcedil:mne,rcedil:gne,rceil:yne,rcub:wne,Rcy:bne,rcy:kne,rdca:Cne,rdldhar:xne,rdquo:Tne,rdquor:Sne,rdsh:Ene,real:Mne,realine:One,realpart:Nne,reals:Lne,Re:Ane,rect:Dne,reg:Ine,REG:Rne,ReverseElement:Pne,ReverseEquilibrium:_ne,ReverseUpEquilibrium:Bne,rfisht:Fne,rfloor:Hne,rfr:zne,Rfr:$ne,rHar:Vne,rhard:jne,rharu:qne,rharul:Une,Rho:Wne,rho:Gne,rhov:Kne,RightAngleBracket:Qne,RightArrowBar:Jne,rightarrow:Xne,RightArrow:Yne,Rightarrow:Zne,RightArrowLeftArrow:eie,rightarrowtail:tie,RightCeiling:rie,RightDoubleBracket:nie,RightDownTeeVector:iie,RightDownVectorBar:aie,RightDownVector:oie,RightFloor:sie,rightharpoondown:lie,rightharpoonup:uie,rightleftarrows:cie,rightleftharpoons:fie,rightrightarrows:die,rightsquigarrow:hie,RightTeeArrow:pie,RightTee:vie,RightTeeVector:mie,rightthreetimes:gie,RightTriangleBar:yie,RightTriangle:wie,RightTriangleEqual:bie,RightUpDownVector:kie,RightUpTeeVector:Cie,RightUpVectorBar:xie,RightUpVector:Tie,RightVectorBar:Sie,RightVector:Eie,ring:Mie,risingdotseq:Oie,rlarr:Nie,rlhar:Lie,rlm:Aie,rmoustache:Die,rmoust:Iie,rnmid:Rie,roang:Pie,roarr:_ie,robrk:Bie,ropar:Fie,ropf:Hie,Ropf:zie,roplus:$ie,rotimes:Vie,RoundImplies:jie,rpar:qie,rpargt:Uie,rppolint:Wie,rrarr:Gie,Rrightarrow:Kie,rsaquo:Qie,rscr:Jie,Rscr:Xie,rsh:Yie,Rsh:Zie,rsqb:eae,rsquo:tae,rsquor:rae,rthree:nae,rtimes:iae,rtri:aae,rtrie:oae,rtrif:sae,rtriltri:lae,RuleDelayed:uae,ruluhar:cae,rx:fae,Sacute:dae,sacute:hae,sbquo:pae,scap:vae,Scaron:mae,scaron:gae,Sc:yae,sc:wae,sccue:bae,sce:kae,scE:Cae,Scedil:xae,scedil:Tae,Scirc:Sae,scirc:Eae,scnap:Mae,scnE:Oae,scnsim:Nae,scpolint:Lae,scsim:Aae,Scy:Dae,scy:Iae,sdotb:Rae,sdot:Pae,sdote:_ae,searhk:Bae,searr:Fae,seArr:Hae,searrow:zae,sect:$ae,semi:Vae,seswar:jae,setminus:qae,setmn:Uae,sext:Wae,Sfr:Gae,sfr:Kae,sfrown:Qae,sharp:Jae,SHCHcy:Xae,shchcy:Yae,SHcy:Zae,shcy:eoe,ShortDownArrow:toe,ShortLeftArrow:roe,shortmid:noe,shortparallel:ioe,ShortRightArrow:aoe,ShortUpArrow:ooe,shy:soe,Sigma:loe,sigma:uoe,sigmaf:coe,sigmav:foe,sim:doe,simdot:hoe,sime:poe,simeq:voe,simg:moe,simgE:goe,siml:yoe,simlE:woe,simne:boe,simplus:koe,simrarr:Coe,slarr:xoe,SmallCircle:Toe,smallsetminus:Soe,smashp:Eoe,smeparsl:Moe,smid:Ooe,smile:Noe,smt:Loe,smte:Aoe,smtes:Doe,SOFTcy:Ioe,softcy:Roe,solbar:Poe,solb:_oe,sol:Boe,Sopf:Foe,sopf:Hoe,spades:zoe,spadesuit:$oe,spar:Voe,sqcap:joe,sqcaps:qoe,sqcup:Uoe,sqcups:Woe,Sqrt:Goe,sqsub:Koe,sqsube:Qoe,sqsubset:Joe,sqsubseteq:Xoe,sqsup:Yoe,sqsupe:Zoe,sqsupset:ese,sqsupseteq:tse,square:rse,Square:nse,SquareIntersection:ise,SquareSubset:ase,SquareSubsetEqual:ose,SquareSuperset:sse,SquareSupersetEqual:lse,SquareUnion:use,squarf:cse,squ:fse,squf:dse,srarr:hse,Sscr:pse,sscr:vse,ssetmn:mse,ssmile:gse,sstarf:yse,Star:wse,star:bse,starf:kse,straightepsilon:Cse,straightphi:xse,strns:Tse,sub:Sse,Sub:Ese,subdot:Mse,subE:Ose,sube:Nse,subedot:Lse,submult:Ase,subnE:Dse,subne:Ise,subplus:Rse,subrarr:Pse,subset:_se,Subset:Bse,subseteq:Fse,subseteqq:Hse,SubsetEqual:zse,subsetneq:$se,subsetneqq:Vse,subsim:jse,subsub:qse,subsup:Use,succapprox:Wse,succ:Gse,succcurlyeq:Kse,Succeeds:Qse,SucceedsEqual:Jse,SucceedsSlantEqual:Xse,SucceedsTilde:Yse,succeq:Zse,succnapprox:ele,succneqq:tle,succnsim:rle,succsim:nle,SuchThat:ile,sum:ale,Sum:ole,sung:sle,sup1:lle,sup2:ule,sup3:cle,sup:fle,Sup:dle,supdot:hle,supdsub:ple,supE:vle,supe:mle,supedot:gle,Superset:yle,SupersetEqual:wle,suphsol:ble,suphsub:kle,suplarr:Cle,supmult:xle,supnE:Tle,supne:Sle,supplus:Ele,supset:Mle,Supset:Ole,supseteq:Nle,supseteqq:Lle,supsetneq:Ale,supsetneqq:Dle,supsim:Ile,supsub:Rle,supsup:Ple,swarhk:_le,swarr:Ble,swArr:Fle,swarrow:Hle,swnwar:zle,szlig:$le,Tab:Vle,target:jle,Tau:qle,tau:Ule,tbrk:Wle,Tcaron:Gle,tcaron:Kle,Tcedil:Qle,tcedil:Jle,Tcy:Xle,tcy:Yle,tdot:Zle,telrec:eue,Tfr:tue,tfr:rue,there4:nue,therefore:iue,Therefore:aue,Theta:oue,theta:sue,thetasym:lue,thetav:uue,thickapprox:cue,thicksim:fue,ThickSpace:due,ThinSpace:hue,thinsp:pue,thkap:vue,thksim:mue,THORN:gue,thorn:yue,tilde:wue,Tilde:bue,TildeEqual:kue,TildeFullEqual:Cue,TildeTilde:xue,timesbar:Tue,timesb:Sue,times:Eue,timesd:Mue,tint:Oue,toea:Nue,topbot:Lue,topcir:Aue,top:Due,Topf:Iue,topf:Rue,topfork:Pue,tosa:_ue,tprime:Bue,trade:Fue,TRADE:Hue,triangle:zue,triangledown:$ue,triangleleft:Vue,trianglelefteq:jue,triangleq:que,triangleright:Uue,trianglerighteq:Wue,tridot:Gue,trie:Kue,triminus:Que,TripleDot:Jue,triplus:Xue,trisb:Yue,tritime:Zue,trpezium:ece,Tscr:tce,tscr:rce,TScy:nce,tscy:ice,TSHcy:ace,tshcy:oce,Tstrok:sce,tstrok:lce,twixt:uce,twoheadleftarrow:cce,twoheadrightarrow:fce,Uacute:dce,uacute:hce,uarr:pce,Uarr:vce,uArr:mce,Uarrocir:gce,Ubrcy:yce,ubrcy:wce,Ubreve:bce,ubreve:kce,Ucirc:Cce,ucirc:xce,Ucy:Tce,ucy:Sce,udarr:Ece,Udblac:Mce,udblac:Oce,udhar:Nce,ufisht:Lce,Ufr:Ace,ufr:Dce,Ugrave:Ice,ugrave:Rce,uHar:Pce,uharl:_ce,uharr:Bce,uhblk:Fce,ulcorn:Hce,ulcorner:zce,ulcrop:$ce,ultri:Vce,Umacr:jce,umacr:qce,uml:Uce,UnderBar:Wce,UnderBrace:Gce,UnderBracket:Kce,UnderParenthesis:Qce,Union:Jce,UnionPlus:Xce,Uogon:Yce,uogon:Zce,Uopf:efe,uopf:tfe,UpArrowBar:rfe,uparrow:nfe,UpArrow:ife,Uparrow:afe,UpArrowDownArrow:ofe,updownarrow:sfe,UpDownArrow:lfe,Updownarrow:ufe,UpEquilibrium:cfe,upharpoonleft:ffe,upharpoonright:dfe,uplus:hfe,UpperLeftArrow:pfe,UpperRightArrow:vfe,upsi:mfe,Upsi:gfe,upsih:yfe,Upsilon:wfe,upsilon:bfe,UpTeeArrow:kfe,UpTee:Cfe,upuparrows:xfe,urcorn:Tfe,urcorner:Sfe,urcrop:Efe,Uring:Mfe,uring:Ofe,urtri:Nfe,Uscr:Lfe,uscr:Afe,utdot:Dfe,Utilde:Ife,utilde:Rfe,utri:Pfe,utrif:_fe,uuarr:Bfe,Uuml:Ffe,uuml:Hfe,uwangle:zfe,vangrt:$fe,varepsilon:Vfe,varkappa:jfe,varnothing:qfe,varphi:Ufe,varpi:Wfe,varpropto:Gfe,varr:Kfe,vArr:Qfe,varrho:Jfe,varsigma:Xfe,varsubsetneq:Yfe,varsubsetneqq:Zfe,varsupsetneq:ede,varsupsetneqq:tde,vartheta:rde,vartriangleleft:nde,vartriangleright:ide,vBar:ade,Vbar:ode,vBarv:sde,Vcy:lde,vcy:ude,vdash:cde,vDash:fde,Vdash:dde,VDash:hde,Vdashl:pde,veebar:vde,vee:mde,Vee:gde,veeeq:yde,vellip:wde,verbar:bde,Verbar:kde,vert:Cde,Vert:xde,VerticalBar:Tde,VerticalLine:Sde,VerticalSeparator:Ede,VerticalTilde:Mde,VeryThinSpace:Ode,Vfr:Nde,vfr:Lde,vltri:Ade,vnsub:Dde,vnsup:Ide,Vopf:Rde,vopf:Pde,vprop:_de,vrtri:Bde,Vscr:Fde,vscr:Hde,vsubnE:zde,vsubne:$de,vsupnE:Vde,vsupne:jde,Vvdash:qde,vzigzag:Ude,Wcirc:Wde,wcirc:Gde,wedbar:Kde,wedge:Qde,Wedge:Jde,wedgeq:Xde,weierp:Yde,Wfr:Zde,wfr:ehe,Wopf:the,wopf:rhe,wp:nhe,wr:ihe,wreath:ahe,Wscr:ohe,wscr:she,xcap:lhe,xcirc:uhe,xcup:che,xdtri:fhe,Xfr:dhe,xfr:hhe,xharr:phe,xhArr:vhe,Xi:mhe,xi:ghe,xlarr:yhe,xlArr:whe,xmap:bhe,xnis:khe,xodot:Che,Xopf:xhe,xopf:The,xoplus:She,xotime:Ehe,xrarr:Mhe,xrArr:Ohe,Xscr:Nhe,xscr:Lhe,xsqcup:Ahe,xuplus:Dhe,xutri:Ihe,xvee:Rhe,xwedge:Phe,Yacute:_he,yacute:Bhe,YAcy:Fhe,yacy:Hhe,Ycirc:zhe,ycirc:$he,Ycy:Vhe,ycy:jhe,yen:qhe,Yfr:Uhe,yfr:Whe,YIcy:Ghe,yicy:Khe,Yopf:Qhe,yopf:Jhe,Yscr:Xhe,yscr:Yhe,YUcy:Zhe,yucy:epe,yuml:tpe,Yuml:rpe,Zacute:npe,zacute:ipe,Zcaron:ape,zcaron:ope,Zcy:spe,zcy:lpe,Zdot:upe,zdot:cpe,zeetrf:fpe,ZeroWidthSpace:dpe,Zeta:hpe,zeta:ppe,zfr:vpe,Zfr:mpe,ZHcy:gpe,zhcy:ype,zigrarr:wpe,zopf:bpe,Zopf:kpe,Zscr:Cpe,zscr:xpe,zwj:Tpe,zwnj:Spe},Epe="",Mpe="",Ope="",Npe="",Lpe="",Ape="",Dpe="",Ipe="",Rpe="",Ppe="&",_pe="&",Bpe="",Fpe="",Hpe="",zpe="",$pe="",Vpe="",jpe="",qpe="",Upe="",Wpe="",Gpe="",Kpe="",Qpe="",Jpe="",Xpe="",Ype="",Zpe="",eve="",tve="",rve="",nve="",ive="",ave="",ove="",sve="",lve="",uve="",cve="",fve="",dve=">",hve=">",pve="",vve="",mve="",gve="",yve="",wve="",bve="",kve="",Cve="",xve="",Tve="",Sve="<",Eve="<",Mve="",Ove="",Nve="",Lve="",Ave="",Dve="",Ive="",Rve="",Pve="",_ve="",Bve="",Fve="",Hve="",zve="",$ve="",Vve="",jve="",qve="",Uve="",Wve="",Gve="",Kve="",Qve="",Jve="",Xve='"',Yve='"',Zve="",eme="",tme="",rme="",nme="",ime="",ame="",ome="",sme="",lme="",ume="",cme="",fme="",dme="",hme="",pme="",vme="",mme="",gme="",yme="",wme="",bme="",kme="",Cme="",xme="",Tme={Aacute:Epe,aacute:Mpe,Acirc:Ope,acirc:Npe,acute:Lpe,AElig:Ape,aelig:Dpe,Agrave:Ipe,agrave:Rpe,amp:Ppe,AMP:_pe,Aring:Bpe,aring:Fpe,Atilde:Hpe,atilde:zpe,Auml:$pe,auml:Vpe,brvbar:jpe,Ccedil:qpe,ccedil:Upe,cedil:Wpe,cent:Gpe,copy:Kpe,COPY:Qpe,curren:Jpe,deg:Xpe,divide:Ype,Eacute:Zpe,eacute:eve,Ecirc:tve,ecirc:rve,Egrave:nve,egrave:ive,ETH:ave,eth:ove,Euml:sve,euml:lve,frac12:uve,frac14:cve,frac34:fve,gt:dve,GT:hve,Iacute:pve,iacute:vve,Icirc:mve,icirc:gve,iexcl:yve,Igrave:wve,igrave:bve,iquest:kve,Iuml:Cve,iuml:xve,laquo:Tve,lt:Sve,LT:Eve,macr:Mve,micro:Ove,middot:Nve,nbsp:Lve,not:Ave,Ntilde:Dve,ntilde:Ive,Oacute:Rve,oacute:Pve,Ocirc:_ve,ocirc:Bve,Ograve:Fve,ograve:Hve,ordf:zve,ordm:$ve,Oslash:Vve,oslash:jve,Otilde:qve,otilde:Uve,Ouml:Wve,ouml:Gve,para:Kve,plusmn:Qve,pound:Jve,quot:Xve,QUOT:Yve,raquo:Zve,reg:eme,REG:tme,sect:rme,shy:nme,sup1:ime,sup2:ame,sup3:ome,szlig:sme,THORN:lme,thorn:ume,times:cme,Uacute:fme,uacute:dme,Ucirc:hme,ucirc:pme,Ugrave:vme,ugrave:mme,uml:gme,Uuml:yme,uuml:wme,Yacute:bme,yacute:kme,yen:Cme,yuml:xme},Sme="&",Eme="'",Mme=">",Ome="<",Nme='"',mT={amp:Sme,apos:Eme,gt:Mme,lt:Ome,quot:Nme},Em={},Lme={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},Ame=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Em,"__esModule",{value:!0});var L0=Ame(Lme),Dme=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function Ime(t){return t>=55296&&t<=57343||t>1114111?"":(t in L0.default&&(t=L0.default[t]),Dme(t))}Em.default=Ime;var jf=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.decodeHTML=Qn.decodeHTMLStrict=Qn.decodeXML=void 0;var lv=jf(vT),Rme=jf(Tme),Pme=jf(mT),A0=jf(Em),_me=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Qn.decodeXML=gT(Pme.default);Qn.decodeHTMLStrict=gT(lv.default);function gT(t){var e=yT(t);return function(r){return String(r).replace(_me,e)}}var D0=function(t,e){return t<e?1:-1};Qn.decodeHTML=function(){for(var t=Object.keys(Rme.default).sort(D0),e=Object.keys(lv.default).sort(D0),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=yT(lv.default);function s(u){return u.substr(-1)!==";"&&(u+=";"),a(u)}return function(u){return String(u).replace(i,s)}}();function yT(t){return function(r){if(r.charAt(1)==="#"){var n=r.charAt(2);return n==="X"||n==="x"?A0.default(parseInt(r.substr(3),16)):A0.default(parseInt(r.substr(2),10))}return t[r.slice(1,-1)]||r}}var gr={},wT=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});gr.escapeUTF8=gr.escape=gr.encodeNonAsciiHTML=gr.encodeHTML=gr.encodeXML=void 0;var Bme=wT(mT),bT=CT(Bme.default),kT=xT(bT);gr.encodeXML=ET(bT);var Fme=wT(vT),Mm=CT(Fme.default),Hme=xT(Mm);gr.encodeHTML=$me(Mm,Hme);gr.encodeNonAsciiHTML=ET(Mm);function CT(t){return Object.keys(t).sort().reduce(function(e,r){return e[t[r]]="&"+r+";",e},{})}function xT(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):r.push(a)}e.sort();for(var s=0;s<e.length-1;s++){for(var u=s;u<e.length-1&&e[u].charCodeAt(1)+1===e[u+1].charCodeAt(1);)u+=1;var c=1+u-s;c<3||e.splice(s,c,e[s]+"-"+e[u])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}var TT=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,zme=String.prototype.codePointAt!=null?function(t){return t.codePointAt(0)}:function(t){return(t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)-56320+65536};function qf(t){return"&#x"+(t.length>1?zme(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function $me(t,e){return function(r){return r.replace(e,function(n){return t[n]}).replace(TT,qf)}}var ST=new RegExp(kT.source+"|"+TT.source,"g");function Vme(t){return t.replace(ST,qf)}gr.escape=Vme;function jme(t){return t.replace(kT,qf)}gr.escapeUTF8=jme;function ET(t){return function(e){return e.replace(ST,function(r){return t[r]||qf(r)})}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=Qn,r=gr;function n(c,d){return(!d||d<=0?e.decodeXML:e.decodeHTML)(c)}t.decode=n;function i(c,d){return(!d||d<=0?e.decodeXML:e.decodeHTMLStrict)(c)}t.decodeStrict=i;function a(c,d){return(!d||d<=0?r.encodeXML:r.encodeHTML)(c)}t.encode=a;var s=gr;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return s.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return s.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return s.encodeHTML}});var u=Qn;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return u.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return u.decodeXML}})})(Sm);var MT="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",qme=92,Ume=/[\\&]/,Om="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",Wme=new RegExp("\\\\"+Om+"|"+MT,"gi"),Gme='[&<>"]',I0=new RegExp(Gme,"g"),Kme=function(t){return t.charCodeAt(0)===qme?t.charAt(1):Sm.decodeHTML(t)};function vl(t){return Ume.test(t)?t.replace(Wme,Kme):t}function dc(t){try{return l_(t)}catch{return t}}function Qme(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function Mo(t){return I0.test(t)?t.replace(I0,Qme):t}function uv(t,e){for(var r=[],n=0;n<e;n++)r.push(t);return r.join("")}function R0(t){return t?!/[^ \t]+/.test(t):!0}var Jme=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.next=function(){var e=this.current,r=this.entering;if(e===null)return null;var n=Nm(e);return r&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:r,node:e}},t.prototype.resumeAt=function(e,r){this.current=e,this.entering=r===!0},t}();function Nm(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var Xme=1,Uf={};function Yme(t){return Uf[t]}function cv(t){delete Uf[t]}function Zme(){Uf={}}var Wl=function(){function t(e,r){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=Xme++,this.type=e,this.sourcepos=r,Uf[this.id]=this}return t.prototype.isContainer=function(){return Nm(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},t.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},t.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},t.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.walker=function(){return new Jme(this)},t}(),Yn=function(t){Pr(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=r,i}return e}(Wl),ege=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.listData=null,r}return e}(Yn),tge=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.level=0,r.headingType="atx",r}return e}(Yn),rge=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isFenced=!1,r.fenceChar=null,r.fenceLength=0,r.fenceOffset=-1,r.info=null,r.infoPadding=0,r}return e}(Yn),nge=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.columns=[],r}return e}(Yn),ige=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startIdx=0,r.endIdx=0,r.paddingLeft=0,r.paddingRight=0,r.ignored=!1,r}return e}(Yn),age=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.title="",r.dest="",r.label="",r}return e}(Yn),oge=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.syntaxLength=0,r.offset=-1,r.info="",r}return e}(Yn),sge=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.htmlBlockType=-1,r}return e}(Yn),lge=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.destination=null,r.title=null,r.extendedAutolink=!1,r}return e}(Wl),uge=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.tickCount=0,r}return e}(Wl),cge=function(t){Pr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.info="",r}return e}(Wl);function rt(t,e){switch(t){case"heading":return new tge(t,e);case"list":case"item":return new ege(t,e);case"link":case"image":return new lge(t,e);case"codeBlock":return new rge(t,e);case"htmlBlock":return new sge(t,e);case"table":return new nge(t,e);case"tableCell":return new ige(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Yn(t,e);case"code":return new uge(t,e);case"refDef":return new age(t,e);case"customBlock":return new oge(t,e);case"customInline":return new cge(t,e);default:return new Wl(t,e)}}function OT(t){return t.type==="codeBlock"}function fge(t){return t.type==="htmlBlock"}function dge(t){return t.type==="heading"}function P0(t){return t.type==="list"}function hge(t){return t.type==="table"}function Co(t){return t.type==="refDef"}function NT(t){return t.type==="customBlock"}function pge(t){return t.type==="customInline"}function ht(t,e){var r=rt("text",e);return r.literal=t,r}var LT="[A-Za-z][A-Za-z0-9-]*",vge="[a-zA-Z_:][a-zA-Z0-9:._-]*",mge="[^\"'=<>`\\x00-\\x20]+",gge="'[^']*'",yge='"[^"]*"',wge="(?:"+mge+"|"+gge+"|"+yge+")",bge="(?:\\s*=\\s*"+wge+")",kge="(?:\\s+"+vge+bge+"?)",AT="<"+LT+kge+"*\\s*/?>",DT="</"+LT+"\\s*[>]",Cge="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",xge="[<][?].*?[?][>]",Tge="<![A-Z]+\\s+[^>]*>",Sge="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Ege="(?:"+AT+"|"+DT+"|"+Cge+"|"+xge+"|"+Tge+"|"+Sge+")",Mge=new RegExp("^"+Ege,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var fv;if(String.fromCodePoint)fv=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return"";throw e}};else{var Oge=String.fromCharCode,Nge=Math.floor;fv=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=16384,n=[],i,a,s=-1,u=t.length;if(!u)return"";for(var c="";++s<u;){var d=Number(t[s]);if(!isFinite(d)||d<0||d>1114111||Nge(d)!==d)return"";d<=65535?n.push(d):(d-=65536,i=(d>>10)+55296,a=d%1024+56320,n.push(i,a)),(s+1===u||n.length>r)&&(c+=Oge.apply(void 0,n),n.length=0)}return c}}var cp=fv,Lge="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Age="[^<\\s]*[^<?!.,:*_?~\\s]",Dge="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function Ige(t){var e=/\)+$/.exec(t);if(e){for(var r=0,n=0,i=t;n<i.length;n++){var a=i[n];a==="("?r<0?r=1:r+=1:a===")"&&(r-=1)}if(r<0){var s=Math.min(-r,e[0].length);return t.substring(0,t.length-s)}}return t}function Rge(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function Pge(t){for(var e=new RegExp(Dge,"g"),r=[],n;n=e.exec(t);){var i=n[0];/[_-]+$/.test(i)||r.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return r}function _ge(t){for(var e=new RegExp("(www|https?://)."+Lge+Age,"g"),r=[],n;n=e.exec(t);){var i=Rge(Ige(n[0])),a=n[1]==="www"?"http://":"";r.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return r}function Bge(t){return sv(sv([],_ge(t)),Pge(t)).sort(function(e,r){return e.range[0]-r.range[0]})}function Fge(t,e){typeof e=="boolean"&&(e=Bge);for(var r,n=function(){var i=r.entering,a=r.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var s=a.literal,u=e(s);if(!u||!u.length)return"continue";for(var c=0,d=a.sourcepos[0],p=d[0],v=d[1],g=function(ee,K){return[[p,v+ee],[p,v+K]]},w=[],b=0,C=u;b<C.length;b++){var k=C[b],T=k.range,M=k.url,N=k.text;T[0]>c&&w.push(ht(s.substring(c,T[0]),g(c,T[0]-1)));var R=rt("link",g.apply(void 0,T));R.appendChild(ht(N,g.apply(void 0,T))),R.destination=M,R.extendedAutolink=!0,w.push(R),c=T[1]+1}c<s.length&&w.push(ht(s.substring(c),g(c,s.length-1)));for(var B=0,z=w;B<z.length;B++){var G=z[B];a.insertBefore(G)}a.unlink()}};r=t.next();)n()}function lf(t){return t[t.length-1]}function _0(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function hc(t,e){Object.keys(t).forEach(function(r){e(r,t[r])})}function Hge(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Nt({},t);return e.forEach(function(i){delete n[i]}),n}function xo(t){return!Object.keys(t).length}function zge(t){Object.keys(t).forEach(function(e){delete t[e]})}var dv=10,fp=42,pc=95,$ge=96,B0=91,Vge=93,vc=126,F0=60,jge=33,H0=92,qge=38,z0=40,dp=41,Uge=58,pa=39,va=34,ma=36,hp="\\\\"+Om,$0=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),Wge=new RegExp('^(?:"('+hp+'|[^"\\x00])*"|'+("'("+hp+"|[^'\\x00])*'")+"|"+("\\(("+hp+"|[^()\\x00])*\\))")),Gge=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,V0=new RegExp("^"+Om),Kge=new RegExp("^"+MT,"i"),Qge=/`+/,Jge=/^`+/,Xge=/\.\.\./g,Yge=/--+/g,Zge=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,eye=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,tye=/^ *(?:\n *)?/,pp=/^[ \t\n\x0b\x0c\x0d]/,j0=/^\s/,rye=/ *$/,nye=/^ */,q0=/^ *(?:\n|$)/,iye=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,aye=/^[^\n`\[\]\\!<&*_'"~$]+/m,oye=function(){function t(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return t.prototype.sourcepos=function(e,r){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof r=="number"?[a,[i,r+n]]:a},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(e){var r=e.exec(this.subject.slice(this.pos));return r===null?null:(this.pos+=r.index+r[0].length,r[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(tye),!0},t.prototype.parseBackticks=function(e){var r=this.pos+1,n=this.match(Jge);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(Qge))!==null;)if(a===n){var s=this.subject.slice(i,this.pos-n.length),u=this.sourcepos(r,this.pos),c=s.split(`
`);if(c.length>1){var d=lf(c);this.lineIdx+=c.length-1,this.linePosOffset=-(this.pos-d.length-n.length),u[1]=this.sourcepos(this.pos),s=c.join(" ")}var p=rt("code",u);return s.length>0&&s.match(/[^ ]/)!==null&&s[0]==" "&&s[s.length-1]==" "?p.literal=s.slice(1,s.length-1):p.literal=s,p.tickCount=n.length,e.appendChild(p),!0}return this.pos=i,e.appendChild(ht(n,this.sourcepos(r,this.pos-1))),!0},t.prototype.parseBackslash=function(e){var r=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===dv?(this.pos+=1,n=rt("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):V0.test(r.charAt(this.pos))?(e.appendChild(ht(r.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(ht("\\",this.sourcepos(i,i))),!0},t.prototype.parseAutolink=function(e){var r,n,i,a=this.pos+1;return(r=this.match(Zge))?(n=r.slice(1,r.length-1),i=rt("link",this.sourcepos(a,this.pos)),i.destination=dc("mailto:"+n),i.title="",i.appendChild(ht(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(r=this.match(eye))?(n=r.slice(1,r.length-1),i=rt("link",this.sourcepos(a,this.pos)),i.destination=dc(n),i.title="",i.appendChild(ht(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},t.prototype.parseHtmlTag=function(e){var r=this.pos+1,n=this.match(Mge);if(n===null)return!1;var i=rt("htmlInline",this.sourcepos(r,this.pos));return i.literal=n,e.appendChild(i),!0},t.prototype.scanDelims=function(e){var r=0,n=this.pos;if(e===pa||e===va)r++,this.pos++;else for(;this.peek()===e;)r++,this.pos++;if(r===0||r<2&&(e===vc||e===ma))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),s;a===-1?s=`
`:s=cp(a);var u=j0.test(s),c=$0.test(s),d=j0.test(i),p=$0.test(i),v=!u&&(!c||d||p),g=!d&&(!p||u||c),w,b;return e===pc?(w=v&&(!g||p),b=g&&(!v||c)):e===pa||e===va?(w=v&&!g,b=g):e===ma?(w=!u,b=!d):(w=v,b=g),this.pos=n,{numdelims:r,canOpen:w,canClose:b}},t.prototype.handleDelim=function(e,r){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,s;this.pos+=i,e===pa?s="":e===va?s="":s=this.subject.slice(a-1,this.pos);var u=ht(s,this.sourcepos(a,this.pos));return r.appendChild(u),(n.canOpen||n.canClose)&&(this.options.smart||e!==pa&&e!==va)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:u,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},t.prototype.removeDelimitersBetween=function(e,r){e.next!==r&&(e.next=r,r.previous=e)},t.prototype.processEmphasis=function(e){var r,n,i,a,s,u,c,d=!1,p=(r={},r[pc]=[e,e,e],r[fp]=[e,e,e],r[pa]=[e],r[va]=[e],r[vc]=[e],r[ma]=[e],r);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var v=i.cc,g=v===pc||v===fp;if(!i.canClose)i=i.next;else{for(n=i.previous,c=!1;n!==null&&n!==e&&n!==p[v][g?i.origdelims%3:0];){if(d=g&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!d){c=!0;break}n=n.previous}if(a=i,g||v===vc||v===ma){if(!c)i=i.next;else if(n){var w=i.numdelims>=2&&n.numdelims>=2?2:1,b=g?0:1;s=n.node,u=i.node;var C=g?w===1?"emph":"strong":"strike";v===ma&&(C="customInline");var k=rt(C),T=s.sourcepos[1],M=u.sourcepos[0];k.sourcepos=[[T[0],T[1]-w+1],[M[0],M[1]+w-1]],s.sourcepos[1][1]-=w,u.sourcepos[0][1]+=w,s.literal=s.literal.slice(w),u.literal=u.literal.slice(w),n.numdelims-=w,i.numdelims-=w;for(var N=s.next,R=void 0;N&&N!==u;)R=N.next,N.unlink(),k.appendChild(N),N=R;if(v===ma){var B=k.firstChild,z=B.literal||"",G=z.split(/\s/)[0];k.info=G,z.length<=G.length?B.unlink():(B.sourcepos[0][1]+=G.length,B.literal=z.replace(G+" ",""))}if(s.insertAfter(k),this.removeDelimitersBetween(n,i),n.numdelims<=b&&(n.numdelims===0&&s.unlink(),this.removeDelimiter(n)),i.numdelims<=b){i.numdelims===0&&u.unlink();var ee=i.next;this.removeDelimiter(i),i=ee}}}else v===pa?(i.node.literal="",c&&(n.node.literal=""),i=i.next):v===va&&(i.node.literal="",c&&(n.node.literal=""),i=i.next);c||(p[v][g?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var e=this.match(Wge);return e===null?null:vl(e.substr(1,e.length-2))},t.prototype.parseLinkDestination=function(){var e=this.match(Gge);if(e===null){if(this.peek()===F0)return null;for(var r=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===H0&&V0.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===z0)this.pos+=1,n+=1;else if(i===dp){if(n<1)break;this.pos+=1,n-=1}else{if(pp.exec(cp(i))!==null)break;this.pos+=1}return this.pos===r&&i!==dp||n!==0?null:(e=this.subject.substr(r,this.pos-r),dc(vl(e)))}return dc(vl(e.substr(1,e.length-2)))},t.prototype.parseLinkLabel=function(){var e=this.match(iye);return e===null||e.length>1001?0:e.length},t.prototype.parseOpenBracket=function(e){var r=this.pos;this.pos+=1;var n=ht("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,r,!1),!0},t.prototype.parseBang=function(e){var r=this.pos;if(this.pos+=1,this.peek()===B0){this.pos+=1;var n=ht("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,r+1,!0)}else{var n=ht("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(e){var r=null,n=null,i=!1;this.pos+=1;var a=this.pos,s=this.brackets;if(s===null)return e.appendChild(ht("]",this.sourcepos(a,a))),!0;if(!s.active)return e.appendChild(ht("]",this.sourcepos(a,a))),this.removeBracket(),!0;var u=s.image,c=this.pos;this.peek()===z0&&(this.pos++,this.spnl()&&(r=this.parseLinkDestination())!==null&&this.spnl()&&(pp.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===dp?(this.pos+=1,i=!0):this.pos=c);var d="";if(!i){var p=this.pos,v=this.parseLinkLabel();if(v>2?d=this.subject.slice(p,p+v):s.bracketAfter||(d=this.subject.slice(s.index,a)),v===0&&(this.pos=c),d){d=_0(d);var g=this.refMap[d];g&&(r=g.destination,n=g.title,i=!0)}}if(i){var w=rt(u?"image":"link");w.destination=r,w.title=n||"",w.sourcepos=[s.startpos,this.sourcepos(this.pos)];for(var b=s.node.next,C=void 0;b;)C=b.next,b.unlink(),w.appendChild(b),b=C;if(e.appendChild(w),this.processEmphasis(s.previousDelimiter),this.removeBracket(),s.node.unlink(),!u)for(s=this.brackets;s!==null;)s.image||(s.active=!1),s=s.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:d}),!0}return this.removeBracket(),this.pos=a,e.appendChild(ht("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:d}),!0},t.prototype.addBracket=function(e,r,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(r+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:r,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(e){var r,n=this.pos+1;return(r=this.match(Kge))?(e.appendChild(ht(Sm.decodeHTML(r),this.sourcepos(n,this.pos))),!0):!1},t.prototype.parseString=function(e){var r,n=this.pos+1;if(r=this.match(aye)){if(this.options.smart){var i=r.replace(Xge,"").replace(Yge,function(s){var u=0,c=0;return s.length%3===0?c=s.length/3:s.length%2===0?u=s.length/2:s.length%3===2?(u=1,c=(s.length-2)/3):(u=2,c=(s.length-4)/3),uv("",c)+uv("",u)});e.appendChild(ht(i,this.sourcepos(n,this.pos)))}else{var a=ht(r,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},t.prototype.parseNewline=function(e){this.pos+=1;var r=e.lastChild;if(r&&r.type==="text"&&r.literal[r.literal.length-1]===" "){var n=r.literal[r.literal.length-2]===" ",i=r.literal.length;r.literal=r.literal.replace(rye,"");var a=i-r.literal.length;r.sourcepos[1][1]-=a,e.appendChild(rt(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(rt("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(nye),!0},t.prototype.parseReference=function(e,r){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var s=this.subject.substr(0,a);if(this.peek()===Uge)this.pos++;else return this.pos=i,0;this.spnl();var u=this.parseLinkDestination();if(u===null)return this.pos=i,0;var c=this.pos;this.spnl(),this.pos!==c&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=c);var d=!0;if(this.match(q0)===null&&(n===""?d=!1:(n="",this.pos=c,d=this.match(q0)!==null)),!d)return this.pos=i,0;var p=_0(s);if(p==="")return this.pos=i,0;var v=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=v[1][0]+1;var g=rt("refDef",v);return g.title=n,g.dest=u,g.label=p,e.insertBefore(g),r[p]?this.refDefCandidateMap[g.id]=g:r[p]=vv(g),this.pos-i},t.prototype.mergeTextNodes=function(e){for(var r,n=[];r=e.next();){var i=r.entering,a=r.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var s=n[0],u=n[n.length-1];s.sourcepos&&u.sourcepos&&(s.sourcepos[1]=u.sourcepos[1]),s.next=u.next,s.next&&(s.next.prev=s);for(var c=1;c<n.length;c+=1)s.literal+=n[c].literal,n[c].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(e){for(var r=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},s=0;s<r.length;s+=1){var u=r[s];if(pp.test(u))break;if(/\:/.test(u)&&i===0){if(n)break;var c=u.indexOf(":")===u.length-1?s+1:s;a={line:c,ch:r[c].length},n=!0}var d=u.match(/'|"/g);if(d&&(i+=d.length),i===2){a={line:s,ch:u.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},t.prototype.parseInline=function(e){var r,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case dv:n=this.parseNewline(e);break;case H0:n=this.parseBackslash(e);break;case $ge:n=this.parseBackticks(e);break;case fp:case pc:case vc:case ma:n=this.handleDelim(i,e);break;case pa:case va:n=!!(!((r=this.options)===null||r===void 0)&&r.smart)&&this.handleDelim(i,e);break;case B0:n=this.parseOpenBracket(e);break;case jge:n=this.parseBang(e);break;case Vge:n=this.parseCloseBracket(e);break;case F0:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case qge:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(ht(cp(i),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],dge(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var r=this.options,n=r.extendedAutolinks,i=r.customParser;if(n&&Fge(e.walker(),n),i&&e.firstChild)for(var a,s=e.firstChild.walker();a=s.next();){var u=a.node,c=a.entering;i[u.type]&&i[u.type](u,{entering:c,options:this.options})}},t}(),sye=/^\[([ \txX])\][ \t]+/;function lye(t,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var r=e.firstChild,n=r.stringContent.match(sye);if(n){var i=n[0].length;r.stringContent=r.stringContent.substring(i-1),r.sourcepos[0][1]+=i,r.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var uye={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableHead"||t==="tableBody"},acceptsLines:!1},cye={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableRow"},acceptsLines:!1},fye={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableRow"||t==="tableDelimRow"},acceptsLines:!1},dye={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableDelimCell"},acceptsLines:!1},hye={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},pye={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableCell"},acceptsLines:!1},vye={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},uf=4,IT=9,RT=62,mye=60,PT=32,_T=91,BT=/[^ \t\f\v\r\n]/,gye=/^(?:`{3,}|~{3,})(?= *$)/;function U0(t){for(var e=t;e;){if(e.lastLineBlank)return!0;var r=e.type;if(!e.lastLineChecked&&(r==="list"||r==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function wr(t,e){return e<t.length?t.charCodeAt(e):-1}function FT(t){return!BT.test(t)}function Go(t){return t===PT||t===IT}var yye=/^\$\$$/,wye={continue:function(t,e){var r=t.currentLine,n=r.match(yye);if(n)return t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2;for(var i=e.offset;i>0&&Go(wr(r,t.offset));)t.advanceOffset(1,!0),i--;return 0},finalize:function(t,e){if(e.stringContent!==null){var r=e.stringContent,n=r.indexOf(`
`),i=r.slice(0,n),a=r.slice(n+1),s=i.match(/^(\s*)(.*)/);e.info=vl(s[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},HT={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},bye={continue:function(){return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},kye={continue:function(){return 0},finalize:function(t,e){for(var r=e.firstChild;r;){if(U0(r)&&r.next){e.listData.tight=!1;break}for(var n=r.firstChild;n;){if(U0(n)&&(r.next||n.next)){e.listData.tight=!1;break}n=n.next}r=r.next}},canContain:function(t){return t==="item"},acceptsLines:!1},Cye={continue:function(t){var e=t.currentLine;if(!t.indented&&wr(e,t.nextNonspace)===RT)t.advanceNextNonspace(),t.advanceOffset(1,!1),Go(wr(e,t.offset))&&t.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},xye={continue:function(t,e){if(t.blank){if(e.firstChild===null)return 1;t.advanceNextNonspace()}else if(t.indent>=e.listData.markerOffset+e.listData.padding)t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:lye,canContain:function(t){return t!=="item"},acceptsLines:!1},Tye={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Sye={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Eye={continue:function(t,e){var r=t.currentLine,n=t.indent;if(e.isFenced){var i=n<=3&&r.charAt(t.nextNonspace)===e.fenceChar&&r.slice(t.nextNonspace).match(gye);if(i&&i[0].length>=e.fenceLength)return t.lastLineLength=t.offset+n+i[0].length,t.finalize(e,t.lineNumber),2;for(var a=e.fenceOffset;a>0&&Go(wr(r,t.offset));)t.advanceOffset(1,!0),a--}else if(n>=uf)t.advanceOffset(uf,!0);else if(t.blank)t.advanceNextNonspace();else return 1;return 0},finalize:function(t,e){var r;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),s=n.slice(i+1),u=a.match(/^(\s*)(.*)/);e.infoPadding=u[1].length,e.info=vl(u[2].trim()),e.literal=s}else e.literal=(r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Mye={continue:function(t,e){return t.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(t,e){var r;e.literal=((r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Oye={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(e.stringContent!==null){for(var r,n=!1;wr(e.stringContent,0)===_T&&(r=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(r),n=!0;n&&FT(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},Nye=HT,Lye=HT,To={document:bye,list:kye,blockQuote:Cye,item:xye,heading:Tye,thematicBreak:Sye,codeBlock:Eye,htmlBlock:Mye,paragraph:Oye,table:uye,tableBody:cye,tableHead:fye,tableRow:pye,tableCell:vye,tableDelimRow:dye,tableDelimCell:hye,refDef:Nye,customBlock:wye,frontMatter:Lye};function hv(t){for(var e=0,r=0,n=[],i=0;i<t.length;i+=1)if(t[i]==="|"&&t[i-1]!=="\\"){var a=t.substring(e,i);e===0&&R0(a)?r=i+1:n.push(a),e=i+1}if(e<t.length){var a=t.substring(e,t.length);R0(a)||n.push(a)}return[r,n]}function pv(t,e,r,n){for(var i=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.match(/^[ \t]+/),d=c?c[0].length:0,p=void 0,v=void 0;if(d===u.length)d=0,p=0,v="";else{var g=u.match(/[ \t]+$/);p=g?g[0].length:0,v=u.slice(d,u.length-p)}var w=n+d,b=rt(t,[[r,n],[r,n+u.length-1]]);b.stringContent=v.replace(/\\\|/g,"|"),b.startIdx=i.length,b.endIdx=i.length,b.lineOffsets=[w-1],b.paddingLeft=d,b.paddingRight=p,i.push(b),n+=u.length+1}return i}function Aye(t){var e=null,r=t.stringContent,n=r[0],i=r[r.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var Dye=function(t,e){var r=e.stringContent;if(e.type==="paragraph"&&!t.indented&&!t.blank){var n=r.length-1,i=r.lastIndexOf(`
`,n-1)+1,a=r.slice(i,n),s=t.currentLine.slice(t.nextNonspace),u=hv(a),c=u[0],d=u[1],p=hv(s),v=p[0],g=p[1],w=/^[ \t]*:?-+:?[ \t]*$/;if(!d.length||!g.length||g.some(function(ee){return!w.test(ee)})||g.length===1&&s.indexOf("|")!==0)return 0;var b=e.lineOffsets,C=t.lineNumber-1,k=lf(b)+1,T=rt("table",[[C,k],[t.lineNumber,t.offset]]);if(T.columns=g.map(function(){return{align:null}}),e.insertAfter(T),b.length===1)e.unlink();else{e.stringContent=r.slice(0,i);var M=r.lastIndexOf(`
`,i-2)+1,N=i-M-1;t.lastLineLength=b[b.length-2]+N,t.finalize(e,C-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var R=rt("tableHead",[[C,k],[t.lineNumber,t.offset]]);T.appendChild(R);var B=rt("tableRow",[[C,k],[C,k+a.length-1]]),z=rt("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);R.appendChild(B),R.appendChild(z),pv("tableCell",d,C,k+c).forEach(function(ee){B.appendChild(ee)});var G=pv("tableDelimCell",g,t.lineNumber,t.nextNonspace+1+v);return G.forEach(function(ee){z.appendChild(ee)}),T.columns=G.map(Aye),t.tip=T,2}return 0},Iye=function(t,e){if(e.type!=="table"&&e.type!=="tableBody"||!t.blank&&t.currentLine.indexOf("|")===-1)return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var r=e;return e.type==="tableBody"&&(r=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(r,t.lineNumber-1),0}var n=e;e.type==="table"&&(n=t.addChild("tableBody",t.nextNonspace),n.stringContent=null);var i=rt("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);n.appendChild(i);var a=n.parent,s=t.currentLine.slice(t.nextNonspace),u=hv(s),c=u[0],d=u[1];return pv("tableCell",d,t.lineNumber,t.nextNonspace+1+c).forEach(function(p,v){v>=a.columns.length&&(p.ignored=!0),i.appendChild(p)}),2},Rye=/^(\$\$)(\s*[a-zA-Z])+/,Pye=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,_ye=function(t){var e;if(!t.indented&&!Pye.test(t.currentLine)&&(e=t.currentLine.match(Rye))){var r=e[1].length;t.closeUnmatchedBlocks();var n=t.addChild("customBlock",t.nextNonspace);return n.syntaxLength=r,n.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},Bye=/^`{3,}(?!.*`)|^~{3,}/,Fye=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+AT+"|"+DT+")\\s*$","i")],Hye=/^(?:=+|-+)[ \t]*$/,zye=/^#{1,6}(?:[ \t]+|$)/,$ye=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,zT=/^[*+-]/,$T=/^(\d{1,9})([.)])/;function Vye(t,e){var r=t.currentLine.slice(t.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=r.match(zT))a.type="bullet",a.bulletChar=n[0][0];else if((n=r.match($T))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=wr(t.currentLine,t.nextNonspace+n[0].length),!(i===-1||i===IT||i===PT)||e.type==="paragraph"&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(BT))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var s=t.column,u=t.offset;do t.advanceOffset(1,!0),i=wr(t.currentLine,t.offset);while(t.column-s<5&&Go(i));var c=wr(t.currentLine,t.offset)===-1,d=t.column-s;return d>=5||d<1||c?(a.padding=n[0].length+1,t.column=s,t.offset=u,Go(wr(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):a.padding=n[0].length+d,a}function jye(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function VT(t,e){return t.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var qye=function(t){return!t.indented&&wr(t.currentLine,t.nextNonspace)===RT?(t.advanceNextNonspace(),t.advanceOffset(1,!1),Go(wr(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1):0},Uye=function(t,e){var r;if(!t.indented&&!VT(t,e)&&(r=t.currentLine.slice(t.nextNonspace).match(zye))){t.advanceNextNonspace(),t.advanceOffset(r[0].length,!1),t.closeUnmatchedBlocks();var n=t.addChild("heading",t.nextNonspace);return n.level=r[0].trim().length,n.headingType="atx",n.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},Wye=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(Bye))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("codeBlock",t.nextNonspace);return n.isFenced=!0,n.fenceLength=r,n.fenceChar=e[0][0],n.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},Gye=function(t,e){if(!t.indented&&wr(t.currentLine,t.nextNonspace)===mye){var r=t.currentLine.slice(t.nextNonspace),n=t.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=r.match(Fye[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var s=new RegExp("</?(?:"+n.join("|")+")","i");if(s.test(a[0]))return 0}}t.closeUnmatchedBlocks();var u=t.addChild("htmlBlock",t.offset);return u.htmlBlockType=i,2}}}return 0},Kye=function(t,e){var r;if(e.stringContent!==null&&!t.indented&&e.type==="paragraph"&&!VT(t,e.parent)&&(r=t.currentLine.slice(t.nextNonspace).match(Hye))){t.closeUnmatchedBlocks();for(var n=void 0;wr(e.stringContent,0)===_T&&(n=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=rt("heading",e.sourcepos);return i.level=r[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),t.tip=i,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},Qye=function(t){return!t.indented&&$ye.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},Jye=function(t,e){var r,n=e;return(!t.indented||e.type==="list")&&(r=Vye(t,n))?(t.closeUnmatchedBlocks(),(t.tip.type!=="list"||!jye(n.listData,r))&&(n=t.addChild("list",t.nextNonspace),n.listData=r),n=t.addChild("item",t.nextNonspace),n.listData=r,1):0},Xye=function(t){return t.indented&&t.tip.type!=="paragraph"&&!t.blank?(t.advanceOffset(uf,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},vp=[qye,Uye,Wye,Gye,Kye,Qye,Jye,Xye,Dye,Iye,_ye],jT=/^(-{3}|\+{3}|;{3})$/,Yye=function(t,e){var r=t.currentLine,n=t.lineNumber,i=t.indented;if(n===1&&!i&&e.type==="document"&&jT.test(r)){t.closeUnmatchedBlocks();var a=t.addChild("frontMatter",t.nextNonspace);return a.stringContent=r,t.advanceNextNonspace(),t.advanceOffset(r.length,!1),2}return 0},Zye={continue:function(t,e){var r=t.currentLine,n=r.match(jT);return e.type==="frontMatter"&&n?(e.stringContent+=r,t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},ewe=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],twe=/^[#`~*+_=<>0-9-;$]/,rwe=/\r\n|\n|\r/;function mp(){return rt("document",[[1,1],[0,0]])}var nwe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},iwe=function(){function t(e){this.options=Nt(Nt({},nwe),e),this.doc=mp(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(To.frontMatter=Zye,vp.unshift(Yye)),this.inlineParser=new oye(this.options)}return t.prototype.advanceOffset=function(e,r){r===void 0&&(r=!1);for(var n=this.currentLine,i,a,s;e>0&&(s=n[this.offset]);)s==="	"?(i=4-this.column%4,r?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){for(var e=this.currentLine,r=this.offset,n=this.column,i;(i=e.charAt(r))!=="";)if(i===" ")r++,n++;else if(i==="	")r++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=uf},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=uv(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},t.prototype.addChild=function(e,r){for(;!To[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=r+1,i=rt(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},t.prototype.finalize=function(e,r){var n=e.parent;e.open=!1,e.sourcepos[1]=[r,this.lastLineLength],To[e.type].finalize(this,e),this.tip=n},t.prototype.processInlines=function(e){var r,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;r=i.next();){var a=r.node,s=r.entering,u=a.type;n&&n[u]&&n[u](a,{entering:s,options:this.options}),!s&&(u==="paragraph"||u==="heading"||u==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},t.prototype.incorporateLine=function(e){var r=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n=!0,i;(i=r.lastChild)&&i.open;){switch(r=i,this.findNextNonspace(),To[r.type].continue(this,r)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){r=r.parent;break}}this.allClosed=r===this.oldtip,this.lastMatchedContainer=r;for(var a=r.type!=="paragraph"&&To[r.type].acceptsLines,s=vp.length;!a;){if(this.findNextNonspace(),r.type!=="table"&&r.type!=="tableBody"&&r.type!=="paragraph"&&!this.indented&&!twe.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var u=0;u<s;){var c=vp[u](this,r);if(c===1){r=this.tip;break}else if(c===2){r=this.tip,a=!0;break}else u++}if(u===s){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&r.lastChild&&(r.lastChild.lastLineBlank=!0);for(var d=r.type,p=this.blank&&!(d==="blockQuote"||OT(r)&&r.isFenced||d==="item"&&!r.firstChild&&r.sourcepos[0][0]===this.lineNumber),v=r;v;)v.lastLineBlank=p,v=v.parent;To[d].acceptsLines?(this.addLine(),fge(r)&&r.htmlBlockType>=1&&r.htmlBlockType<=5&&ewe[r.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(r,this.lineNumber))):this.offset<e.length&&!this.blank&&(r=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},t.prototype.parse=function(e,r){this.doc=mp(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(rwe),i=n.length;this.lines=r||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===dv&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(e,r){this.doc=mp(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=r.length,i=0;i<n;i++)this.incorporateLine(r[i]);return this.doc},t.prototype.partialParseExtends=function(e){for(var r=0;r<e.length;r++)this.incorporateLine(e[r])},t.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(e,r,n){this.refMap=e,this.refLinkCandidateMap=r,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){zge(e)})},t}();function W0(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function awe(t,e){var r=t[0],n=t[1];return W0(n,e)===1?1:W0(r,e)===-1?-1:0}function owe(t,e){if(!(t.parent!==e.parent||t===e)){for(var r=t.next;r&&r!==e;){for(var n=r.next,i=0,a=["parent","prev","next"];i<a.length;i++){var s=a[i];r[s]&&(cv(r[s].id),r[s]=null)}r=n}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function swe(t){for(var e=[],r=t.firstChild;r;)e.push(r),r=r.next;return e}function G0(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r];t.insertBefore(i)}}function lwe(t,e){for(var r=e.length-1;r>=0;r-=1)t.prependChild(e[r])}function uwe(t,e){if(!(!t||!t.parent||e===0)){var r=t.parent.walker();r.resumeAt(t,!0);for(var n;n=r.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function qT(t,e){var r=t[0],n=t[1];return n[0]<e?1:r[0]>e?-1:0}function mc(t,e){for(var r=t.firstChild;r;){var n=qT(r.sourcepos,e);if(n===0)return r;if(n===-1)return r.prev||r;r=r.next}return t.lastChild}function cwe(t){for(;t.lastChild;)t=t.lastChild;return t}function fwe(t){for(;t.parent&&t.parent.type!=="document"&&t.parent.sourcepos[0][0]===t.sourcepos[0][0];)t=t.parent;return t}function dwe(t,e){for(var r=t.firstChild,n=null;r;){var i=qT(r.sourcepos,e);if(i===0){if(r.sourcepos[0][0]===e||!r.firstChild)return r;n=r,r=r.firstChild}else{if(i===-1)break;n=r,r=r.next}}return n?fwe(cwe(n)):null}function hwe(t,e){for(var r=t,n=null;r;){var i=awe(r.sourcepos,e);if(i===0)if(r.firstChild)n=r,r=r.firstChild;else return r;else{if(i===-1)return n;if(r.next)r=r.next;else return n}}return r}function UT(t){return Yme(t)||null}function gp(t,e,r){if(r===void 0&&(r=null),e)for(var n=e.walker();e&&e!==r;){t(e);var i=n.next();if(i)e=i.node;else break}}function pwe(t){var e=UT(t);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var K0=/\r\n|\n|\r/;function vwe(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var r=e?t.slice(e.length):t;return zT.test(r)||$T.test(r)}function mwe(t){return!FT(t)&&t.indexOf("|")!==-1}function vv(t){var e=t.id,r=t.title,n=t.sourcepos,i=t.dest;return{id:e,title:r,sourcepos:n,unlinked:!1,destination:i}}var WT=function(){function t(e,r){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(r!=null&&r.referenceDefinition),this.parser=new iwe(r),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(K0),this.root=this.parser.parse(e,this.lineTexts)}return t.prototype.updateLineTexts=function(e,r,n){var i,a=e[0],s=e[1],u=r[0],c=r[1],d=n.split(K0),p=d.length,v=this.lineTexts[a-1],g=this.lineTexts[u-1];d[0]=v.slice(0,s-1)+d[0],d[p-1]=d[p-1]+g.slice(c-1);var w=u-a+1;return(i=this.lineTexts).splice.apply(i,sv([a-1,w],d)),p-w},t.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,r=e.length-1;e[r]==="";)r-=1;e.length-2>r&&(r+=1),this.root.sourcepos[1]=[r+1,e[r].length]},t.prototype.replaceRangeNodes=function(e,r,n){e?(G0(e,n),owe(e,r),[e.id,r.id].forEach(function(i){return cv(i)}),e.unlink()):r?(G0(r,n),cv(r.id),r.unlink()):lwe(this.root,n)},t.prototype.getNodeRange=function(e,r){var n=mc(this.root,e[0]),i=mc(this.root,r[0]);return i&&i.next&&r[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},t.prototype.trigger=function(e,r){this.eventHandlerMap[e].forEach(function(n){n(r)})},t.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},t.prototype.parseRange=function(e,r,n,i){e&&e.prev&&(P0(e.prev)&&vwe(this.lineTexts[n-1])||hge(e.prev)&&mwe(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),s=this.parser.partialParseStart(n,a),u=r?r.next:this.root.firstChild,c=s.lastChild,d=c&&OT(c)&&c.open,p=c&&NT(c)&&c.open,v=c&&P0(c);(d||p)&&u||v&&u&&(u.type==="list"||u.sourcepos[0][1]>=2);){var g=this.extendEndLine(u.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,g)),e||(e=r),r=u,i=g,u=u.next}this.parser.partialParseFinish();var w=swe(s);return{newNodes:w,extStartNode:e,extEndNode:r}},t.prototype.getRemovedNodeRange=function(e,r){return!e||e&&Co(e)||r&&Co(r)?null:{id:[e.id,r.id],line:[e.sourcepos[0][0]-1,r.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(e,r){var n=this;if(!xo(this.refMap)){var i=function(a){if(Co(a)){var s=n.refMap[a.label];s&&a.id===s.id&&(s.unlinked=!0)}};e&&gp(i,e.parent,r),r&&gp(i,r)}},t.prototype.replaceWithNewRefDefState=function(e){var r=this;if(!xo(this.refMap)){var n=function(i){if(Co(i)){var a=i.label,s=r.refMap[a];(!s||s.unlinked)&&(r.refMap[a]=vv(i))}};e.forEach(function(i){gp(n,i)})}},t.prototype.replaceWithRefDefCandidate=function(){var e=this;xo(this.refDefCandidateMap)||hc(this.refDefCandidateMap,function(r,n){var i=n.label,a=n.sourcepos,s=e.refMap[i];(!s||s.unlinked||s.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=vv(n))})},t.prototype.getRangeWithRefDef=function(e,r,n,i,a){if(this.referenceDefinition&&!xo(this.refMap)){var s=mc(this.root,e-1),u=mc(this.root,r+1);s&&Co(s)&&s!==n&&s!==i&&(n=s,e=n.sourcepos[0][0]),u&&Co(u)&&u!==n&&u!==i&&(i=u,r=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,r]},t.prototype.parse=function(e,r,n){n===void 0&&(n=0);var i=this.getNodeRange(e,r),a=i[0],s=i[1],u=a?Math.min(a.sourcepos[0][0],e[0]):e[0],c=this.extendEndLine((s?Math.max(s.sourcepos[1][0],r[0]):r[0])+n),d=this.parseRange.apply(this,this.getRangeWithRefDef(u,c,a,s,n)),p=d.newNodes,v=d.extStartNode,g=d.extEndNode,w=this.getRemovedNodeRange(v,g),b=g?g.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(v,g),this.replaceRangeNodes(v,g,p),this.replaceWithNewRefDefState(p)):this.replaceRangeNodes(v,g,p),{nodes:p,removedNodeRange:w,nextNode:b}},t.prototype.parseRefLink=function(){var e=this,r=[];return xo(this.refMap)||hc(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],hc(e.refLinkCandidateMap,function(a,s){var u=s.node,c=s.refLabel;c===n&&r.push(e.parse(u.sourcepos[0],u.sourcepos[1]))})}),r},t.prototype.removeUnlinkedCandidate=function(){xo(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){hc(e,function(r){pwe(r)&&delete e[r]})})},t.prototype.editMarkdown=function(e,r,n){var i=this.updateLineTexts(e,r,n),a=this.parse(e,r,i),s=Hge(a,"nextNode");uwe(a.nextNode,i),this.updateRootNodeState();var u=[s];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),u=u.concat(this.parseRefLink())),this.trigger("change",u),u},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(e){var r=hwe(this.root,e);return!r||r===this.root?null:r},t.prototype.findFirstNodeAtLine=function(e){return dwe(this.root,e)},t.prototype.on=function(e,r){this.eventHandlerMap[e].push(r)},t.prototype.off=function(e,r){var n=this.eventHandlerMap[e],i=n.indexOf(r);n.splice(i,1)},t.prototype.findNodeById=function(e){return UT(e)},t.prototype.removeAllNode=function(){Zme()},t}(),gwe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],Q0=new RegExp("<(/?(?:"+gwe.join("|")+")[^>]*>)","ig");function J0(t){return Q0.test(t)?t.replace(Q0,function(e,r){return"&lt;"+r}):t}var X0={heading:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var r=e.options;return{type:"html",content:r.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var r,n=e.entering,i=(r=t.parent)===null||r===void 0?void 0:r.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var r=e.entering,n=t.listData,i=n.type,a=n.start,s=i==="bullet"?"ul":"ol",u={};return s==="ol"&&a!==null&&a!==1&&(u.start=a.toString()),{type:r?"openTag":"closeTag",tagName:s,attributes:u,outerNewLine:!0}},item:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var r=e.options,n=r.tagFilter?J0(t.literal):t.literal;return{type:"html",content:n}},htmlBlock:function(t,e){var r=e.options,n=r.tagFilter?J0(t.literal):t.literal;return r.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,r=e?e.split(/\s+/):[],n=[];return r.length>0&&r[0].length>0&&n.push("language-"+Mo(r[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var r=e.entering;if(r){var n=t,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:Nt({href:Mo(a)},i&&{title:Mo(i)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var r=e.getChildrenText,n=e.skipChildren,i=t,a=i.title,s=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Nt({src:Mo(s),alt:r(t)},a&&{title:Mo(a)})}},customBlock:function(t,e,r){var n=t.info.trim().toLowerCase(),i=r[n];if(i)try{return i(t,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,r){var n=t,i=n.info,a=n.firstChild,s=i.trim().toLowerCase(),u=r[s],c=e.entering;if(u)try{return u(t,e)}catch(d){console.warn("[@toast-ui/editor] - The error occurred when "+s+" inline node was parsed in markdown renderer: "+d)}return c?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Y0={strike:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var r=e.entering,n=t.listData,i=n.checked,a=n.task;if(r){var s={type:"openTag",tagName:"li",outerNewLine:!0};return a?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:Nt(Nt({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var r=e.entering;if(r)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(t.lastChild)for(var i=t.parent.parent.columns.length,a=t.lastChild.endIdx,s=a+1;s<i;s+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(t,e){var r=e.entering;if(t.ignored)return{type:"text",content:""};var n=t.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,s=a.columns[t.startIdx],u=s!=null&&s.align?{align:s.align}:null;return r?Nt({type:"openTag",tagName:i,outerNewLine:!0},u&&{attributes:u}):{type:"closeTag",tagName:i,outerNewLine:!0}}},ywe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function wwe(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Lm=function(){function t(e){this.buffer=[],this.options=Nt(Nt({},ywe),e),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var e=Nt({},X0);if(this.options.gfm&&(e=Nt(Nt({},e),Y0)),this.options.convertors){var r=this.options.convertors,n=Object.keys(r),i=Nt(Nt({},X0),Y0);n.forEach(function(a){var s=e[a],u=r[a],c=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;s?e[c]=function(d,p,v){return p.origin=function(){return s(d,p,v)},u(d,p)}:e[c]=u})}return e},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(e){var r=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var u=i.node,c=i.entering,d=s.convertors[u.type];if(!d)return"continue";var p=!1,v={entering:c,leaf:!Nm(u),options:s.options,getChildrenText:wwe,skipChildren:function(){p=!0}},g=NT(u)||pge(u)?d(u,v,s.convertors):d(u,v);if(g){var w=Array.isArray(g)?g:[g];w.forEach(function(b,C){b.type==="openTag"&&r.options.nodeId&&C===0&&(b.attributes||(b.attributes={}),b.attributes["data-nodeid"]=String(u.id)),r.renderHTMLNode(b)}),p&&(n.resumeAt(u,!1),n.next())}},s=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},t.prototype.generateOpenTagString=function(e){var r=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(s){var u=a[s];r.buffer.push(" "+s+'="'+u+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(e){var r=e.tagName;this.buffer.push("</"+r+">")},t.prototype.addNewLine=function(){this.buffer.length&&lf(lf(this.buffer))!==`
`&&this.buffer.push(`
`)},t.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(e){this.buffer.push(Mo(e.content))},t.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},t.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},t}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function bwe(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var kwe=Object.hasOwnProperty,Z0=Object.setPrototypeOf,Cwe=Object.isFrozen,xwe=Object.getPrototypeOf,Twe=Object.getOwnPropertyDescriptor,Xt=Object.freeze,Jn=Object.seal,Swe=Object.create,GT=typeof Reflect<"u"&&Reflect,cf=GT.apply,mv=GT.construct;cf||(cf=function(e,r,n){return e.apply(r,n)});Xt||(Xt=function(e){return e});Jn||(Jn=function(e){return e});mv||(mv=function(e,r){return new(Function.prototype.bind.apply(e,[null].concat(bwe(r))))});var Ewe=en(Array.prototype.forEach),eb=en(Array.prototype.pop),Ks=en(Array.prototype.push),Oc=en(String.prototype.toLowerCase),tb=en(String.prototype.match),Ci=en(String.prototype.replace),Mwe=en(String.prototype.indexOf),Owe=en(String.prototype.trim),zn=en(RegExp.prototype.test),rb=Nwe(TypeError);function en(t){return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return cf(t,e,n)}}function Nwe(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return mv(t,r)}}function Ee(t,e){Z0&&Z0(t,null);for(var r=e.length;r--;){var n=e[r];if(typeof n=="string"){var i=Oc(n);i!==n&&(Cwe(e)||(e[r]=i),n=i)}t[n]=!0}return t}function ga(t){var e=Swe(null),r=void 0;for(r in t)cf(kwe,t,[r])&&(e[r]=t[r]);return e}function gc(t,e){for(;t!==null;){var r=Twe(t,e);if(r){if(r.get)return en(r.get);if(typeof r.value=="function")return en(r.value)}t=xwe(t)}function n(i){return console.warn("fallback value for",i),null}return n}var nb=Xt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yp=Xt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wp=Xt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Lwe=Xt(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bp=Xt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Awe=Xt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ib=Xt(["#text"]),ab=Xt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),kp=Xt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ob=Xt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),yc=Xt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Dwe=Jn(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Iwe=Jn(/<%[\s\S]*|[\s\S]*%>/gm),Rwe=Jn(/^data-[\-\w.\u00B7-\uFFFF]/),Pwe=Jn(/^aria-[\-\w]+$/),_we=Jn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Bwe=Jn(/^(?:\w+script|data):/i),Fwe=Jn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function cn(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var Hwe=function(){return typeof window>"u"?null:window},zwe=function(e,r){if((typeof e>"u"?"undefined":ol(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function KT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hwe(),e=function(D){return KT(D)};if(e.version="2.3.3",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,u=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,p=d===void 0?t.NamedNodeMap||t.MozNamedAttrMap:d,v=t.Text,g=t.Comment,w=t.DOMParser,b=t.trustedTypes,C=u.prototype,k=gc(C,"cloneNode"),T=gc(C,"nextSibling"),M=gc(C,"childNodes"),N=gc(C,"parentNode");if(typeof a=="function"){var R=n.createElement("template");R.content&&R.content.ownerDocument&&(n=R.content.ownerDocument)}var B=zwe(b,r),z=B&&Qi?B.createHTML(""):"",G=n,ee=G.implementation,K=G.createNodeIterator,de=G.createDocumentFragment,ve=G.getElementsByTagName,Ce=r.importNode,Le={};try{Le=ga(n).documentMode?n.documentMode:{}}catch{}var Fe={};e.isSupported=typeof N=="function"&&ee&&typeof ee.createHTMLDocument<"u"&&Le!==9;var it=Dwe,Ke=Iwe,He=Rwe,X=Pwe,ue=Bwe,Y=Fwe,L=_we,H=null,me=Ee({},[].concat(cn(nb),cn(yp),cn(wp),cn(bp),cn(ib))),ce=null,Te=Ee({},[].concat(cn(ab),cn(kp),cn(ob),cn(yc))),xe=null,_e=null,Ae=!0,we=!0,lt=!1,Yt=!1,Cn=!1,Zn=!1,Gi=!1,xn=!1,Ki=!1,Va=!0,Qi=!1,ja=!0,Tn=!0,br=!1,tn={},Sn=null,ts=Ee({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),rs=null,ns=Ee({},["audio","video","img","source","image","track"]),Ji=null,Xi=Ee({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qa="http://www.w3.org/1998/Math/MathML",En="http://www.w3.org/2000/svg",Zt="http://www.w3.org/1999/xhtml",Ua=Zt,Wa=!1,Mn=void 0,Kf=["application/xhtml+xml","text/html"],is="text/html",rn=void 0,nn=null,as=n.createElement("form"),Yi=function(D){nn&&nn===D||((!D||(typeof D>"u"?"undefined":ol(D))!=="object")&&(D={}),D=ga(D),H="ALLOWED_TAGS"in D?Ee({},D.ALLOWED_TAGS):me,ce="ALLOWED_ATTR"in D?Ee({},D.ALLOWED_ATTR):Te,Ji="ADD_URI_SAFE_ATTR"in D?Ee(ga(Xi),D.ADD_URI_SAFE_ATTR):Xi,rs="ADD_DATA_URI_TAGS"in D?Ee(ga(ns),D.ADD_DATA_URI_TAGS):ns,Sn="FORBID_CONTENTS"in D?Ee({},D.FORBID_CONTENTS):ts,xe="FORBID_TAGS"in D?Ee({},D.FORBID_TAGS):{},_e="FORBID_ATTR"in D?Ee({},D.FORBID_ATTR):{},tn="USE_PROFILES"in D?D.USE_PROFILES:!1,Ae=D.ALLOW_ARIA_ATTR!==!1,we=D.ALLOW_DATA_ATTR!==!1,lt=D.ALLOW_UNKNOWN_PROTOCOLS||!1,Yt=D.SAFE_FOR_TEMPLATES||!1,Cn=D.WHOLE_DOCUMENT||!1,xn=D.RETURN_DOM||!1,Ki=D.RETURN_DOM_FRAGMENT||!1,Va=D.RETURN_DOM_IMPORT!==!1,Qi=D.RETURN_TRUSTED_TYPE||!1,Gi=D.FORCE_BODY||!1,ja=D.SANITIZE_DOM!==!1,Tn=D.KEEP_CONTENT!==!1,br=D.IN_PLACE||!1,L=D.ALLOWED_URI_REGEXP||L,Ua=D.NAMESPACE||Zt,Mn=Kf.indexOf(D.PARSER_MEDIA_TYPE)===-1?Mn=is:Mn=D.PARSER_MEDIA_TYPE,rn=Mn==="application/xhtml+xml"?function(J){return J}:Oc,Yt&&(we=!1),Ki&&(xn=!0),tn&&(H=Ee({},[].concat(cn(ib))),ce=[],tn.html===!0&&(Ee(H,nb),Ee(ce,ab)),tn.svg===!0&&(Ee(H,yp),Ee(ce,kp),Ee(ce,yc)),tn.svgFilters===!0&&(Ee(H,wp),Ee(ce,kp),Ee(ce,yc)),tn.mathMl===!0&&(Ee(H,bp),Ee(ce,ob),Ee(ce,yc))),D.ADD_TAGS&&(H===me&&(H=ga(H)),Ee(H,D.ADD_TAGS)),D.ADD_ATTR&&(ce===Te&&(ce=ga(ce)),Ee(ce,D.ADD_ATTR)),D.ADD_URI_SAFE_ATTR&&Ee(Ji,D.ADD_URI_SAFE_ATTR),D.FORBID_CONTENTS&&(Sn===ts&&(Sn=ga(Sn)),Ee(Sn,D.FORBID_CONTENTS)),Tn&&(H["#text"]=!0),Cn&&Ee(H,["html","head","body"]),H.table&&(Ee(H,["tbody"]),delete xe.tbody),Xt&&Xt(D),nn=D)},On=Ee({},["mi","mo","mn","ms","mtext"]),Nn=Ee({},["foreignobject","desc","title","annotation-xml"]),Zi=Ee({},yp);Ee(Zi,wp),Ee(Zi,Lwe);var Ga=Ee({},bp);Ee(Ga,Awe);var Gl=function(D){var J=N(D);(!J||!J.tagName)&&(J={namespaceURI:Zt,tagName:"template"});var se=Oc(D.tagName),Me=Oc(J.tagName);if(D.namespaceURI===En)return J.namespaceURI===Zt?se==="svg":J.namespaceURI===qa?se==="svg"&&(Me==="annotation-xml"||On[Me]):!!Zi[se];if(D.namespaceURI===qa)return J.namespaceURI===Zt?se==="math":J.namespaceURI===En?se==="math"&&Nn[Me]:!!Ga[se];if(D.namespaceURI===Zt){if(J.namespaceURI===En&&!Nn[Me]||J.namespaceURI===qa&&!On[Me])return!1;var ut=Ee({},["title","style","font","a","script"]);return!Ga[se]&&(ut[se]||!Zi[se])}return!1},kr=function(D){Ks(e.removed,{element:D});try{D.parentNode.removeChild(D)}catch{try{D.outerHTML=z}catch{D.remove()}}},ss=function(D,J){try{Ks(e.removed,{attribute:J.getAttributeNode(D),from:J})}catch{Ks(e.removed,{attribute:null,from:J})}if(J.removeAttribute(D),D==="is"&&!ce[D])if(xn||Ki)try{kr(J)}catch{}else try{J.setAttribute(D,"")}catch{}},Ka=function(D){var J=void 0,se=void 0;if(Gi)D="<remove></remove>"+D;else{var Me=tb(D,/^[\r\n\t ]+/);se=Me&&Me[0]}Mn==="application/xhtml+xml"&&(D='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+D+"</body></html>");var ut=B?B.createHTML(D):D;if(Ua===Zt)try{J=new w().parseFromString(ut,Mn)}catch{}if(!J||!J.documentElement){J=ee.createDocument(Ua,"template",null);try{J.documentElement.innerHTML=Wa?"":ut}catch{}}var ct=J.body||J.documentElement;return D&&se&&ct.insertBefore(n.createTextNode(se),ct.childNodes[0]||null),Ua===Zt?ve.call(J,Cn?"html":"body")[0]:Cn?J.documentElement:ct},ls=function(D){return K.call(D.ownerDocument||D,D,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ea=function(D){return D instanceof v||D instanceof g?!1:typeof D.nodeName!="string"||typeof D.textContent!="string"||typeof D.removeChild!="function"||!(D.attributes instanceof p)||typeof D.removeAttribute!="function"||typeof D.setAttribute!="function"||typeof D.namespaceURI!="string"||typeof D.insertBefore!="function"},Ln=function(D){return(typeof s>"u"?"undefined":ol(s))==="object"?D instanceof s:D&&(typeof D>"u"?"undefined":ol(D))==="object"&&typeof D.nodeType=="number"&&typeof D.nodeName=="string"},qt=function(D,J,se){Fe[D]&&Ewe(Fe[D],function(Me){Me.call(e,J,se,nn)})},Kl=function(D){var J=void 0;if(qt("beforeSanitizeElements",D,null),ea(D)||tb(D.nodeName,/[\u0080-\uFFFF]/))return kr(D),!0;var se=rn(D.nodeName);if(qt("uponSanitizeElement",D,{tagName:se,allowedTags:H}),!Ln(D.firstElementChild)&&(!Ln(D.content)||!Ln(D.content.firstElementChild))&&zn(/<[/\w]/g,D.innerHTML)&&zn(/<[/\w]/g,D.textContent)||se==="select"&&zn(/<template/i,D.innerHTML))return kr(D),!0;if(!H[se]||xe[se]){if(Tn&&!Sn[se]){var Me=N(D)||D.parentNode,ut=M(D)||D.childNodes;if(ut&&Me)for(var ct=ut.length,gt=ct-1;gt>=0;--gt)Me.insertBefore(k(ut[gt],!0),T(D))}return kr(D),!0}return D instanceof u&&!Gl(D)||(se==="noscript"||se==="noembed")&&zn(/<\/no(script|embed)/i,D.innerHTML)?(kr(D),!0):(Yt&&D.nodeType===3&&(J=D.textContent,J=Ci(J,it," "),J=Ci(J,Ke," "),D.textContent!==J&&(Ks(e.removed,{element:D.cloneNode()}),D.textContent=J)),qt("afterSanitizeElements",D,null),!1)},ei=function(D,J,se){if(ja&&(J==="id"||J==="name")&&(se in n||se in as))return!1;if(!(we&&!_e[J]&&zn(He,J))){if(!(Ae&&zn(X,J))){if(!ce[J]||_e[J])return!1;if(!Ji[J]){if(!zn(L,Ci(se,Y,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&D!=="script"&&Mwe(se,"data:")===0&&rs[D])){if(!(lt&&!zn(ue,Ci(se,Y,"")))){if(se)return!1}}}}}}return!0},ta=function(D){var J=void 0,se=void 0,Me=void 0,ut=void 0;qt("beforeSanitizeAttributes",D,null);var ct=D.attributes;if(ct){var gt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ce};for(ut=ct.length;ut--;){J=ct[ut];var Cr=J,ti=Cr.name,us=Cr.namespaceURI;if(se=Owe(J.value),Me=rn(ti),gt.attrName=Me,gt.attrValue=se,gt.keepAttr=!0,gt.forceKeepAttr=void 0,qt("uponSanitizeAttribute",D,gt),se=gt.attrValue,!gt.forceKeepAttr&&(ss(ti,D),!!gt.keepAttr)){if(zn(/\/>/i,se)){ss(ti,D);continue}Yt&&(se=Ci(se,it," "),se=Ci(se,Ke," "));var Ql=rn(D.nodeName);if(ei(Ql,Me,se))try{us?D.setAttributeNS(us,ti,se):D.setAttribute(ti,se),eb(e.removed)}catch{}}}qt("afterSanitizeAttributes",D,null)}},Qa=function fe(D){var J=void 0,se=ls(D);for(qt("beforeSanitizeShadowDOM",D,null);J=se.nextNode();)qt("uponSanitizeShadowNode",J,null),!Kl(J)&&(J.content instanceof i&&fe(J.content),ta(J));qt("afterSanitizeShadowDOM",D,null)};return e.sanitize=function(fe,D){var J=void 0,se=void 0,Me=void 0,ut=void 0,ct=void 0;if(Wa=!fe,Wa&&(fe="<!-->"),typeof fe!="string"&&!Ln(fe)){if(typeof fe.toString!="function")throw rb("toString is not a function");if(fe=fe.toString(),typeof fe!="string")throw rb("dirty is not a string, aborting")}if(!e.isSupported){if(ol(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof fe=="string")return t.toStaticHTML(fe);if(Ln(fe))return t.toStaticHTML(fe.outerHTML)}return fe}if(Zn||Yi(D),e.removed=[],typeof fe=="string"&&(br=!1),!br)if(fe instanceof s)J=Ka("<!---->"),se=J.ownerDocument.importNode(fe,!0),se.nodeType===1&&se.nodeName==="BODY"||se.nodeName==="HTML"?J=se:J.appendChild(se);else{if(!xn&&!Yt&&!Cn&&fe.indexOf("<")===-1)return B&&Qi?B.createHTML(fe):fe;if(J=Ka(fe),!J)return xn?null:z}J&&Gi&&kr(J.firstChild);for(var gt=ls(br?fe:J);Me=gt.nextNode();)Me.nodeType===3&&Me===ut||Kl(Me)||(Me.content instanceof i&&Qa(Me.content),ta(Me),ut=Me);if(ut=null,br)return fe;if(xn){if(Ki)for(ct=de.call(J.ownerDocument);J.firstChild;)ct.appendChild(J.firstChild);else ct=J;return Va&&(ct=Ce.call(r,ct,!0)),ct}var Cr=Cn?J.outerHTML:J.innerHTML;return Yt&&(Cr=Ci(Cr,it," "),Cr=Ci(Cr,Ke," ")),B&&Qi?B.createHTML(Cr):Cr},e.setConfig=function(fe){Yi(fe),Zn=!0},e.clearConfig=function(){nn=null,Zn=!1},e.isValidAttribute=function(fe,D,J){nn||Yi({});var se=rn(fe),Me=rn(D);return ei(se,Me,J)},e.addHook=function(fe,D){typeof D=="function"&&(Fe[fe]=Fe[fe]||[],Ks(Fe[fe],D))},e.removeHook=function(fe){Fe[fe]&&eb(Fe[fe])},e.removeHooks=function(fe){Fe[fe]&&(Fe[fe]=[])},e.removeAllHooks=function(){Fe={}},e}var $we=KT(),Vwe=["iframe","embed"],QT=[];function JT(t){It(Vwe,t)&&QT.push(t.toLowerCase())}function $a(t,e){return $we.sanitize(t,F({ADD_TAGS:QT,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function XT(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function gv(t){t=t.match(qo)[0];var e=t.match(new RegExp(Wx,"g"));return e?e.reduce(function(r,n){var i=n.trim().split("="),a=i[0],s=i.slice(1);return s.length&&(r[a]=s.join("=").replace(/'|"/g,"").trim()),r},{}):{}}function yv(t){return kn(t.attributes).reduce(function(e,r){return e[r.nodeName]=r.nodeValue,e},{})}function sb(t,e,r,n){var i=n.getToDOMNode(e)(t),a=r(i.outerHTML),s=document.createElement("div");s.innerHTML=a,i=s.firstChild;var u=yv(i);return{dom:i,htmlAttrs:u}}var jwe={htmlBlock:function(t,e,r){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:yv(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=sb(n,t,e,r),a=i.dom,s=i.htmlAttrs;return s.class=s.class?s.class+" html-block":"html-block",cr([t,s],kn(a.childNodes))}}},htmlInline:function(t,e,r){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:yv(n)}}}],toDOM:function(n){var i=sb(n,t,e,r).htmlAttrs;return[t,i,0]}}}};function qwe(t,e,r){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){t[i]&&Object.keys(t[i]).forEach(function(a){var s=i==="htmlBlock"?"nodes":"marks";JT(a),n[s][a]=jwe[i](a,e,r)})}),n}var Uwe=/^\s*<\s*\//,Wwe={paragraph:function(t,e){var r=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:r?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(t){var e=t.prev&&t.prev.type==="htmlInline",r=e&&/<br ?\/?>/.test(t.prev.literal),n=r?`
`:`<br>
`;return{type:"html",content:n}},item:function(t,e){var r=e.entering;if(r){var n={},i=[];return t.listData.task&&(n["data-task"]="",i.push("task-list-item"),t.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,r=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],s={};if(r>3&&(s["data-backticks"]=r),i.length>0&&i[0].length>0){var u=i[0];a.push("lang-"+u),s["data-language"]=u}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:s},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var r=e.origin,n=e.entering,i=e.skipChildren,a=t.info;if(a.indexOf("widget")!==-1&&n){i();var s=Vx(t),u=$x(a,s).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:u},{type:"closeTag",tagName:"span"}]}return r()}};function Am(t,e){var r=F({},Wwe);return t&&(r.link=function(n,i){var a=i.entering,s=i.origin,u=s();return a&&(u.attributes=F(F({},u.attributes),t)),u}),e&&Object.keys(e).forEach(function(n){var i=r[n],a=e[n];i&&Rr(a)?r[n]=function(s,u){var c=F({},u);return c.origin=function(){return i(s,u)},a(s,c)}:It(["htmlBlock","htmlInline"],n)&&!Rr(a)?r[n]=function(s,u){var c=s.literal.match(qo);if(c){var d=c[0],p=c[1],v=c[3],g=(p||v).toLowerCase(),w=a[g],b=XT(s,g);if(w){var C=F({},s);return C.attrs=gv(d),C.childrenHTML=b,C.type=g,u.entering=!Uwe.test(s.literal),w(C,u)}}return u.origin()}:r[n]=a}),r}var Gwe=["list","item","blockQuote"],Kwe=["UL","OL","BLOCKQUOTE"];function Qwe(t,e){var r,n=t.child(e);return!n.childCount||n.childCount===1&&!(!((r=n.firstChild.text)===null||r===void 0)&&r.trim())}function lb(t,e,r){var n=Ul(e)-1,i=_f(e)-1,a=r[n].getBoundingClientRect(),s=r[i].offsetTop-r[n].offsetTop+r[i].clientHeight;return{height:s<=0?r[n].clientHeight:s+Jwe(t,r,Math.min(i+1,t.childCount-1)),rect:a}}function Jwe(t,e,r){for(var n=t.childCount-1,i=0;r<=n&&Qwe(t,r);)i+=e[r].clientHeight,r+=1;return i}function Xwe(t,e){for(;!t.getAttribute("data-nodeid")&&t.parentElement!==e;)t=t.parentElement;return t}function ff(t,e){for(var r=0;t&&t!==e&&(It(Kwe,t.tagName)||(r+=t.offsetTop),t.offsetParent!==e.offsetParent);)t=t.parentElement;return r}function Ywe(t,e){for(var r=e,n=null;r;){var i=r.firstElementChild;if(!i)break;var a=YT(i,t,ff(r,e));n=r,r=a}var s=r||n;return s===e?null:s}function YT(t,e,r){return t&&e>r+t.offsetTop?YT(t.nextElementSibling,e,r)||t:null}function Zwe(t,e,r,n){var i=Math.min((t-e)/r,1);return i*n}function Cp(t,e){for(var r=t.querySelector('[data-nodeid="'+e.id+'"]');!r||$R(e);)e=e.parent,r=t.querySelector('[data-nodeid="'+e.id+'"]');return e1e({mdNode:e,el:r})}function e1e(t){for(var e=t.mdNode,r=t.el;(It(Gwe,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,r=r.firstElementChild;return{mdNode:e,el:r}}var Qr={};function t1e(t,e){Qr[t]=Qr[t]||{},Qr[t].height=e}function r1e(t,e){Qr[t]=Qr[t]||{},Qr[t].offsetTop=e}function n1e(t){return Qr[t]&&Qr[t].height}function i1e(t){return Qr[t]&&Qr[t].offsetTop}function wv(t){t&&(delete Qr[Number(t.getAttribute("data-nodeid"))],kn(t.children).forEach(function(e){wv(e)}))}function a1e(t,e,r){var n=n1e(r),i=i1e(r),a=n||t.clientHeight,s=i||ff(t,e)||t.offsetTop;return n||t1e(r,a),i||r1e(r,s),{nodeHeight:a,offsetTop:s}}var xp=oe("md-preview-highlight");function o1e(t,e){for(var r=t.firstChild;r&&r.next&&!(Bf(r.next)>e+1);)r=r.next;return r}var ZT=function(){function t(e,r){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!r.isViewer,this.el.className=oe("md-preview");var i=r.linkAttributes,a=r.customHTMLRenderer,s=r.sanitizer,u=r.highlight,c=u===void 0?!1:u;this.renderer=new Lm({gfm:!0,nodeId:!0,convertors:Am(i,a)}),this.cursorNodeId=null,this.sanitizer=s,this.initEvent(c),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return t.prototype.initContentSection=function(){this.previewContent=Xx('<div class="'+oe("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(e){mm(this.el,"active",e)},t.prototype.initEvent=function(e){var r=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;r.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){r.removeHighlight()})),pT(this.el,"scroll",function(n){r.eventEmitter.emit("scroll","preview",Ywe(n.target.scrollTop,r.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return r.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return r.toggleActive(!1)}))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Kr(e,xp)}},t.prototype.updateCursorNode=function(e,r){e&&(e=jo(e,function(s){return!qR(s)}),e.type==="tableRow"?e=o1e(e,r[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&Kr(i,xp),a&&vn(a,xp),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},t.prototype.update=function(e){var r=this;e.forEach(function(n){return r.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(e){var r=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,s=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(b){return r.renderer.render(b)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",s);else{var u=i.id,c=u[0],d=u[1],p=this.getElementByNodeId(c),v=this.getElementByNodeId(d);if(p){p.insertAdjacentHTML("beforebegin",s);for(var g=p;g&&g!==v;){var w=g.nextElementSibling;Fa(g),wv(g),g=w}g!=null&&g.parentNode&&(Fa(g),wv(g))}}},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){hT(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return wm(this.previewContent.innerHTML)},t.prototype.setHTML=function(e){this.previewContent.innerHTML=e},t.prototype.setHeight=function(e){bn(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){bn(this.el,{minHeight:e+"px"})},t}();function Wn(t,e){for(var r=t.depth;r;){var n=t.node(r);if(e(n,r))return{node:n,depth:r,offset:r>0?t.before(r):0};r-=1}return null}function Ko(t){return!!Wn(t,function(e){var r=e.type;return r.name==="listItem"||r.name==="bulletList"||r.name==="orderedList"})}function df(t){return!!Wn(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Qo(t){return Wn(t,function(e){var r=e.type;return r.name==="listItem"})}function Wf(t){return{tag:t,getAttrs:function(e){var r=e.getAttribute("data-raw-html");return F({},r&&{rawHTML:r})}}}function eS(t){return Object.keys(t).reduce(function(e,r){return r!=="rawHTML"&&t[r]&&(r=r==="className"?"class":r,e[r]=t[r]),e},{})}function tS(t){return{tag:t,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(r,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(r[n]=It(["rawHTML","extended"],n)?a:Number(a)),r},{})}}}function Tt(){return{htmlAttrs:{default:null},classNames:{default:null}}}function st(t){var e=t.htmlAttrs,r=t.classNames;return F(F({},e),{class:r?r.join(" "):null})}function s1e(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,a=r.contentMatchAt(n).findWrapping(e);if(a){var s=a.length?a[0]:e;return r.canReplaceWith(n,i,s)?a:null}return null}function l1e(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,a=r.child(n),s=e.contentMatch.findWrapping(a.type);if(s){for(var u=s.length?s[s.length-1]:e,c=u.contentMatch,d=n;c&&d<i;d+=1)c=c.matchType(r.child(d).type);if(c&&c.validEnd)return s}return null}function u1e(t,e,r,n){var i=s1e(t,r),a=l1e(e,r);if(i&&a){var s=i.map(function(c){return{type:c}}),u=a.map(function(c){return{type:c,attrs:n}});return s.concat({type:r}).concat(u)}return null}function c1e(t,e,r,n,i){for(var a=e.start,s=e.end,u=e.startIndex,c=e.endIndex,d=e.parent,p=j.empty,v=r.length-1;v>=0;v-=1)p=j.from(r[v].type.create(r[v].attrs,p));t.step(new Ct(a-(n?2:0),s,a,s,new Z(p,0,0),r.length,!0));for(var g=0,v=0;v<r.length;v+=1)if(r[v].type===i){g=v+1;break}for(var w=r.length-g,b=a+r.length-(n?2:0),v=u,C=c;v<C;v+=1){var k=v===u;!k&&Io(t.doc,b,w)&&(t.split(b,w),b+=w*2),b+=d.child(v).nodeSize}return t}function rS(t,e,r,n){var i=e.$from,a=e.$to,s=e.depth,u=e,c=!1;if(s>=2&&i.node(s-1).type.compatibleContent(r)&&e.startIndex===0&&i.index(s-1)){var d=t.doc.resolve(e.start-2);u=new Vc(d,d,s),e.endIndex<e.parent.childCount&&(e=new Vc(i,t.doc.resolve(a.end(s)),s)),c=!0}var p=u1e(u,e,r,n);return p?c1e(t,e,p,c,r):t}function nS(t,e){for(var r=t.resolve(e);r.node().type.name!=="paragraph";)e-=2,r=t.resolve(e);return Qo(r)}function f1e(t,e){var r=e.$from,n=e.$to,i=Qo(r),a=Qo(n);if(i&&a)for(;a;){var s=a.offset,u=a.node,c={task:!u.attrs.task,checked:!1};if(t.setNodeMarkup(s,null,c),s===i.offset)break;a=nS(t.doc,s)}return t}function d1e(t,e,r){var n=e.$from,i=e.$to,a=Qo(n),s=Qo(i);if(a&&s)for(;s;){var u=s.offset,c=s.node,d=s.depth;c.attrs.task&&t.setNodeMarkup(u,null,{task:!1,checked:!1});var p=t.doc.resolve(u);if(p.parent.type!==r){var v=p.before(d-1);t.setNodeMarkup(v,r)}if(u===a.offset)break;s=nS(t.doc,u)}return t}function iS(t){return function(e,r){var n=e.selection,i=e.tr,a=n.$from,s=n.$to,u=a.blockRange(s);if(u){var c=Ko(a)?d1e(i,u,t):rS(i,u,t);return r(c),!0}return!1}}function h1e(){return function(t,e){var r=t.selection,n=t.tr,i=t.schema,a=r.$from,s=r.$to,u=a.blockRange(s);if(u){var c=Ko(a)?f1e(n,u):rS(n,u,i.nodes.bulletList,{task:!0});return e(c),!0}return!1}}function p1e(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,s=i.$to,u=a.blockRange(s,function(C){var k=C.childCount,T=C.firstChild;return!!k&&T.type===t});if(u&&u.startIndex>0){var c=u.parent,d=c.child(u.startIndex-1);if(d.type!==t)return!1;var p=d.lastChild&&d.lastChild.type===c.type,v=p?j.from(t.create()):null,g=new Z(j.from(t.create(null,j.from(c.type.create(null,v)))),p?3:1,0),w=u.start,b=u.end;return n.step(new Ct(w-(p?3:1),b,w,b,g,1,!0)),r(n),!0}return!1}}function v1e(t,e,r){var n=e.$from,i=e.$to,a=e.end,s=e.depth,u=e.parent,c=i.end(s);return a<c&&(t.step(new Ct(a-1,c,a,c,new Z(j.from(r.create(null,u.copy())),1,0),1,!0)),e=new Vc(t.doc.resolve(n.pos),t.doc.resolve(c),s)),t.lift(e,Nf(e)),t}function m1e(t,e){for(var r=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=r.child(i).nodeSize,t.delete(n-1,n+1);var s=t.doc.resolve(e.start),u=s.nodeAfter,c=e.startIndex===0,d=e.endIndex===r.childCount,p=s.node(-1),v=s.index(-1),g=p.canReplace(v+(c?0:1),v+1,u==null?void 0:u.content.append(d?j.empty:j.from(r)));if(u&&g){var w=s.pos,b=w+u.nodeSize;t.step(new Ct(w-(c?1:0),b+(d?1:0),w+1,b-1,new Z((c?j.empty:j.from(r.copy(j.empty))).append(d?j.empty:j.from(r.copy(j.empty))),c?0:1,d?0:1),c?0:1))}return t}function g1e(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,s=i.$to,u=a.blockRange(s,function(p){var v=p.childCount,g=p.firstChild;return!!v&&g.type===t});if(u){var c=a.node(u.depth-1).type===t,d=c?v1e(n,u,t):m1e(n,u);return r(d),!0}return!1}}function y1e(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,s=i.$to;if(a.depth<2||!a.sameParent(s))return!1;var u=a.node(-1);if(u.type!==t)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==t||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var c=a.index(-1)>0,d=j.empty,p=a.depth-(c?1:2);p>=a.depth-3;p-=1)d=j.from(a.node(p).copy(d));return d=d.append(j.from(t.createAndFill())),n.replace(c?a.before():a.before(-1),a.after(-3),new Z(d,c?3:2,2)),n.setSelection(Ne.near(n.doc.resolve(a.pos+(c?3:2)))),r(n),!0}var v=s.pos===a.end()?u.contentMatchAt(0).defaultType:null,g=v&&[null,{type:v}];return n.delete(a.pos,s.pos),Io(n.doc,a.pos,2,g)?(n.split(a.pos,2,g),r(n),!0):!1}}function w1e(){return function(){return function(t,e){var r=t.selection,n=t.schema,i=r.$from,a=r.$to,s=i.blockRange(a);return s&&Ko(i)?p1e(n.nodes.listItem)(t,e):!1}}}function b1e(){return function(){return function(t,e){var r=t.selection,n=t.schema,i=r.$from,a=r.$to,s=i.blockRange(a);return s&&Ko(i)?g1e(n.nodes.listItem)(t,e):!1}}}function Dm(){return{indent:w1e(),outdent:b1e()}}var ub=new Map,Ot=function(){function t(e,r,n,i){this.table=e,this.tableRows=r,this.tableStartPos=n,this.rowInfo=i}return t.create=function(e){var r=Wn(e,function(b){var C=b.type;return C.name==="table"});if(r){var n=r.node,i=r.depth,a=r.offset,s=ub.get(n);if((s==null?void 0:s.tableStartPos)===a+1)return s;var u=[],c=e.start(i),d=n.child(0),p=n.child(1),v=bv(d,c),g=bv(p,c+d.nodeSize);d.forEach(function(b){return u.push(b)}),p.forEach(function(b){return u.push(b)});var w=new t(n,u,c,v.concat(g));return ub.set(n,w),w}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(e,r){return this.rowInfo[e][r]},t.prototype.posAt=function(e,r){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var s=r;s<this.totalColumnCount&&this.rowInfo[n][s].offset<i;)s+=1;return s===this.totalColumnCount?a:this.rowInfo[n][s].offset}i=a}},t.prototype.getNodeAndPos=function(e,r){var n=this.rowInfo[e][r];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},t.prototype.extendedRowspan=function(e,r){return!1},t.prototype.extendedColspan=function(e,r){return!1},t.prototype.getRowspanCount=function(e,r){return 0},t.prototype.getColspanCount=function(e,r){return 0},t.prototype.decreaseColspanCount=function(e,r){return 0},t.prototype.decreaseRowspanCount=function(e,r){return 0},t.prototype.getColspanStartInfo=function(e,r){return null},t.prototype.getRowspanStartInfo=function(e,r){return null},t.prototype.getCellStartOffset=function(e,r){var n=this.rowInfo[e][r].offset;return this.extendedRowspan(e,r)?this.posAt(e,r):n},t.prototype.getCellEndOffset=function(e,r){var n=this.rowInfo[e][r],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,r)?this.posAt(e,r):i+a},t.prototype.getCellIndex=function(e){for(var r=0;r<this.totalRowCount;r+=1)for(var n=this.rowInfo[r],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[r,i];return[0,0]},t.prototype.getRectOffsets=function(e,r){var n,i,a;r===void 0&&(r=e),e.pos>r.pos&&(n=[r,e],e=n[0],r=n[1]);var s=this.getCellIndex(e),u=s[0],c=s[1],d=this.getCellIndex(r),p=d[0],v=d[1];return i=c0(u,p),u=i[0],p=i[1],a=c0(c,v),c=a[0],v=a[1],this.getSpannedOffsets({startRowIdx:u,startColIdx:c,endRowIdx:p,endColIdx:v})},t.prototype.getSpannedOffsets=function(e){return e},t}(),bv=function(t,e){var r=[];return t.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(s,u){for(var c=s.nodeSize,d=0;a[d];)d+=1;a[d]={offset:e+i+u+2,nodeSize:c},a.length+=1}),r.push(a)}),r};function k1e(t,e){return dm(Ot.prototype,t),bv=e,Ot}function C1e(t,e,r){for(var n=r.startRowIdx,i=r.startColIdx,a=r.endRowIdx,s=r.endColIdx,u=[],c=n;c<=a;c+=1)for(var d=i;d<=s;d+=1){var p=e.getCellInfo(c,d),v=p.offset,g=p.nodeSize;u.push(new $C(t.resolve(v+1),t.resolve(v+g-1)))}return u}function x1e(t,e){var r=[];return t.childCount&&r.push(t),e.childCount&&r.push(e),j.from(r)}var Im=function(t){re(e,t);function e(r,n){n===void 0&&(n=r);var i=this,a=r.node(0),s=Ot.create(r),u=s.getRectOffsets(r,n),c=C1e(a,s,u);return i=t.call(this,c[0].$from,c[0].$to,c)||this,i.startCell=r,i.endCell=n,i.offsetMap=s,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(r,n){var i=this.startCell.pos,a=this.endCell.pos,s=r.resolve(n.map(i)),u=r.resolve(n.map(a)),c=Ot.create(s);if(this.offsetMap.totalColumnCount>c.totalColumnCount||this.offsetMap.totalRowCount>c.totalRowCount){var d={tableBody:1,tableRow:2,tableCell:3,paragraph:4},p=d[u.parent.type.name],v=u.end(u.depth-p),g=Math.min(v-4,u.pos);return De.create(r,g)}return new e(s,u)},e.prototype.eq=function(r){return r instanceof e&&r.startCell.pos===this.startCell.pos&&r.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var r=this.startCell.node(-2),n=this.startCell.start(-2),i=r.child(1).firstChild,a=r.child(0).type.create(),s=r.child(1).type.create(),u=Ot.create(this.startCell),c=u.getRectOffsets(this.startCell,this.endCell),d=c.startRowIdx,p=c.startColIdx,v=c.endRowIdx,g=c.endColIdx,w=!1,b=d;b<=v;b+=1){for(var C=[],k=p;k<=g;k+=1){var T=u.getCellInfo(b,k).offset,M=r.nodeAt(T-n);M&&(w=M.type.name==="tableHeadCell",u.extendedRowspan(b,k)||u.extendedColspan(b,k)?C.push(M.type.create({extended:!0})):C.push(M.copy(M.content)))}var N=i.copy(j.from(C)),R=w?a:s;R.content=R.content.append(j.from(N))}return new Z(x1e(a,s),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(Ne);function T1e(t,e,r){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,s=n.paragraph,u=[],c=0;c<t;c+=1){var d=r&&r[c],p=s.create(null,d?e.text(d):[]);u.push(a.create(null,p))}return[i.create(null,u)]}function aS(t,e,r,n){for(var i=r.nodes,a=i.tableRow,s=i.tableBodyCell,u=i.paragraph,c=[],d=0;d<t;d+=1){for(var p=[],v=0;v<e;v+=1){var g=n&&n[d*e+v],w=u.create(null,g?r.text(g):[]);p.push(s.create(null,w))}c.push(a.create(null,p))}return c}function Nc(t,e,r,n){n===void 0&&(n=null);for(var i=r.nodes,a=i.tableHeadCell,s=i.tableBodyCell,u=i.paragraph,c=e===0?a:s,d=[],p=0;p<t;p+=1)d.push(c.create(n,u.create()));return d}function oS(t,e){for(;t&&t!==e;){if(t.nodeName==="TD"||t.nodeName==="TH")return t;t=t.parentNode}return null}function sS(t){return Wn(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function fn(t){if(t instanceof De){var e=t.$anchor,r=sS(e);if(r){var n=e.node(0).resolve(e.before(r.depth));return{anchor:n,head:n}}}var i=t,a=i.startCell,s=i.endCell;return{anchor:a,head:s}}function lS(t){var e;if(t.size){var r=t.content,n=t.openStart,i=t.openEnd;if(r.childCount!==1)return null;for(;r.childCount===1&&(n>0&&i>0||((e=r.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,r=r.firstChild.content;if(r.firstChild.type.name==="tableHead"||r.firstChild.type.name==="tableBody")return r}return null}function No(t){var e=t.startRowIdx,r=t.startColIdx,n=t.endRowIdx,i=t.endColIdx,a=n-e+1,s=i-r+1;return{rowCount:a,columnCount:s}}function S1e(t,e){return F(F({},t.attrs),e)}var Mi=new zl("cellSelection"),E1e=2,M1e=function(){function t(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(e){var r=oS(e.target,this.view.dom);if(e.button===E1e){e.preventDefault();return}if(r){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},t.prototype.handleMousemove=function(e){var r=Mi.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;r?a=this.view.state.doc.resolve(r):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),Mi.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(Mi,-1))},t.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(e){var r=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:r,top:n});if(i){var a=this.view.state.doc,s=a.resolve(i.pos),u=sS(s);if(u){var c=s.before(u.depth);return a.resolve(c)}}return null},t.prototype.setCellSelection=function(e,r){var n=this.view.state,i=n.selection,a=n.tr,s=Mi.getState(this.view.state)===null,u=new Im(e,r);if(s||!i.eq(u)){var c=a.setSelection(u);s&&c.setMeta(Mi,r.pos),this.view.dispatch(c)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t}(),O1e=oe("cell-selected");function N1e(t){var e=t.selection,r=t.doc;if(e instanceof Im){var n=[],i=e.ranges;return i.forEach(function(a){var s=a.$from,u=a.$to;n.push(lr.node(s.pos-1,u.pos+1,{class:O1e}))}),nt.create(r,n)}return null}function L1e(){return new fr({key:Mi,state:{init:function(){return null},apply:function(t,e){var r=t.getMeta(Mi);if(r)return r===-1?null:r;if(Xc(e)||!t.docChanged)return e;var n=t.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:N1e,createSelectionBetween:function(t){var e=t.state;return Xc(Mi.getState(e))?null:e.selection}},view:function(t){return new M1e(t)}})}var uS=function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(e){return _a(e,this.keys)},t.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},t.prototype.set=function(e,r){var n=this.getKeyIndex(e);return n>-1?this.values[n]=r:(this.keys.push(e),this.values.push(r)),this},t.prototype.has=function(e){return this.getKeyIndex(e)>-1},t.prototype.delete=function(e){var r=this.getKeyIndex(e);return r>-1?(this.keys.splice(r,1),this.values.splice(r,1),!0):!1},t.prototype.forEach=function(e,r){var n=this;r===void 0&&(r=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(r,i,n.keys[a],n)})},t.prototype.clear=function(){this.keys=[],this.values=[]},t}(),Tp="en-US",A1e=function(){function t(){this.code=Tp,this.langs=new uS}return t.prototype.setCode=function(e){this.code=e||Tp},t.prototype.setLanguage=function(e,r){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,r);else{var a=n.langs.get(i);n.langs.set(i,om(a,r))}})},t.prototype.get=function(e,r){r||(r=this.code);var n=this.langs.get(r);n||(n=this.langs.get(Tp));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+r);return i},t}(),ke=new A1e,D1e=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function I1e(t,e){return D1e.map(function(r){return r.map(function(n){var i=n.action,a=n.command,s=n.payload,u=n.disableInThead,c=n.className;return{label:ke.get(i),onClick:function(){t.emit("command",a,s)},disabled:e&&!!u,className:c}})}).concat()}function R1e(t){return new fr({props:{handleDOMEvents:{contextmenu:function(e,r){var n=oS(r.target,e.dom);if(n){r.preventDefault();var i=r,a=i.clientX,s=i.clientY,u=e.dom.parentNode.getBoundingClientRect(),c=u.left,d=u.top,p=n.nodeName==="TH";return t.emit("contextmenu",{pos:{left:a-c+10+"px",top:s-d+30+"px"},menuGroups:I1e(t,p),tableCell:n}),!0}return!1}}}})}function P1e(){return new fr({props:{handleDOMEvents:{mousedown:function(t,e){var r=e,n=r.clientX,i=r.clientY,a=t.posAtCoords({left:n,top:i});if(a){var s=t.state,u=s.doc,c=s.tr,d=u.resolve(a.pos),p=Qo(d),v=e.target,g=getComputedStyle(v,":before"),w=e,b=w.offsetX,C=w.offsetY;if(!p||!vm(g,b,C))return!1;e.preventDefault();var k=d.before(p.depth),T=p.node.attrs;return c.setNodeMarkup(k,null,F(F({},T),{checked:!T.checked})),t.dispatch(c),!0}return!1}}}})}var _1e=["image","link","customBlock","frontMatter"],B1e=["strong","strike","emph","code"],cS=["bulletList","orderedList","taskList"];function F1e(t,e){var r=t.type.name;return r==="listItem"?t.attrs.task?"taskList":e.type.name:r.indexOf("table")!==-1?"table":r}function H1e(t,e){e[t]={active:!0},cS.filter(function(r){return r!==t}).forEach(function(r){e[r]&&delete e[r]})}function z1e(t,e,r,n){B1e.forEach(function(i){var a=r.marks[i],s=t.marksAcross(e)||[],u=!!a.isInSet(s);u&&(n[i]={active:!0})})}function $1e(t,e,r){var n=t.$from,i=t.$to,a=t.from,s=t.to,u={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,s,function(c,d,p){var v=F1e(c,p);It(_1e,v)||(It(cS,v)?(H1e(v,u),u.indent.disabled=!1,u.outdent.disabled=!1):v==="paragraph"||v==="text"?z1e(n,i,r,u):u[v]={active:!0})}),u}function V1e(t){return new fr({view:function(){return{update:function(e){var r=e.state,n=r.selection,i=r.doc,a=r.schema;t.emit("changeToolbarState",{toolbarState:$1e(n,i,a)})}}}})}var j1e=function(){function t(e,r,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new em(a.innerViewContainer,{state:Ca.create({doc:a.node,plugins:[Rl({"Mod-z":function(){return pl(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return am(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(s,u){return u(s.tr.insertText("	")),!0},Enter:Mx,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),Rx()]}),dispatchTransaction:function(s){return a.dispatchInner(s)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=r,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=oe("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=oe("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var e=this,r=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");r.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),r.appendChild(n),r.appendChild(i),this.wrapper.appendChild(r)},t.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var r=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);r&&this.wrapper.appendChild(r),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=oe("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(Xe(r.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var e=HI(this.innerEditorView.state);for(this.canceled=!0;e--;)pl(this.innerEditorView.state,this.innerEditorView.dispatch),pl(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var r=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(De.create(n.doc,r))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(e){var r=this.innerEditorView.state.applyTransaction(e),n=r.state,i=r.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Rr(this.getPos)){for(var a=this.editorView.state.tr,s=sr.offset(this.getPos()+1),u=0;u<i.length;u+=1)for(var c=i[u].steps,d=0;d<c.length;d+=1)a.step(c[d].map(s));a.docChanged&&this.editorView.dispatch(a)}},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},t.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t}(),cb="image-link",q1e=function(){function t(e,r,n,i){var a=this,s;this.handleMousedown=function(u){u.preventDefault();var c=u.target,d=u.offsetX,p=u.offsetY;if(a.imageLink&&Rr(a.getPos)&&qx(c,cb)){var v=getComputedStyle(c,":before");if(u.stopPropagation(),vm(v,d,p)){var g=a.view.state.tr,w=a.getPos();g.setSelection(Xe(g,w,w+1)),a.view.dispatch(g),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=i,this.imageLink=(s=e.marks.filter(function(u){var c=u.type;return c.name==="link"})[0])!==null&&s!==void 0?s:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var r=document.createElement("span");return r.className=cb,r.appendChild(e),r}return e},t.prototype.createImageElement=function(e){var r=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,s=st(e.attrs);return r.src=i,a&&(r.alt=a),ym(s,r),r},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t}(),U1e="toastui-editor-ww-code-block",W1e="toastui-editor-ww-code-block-language",G1e=function(){function t(e,r,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(s){var u=s.target,c=getComputedStyle(u,":after");if(c.backgroundImage!=="none"&&Rr(a.getPos)){var d=a.view.coordsAtPos(a.getPos()),p=d.top,v=d.right;a.createLanguageEditor({top:p,right:v})}},this.handleKeydown=function(s){s.key==="Enter"&&a.input&&(s.preventDefault(),a.changeLanguage())},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.node.attrs.language,r=document.createElement("div");r.setAttribute("data-language",e||"text"),r.className=U1e;var n=this.createCodeBlockElement(),i=n.firstChild;r.appendChild(n),this.dom=r,this.contentDOM=i},t.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),r=document.createElement("code"),n=this.node.attrs.language,i=st(this.node.attrs);return n&&r.setAttribute("data-language",n),ym(i,e),e.appendChild(r),e},t.prototype.createLanguageEditor=function(e){var r=this,n=e.top,i=e.right,a=document.createElement("span");a.className=W1e;var s=document.createElement("input");s.type="text",s.value=this.node.attrs.language,a.appendChild(s),this.view.dom.parentElement.appendChild(a);var u=a.clientWidth;bn(a,{top:n+10+"px",left:i-u-10+"px",width:u+"px"}),this.input=s,this.input.addEventListener("blur",function(){return r.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){r.input.focus()})},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},t.prototype.changeLanguage=function(){if(this.input&&Rr(this.getPos)){var e=this.input.value;this.reset();var r=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(r,null,{language:e}),this.view.dispatch(n)}},t.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var r=this.input.parentElement;this.input=null,Fa(r)}},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},t.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t}(),K1e=/MsoListParagraph/,fS=/style=(.|\n)*mso-/,dS=/mso-list:(.*)/,Q1e=/O:P/,J1e=/^(n|u|l)/,X1e="p.MsoListParagraph";function Y1e(t){return fS.test(t)}function Z1e(t){for(var e=[],r=document.createTreeWalker(t,1,null,!1);r.nextNode();){var n=r.currentNode;if(Hf(n)){var i=n,a=i.outerHTML,s=i.textContent,u=fS.test(a),c=dS.test(a);u&&!c&&s?e.push([n,!0]):(Q1e.test(n.nodeName)||u&&!s||c)&&e.push([n,!1])}}return e.forEach(function(d){var p=d[0],v=d[1];v?yP(p):Fa(p)}),t.innerHTML.trim()}function e0e(t,e){var r=t.getAttribute("style");if(r){var n=r.match(dS),i=n[1],a=i.trim().split(" "),s=a[1],u=parseInt(s.replace("level",""),10),c=J1e.test(t.textContent||"");return{id:e,level:u,prev:null,parent:null,children:[],unordered:c,contents:Z1e(t)}}return null}function t0e(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{for(;e&&e.level!==t.level;)e=e.parent;e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function r0e(t){var e=[];return t.forEach(function(r,n){var i=e[n-1],a=e0e(r,n);a&&(i&&t0e(a,i),e.push(a))}),e}function hS(t){var e=t[0].unordered?"ul":"ol",r=document.createElement(e);return t.forEach(function(n){var i=n.children,a=n.contents,s=document.createElement("li");s.innerHTML=a,r.appendChild(s),i.length&&r.appendChild(hS(i))}),r}function n0e(t){var e=r0e(t),r=e.filter(function(n){var i=n.parent;return!i});return hS(r)}function i0e(t){for(;t&&!Hf(t);)t=t.nextSibling;return t?!K1e.test(t.className):!0}function a0e(t){var e=document.createElement("div");e.innerHTML=t;var r=[],n=vP(e,X1e);n.forEach(function(a){var s=i0e(a.nextSibling);if(r.push(a),s){var u=n0e(r),c=a.nextSibling;c?gP(u,c):mP(e,u),r=[]}Fa(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var fb="<!--StartFragment-->",o0e="<!--EndFragment-->";function s0e(t){var e=t.indexOf(fb),r=t.lastIndexOf(o0e);return e>-1&&r>-1&&(t=t.slice(e+fb.length,r)),t.replace(/<br[^>]*>/g,Qx)}function l0e(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function u0e(t){return t=s0e(t),t=l0e(t),Y1e(t)&&(t=a0e(t)),t}function c0e(t){var e=t.reduce(function(r,n){return r.childCount>n.childCount?r:n});return e.childCount}function pS(t,e,r){for(var n=[],i=t.childCount,a=0;a<i;a+=1)if(!t.child(a).attrs.extended){var s=a<i?r.create(t.child(a).attrs,t.child(a).content):r.createAndFill();n.push(s)}return n}function vS(t,e,r){var n=r.nodes,i=n.tableRow,a=n.tableHeadCell,s=pS(t,e,a);return i.create(null,s)}function mS(t,e,r){var n=r.nodes,i=n.tableRow,a=n.tableBodyCell,s=pS(t,e,a);return i.create(null,s)}function f0e(t,e){for(var r=e.nodes,n=r.tableRow,i=r.tableBodyCell,a=[],s=0;s<t;s+=1){var u=i.createAndFill();a.push(u)}return n.create({dummyRowForPasting:!0},a)}function gS(t){var e=[],r=[];if(t.firstChild.type.name==="tableHead"){var n=t.firstChild;n.forEach(function(a){return e.push(a)})}if(t.lastChild.type.name==="tableBody"){var i=t.lastChild;i.forEach(function(a){return r.push(a)})}return cr(cr([],e),r)}function d0e(t,e,r){var n=vS(t,e,r);return r.nodes.tableHead.create(null,n)}function db(t,e,r){var n=t.map(function(a){return mS(a,e,r)});if(!t.length){var i=f0e(e,r);n.push(i)}return r.nodes.tableBody.create(null,n)}function h0e(t,e,r,n){var i=c0e(t);if(r&&n)return e.nodes.table.create(null,[db(t,i,e)]);var a=t[0],s=t.slice(1),u=[d0e(a,i,e)];return s.length&&u.push(db(s,i,e)),e.nodes.table.create(null,u)}function p0e(t,e,r){var n=[],i=t.content,a=t.openStart,s=t.openEnd;return i.forEach(function(u){if(u.type.name==="table"){var c=lS(new Z(j.from(u),0,0));if(c){var d=gS(c),p=c.firstChild.type.name==="tableBody",v=h0e(d,e,p,r);n.push(v)}}else n.push(u)}),new Z(j.from(n),a,s)}var v0e=4,m0e=2;function Lc(t){return t*v0e}function g0e(t,e,r){var n=[],i=gS(t),a=i[0].childCount,s=i.length,u=e.startRowIdx===0,c=i.slice(0,s);if(u){var d=c.shift();if(d){var p=vS(d,a,r).content;n.push(p)}}return c.forEach(function(v){if(!v.attrs.dummyRowForPasting){var g=mS(v,a,r).content;n.push(g)}}),n}function y0e(t,e,r){for(var n=e.startRowIdx,i=e.startColIdx,a=r.length,s=0,u=function(w){var b=r[w].childCount;r[w].forEach(function(C){var k=C.attrs,T=k.colspan;T>1&&(b+=T-1)}),s=Math.max(s,b)},c=0;c<a;c+=1)u(c);var d=n+a-1,p=i+s-1,v=Math.max(d+1-t.totalRowCount,0),g=Math.max(p+1-t.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:d,endColIdx:p,addedRowCount:v,addedColumnCount:g}}function w0e(t,e){for(var r=t.startRowIdx,n=t.startColIdx,i=t.endRowIdx,a=t.endColIdx,s=t.addedRowCount,u=t.addedColumnCount,c=r;c<=i-s;c+=1)e.push({rowIdx:c,startColIdx:n,endColIdx:a-u})}function b0e(t,e,r,n,i){for(var a=n.startRowIdx,s=n.startColIdx,u=n.endRowIdx,c=n.endColIdx,d=n.addedRowCount,p=n.addedColumnCount,v=r.totalRowCount,g=0,w=0;w<v;w+=1){var b=r.getCellInfo(w,c-p),C=b.offset,k=b.nodeSize,T=t.mapping.map(C+k),M=Nc(p,w,e);if(t.insert(T,M),w>=a&&w<=u-d){var N=r.getCellInfo(w,c-p),R=t.mapping.map(N.offset),B=T+Lc(p);i[g]={rowIdx:w,startColIdx:s,endColIdx:c,dummyOffsets:[R,B]},g+=1}}}function k0e(t,e,r,n,i){var a=n.addedRowCount,s=n.addedColumnCount,u=n.startColIdx,c=n.endColIdx,d=t.mapping.maps.length,p=r.tableEndOffset-2,v=aS(a,r.totalColumnCount+s,e),g=p;t.insert(t.mapping.slice(d).map(g),v);for(var w=0;w<a;w+=1){var b=g+Lc(u)+1,C=g+Lc(c+1)+1,k=g+Lc(r.totalColumnCount+s)+m0e;i.push({rowIdx:w+r.totalRowCount,startColIdx:u,endColIdx:c,dummyOffsets:[b,C]}),g=k}}function C0e(t,e,r,n){var i=t.mapping.maps.length;r.forEach(function(a,s){var u=a.rowIdx,c=a.startColIdx,d=a.endColIdx,p=a.dummyOffsets,v=t.mapping.slice(i),g=new Z(e[s],0,0),w=p?p[0]:n.getCellStartOffset(u,c),b=p?p[1]:n.getCellEndOffset(u,d);t.replace(v.map(w),v.map(b),g)})}function x0e(t,e){var r=t.state,n=r.selection,i=r.schema,a=r.tr,s=fn(n),u=s.anchor,c=s.head;if(u&&c){var d=lS(e);if(!d)return!1;var p=Ot.create(u),v=p.getRectOffsets(u,c),g=g0e(d,v,i),w=y0e(p,v,g),b=[];return S0e(p,w)&&(w0e(w,b),w.addedColumnCount&&b0e(a,i,p,w,b),w.addedRowCount&&k0e(a,i,p,w,b),C0e(a,g,b,p),t.dispatch(a),T0e(t,b,p.getCellInfo(0,0).offset)),!0}return!1}function T0e(t,e,r){var n=t.state,i=n.tr,a=n.doc,s=Ot.create(a.resolve(r)),u=e[0],c=u.rowIdx,d=u.startColIdx,p=$t(e),v=p.rowIdx,g=p.endColIdx,w=s.getCellInfo(c,d).offset,b=s.getCellInfo(v,g).offset;t.dispatch(i.setSelection(new Im(a.resolve(w),a.resolve(b))))}function S0e(t,e){var r=t.getSpannedOffsets(e),n=No(r),i=n.rowCount,a=n.columnCount,s=No(e),u=s.rowCount,c=s.columnCount;return i===u&&a===c}var E0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Ge),M0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:F({},Tt()),parseDOM:[{tag:"p"}],toDOM:function(r){var n=r.attrs;return["p",st(n),0]}}},enumerable:!1,configurable:!0}),e}(Ge),O0e=/\s{1,4}$/,N0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(r,n){var i=r.selection,a=r.tr,s=i.$from,u=i.$to,c=s.blockRange(u);return c&&!Ko(s)&&!df(s)?(n(a.insertText("    ",s.pos,u.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(r,n){var i=r.selection,a=r.tr,s=i.$from,u=i.$to,c=i.from,d=s.blockRange(u);if(d&&!Ko(s)&&!df(s)){var p=s.nodeBefore;if(p&&p.isText){var v=p.text,g=v.replace(O0e,""),w=v.length-g.length;return n(a.delete(c-w,c)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Ge),L0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return F({level:n},a&&{rawHTML:a})}}});return{attrs:F({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},Tt()),content:"inline*",group:"block",defining:!0,parseDOM:r,toDOM:function(n){var i=n.attrs;return["h"+i.level,st(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){var a=n.schema.nodes[r.level?"heading":"paragraph"];return im(a,r)(n,i)}}},e}(Ge),A0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:F({language:{default:null},rawHTML:{default:null}},Tt()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(r){var n=r.getAttribute("data-raw-html"),i=r.firstElementChild;return F({language:(i==null?void 0:i.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"pre",["code",F({"data-language":n.language},st(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return im(r.schema.nodes.codeBlock)(r,n)}}},e.prototype.moveCursor=function(r){var n=this;return function(i,a){var s=i.tr,u=i.doc,c=i.schema,d=i.selection.$from,p=n.context.view;if(p.endOfTextblock(r)&&d.node().type.name==="codeBlock"){var v=d.parent.textContent.split(`
`),g=r==="up"?d.start():d.end(),w=r==="up"?[g,v[0].length+g]:[g-$t(v).length,g],b=u.resolve(r==="up"?d.before():d.after()),C=r==="up"?b.nodeBefore:b.nodeAfter;if(BR(d.pos,w[0],w[1])&&!C){var k=hm(s,b,c);if(k)return a(k),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Ge),D0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:F({rawHTML:{default:null}},Tt()),parseDOM:[Wf("ul")],toDOM:function(r){var n=r.attrs;return["ul",st(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(r,n){return iS(r.schema.nodes.bulletList)(r,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:h1e}},e.prototype.keymaps=function(){var r=this.changeList(),n=Dm(),i=n.indent,a=n.outdent;return{"Mod-u":r,"Mod-U":r,Tab:i(),"Shift-Tab":a()}},e}(Ge),I0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:F({order:{default:1},rawHTML:{default:null}},Tt()),parseDOM:[{tag:"ol",getAttrs:function(r){var n=r.getAttribute("start"),i=r.getAttribute("data-raw-html");return F({order:r.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"ol",F({start:n.order===1?null:n.order},st(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return iS(r.schema.nodes.orderedList)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()(),n=Dm(),i=n.indent,a=n.outdent;return{"Mod-o":r,"Mod-O":r,Tab:i(),"Shift-Tab":a()}},e}(Ge),R0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return F({task:r.hasAttribute("data-task"),checked:r.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var s=["task-list-item"];return a&&s.push("checked"),[n.rawHTML||"li",F({class:s.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(r,n){var i=r.selection,a=r.tr,s=r.schema,u=i.$from,c=i.empty,d=s.nodes.listItem,p=u.parent,v=u.node(-1);if(c&&!p.childCount&&v.type===d){if(u.index(-2)>=1)return a.delete(u.start(-1)-1,u.end(-1)),n(a),!0;var g=u.node(-3);if(g.type===d)return a.delete(u.start(-2)-1,u.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var r=function(n,i){return y1e(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:r}},e}(Ge),P0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:F({rawHTML:{default:null}},Tt()),content:"block+",group:"block",parseDOM:[Wf("blockquote")],toDOM:function(r){var n=r.attrs;return["blockquote",st(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return SI(r.schema.nodes.blockQuote)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Alt-q":r,"Alt-Q":r}},e}(Ge),_0e={left:q0e,right:j0e,up:U0e,down:W0e};function B0e(t,e,r){var n=r[0],i=r[1],a=e.resolve(t.before(n-1));return i===n&&!a.nodeBefore}function F0e(t){for(var e,r=t.depth,n;r&&(n=t.node(r),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=t.node(r-1),a=i.lastChild===n,s=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!s:!1}r-=1}return!1}function H0e(t,e,r,n,i){var a=e[0],s=e[1],u=e[2];if(t==="left"||t==="up"){if(i&&!B0e(r,n,[a,s]))return!1;var c=r.before(u),d=n.resolve(c).nodeBefore;if(d)return!1}return!0}function z0e(t,e,r,n,i){if(t==="right"||t==="down"){if(i&&!F0e(r))return!1;var a=r.after(e),s=n.resolve(a).nodeAfter;if(s)return!1}return!0}function $0e(t,e,r,n){var i=e[0],a=e[1],s=i+3,u=a>=s,c=u?i+1:a,d=H0e(t,[a,s,c],r,n,u),p=z0e(t,c,r,n,u);return d&&p}function hb(t,e,r){var n=r[0],i=r[1],a=e.getRowspanStartInfo(n,i),s=t==="up"&&n===0,u=t==="down"&&((a==null?void 0:a.count)>1?n+a.count-1:n)===e.totalRowCount-1;return s||u}function V0e(t,e,r){var n=t.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?t.setSelection(Ne.near(n,-1)):hm(t,n,r)}function Sp(t,e,r,n){n===void 0&&(n=!1);var i=t.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?hm(t,i,r):t.setSelection(Ne.near(i,1))}function j0e(t,e){var r=t[0],n=t[1],i=e.totalRowCount,a=e.totalColumnCount,s=n===a-1,u=r===i-1&&s;if(!u){var c=n+1,d=e.getColspanStartInfo(r,n);(d==null?void 0:d.count)>1&&(c+=d.count-1),(s||c===a)&&(r+=1,c=0);var p=e.getCellInfo(r,c).offset;return p+2}return null}function q0e(t,e){var r=t[0],n=t[1],i=e.totalColumnCount,a=n===0,s=r===0&&a;if(!s){n-=1,a&&(r-=1,n=i-1);var u=e.getCellInfo(r,n),c=u.offset,d=u.nodeSize;return c+d-2}return null}function U0e(t,e){var r=t[0],n=t[1];if(r>0){var i=e.getCellInfo(r-1,n),a=i.offset,s=i.nodeSize;return a+s-2}return null}function W0e(t,e){var r=t[0],n=t[1],i=e.totalRowCount;if(r<i-1){var a=r+1,s=e.getRowspanStartInfo(r,n);(s==null?void 0:s.count)>1&&(a+=s.count-1);var u=e.getCellInfo(a,n).offset;return u+2}return null}function pb(t,e,r,n){var i=_0e[t],a=i(r,n);if(a){var s=t==="right"||t==="down"?1:-1;return e.setSelection(Ne.near(e.doc.resolve(a),s))}return null}function G0e(t,e,r){var n=r[0],i=r[1];if(t==="up"||t==="down")return!1;var a=e.tableStartOffset,s=e.tableEndOffset,u=e.getCellInfo(n,i),c=u.offset,d=u.nodeSize,p=t==="left"?a:s,v=t==="left"?c-2:c+d+3;return p===v}function K0e(t,e,r){var n=t.doc.resolve(e.before(r-3));return t.setSelection(new ye(n))}function Q0e(t,e,r){var n,i,a;return t==="up"?(n=r.startRowIdx,i=0,a=-1):(n=r.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function J0e(t,e,r){var n=t.getCellInfo(e,0).offset,i=t.getCellInfo(e,r-1),a=i.offset,s=i.nodeSize;return{from:n,to:a+s}}var X0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:F({rawHTML:{default:null}},Tt()),parseDOM:[Wf("table")],toDOM:function(r){var n=r.attrs;return["table",st(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(r){return r===void 0&&(r={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=r.rowCount,s=r.columnCount,u=r.data,c=n.schema,d=n.selection,p=n.tr,v=d.from,g=d.to,w=d.$from,b=v===g;if(b&&!df(w)){var C=c.nodes,k=C.tableHead,T=C.tableBody,M=u==null?void 0:u.slice(0,s),N=u==null?void 0:u.slice(s,u.length),R=T1e(s,c,M),B=aS(a-1,s,c,N),z=c.nodes.table.create(null,[k.create(null,R),T.create(null,B)]);return i(p.replaceSelectionWith(z)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,s=Ot.create(i.$anchor);if(s){var u=s.tableStartOffset,c=s.tableEndOffset,d=u-1,p=Xe(a.delete(d,c),d);return n(a.setSelection(p)),!0}return!1}}},e.prototype.addColumn=function(r){return function(){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,c=fn(a),d=c.anchor,p=c.head;if(d&&p){for(var v=Ot.create(d),g=v.getRectOffsets(d,p),w=r==="left"?g.startColIdx:g.endColIdx+1,b=No(g).columnCount,C=v.totalRowCount,k=0;k<C;k+=1){var T=Nc(b,k,u);s.insert(s.mapping.map(v.posAt(k,w)),T)}return i(s),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,s=fn(i),u=s.anchor,c=s.head;if(u&&c){var d=Ot.create(u),p=d.getRectOffsets(u,c),v=d.totalColumnCount,g=d.totalRowCount,w=No(p).columnCount,b=w===v;if(b)return!1;for(var C=p.startColIdx,k=p.endColIdx,T=a.mapping.maps.length,M=0;M<g;M+=1)for(var N=k;N>=C;N-=1){var R=d.getCellInfo(M,N),B=R.offset,z=R.nodeSize,G=a.mapping.slice(T).map(B),ee=G+z;a.delete(G,ee)}return n(a),!0}return!1}}},e.prototype.addRow=function(r){return function(){return function(n,i){var a=n.selection,s=n.schema,u=n.tr,c=fn(a),d=c.anchor,p=c.head;if(d&&p){var v=Ot.create(d),g=v.totalColumnCount,w=v.getRectOffsets(d,p),b=No(w).rowCount,C=Q0e(r,v,w),k=C.targetRowIdx,T=C.insertColIdx,M=C.nodeSize,N=k===0;if(!N){for(var R=[],B=u.mapping.map(v.posAt(k,T))+M,z=[],G=0;G<g;G+=1)z=z.concat(Nc(1,k,s));for(var ee=0;ee<b;ee+=1)R.push(s.nodes.tableRow.create(null,z));return i(u.insert(B,R)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,s=fn(i),u=s.anchor,c=s.head;if(u&&c){var d=Ot.create(u),p=d.totalRowCount,v=d.totalColumnCount,g=d.getRectOffsets(u,c),w=No(g).rowCount,b=g.startRowIdx,C=g.endRowIdx,k=b===0,T=w===p-1;if(T||k)return!1;for(var M=C;M>=b;M-=1){var N=J0e(d,M,v),R=N.from,B=N.to;a.delete(R-1,B+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(r){return r===void 0&&(r={align:"center"}),function(n,i){var a=r.align,s=n.selection,u=n.tr,c=fn(s),d=c.anchor,p=c.head;if(d&&p){for(var v=Ot.create(d),g=v.totalRowCount,w=v.getRectOffsets(d,p),b=w.startColIdx,C=w.endColIdx,k=0;k<g;k+=1)for(var T=b;T<=C;T+=1)if(!v.extendedRowspan(k,T)&&!v.extendedColspan(k,T)){var M=v.getNodeAndPos(k,T),N=M.node,R=M.pos,B=S1e(N,{align:a});u.setNodeMarkup(R,null,B)}return i(u),!0}return!1}}},e.prototype.moveToCell=function(r){return function(n,i){var a=n.selection,s=n.tr,u=n.schema,c=fn(a),d=c.anchor,p=c.head;if(d&&p){var v=Ot.create(d),g=v.getCellIndex(d),w=void 0;if(hb(r,v,g)?w=Sp(s,v,u):w=pb(r,s,g,v),w)return i(w),!0}return!1}},e.prototype.moveInCell=function(r){var n=this;return function(i,a){var s=i.selection,u=i.tr,c=i.doc,d=i.schema,p=s.$from,v=n.context.view;if(!v.endOfTextblock(r))return!1;var g=Wn(p,function(N){var R=N.type;return R.name==="tableHeadCell"||R.name==="tableBodyCell"});if(g){var w=Wn(p,function(N){var R=N.type;return R.name==="paragraph"}),b=g.depth;if(w&&$0e(r,[b,w.depth],p,c)){var C=fn(s).anchor,k=Ot.create(C),T=k.getCellIndex(C),M=void 0;if(G0e(r,k,T)?M=K0e(u,p,b):hb(r,k,T)?r==="up"?M=V0e(u,k,d):r==="down"&&(M=Sp(u,k,d)):M=pb(r,u,T,k),M)return a(M),!0}}return!1}},e.prototype.deleteCells=function(){return function(r,n){var i=r.schema,a=r.selection,s=r.tr,u=fn(a),c=u.anchor,d=u.head,p=a instanceof De;if(c&&d&&!p){for(var v=Ot.create(c),g=v.getRectOffsets(c,d),w=g.startRowIdx,b=g.startColIdx,C=g.endRowIdx,k=g.endColIdx,T=w;T<=C;T+=1)for(var M=b;M<=k;M+=1)if(!v.extendedRowspan(T,M)&&!v.extendedColspan(T,M)){var N=v.getNodeAndPos(T,M),R=N.node,B=N.pos,z=Nc(1,T,i,R.attrs);s.replaceWith(s.mapping.map(B),s.mapping.map(B+R.nodeSize),z)}return n(s),!0}return!1}},e.prototype.exitTable=function(){return function(r,n){var i=r.selection,a=r.tr,s=r.schema,u=i.$from,c=Wn(u,function(g){var w=g.type;return w.name==="tableHeadCell"||w.name==="tableBodyCell"});if(c){var d=Wn(u,function(g){var w=g.type;return w.name==="paragraph"});if(d){var p=fn(i).anchor,v=Ot.create(p);return n(Sp(a,v,s,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var r=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:r,"Mod-Backspace":r,Delete:r,"Mod-Delete":r,"Mod-Enter":this.exitTable()}},e}(Ge),Y0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:F({rawHTML:{default:null}},Tt()),parseDOM:[Wf("thead")],toDOM:function(r){var n=r.attrs;return["thead",st(n),0]}}},enumerable:!1,configurable:!0}),e}(Ge),Z0e=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:F({rawHTML:{default:null}},Tt()),parseDOM:[{tag:"tbody",getAttrs:function(r){var n=r.querySelectorAll("tr"),i=n[0].children.length,a=r.getAttribute("data-raw-html");return i?F({},a&&{rawHTML:a}):!1}}],toDOM:function(r){var n=r.attrs;return["tbody",st(n),0]}}},enumerable:!1,configurable:!0}),e}(Ge),ebe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:F({rawHTML:{default:null}},Tt()),parseDOM:[{tag:"tr",getAttrs:function(r){var n=r.children.length,i=r.getAttribute("data-raw-html");return n?F({},i&&{rawHTML:i}):!1}}],toDOM:function(r){var n=r.attrs;return["tr",st(n),0]}}},enumerable:!1,configurable:!0}),e}(Ge),tbe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:F({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},Tt()),isolating:!0,parseDOM:[tS("th")],toDOM:function(r){var n=r.attrs,i=eS(n);return["th",F(F({},i),st(n)),0]}}},enumerable:!1,configurable:!0}),e}(Ge),rbe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[tS("td")],toDOM:function(r){var n=r.attrs,i=eS(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}(Ge),nbe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:F({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},Tt()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(r){var n=$a(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),s=n.getAttribute("alt");return F({imageUrl:i,altText:s},a&&{rawHTML:a})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"img",F(F({src:Oo(n.imageUrl)},n.altText&&{alt:n.altText}),st(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(r){return function(n,i){var a=n.schema,s=n.tr,u=r,c=u.imageUrl,d=u.altText;if(!c)return!1;var p=a.nodes.image.createAndFill(F({imageUrl:c},d&&{altText:d}));return i(s.replaceSelectionWith(p).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Ge),vb=1,ibe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:F({rawHTML:{default:null}},Tt()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(r){var n=r.attrs;return["div",st(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var r=this;return function(){return function(n,i){var a,s=n.selection,u=s.$from,c=s.$to;if(u===c){var d=n.doc,p=n.schema.nodes,v=p.thematicBreak,g=p.paragraph,w=[v.create()],b=u.node(vb),C=d.child(d.childCount-1)===b,k=d.resolve(u.after(vb)),T=((a=u.nodeAfter)===null||a===void 0?void 0:a.type.name)===r.name;return(C||T)&&w.push(g.create()),i(n.tr.insert(k.pos,w).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e}(Ge),abe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return F({},a&&{rawHTML:a})}}});return{attrs:F({rawHTML:{default:null}},Tt()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",st(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(r,n){return ql(r.schema.marks.strong)(r,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e}(Ye),obe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return F({},a&&{rawHTML:a})}}});return{attrs:F({rawHTML:{default:null}},Tt()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",st(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(r,n){return ql(r.schema.marks.emph)(r,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e}(Ye),sbe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return F({},a&&{rawHTML:a})}}});return{attrs:F({rawHTML:{default:null}},Tt()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",st(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return ql(r.schema.marks.strike)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e}(Ye),lbe=function(t){re(e,t);function e(r){var n=t.call(this)||this;return n.linkAttributes=r,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this;return{attrs:F({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},Tt()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=$a(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",s=i.getAttribute("title")||"",u=i.getAttribute("data-raw-html");return F({linkUrl:a,title:s},u&&{rawHTML:u})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",F(F({href:Oo(i.linkUrl)},r.linkAttributes),st(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(r){return function(n,i){var a=r,s=a.linkUrl,u=a.linkText,c=u===void 0?"":u,d=n.schema,p=n.tr,v=n.selection,g=v.empty,w=v.from,b=v.to;if(w&&b&&s){var C={linkUrl:s},k=d.mark("link",C);if(g&&c){var T=Dt(d,c,k);p.replaceRangeWith(w,b,T)}else p.addMark(w,b,k);return i(p.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(r){return function(n,i){return ql(n.schema.marks.link,r)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(Ye),ube=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:F({rawHTML:{default:null}},Tt()),parseDOM:[{tag:"code",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return F({},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"code",st(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return ql(r.schema.marks.code)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e}(Ye),cbe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(r){var n=r.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(r){var n=r.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){return r!=null&&r.info?im(n.schema.nodes.customBlock,r)(n,i):!1}}},e}(Ge),fbe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,i){var a=r.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?nm(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Ge),dbe=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,i){var a=r.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?nm(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Ge);function hbe(t){return new iT([new E0e,new M0e,new N0e,new L0e,new A0e,new D0e,new I0e,new R0e,new P0e,new X0e,new Y0e,new Z0e,new ebe,new tbe,new rbe,new nbe,new ibe,new abe,new obe,new sbe,new lbe(t),new ube,new cbe,new fbe,new rT,new dbe])}var pbe=oe("contents"),vbe=function(t){re(e,t);function e(r,n){var i=t.call(this,r)||this,a=n.toDOMAdaptor,s=n.htmlSchemaMap,u=s===void 0?{}:s,c=n.linkAttributes,d=c===void 0?{}:c,p=n.useCommandShortcut,v=p===void 0?!0:p,g=n.wwPlugins,w=g===void 0?[]:g,b=n.wwNodeViews,C=b===void 0?{}:b;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=d,i.extraPlugins=w,i.pluginNodeViews=C,i.specs=i.createSpecs(),i.schema=i.createSchema(u),i.context=i.createContext(),i.keymaps=i.createKeymaps(v),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(F(F({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return hbe(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(r){return new EC({nodes:F(F({},this.specs.nodes),r.nodes),marks:F(F({},this.specs.marks),r.marks)})},e.prototype.createPlugins=function(){return cr([L1e(),R1e(this.eventEmitter),P1e(),V1e(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var r=this,n=r.eventEmitter,i=r.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(s){a[s]=function(u,c,d){return i[s](u,c,d,n)}}),a},e.prototype.createView=function(){var r=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new em(this.el,{state:this.createState(),attributes:{class:pbe},nodeViews:F({customBlock:function(s,u,c){return new j1e(s,u,c,i)},image:function(s,u,c){return new q1e(s,u,c,a)},codeBlock:function(s,u,c){return new G1e(s,u,c,a)},widget:tT},this.createPluginNodeViews()),dispatchTransaction:function(s){var u=r.view.state.applyTransaction(s).state;r.view.updateState(u),r.emitChangeEvent(s.scrollIntoView()),r.eventEmitter.emit("setFocusedNode",u.selection.$from.node(1))},transformPastedHTML:u0e,transformPasted:function(s){return p0e(s,r.schema,df(r.view.state.selection.$from))},handlePaste:function(s,u,c){return x0e(s,c)},handleKeyDown:function(s,u){return r.eventEmitter.emit("keydown",r.editorType,u),!1},handleDOMEvents:{paste:function(s,u){var c=u.clipboardData||window.clipboardData,d=c==null?void 0:c.items;if(d){var p=kn(d).some(function(g){return g.kind==="string"&&g.type==="text/rtf"});if(!p){var v=eT(d);v&&(u.preventDefault(),bm(r.eventEmitter,v,u.type))}}return!1},keyup:function(s,u){return r.eventEmitter.emit("keyup",r.editorType,u),!1},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Dm())},e.prototype.getHTML=function(){return wm(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,i=r.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(r,n,i){var a=this.view.state,s=a.schema,u=a.tr,c=r.split(`
`),d=c.map(function(g){return tf(s,La(g,s))}),p=new Z(j.from(d),1,1),v=qn(n)&&qn(i)?u.replaceRange(n,i,p):u.replaceSelection(p);this.view.dispatch(v),this.focus()},e.prototype.deleteSelection=function(r,n){var i=this.view.state.tr,a=qn(r)&&qn(n)?i.deleteRange(r,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var i=this.view.state,a=i.doc,s=i.selection,u=s.from,c=s.to;return qn(r)&&qn(n)&&(u=r,c=n),a.textBetween(u,c,`
`)},e.prototype.setModel=function(r,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,s=i.doc;this.view.dispatch(a.replaceWith(0,s.content.size,r)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var i=this.view.state.tr,a=Xe(i,r,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(r,n,i){var a=this.view,s=a.dispatch,u=a.state;s(u.tr.setMeta("widget",{pos:i??u.selection.to,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,i){var a=this.view.state,s=a.tr,u=a.schema,c=La(i,u);this.view.dispatch(s.replaceWith(r,n,c))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,i=n.doc,a=n.selection,s=r?i.resolve(r):a.$from,u=s.marks(),c=s.node(),d=s.start(),p=s.end(),v=c.type.name;if(u.length||v==="paragraph"){var g=u[u.length-1],w=function(b){return b.length?It(b,g):!0};v=g?g.type.name:"text",c.forEach(function(b,C){var k=b.isText,T=b.nodeSize,M=b.marks,N=s.pos-d;k&&C<=N&&C+T>=N&&w(M)&&(d=d+C,p=d+T)})}return{range:[d,p],type:v}},e}(nT),mbe=Zr,gbe=Xc;function ybe(t){return!mbe(t)&&!gbe(t)}var wbe=ybe,bbe=wbe;function kbe(t){return bbe(t)&&t!==!1}var Cbe=kbe,xbe=Cbe;function Tbe(t){return!xbe(t)}var Sbe=Tbe,mb=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],yS=function(){function t(){var e=this;this.events=new uS,this.eventTypes=mb.reduce(function(r,n){return F(F({},r),{type:n})},{}),this.hold=!1,mb.forEach(function(r){e.addEventType(r)})}return t.prototype.listen=function(e,r){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(r.namespace=n.namespace),i.push(r),this.events.set(n.type,i)},t.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),s=[];return!this.hold&&a&&a.forEach(function(u){var c=u.apply(void 0,r);Zr(c)||s.push(c)}),s},t.prototype.emitReduce=function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(s){var u=s.apply(void 0,cr([r],n));Sbe(u)||(r=u)}),r},t.prototype.getTypeInfo=function(e){var r=e.split(".");return{type:r[0],namespace:r[1]}},t.prototype.hasEventType=function(e){return!Zr(this.eventTypes[this.getTypeInfo(e).type])},t.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},t.prototype.removeEventHandler=function(e,r){var n=this,i=this.getTypeInfo(e),a=i.type,s=i.namespace;a&&r?this.removeEventHandlerWithHandler(a,r):a&&!s?this.events.delete(a):!a&&s?this.events.forEach(function(u,c){n.removeEventHandlerWithTypeInfo(c,s)}):a&&s&&this.removeEventHandlerWithTypeInfo(a,s)},t.prototype.removeEventHandlerWithHandler=function(e,r){var n=this.events.get(e);if(n){var i=n.indexOf(r);n.indexOf(r)>=0&&n.splice(i,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(e,r){var n=[],i=this.events.get(e);i&&(i.map(function(a){return a.namespace!==r&&n.push(a),null}),this.events.set(e,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},t}(),Ebe=function(){function t(e,r,n,i){this.eventEmitter=e,this.mdCommands=r,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return t.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(r,n){e.exec(r,n)})},t.prototype.addCommand=function(e,r,n){e==="markdown"?this.mdCommands[r]=n:this.wwCommands[r]=n},t.prototype.deleteCommand=function(e,r){e==="markdown"?delete this.mdCommands[r]:delete this.wwCommands[r]},t.prototype.exec=function(e,r){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](r):this.wwCommands[e](r)},t}();function Ac(t){return t[t.length-1]===`
`?t.slice(0,t.length-1):t}function kv(t,e){var r=t.schema,n=e.literal,i=n.match(qo);if(i){var a=i[1],s=i[3],u=(a||s).toLowerCase();return e.type==="htmlInline"&&!!(r.marks[u]||r.nodes[u])}return!1}function Cv(t){var e=t.type;return It(["text","strong","emph","strike","image","link","code"],e)}function gb(t){return(t==null?void 0:t.type)==="softbreak"}function Qs(t){var e=t.type,r=t.literal,n=e==="htmlInline"&&r.match(qo);if(n){var i=n[1],a=n[3],s=i||a;if(s)return It(["ul","ol","li"],s.toLowerCase())}return!1}function Mbe(t){var e=t.literal,r=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:r,checked:n}}function yb(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=document.createElement("div");n.innerHTML=$a(t);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function Obe(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=t[r]})}),e}var Nbe={"b, strong":function(t,e,r){var n=t.schema.marks.strong;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"i, em":function(t,e,r){var n=t.schema.marks.emph;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"s, del":function(t,e,r){var n=t.schema.marks.strike;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},code:function(t,e,r){var n=t.schema.marks.code;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},a:function(t,e,r){var n=e.literal,i=t.schema.marks.link;if(r){var a=yb(n,"href")[0];t.openMark(i.create({linkUrl:a,rawHTML:r}))}else t.closeMark(i)},img:function(t,e,r){var n=e.literal;if(r){var i=yb(n,"src","alt"),a=i[0],s=i[1],u=t.schema.nodes.image;t.addNode(u,F({rawHTML:r,imageUrl:a},s&&{altText:s}))}},hr:function(t,e,r){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:r})},br:function(t,e){var r=t.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;(n==null?void 0:n.type)==="paragraph"?(gb(i)&&t.openNode(r),gb(a)?t.closeNode():a&&(t.closeNode(),t.openNode(r))):(n==null?void 0:n.type)==="tableCell"&&(i&&(Cv(i)||kv(t,i))&&t.closeNode(),a&&(Cv(a)||kv(t,a))&&t.openNode(r))},pre:function(t,e,r){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var s=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:r}),t.addText(Ac(s)),t.closeNode()},"ul, ol":function(t,e,r){if(e.parent.type==="tableCell"){var n=t.schema.nodes,i=n.bulletList,a=n.orderedList,s=n.paragraph,u=r==="ul"?i:a;r?(e.prev&&!Qs(e.prev)&&t.closeNode(),t.openNode(u,{rawHTML:r})):(t.closeNode(),e.next&&!Qs(e.next)&&t.openNode(s))}},li:function(t,e,r){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=t.schema.nodes,a=i.listItem,s=i.paragraph;if(r){var u=Mbe(e);e.prev&&!Qs(e.prev)&&t.closeNode(),t.openNode(a,F({rawHTML:r},u)),e.next&&!Qs(e.next)&&t.openNode(s)}else e.prev&&!Qs(e.prev)&&t.closeNode(),t.closeNode()}}},Lbe=Obe(Nbe);function wb(t){return t.type==="htmlInline"&&rv.test(t.literal)}function wS(t){kn(t.childNodes).forEach(function(e){if(Hf(e)){var r=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",r),e.childNodes&&wS(e)}})}var bb={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,r,n){var i,a=r.entering;if(a){var s=t.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(t.openNode(s,n),t.closeNode()),t.openNode(s,n)}else t.closeNode()},heading:function(t,e,r,n){var i=r.entering;if(i){var a=e,s=a.level,u=a.headingType;t.openNode(t.schema.nodes.heading,F({level:s,headingType:u},n))}else t.closeNode()},codeBlock:function(t,e,r){var n=t.schema.nodes.codeBlock,i=e,a=i.info,s=i.literal;t.openNode(n,F({language:a},r)),t.addText(Ac(s||"")),t.closeNode()},list:function(t,e,r,n){var i=r.entering;if(i){var a=t.schema.nodes,s=a.bulletList,u=a.orderedList,c=e.listData,d=c.type,p=c.start;d==="bullet"?t.openNode(s,n):t.openNode(u,F({order:p},n))}else t.closeNode()},item:function(t,e,r,n){var i=r.entering,a=t.schema.nodes.listItem,s=e.listData,u=s.task,c=s.checked;if(i){var d=F(F(F({},u&&{task:u}),c&&{checked:c}),n);t.openNode(a,d)}else t.closeNode()},blockQuote:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.blockQuote,n):t.closeNode()},image:function(t,e,r,n){var i=r.entering,a=r.skipChildren,s=t.schema.nodes.image,u=e,c=u.destination,d=u.firstChild;i&&a&&a(),t.addNode(s,F(F({imageUrl:c},d&&{altText:d.literal}),n))},thematicBreak:function(t,e,r,n){t.addNode(t.schema.nodes.thematicBreak,n)},strong:function(t,e,r,n){var i=r.entering,a=t.schema.marks.strong;i?t.openMark(a.create(n)):t.closeMark(a)},emph:function(t,e,r,n){var i=r.entering,a=t.schema.marks.emph;i?t.openMark(a.create(n)):t.closeMark(a)},link:function(t,e,r,n){var i=r.entering,a=t.schema.marks.link,s=e,u=s.destination,c=s.title;if(i){var d=F({linkUrl:u,title:c},n);t.openMark(a.create(d))}else t.closeMark(a)},softbreak:function(t,e){if(e.parent.type==="paragraph"){var r=e.prev,n=e.next;r&&!wb(r)&&t.closeNode(),n&&!wb(n)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.table,n):t.closeNode()},tableHead:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableHead,n):t.closeNode()},tableBody:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableBody,n):t.closeNode()},tableRow:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableRow,n):t.closeNode()},tableCell:function(t,e,r){var n=r.entering;if(!e.ignored){var i=function(b){return b&&(Cv(b)||kv(t,b))};if(n){var a=t.schema.nodes,s=a.tableHeadCell,u=a.tableBodyCell,c=a.paragraph,d=e.parent.parent,p=d.type==="tableHead"?s:u,v=d.parent,g=(v.columns[e.startIdx]||{}).align,w=F({},e.attrs);g&&(w.align=g),t.openNode(p,w),i(e.firstChild)&&t.openNode(c)}else i(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,r,n){var i=r.entering,a=t.schema.marks.strike;i?t.openMark(a.create(n)):t.closeMark(a)},code:function(t,e,r,n){var i=t.schema.marks.code;t.openMark(i.create(n)),t.addText(Ac(e.literal||"")),t.closeMark(i)},customBlock:function(t,e){var r=t.schema.nodes,n=r.customBlock,i=r.paragraph,a=e,s=a.info,u=a.literal;t.openNode(n,{info:s}),t.addText(Ac(u||"")),t.closeNode(),e.next||(t.openNode(i),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var r=e.literal,n=r.match(qo),i=n[1],a=n[3],s=(i||a).toLowerCase(),u=t.schema.marks[s],c=$a(r);if(u!=null&&u.spec.attrs.htmlInline)if(i){var d=gv(c);t.openMark(u.create({htmlAttrs:d}))}else t.closeMark(u);else{var p=Lbe[s];p&&p(t,e,i)}},htmlBlock:function(t,e){var r=e.literal,n=document.createElement("div"),i=hP.test(r);if(i)t.openNode(t.schema.nodes.htmlComment),t.addText(e.literal),t.closeNode();else{var a=r.match(qo),s=a[1],u=a[3],c=(s||u).toLowerCase(),d=t.schema.nodes[c],p=$a(r);if(d!=null&&d.spec.attrs.htmlBlock){var v=gv(p),g=XT(e,c);t.addNode(d,{htmlAttrs:v,childrenHTML:g})}else n.innerHTML=p,wS(n),t.convertByDOMParser(n)}},customInline:function(t,e,r){var n=r.entering,i=r.skipChildren,a=e,s=a.info,u=a.firstChild,c=t.schema;if(s.indexOf("widget")!==-1&&n){var d=Vx(e);i(),t.addNode(c.nodes.widget,{info:s},[c.text(zx(s,d))])}else{var p="$$";n&&(p+=u?s+" ":s),t.addText(p)}}};function Abe(t){var e=Object.keys(t),r=F({},bb),n=new Lm({gfm:!0,nodeId:!0,convertors:t}),i=n.getConvertors();return e.forEach(function(a){var s=bb[a];s&&!It(["htmlBlock","htmlInline"],a)&&(r[a]=function(u,c,d){d.origin=function(){return i[a](c,d,i)};var p=t[a](c,d),v;if(p){var g=Array.isArray(p)?p[0]:p,w=g.attributes,b=g.classNames;v={htmlAttrs:w,classNames:b}}s(u,c,d,v)})}),r}function Dbe(t,e){return t.isText&&e.isText&&ze.sameSet(t.marks,e.marks)?t.withText(t.text+e.text):!1}var Ibe=function(){function t(e,r){this.schema=e,this.convertors=r,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=ze.none}return t.prototype.top=function(){return $t(this.stack)},t.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},t.prototype.addText=function(e){if(e){var r=this.top().content,n=$t(r),i=this.schema.text(e,this.marks),a=n&&Dbe(n,i);a?r[r.length-1]=a:r.push(i)}},t.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},t.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},t.prototype.addNode=function(e,r,n){var i=e.createAndFill(r,n,this.marks);return i?(this.push(i),i):null},t.prototype.openNode=function(e,r){this.stack.push({type:e,attrs:r,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=ze.none);var e=this.stack.pop(),r=e.type,n=e.attrs,i=e.content;return this.addNode(r,n,i)},t.prototype.convertByDOMParser=function(e){var r=this,n=Ia.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return r.push(i)})},t.prototype.closeUnmatchedHTMLInline=function(e,r){var n;if(!r&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var s=this.stack[a];if(!((n=s.attrs)===null||n===void 0)&&n.rawHTML)s.content.length?this.closeNode():this.stack.pop();else break}},t.prototype.convert=function(e,r){for(var n=e.walker(),i=n.next(),a=function(){var u=i.node,c=i.entering,d=s.convertors[u.type],p=!1;if(d){var v={entering:c,leaf:!GR(u),getChildrenText:KR,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){p=!0}};if(s.closeUnmatchedHTMLInline(u,c),d(s,u,v),(r==null?void 0:r.node)===u){var g=s.stack.reduce(function(w,b){return w+b.content.reduce(function(C,k){return C+k.nodeSize},0)},0)+1;r.setMappedPos(g)}}p&&(n.resumeAt(u,!1),n.next()),i=n.next()},s=this;i;)a()},t.prototype.convertNode=function(e,r){return this.convert(e,r),this.stack.length?this.closeNode():null},t}();function Rbe(t,e,r){var n=r[0],i=r[1];t.write(n),t.convertInline(e),t.write(i)}function Pbe(t,e,r){var n=e.node,i=e.parent,a=r[0],s=r[1];t.stopNewline=!0,t.write(a),t.convertNode(n),t.write(s),(i==null?void 0:i.type.name)==="doc"&&(t.closeBlock(n),t.stopNewline=!1)}function _be(t,e){var r=t.length,n="",i="";return e==="left"?(n=":",r-=1):e==="right"?(i=":",r-=1):e==="center"&&(n=":",i=":",r-=2),""+n+Yc("-",Math.max(r,3))+i}var xv={text:function(t,e){var r,n=e.node,i=(r=n.text)!==null&&r!==void 0?r:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?t.text(Zc(i),!1):t.text(i)},paragraph:function(t,e){var r=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(t.stopNewline)t.convertInline(r);else{var s=a===0,u=!s&&n.child(a-1),c=u&&u.childCount===0,d=a<n.childCount-1&&n.child(a+1),p=d&&d.type.name==="paragraph",v=r.childCount===0;if(v&&c)t.write(`<br>
`);else if(v&&!c&&!s){if((n==null?void 0:n.type.name)==="listItem"){var g=t.getDelim();t.setDelim(""),t.write("<br>"),t.setDelim(g)}t.write(`
`)}else t.convertInline(r),p?t.write(`
`):t.closeBlock(r)}},heading:function(t,e,r){var n=e.node,i=r.delim,a=n.attrs.headingType;a==="atx"?(t.write(i+" "),t.convertInline(n),t.closeBlock(n)):(t.convertInline(n),t.ensureNewLine(),t.write(i),t.closeBlock(n))},codeBlock:function(t,e,r){var n=e.node,i=r.delim,a=r.text,s=i,u=s[0],c=s[1];t.write(u),t.ensureNewLine(),t.text(a,!1),t.ensureNewLine(),t.write(c),t.closeBlock(n)},blockQuote:function(t,e,r){var n=e.node,i=e.parent,a=r.delim;(i==null?void 0:i.type.name)===n.type.name&&t.flushClose(1),t.wrapBlock(a,null,n,function(){return t.convertNode(n)})},bulletList:function(t,e,r){var n=e.node,i=r.delim;t.convertList(n,Yc(" ",4),function(){return i+" "})},orderedList:function(t,e){var r=e.node,n=r.attrs.order||1;t.convertList(r,Yc(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(t,e){var r=e.node,n=r.attrs,i=n.task,a=n.checked;i&&t.write("["+(a?"x":" ")+"] "),t.convertNode(r)},image:function(t,e,r){var n=r.attrs;t.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(t,e,r){var n=e.node,i=r.delim;t.write(i),t.closeBlock(n)},table:function(t,e){var r=e.node;t.convertNode(r),t.closeBlock(r)},tableHead:function(t,e,r){var n=e.node,i=r.delim,a=n.firstChild;t.convertNode(n);var s=i??"";!i&&a&&a.forEach(function(u){var c=u.textContent,d=u.attrs,p=_be(c,d.align);s+="| "+p+" "}),t.write(s+"|"),t.ensureNewLine()},tableBody:function(t,e){var r=e.node;t.convertNode(r)},tableRow:function(t,e){var r=e.node;t.convertNode(r),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,r){var n=e.node,i=r.delim,a=i===void 0?"| ":i;t.write(a),t.convertTableCell(n),t.write(" ")},tableBodyCell:function(t,e,r){var n=e.node,i=r.delim,a=i===void 0?"| ":i;t.write(a),t.convertTableCell(n),t.write(" ")},customBlock:function(t,e,r){var n=e.node,i=r.delim,a=r.text,s=i,u=s[0],c=s[1];t.write(u),t.ensureNewLine(),t.text(a,!1),t.ensureNewLine(),t.write(c),t.closeBlock(n)},frontMatter:function(t,e,r){var n=e.node,i=r.text;t.text(i,!1),t.closeBlock(n)},widget:function(t,e,r){var n=r.text;t.write(n)},html:function(t,e,r){var n=e.node,i=r.text;t.write(i),n.attrs.htmlBlock&&t.closeBlock(n)},htmlComment:function(t,e,r){var n=e.node,i=r.text;t.write(i),t.closeBlock(n)}};function Bbe(t,e){var r=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?_a(t,["heading","codeBlock"])>-1?Rbe(r,n.node,a):_a(t,["image","thematicBreak"])>-1?r.write(a):Pbe(r,n,a):xv[t](r,n,i)}function kb(t,e){var r=t.text,n=/`+/g,i=0;if(t.isText&&r)for(var a=n.exec(r);a;)i=Math.max(i,a[0].length),a=n.exec(r);for(var s=i>0&&e>0?" `":"`",u=0;u<i;u+=1)s+="`";return i>0&&e<0&&(s+=" "),s}function jr(t){return t?["<"+t+">","</"+t+">"]:null}function Js(t){return t?"<"+t+">":null}function Xs(t){return t?"</"+t+">":null}var Ys={heading:function(t){var e=t.node,r=e.attrs,n=r.level,i=Yc("#",n);return r.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:jr(r.rawHTML)}},codeBlock:function(t){var e=t.node,r=e,n=r.attrs,i=r.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:jr(n.rawHTML),text:i}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:jr(e.attrs.rawHTML)}},bulletList:function(t,e){var r=t.node,n=e.inTable,i=r.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:jr(i)}},orderedList:function(t,e){var r=t.node,n=e.inTable,i=r.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:jr(i)}},listItem:function(t,e){var r=t.node,n=e.inTable,i=r.attrs,a=i.task,s=i.checked,u=r.attrs.rawHTML;n&&(u=u||"li");var c=a?' class="task-list-item'+(s?" checked":"")+'"':"",d=a?" data-task"+(s?" data-task-checked":""):"";return{rawHTML:u?["<"+u+c+d+">","</"+u+">"]:null}},table:function(t){var e=t.node;return{rawHTML:jr(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:jr(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:jr(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:jr(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:jr(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:jr(e.attrs.rawHTML)}},image:function(t){var e=t.node,r=e.attrs,n=r.rawHTML,i=r.altText,a=r.imageUrl.replace(/&amp;/g,"&"),s=i?' alt="'+Oo(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+Oo(a)+'"'+s+">":null,attrs:{altText:Zc(i||""),imageUrl:a}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:Js(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,r=e,n=r.attrs,i=r.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"**",rawHTML:n?Js(i):Xs(i)}},emph:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"*",rawHTML:n?Js(i):Xs(i)}},strike:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"~~",rawHTML:n?Js(i):Xs(i)}},link:function(t,e){var r=t.node,n=e.entering,i=r.attrs,a=i.title,s=i.rawHTML,u=i.linkUrl.replace(/&amp;/g,"&"),c=a?' title="'+Oo(a)+'"':"";return n?{delim:"[",rawHTML:s?"<"+s+' href="'+Oo(u)+'"'+c+">":null}:{delim:"]("+u+(a?" "+_R(Zc(a)):"")+")",rawHTML:Xs(s)}},code:function(t,e){var r=t.node,n=t.parent,i=t.index,a=i===void 0?0:i,s=e.entering,u=s?kb(n.child(a),-1):kb(n.child(a-1),1),c=s?Js(r.attrs.rawHTML):Xs(r.attrs.rawHTML);return{delim:u,rawHTML:c}},htmlComment:function(t){var e=t.node;return{text:e.textContent}},html:function(t,e){var r=t.node,n=e.entering,i=r.type.name,a=r.attrs.htmlAttrs,s="<"+i,u="</"+i+">";return Object.keys(a).forEach(function(c){s+=" "+c+'="'+a[c].replace(/"/g,"'")+'"'}),s+=">",r.attrs.htmlInline?{rawHTML:n?s:u}:{text:""+s+r.attrs.childrenHTML+u}}},Cb={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function Fbe(t){var e={},r=Object.keys(xv);return r.forEach(function(n){e[n]=function(i,a){var s=xv[n];if(s){var u=t[n],c=u?u(a,{inTable:i.inTable}):{};Bbe(n,{state:i,nodeInfo:a,params:c})}}}),e}function Hbe(t){var e={},r=Object.keys(Cb);return r.forEach(function(n){e[n]=function(i,a){var s=Cb[n],u=t[n],c=u&&i&&!Zr(a),d=c?u(i,{entering:a}):{};return F(F({},d),s)}}),e}function zbe(t){var e=Object.keys(t);e.forEach(function(i){var a=Ys[i],s=t[i];a?Ys[i]=function(u,c){return c.origin=function(){return a(u,c)},s(u,c)}:Ys[i]=s,delete t[i]});var r=Fbe(Ys),n=Hbe(Ys);return{nodeTypeConvertors:r,markTypeConvertors:n}}var $be=function(){function t(e){var r=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=r,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(e){var r=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[r]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(e,r,n,i){var a=this.getMarkConvertor(e);if(a){var s=a({node:e,parent:n,index:i},r),u=s.delim,c=s.rawHTML;return c||u}return""},t.prototype.setDelim=function(e){this.delim=e},t.prototype.getDelim=function(){return this.delim},t.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var r=this.delim,n=/\s+$/.exec(r);n&&(r=r.slice(0,r.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=r+`
`}this.closed=!1}},t.prototype.wrapBlock=function(e,r,n,i){var a=this.getDelim();this.write(r||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},t.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},t.prototype.closeBlock=function(e){this.closed=e},t.prototype.text=function(e,r){r===void 0&&(r=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=r?PR(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},t.prototype.convertBlock=function(e,r,n){var i=e.type.name,a=this.nodeTypeConvertors[i],s={node:e,parent:r,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,s):a&&a(this,s)},t.prototype.convertInline=function(e){var r=this,n=[],i="",a=function(s,u,c){var d=s?s.marks:[],p=i;i="";var v=s&&s.isText&&d.some(function(de){var ve=r.getMarkConvertor(de),Ce=ve&&ve();return Ce&&Ce.removedEnclosingWhitespace});if(v&&s&&s.text){var g=/^(\s*)(.*?)(\s*)$/m.exec(s.text),w=g[1],b=g[2],C=g[3];p+=w,i=C,(w||C)&&(s=b?s.withText(b):null,s||(d=n))}for(var k=d.length&&$t(d),T=k&&r.getMarkConvertor(k),M=T&&T(),N=M&&M.escape===!1,R=d.length-(N?1:0),B=0;B<R;B+=1){var b=d[B];if(M&&!M.mixable)break;for(var z=0;z<n.length;z+=1){var G=n[z];if(M&&!M.mixable)break;if(b.eq(G)){B>z?d=d.slice(0,z).concat(b).concat(d.slice(z,B)).concat(d.slice(B+1,R)):z>B&&(d=d.slice(0,B).concat(d.slice(B+1,z)).concat(b).concat(d.slice(z,R)));break}}}for(var ee=0;ee<Math.min(n.length,R)&&d[ee].eq(n[ee]);)ee+=1;for(;ee<n.length;){var K=n.pop();K&&r.text(r.markText(K,!1,e,c),!1)}if(p&&r.text(p),s){for(;n.length<R;){var b=d[n.length];n.push(b),r.text(r.markText(b,!0,e,c),!1)}N&&s.isText?r.text(r.markText(k,!0,e,c)+s.text+r.markText(k,!1,e,c+1),!1):r.convertBlock(s,e,c)}};e.forEach(a),a(null,null,e.childCount)},t.prototype.convertList=function(e,r,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var s=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,u=this.tightList;this.tightList=s,e.forEach(function(c,d,p){p&&s&&i.flushClose(1),i.wrapBlock(r,n(p),e,function(){return i.convertBlock(c,e,p)})}),this.tightList=u},t.prototype.convertTableCell=function(e){var r=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(It(["bulletList","orderedList"],n.type.name))r.convertBlock(n,e,a),r.closed=!1;else if(r.convertInline(n),a<e.childCount-1){var s=e.child(a+1);s.type.name==="paragraph"&&r.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(e,r){var n=this;return e.forEach(function(i,a,s){if(n.convertBlock(i,e,s),(r==null?void 0:r.node)===i){var u=n.result.split(`
`);r.setMappedPos([u.length,$t(u).length+1])}}),this.result},t}(),Vbe=function(){function t(e,r,n,i){var a=this;this.setMappedPos=function(s){a.mappedPosWhenConverting=s},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=Abe(n),this.toMdConvertors=zbe(r||{}),this.eventEmitter.listen("setFocusedNode",function(s){return a.focusedNode=s})}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(e){var r=new Ibe(this.schema,this.toWwConvertors);return r.convertNode(e,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(e){var r=new $be(this.toMdConvertors),n=r.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t}();function jbe(t){var e=t.plugin,r=t.eventEmitter,n=t.usageStatistics,i=t.instance,a={Plugin:fr,PluginKey:zl,Selection:Ne,TextSelection:De},s={Decoration:lr,DecorationSet:nt},u={Fragment:j},c={InputRule:Wi,inputRules:Dx,undoInputRule:LI},d={keymap:Rl},p={eventEmitter:r,usageStatistics:n,instance:i,pmState:a,pmView:s,pmModel:u,pmRules:c,pmKeymap:d,i18n:ke};if(es(e)){var v=e[0],g=e[1],w=g===void 0?{}:g;return v(p,w)}return e(p)}function bS(t){var e=t.plugins,r=t.eventEmitter,n=t.usageStatistics,i=t.instance;return r.listen("mixinTableOffsetMapPrototype",k1e),(e??[]).reduce(function(a,s){var u=jbe({plugin:s,eventEmitter:r,usageStatistics:n,instance:i});if(!u)throw new Error("The return value of the executed plugin is empty.");var c=u.markdownParsers,d=u.toHTMLRenderers,p=u.toMarkdownRenderers,v=u.markdownPlugins,g=u.wysiwygPlugins,w=u.wysiwygNodeViews,b=u.markdownCommands,C=u.wysiwygCommands,k=u.toolbarItems;return d&&(a.toHTMLRenderers=ef(a.toHTMLRenderers,d)),p&&(a.toMarkdownRenderers=ef(a.toMarkdownRenderers,p)),v&&(a.mdPlugins=a.mdPlugins.concat(v)),g&&(a.wwPlugins=a.wwPlugins.concat(g)),w&&(a.wwNodeViews=F(F({},a.wwNodeViews),w)),b&&(a.mdCommands=F(F({},a.mdCommands),b)),C&&(a.wwCommands=F(F({},a.wwCommands),C)),k&&(a.toolbarItems=a.toolbarItems.concat(k)),c&&(a.markdownParsers=F(F({},a.markdownParsers),c)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var qbe="data-task",Ube="data-task-disabled",Wbe="checked";function Gbe(t){["htmlBlock","htmlInline"].forEach(function(e){t[e]&&Object.keys(t[e]).forEach(function(r){return JT(r)})})}var kS=function(){function t(e){var r=this;this.options=om({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new yS;var n=Bx(this.options.linkAttributes),i=bS({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,s=i.markdownParsers,u=this.options,c=u.customHTMLRenderer,d=u.extendedAutolinks,p=u.referenceDefinition,v=u.frontMatter,g=u.customHTMLSanitizer,w={linkAttributes:n,customHTMLRenderer:F(F({},a),c),extendedAutolinks:d,referenceDefinition:p,frontMatter:v,sanitizer:g||$a};Gbe(w.customHTMLRenderer),this.options.events&&$o(this.options.events,function(N,R){r.on(R,N)});var b=this.options,C=b.el,k=b.initialValue,T=b.theme,M=C.innerHTML;T!=="light"&&C.classList.add(oe(T)),C.innerHTML="",this.toastMark=new WT("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:d,referenceDefinition:p,disallowDeepHeading:!0,frontMatter:v,customParser:s}),this.preview=new ZT(this.eventEmitter,F(F({},w),{isViewer:!0})),pT(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),k?this.setMarkdown(k):M&&this.preview.setHTML(M),C.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(e){var r=e.target,n=getComputedStyle(r,":before");!r.hasAttribute(Ube)&&r.hasAttribute(qbe)&&vm(n,e.offsetX,e.offsetY)&&(mm(r,Wbe),this.eventEmitter.emit("change",{source:"viewer",date:e}))},t.prototype.setMarkdown=function(e){var r=this.toastMark.getLineTexts(),n=r.length,i=$t(r),a=[n,i.length+1],s=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",s)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.destroy=function(){hT(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}();function Dc(t){return t instanceof Pi}function CS(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return It(e,t)}function Kbe(t){var e=t.attrs,r=t.type,n=r.name,i={type:n,wysiwygNode:!0,literal:!CS(n)&&Dc(t)?t.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},s=a[n],u=F(F({},i),s),c=t.attrs,d=c.htmlAttrs,p=c.childrenHTML;return d?F(F({},u),{attrs:d,childrenHTML:p}):u}var Qbe={openTag:function(t,e){var r=t,n=r.tagName,i=r.classNames,a=r.attributes,s=document.createElement(n),u={};i&&(s.className=i.join(" ")),a&&(u=F(F({},u),a)),ym(u,s),e.push(s)},closeTag:function(t,e){if(e.length>1){var r=e.pop();$t(e).appendChild(r)}},html:function(t,e){$t(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var r=document.createTextNode(t.content);$t(e).appendChild(r)}},Jbe=function(){function t(e,r){var n=Am(e,r),i=F(F({},r.htmlBlock),r.htmlInline);this.customConvertorKeys=Object.keys(r).concat(Object.keys(i)),this.renderer=new Lm({gfm:!0,convertors:F(F({},n),i)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(e){var r=Kbe(e),n={entering:!0,leaf:Dc(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Dc(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(r,n,this.convertors),s=es(a)?a:[a];return(CS(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,s.push({type:"text",content:Dc(e)?e.textContent:""}),s=s.concat(i(r,n,this.convertors))),s},t.prototype.toDOMNode=function(e){var r=this.generateTokens(e),n=[];return r.forEach(function(i){return Qbe[i.type](i,n)}),n[0]},t.prototype.getToDOMNode=function(e){return It(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},t}(),Xbe=100,Ybe=15,wc=null,Ep=null;function xb(t,e){var r=e.syncScrollTop,n=e.releaseEventBlock;Ep&&clearTimeout(Ep),r(t),Ep=setTimeout(function(){n()},Ybe)}function Zbe(t,e,r){var n=e-t,i=Date.now(),a=function(){var s=Date.now(),u=(s-i)/Xbe,c;wc&&clearTimeout(wc),u<1?(c=t+n*Math.cos((1-u)*Math.PI/2),xb(Math.ceil(c),r),wc=setTimeout(a,1)):(xb(e,r),wc=null)};a()}var eke=18,tke=function(){function t(e,r,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=r.previewContent,a=r.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(r,n){e.active&&(r==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():r==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(r){e.active=r})},t.prototype.getMdNodeAtPos=function(e,r){var n=e.content.findIndex(r.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},t.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),r=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=Cp(this.previewRoot,r).el,a=ff(i,this.previewRoot)||i.offsetTop,s=i.clientHeight,u=a+s-n*.5;this.latestEditorScrollTop=null;var c=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return c<n?null:u},t.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var r=this,n=r.editorView,i=r.previewEl,a=r.previewRoot,s=n.dom.getBoundingClientRect(),u=s.left,c=s.top,d=n.posAtCoords({left:u,top:c}),p=n.state.doc,v=this.getMdNodeAtPos(p,d);if(!(!v||zR(v))){var g=i.scrollTop,w=n.dom,b=w.scrollTop,C=w.scrollHeight,k=w.clientHeight,T=w.children,M=C-b<=k+eke,N=M?i.scrollHeight:0;if(b&&!M){if(e){var R=this.getScrollTopByCaretPos();if(!R)return;N=R}else{var B=Cp(this.previewRoot,v),z=B.el,G=B.mdNode,ee=lb(p,G,T),K=ee.height,de=ee.rect,ve=ff(z,a)||z.offsetTop,Ce=z.clientHeight,Le=c>de.top?Math.min((c-de.top)/K,1):0;N=ve+Ce*Le}N=this.getResolvedScrollTop("editor",b,N,g),this.latestEditorScrollTop=b}N!==g&&this.run("editor",N,g)}},t.prototype.syncEditorScrollTop=function(e){var r=this,n=r.toastMark,i=r.editorView,a=r.previewRoot,s=r.previewEl,u=i.dom,c=i.state,d=s.scrollTop,p=s.clientHeight,v=s.scrollHeight,g=v-d<=p,w=u.scrollTop,b=g?u.scrollHeight:0;if(d&&e&&!g){if(e=Xwe(e,a),!e.getAttribute("data-nodeid"))return;var C=u.children,k=Number(e.getAttribute("data-nodeid")),T=Cp(this.previewRoot,n.findNodeById(k)),M=T.mdNode,N=T.el,R=Ul(M);b=C[R-1].offsetTop;var B=lb(c.doc,M,C).height,z=a1e(N,a,k),G=z.nodeHeight,ee=z.offsetTop;b+=Zwe(d,ee,G,B),b=this.getResolvedScrollTop("preview",d,b,w),this.latestPreviewScrollTop=d}b!==w&&this.run("preview",b,w)},t.prototype.getResolvedScrollTop=function(e,r,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<r?Math.max(n,i):Math.min(n,i)},t.prototype.run=function(e,r,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var s={syncScrollTop:function(u){return a.scrollTop=u},releaseEventBlock:function(){return i.blockedScroll=null}};Zbe(n,r,s)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t}(),rke={getPopupInitialValues:function(t,e){var r=e.popupName;return r==="link"?{linkText:t.getSelectedText()}:{}}};function nke(t){t.eventEmitter.listen("query",function(e,r){return rke[e](t,r)})}var xS=function(){function t(e){var r=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=om({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,s=n.referenceDefinition,u=n.frontMatter,c=n.customMarkdownRenderer,d=n.useCommandShortcut,p=n.initialEditType,v=n.widgetRules,g=n.customHTMLSanitizer;this.mode=p||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=ke,this.i18n.setCode(this.options.language),this.eventEmitter=new yS,JR(v);var w=Bx(this.options.linkAttributes);this.pluginInfo=bS({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var b=this.pluginInfo,C=b.toHTMLRenderers,k=b.toMarkdownRenderers,T=b.mdPlugins,M=b.wwPlugins,N=b.wwNodeViews,R=b.mdCommands,B=b.wwCommands,z=b.markdownParsers,G={linkAttributes:w,customHTMLRenderer:ef(C,i),extendedAutolinks:a,referenceDefinition:s,frontMatter:u,sanitizer:g||$a},ee=new Jbe(w,G.customHTMLRenderer),K=qwe(G.customHTMLRenderer,G.sanitizer,ee);this.toastMark=new WT("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:s,disallowDeepHeading:!0,frontMatter:u,customParser:z}),this.mdEditor=new Y2(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:d,mdPlugins:T}),this.preview=new ZT(this.eventEmitter,F(F({},G),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new vbe(this.eventEmitter,{toDOMAdaptor:ee,useCommandShortcut:d,htmlSchemaMap:K,linkAttributes:w,wwPlugins:M,wwNodeViews:N}),this.convertor=new Vbe(this.wwEditor.getSchema(),F(F({},k),c),Am(w,G.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new Ebe(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return r.mode}),this.options.usageStatistics&&AR(),this.scrollSync=new tke(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(R,B),nke(this),this.options.hooks&&$o(this.options.hooks,function(de,ve){return r.addHook(ve,de)}),this.options.events&&$o(this.options.events,function(de,ve){return r.on(ve,de)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var r=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(r)}}),CP(this.eventEmitter)},t.prototype.addInitCommand=function(e,r){var n=this,i=function(a,s){Object.keys(s).forEach(function(u){n.addCommand(a,u,s[u])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",r)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new kS(e):new t(e)},t.setLanguage=function(e,r){ke.setLanguage(e,r)},t.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},t.prototype.exec=function(e,r){this.commandManager.exec(e,r)},t.prototype.addCommand=function(e,r,n){var i=this,a=function(s){s===void 0&&(s={});var u=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(s,u.state,u.dispatch,u)};this.commandManager.addCommand(e,r,a)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},t.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},t.prototype.setMarkdown=function(e,r){if(e===void 0&&(e=""),r===void 0&&(r=!0),this.mdEditor.setMarkdown(e,r),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,r)}},t.prototype.setHTML=function(e,r){e===void 0&&(e=""),r===void 0&&(r=!0);var n=document.createElement("div");n.innerHTML=wP(e);var i=Ia.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),r):this.wwEditor.setModel(i,r)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var r=wm(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return r.replace(n,"")}return r},t.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},t.prototype.setSelection=function(e,r){this.getCurrentModeEditor().setSelection(e,r)},t.prototype.replaceSelection=function(e,r,n){this.getCurrentModeEditor().replaceSelection(e,r,n)},t.prototype.deleteSelection=function(e,r){this.getCurrentModeEditor().deleteSelection(e,r)},t.prototype.getSelectedText=function(e,r){return this.getCurrentModeEditor().getSelectedText(e,r)},t.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},t.prototype.addWidget=function(e,r,n){this.getCurrentModeEditor().addWidget(e,r,n)},t.prototype.replaceWithWidget=function(e,r,n){this.getCurrentModeEditor().replaceWithWidget(e,r,n)},t.prototype.setHeight=function(e){var r=this.options.el;Xn(e)&&(e==="auto"?vn(r,"auto-height"):Kr(r,"auto-height"),this.setMinHeight(this.getMinHeight())),bn(r,{height:e}),this.height=e},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(e){if(e!==this.minHeight){var r=this.height||this.options.height;r!=="auto"&&this.options.el.querySelector("."+oe("main"))&&(e=Math.min(parseInt(e,10),parseInt(r,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return this.mode==="markdown"},t.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(e,r){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!r)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!r){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&qn(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},t.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(r,n){return e.off(n)})},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t.prototype.convertPosToMatchEditorMode=function(e,r,n){var i,a;r===void 0&&(r=e),n===void 0&&(n=this.mode);var s=this.mdEditor.view.state.doc,u=Array.isArray(e),c=Array.isArray(r),d=e,p=r;if(u!==c)throw new Error("Types of arguments must be same");return n==="markdown"&&!u&&!c?(i=Ec(s,e,r),d=i[0],p=i[1]):n==="wysiwyg"&&u&&c&&(a=ya(s,e,r),d=a[0],p=a[1]),[d,p]},t}();function ike(t){for(var e,r,n=arguments,i=1,a="",s="",u=[0],c=function(p){i===1&&(p||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(p?n[p]:a):i===3&&(p||a)?(u[1]=p?n[p]:a,i=2):i===2&&a==="..."&&p?u[2]=dm(u[2]||{},n[p]):i===2&&a&&!p?(u[2]=u[2]||{})[a]=!0:i>=5&&(i===5?((u[2]=u[2]||{})[r]=p?a?a+n[p]:n[p]:a,i=6):(p||a)&&(u[2][r]+=p?a+n[p]:a)),a=""},d=0;d<t.length;d++){d&&(i===1&&c(),c(d));for(let p=0;p<t[d].length;p++)e=t[d][p],i===1?e==="<"?(c(),u=[u,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:s?e===s?s="":a+=e:e==='"'||e==="'"?s=e:e===">"?(c(),i=1):i&&(e==="="?(i=5,r=a,a=""):e==="/"&&(i<5||t[d][p+1]===">")?(c(),i===3&&(u=u[0]),i=u,(u=u[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(c(),i=2):a+=e),i===3&&a==="!--"&&(i=4,u=u[0])}return c(),u.length>2?u.slice(1):u[1]}function ake(t){return typeof t=="boolean"||t instanceof Boolean}var oke=ake,ske=function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.walk=function(){var e=this,r=e.entering,n=e.current;return n?(r?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:r}):null},t}(),Jr=function(){function t(e,r,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=r,this.children=n,this.props.children=n,r.ref&&(this.ref=r.ref,delete r.ref),r.key&&(this.key=r.key,delete r.key)}return t.prototype.walker=function(){return new ske(this)},t.removalNodes=[],t}();function lke(t){return new Jr("TEXT_NODE",{nodeValue:t},[])}function Tb(t,e){var r=t;oke(t)||t==null?r=null:(Xn(t)||qn(t))&&(r=lke(String(t))),r&&e.push(r)}function uke(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=[];return r.forEach(function(a){Array.isArray(a)?a.forEach(function(s){Tb(s,i)}):Tb(a,i)}),new Jr(t,e||{},i)}var Pe=ike.bind(uke);function cke(t){return t===Object(t)}var fke=cke;function dke(t){var e;return t.type==="TEXT_NODE"?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),SS(e,{},t.props)),e}function TS(t,e){t.node?e.removeChild(t.node):TS(t.firstChild,e)}function hke(t,e,r){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!r[n]||e[n]!==r[n]){var i=n.slice(2).toLowerCase();t.removeEventListener(i,e[n])}}else n!=="children"&&!r[n]&&!pP(t)&&t.removeAttribute(n)}),SS(t,e,r,function(n){return!lm(e[n],r[n])})}var pke=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function SS(t,e,r,n){Object.keys(r).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();t.addEventListener(a,r[i])}else i==="nodeValue"?t[i]=r[i]:i==="style"&&fke(r[i])?vke(t,e[i],r[i]):i!=="children"&&(r[i]===!1?t.removeAttribute(i):t.setAttribute(i,r[i]))})}function vke(t,e,r){e&&Object.keys(e).forEach(function(n){t.style[n]=""}),Object.keys(r).forEach(function(n){var i=r[n];t.style[n]=qn(i)&&!pke.test(n)?i+"px":i})}function Rm(t){if(Jr.removalNodes.forEach(function(a){return Eb(a)}),t){for(var e=void 0,r=t.walker();e=r.walk();)if(t=e.vnode,e.entering)Eb(t);else if(Rr(t.type)){var n=t.component;if(!t.old&&n.mounted&&n.mounted(),t.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function Sb(t){for(var e=t.parent;!e.node;)e=e.parent;return e.node}function Eb(t){if(!(!t||!t.parent)){if(t.node){var e=Sb(t);t.effect==="A"?e.appendChild(t.node):t.effect==="U"&&hke(t.node,t.old.props,t.props)}if(t.effect==="D"){for(var r=void 0,n=t.walker();r=n.walk();)if(t=r.vnode,!r.entering)if(Rr(t.type)){var i=t.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=Sb(t);TS(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function mke(t,e){var r=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new t(r)}function ES(t){for(var e=t;t&&!t.skip;){if(Rr(t.type)){var r=mke(t.type,t);r.vnode=t,t.component=r,t.props.children=t.children=[r.render()],Mb(t)}else t.node||(t.node=dke(t)),Mb(t);if(t.firstChild)t=t.firstChild;else{for(;t&&t.parent&&!t.next&&(t=t.parent,t!==e););t=t.next}}}function gke(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function Mb(t){var e=t.children,r=t.old?t.old.firstChild:null,n=null;e.forEach(function(a,s){var u=gke(r,a);u&&(a.old=r,a.parent=t,a.node=r.node,a.component=r.component,a.effect="U"),a&&!u&&(a.old=null,a.parent=t,a.node=null,a.effect="A"),r&&!u&&(Jr.removalNodes.push(r),r.effect="D"),r&&(r=r.next),s===0?t.firstChild=a:a&&(n.next=a),n=a});var i=$t(e);if(!e.length)for(;r;)Jr.removalNodes.push(r),r.effect="D",r=r.next;for(;r&&i;)r&&i.old!==r&&(Jr.removalNodes.push(r),r.effect="D",r=r.next)}function yke(t){t.effect="D",Jr.removalNodes=[t],Rm(),Jr.removalNodes=[]}function wke(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),Jr.removalNodes=[],ES(e),Rm(e),e.next&&(e.next.skip=!1)}function bke(t,e){var r=new Jr(t.tagName.toLowerCase(),{},[e]);return r.node=t,Jr.removalNodes=[],ES(r),Rm(r),function(){return yke(r.firstChild)}}var jt=function(){function t(e){this.props=e,this.state={},this.refs={}}return t.prototype.setState=function(e){var r=F(F({},this.state),e);lm(this.state,r)||(this.state=r,wke(this))},t}(),kke=function(t){re(e,t);function e(r){var n=t.call(this,r)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var r=this.props,n=r.editorType,i=r.eventEmitter;return Pe(Ob||(Ob=Re([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),oe("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},ke.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},ke.get("WYSIWYG"))},e}(jt),Ob;function Cke(t,e){var r,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(r),r=window.setTimeout(function(){t.apply(null,n)},e)}return i}var xke=Cke,Tke=xke;function Ske(t,e){var r,n=!0,i=function(p){t.apply(null,p),r=null},a,s,u;e=e||0,a=Tke(i,e);function c(){if(u=Array.prototype.slice.call(arguments),n){i(u),n=!1;return}s=Number(new Date),r=r||s,a(u),s-r>=e&&i(u)}function d(){n=!0,r=null}return c.reset=d,c}var Eke=Ske,MS=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var s=a[i];r.call(n,s[1],s[0])}},e}()}(),Tv=typeof window<"u"&&typeof document<"u"&&window.document===document,hf=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Mke=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(hf):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Oke=2;function Nke(t,e){var r=!1,n=!1,i=0;function a(){r&&(r=!1,t()),n&&u()}function s(){Mke(a)}function u(){var c=Date.now();if(r){if(c-i<Oke)return;n=!0}else r=!0,n=!1,setTimeout(s,e);i=c}return u}var Lke=20,Ake=["top","right","bottom","left","width","height","size","weight"],Dke=typeof MutationObserver<"u",Ike=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Nke(this.refresh.bind(this),Lke)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Tv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Dke?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Tv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=Ake.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),OS=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Jo=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||hf},NS=Gf(0,0,0,0);function pf(t){return parseFloat(t)||0}function Nb(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var a=t["border-"+i+"-width"];return n+pf(a)},0)}function Rke(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var a=i[n],s=t["padding-"+a];r[a]=pf(s)}return r}function Pke(t){var e=t.getBBox();return Gf(0,0,e.width,e.height)}function _ke(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return NS;var n=Jo(t).getComputedStyle(t),i=Rke(n),a=i.left+i.right,s=i.top+i.bottom,u=pf(n.width),c=pf(n.height);if(n.boxSizing==="border-box"&&(Math.round(u+a)!==e&&(u-=Nb(n,"left","right")+a),Math.round(c+s)!==r&&(c-=Nb(n,"top","bottom")+s)),!Fke(t)){var d=Math.round(u+a)-e,p=Math.round(c+s)-r;Math.abs(d)!==1&&(u-=d),Math.abs(p)!==1&&(c-=p)}return Gf(i.left,i.top,u,c)}var Bke=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Jo(t).SVGGraphicsElement}:function(t){return t instanceof Jo(t).SVGElement&&typeof t.getBBox=="function"}}();function Fke(t){return t===Jo(t).document.documentElement}function Hke(t){return Tv?Bke(t)?Pke(t):_ke(t):NS}function zke(t){var e=t.x,r=t.y,n=t.width,i=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(a.prototype);return OS(s,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),s}function Gf(t,e,r,n){return{x:t,y:e,width:r,height:n}}var $ke=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Gf(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Hke(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Vke=function(){function t(e,r){var n=zke(r);OS(this,{target:e,contentRect:n})}return t}(),jke=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new MS,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Jo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new $ke(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Jo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Vke(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),LS=typeof WeakMap<"u"?new WeakMap:new MS,AS=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Ike.getInstance(),n=new jke(e,r,this);LS.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){AS.prototype[t]=function(){var e;return(e=LS.get(this))[t].apply(e,arguments)}});var qke=function(){return typeof hf.ResizeObserver<"u"?hf.ResizeObserver:AS}(),Uke=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execCommand=function(r){var n=mn(r.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var r=this;return Pe(Ab||(Ab=Re([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return r.execCommand(n)},ke.get("Headings"),[1,2,3,4,5,6].map(function(n){return Pe(Lb||(Lb=Re([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,ke.get("Heading"),n)}),ke.get("Paragraph"))},e}(jt),Lb,Ab,DS=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.toggleTab=function(r,n){this.props.onClick(r,n)},e.prototype.render=function(){var r=this;return Pe(Ib||(Ib=Re([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),oe("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,s=r.props.activeTab===i;return Pe(Db||(Db=Re([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),s?" active":"",function(u){return r.toggleTab(u,i)},ke.get(a),s?"true":"false",s?"0":"-1",ke.get(a))}))},e}(jt),Db,Ib,Wke="ui",Gke=function(t){re(e,t);function e(r){var n=t.call(this,r)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",Kr(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var r=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n!=null&&n.length){a="";var s=n.item(0),u=function(c,d){return r.props.execCommand("addImage",{imageUrl:c,altText:d||i.value})};this.props.eventEmitter.emit("addImageBlobHook",s,u,Wke)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var r=this.refs.url,n=this.refs.altText,i=r.value,a=n.value||"image";if(Kr(r,"wrong"),!i.length){vn(r,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(r){r.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var r=this,n=this.state,i=n.activeTab,a=n.file,s=n.fileNameElClassName;return Pe(Rb||(Rb=Re([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),ke.get("Insert image"),DS,this.tabs,i,this.toggleTab,i==="url"?"block":"none",ke.get("Image URL"),function(u){return r.refs.url=u},i==="file"?"block":"none",ke.get("Select image file"),oe("file-name"),a?" has-file":s,this.showFileSelectBox,this.preventSelectStart,a?a.name:ke.get("No file"),oe("file-select-button"),this.showFileSelectBox,ke.get("Choose a file"),this.changeFile,function(u){return r.refs.file=u},ke.get("Description"),function(u){return r.refs.altText=u},oe("button-container"),oe("close-button"),this.props.hidePopup,ke.get("Cancel"),oe("ok-button"),this.execCommand,ke.get("OK"))},e}(jt),Rb,Kke=function(t){re(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.execCommand=function(){var n=r.refs.url,i=r.refs.text;if(Kr(n,"wrong"),Kr(i,"wrong"),n.value.length<1){vn(n,"wrong");return}var a=Zr(r.props.initialValues.linkUrl);if(a&&i.value.length<1){vn(i,"wrong");return}r.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},r}return e.prototype.initialize=function(){var r=this.props.initialValues,n=r.linkUrl,i=r.linkText,a=this.refs.url,s=this.refs.text;Kr(a,"wrong"),Kr(s,"wrong","disabled"),s.removeAttribute("disabled"),n&&(vn(s,"disabled"),s.setAttribute("disabled","disabled")),a.value=n||"",s.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(r){!r.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var r=this;return Pe(Pb||(Pb=Re([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),ke.get("Insert link"),ke.get("URL"),function(n){return r.refs.url=n},ke.get("Link text"),function(n){return r.refs.text=n},oe("button-container"),oe("close-button"),this.props.hidePopup,ke.get("Cancel"),oe("ok-button"),this.execCommand,ke.get("OK"))},e}(jt),Pb,_b=20,Bb=20,Fb=5,Hb=14,zb=5,$b=9,Qke=1,Jke=1,Vb=1,Xke=function(t){re(e,t);function e(r){var n=t.call(this,r)||this;return n.extendSelectionRange=function(i){var a=i.pageX,s=i.pageY,u=a-n.offsetRect.left,c=s-n.offsetRect.top,d=n.getSelectionRangeByOffset(u,c);n.setState(F({},d))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(r,n){return{width:(r+1)*_b,height:(n+1)*Bb}},e.prototype.getRangeByOffset=function(r,n){return{colIdx:Math.floor(r/_b),rowIdx:Math.floor(n/Bb)}},e.prototype.getTableRange=function(){var r=this.state,n=r.colIdx,i=r.rowIdx,a=Math.max(n,zb),s=Math.max(i,Fb);return n>=zb&&a<$b&&(a+=1),i>=Fb&&s<Hb&&(s+=1),{colIdx:a+1,rowIdx:s+1}},e.prototype.getSelectionAreaBound=function(){var r=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=r.width,i=r.height;return!n&&!i?{display:"none"}:{width:n-Vb,height:i-Vb,display:"block"}},e.prototype.getSelectionRangeByOffset=function(r,n){var i=this.getRangeByOffset(r,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,Qke),Hb),i.colIdx=Math.min(Math.max(i.colIdx,Jke),$b),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var r=this.refs.tableEl.getBoundingClientRect(),n=r.left,i=r.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(r){for(var n=r.colIdx,i=r.rowIdx,a=[],s=0;s<i;s+=1){for(var u=[],c=0;c<n;c+=1){var d=""+oe("table-cell")+(s>0?"":" header");u.push(Pe(jb||(jb=Re(['<div class="','"></div>'],['<div class="','"></div>'])),d))}a.push(Pe(qb||(qb=Re(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),oe("table-row"),u))}return Pe(Ub||(Ub=Re(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),oe("table"),a)},e.prototype.render=function(){var r=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return Pe(Wb||(Wb=Re([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),ke.get("Insert table"),oe("table-selection"),function(a){return r.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),oe("table-selection-layer"),i,oe("table-description"),this.getDescription())},e}(jt),jb,qb,Ub,Wb,Yke=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(r){this.refs.el.replaceChild(this.props.body,r.body)},e.prototype.render=function(){var r=this;return Pe(Gb||(Gb=Re(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return r.refs.el=n})},e}(jt),Gb;function Sv(t){return Xn(t)?eCe(t):t}function Zke(){var t=document.createElement("label"),e=document.createElement("input"),r=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,r.className="switch";var n=function(i){return e.addEventListener("change",function(a){var s=a.target.checked;s?vn(t,"active"):Kr(t,"active"),i("toggleScrollSync",{active:s})})};return t.appendChild(e),t.appendChild(r),{name:"scrollSync",el:t,onMounted:n}}function eCe(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:ke.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:ke.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:ke.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:ke.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:ke.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:ke.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:ke.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:ke.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:ke.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:ke.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:ke.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:ke.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:ke.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:ke.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:ke.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:ke.get("Outdent"),state:"outdent"};break;case"scrollSync":e=Zke();break;case"more":e={name:"more",className:"more",tooltip:ke.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+oe("toolbar-icons")),e}function Pm(t,e){var r=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(t){case"heading":return{render:function(s){return Pe(Kb||(Kb=Re(["<"," ..."," />"],["<"," ..."," />"])),Uke,s)},className:oe("popup-add-heading"),fromEl:r,pos:n};case"link":return{render:function(s){return Pe(Qb||(Qb=Re(["<"," ..."," />"],["<"," ..."," />"])),Kke,s)},className:oe("popup-add-link"),fromEl:r,pos:n,initialValues:a};case"image":return{render:function(s){return Pe(Jb||(Jb=Re(["<"," ..."," />"],["<"," ..."," />"])),Gke,s)},className:oe("popup-add-image"),fromEl:r,pos:n};case"table":return{render:function(s){return Pe(Xb||(Xb=Re(["<"," ..."," />"],["<"," ..."," />"])),Xke,s)},className:oe("popup-add-table"),fromEl:r,pos:n};case"customPopupBody":return i?F({render:function(s){return Pe(Yb||(Yb=Re(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),Yke,s,i.body)},fromEl:r,pos:n},i):null;default:return null}}function vf(t){t.hidden=t.length===t.filter(function(e){return e.hidden}).length}function tCe(t,e){var r=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return t.reduce(function(n,i){n.push(i.map(function(s){return r(Sv(s))}));var a=n[(n.length||1)-1];return a&&vf(a),n},[])}function rCe(t,e){t.forEach(function(r){r.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),vf(r)})}var Kb,Qb,Jb,Xb,Yb,nCe=20,iCe=function(t){re(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handleMousedown=function(n){!mn(n.target,"."+oe("popup"))&&!mn(n.target,r.props.info.fromEl)&&r.props.hidePopup()},r}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(r){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&r.show!==i){var s=F({},a.pos),u=this.refs.el.offsetWidth,c=mn(this.refs.el,"."+oe("toolbar")),d=c.offsetWidth;s.left+u>=d&&(s.left=d-u-nCe),lm(this.state.popupPos,s)||this.setState({popupPos:s})}},e.prototype.render=function(){var r=this,n=this.props,i=n.info,a=n.show,s=n.hidePopup,u=n.eventEmitter,c=n.execCommand,d=i||{},p=d.className,v=p===void 0?"":p,g=d.style,w=d.render,b=d.initialValues,C=b===void 0?{}:b,k=F(F({display:a?"block":"none"},g),this.state.popupPos);return Pe(Zb||(Zb=Re([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),oe("popup"),v,k,function(T){return r.refs.el=T},oe("popup-body"),w&&w({eventEmitter:u,show:a,hidePopup:s,execCommand:c,initialValues:C}))},e}(jt),Zb,ek=6;function _m(t){return function(e){re(r,e);function r(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var s=i.props.item.tooltip;if(!i.props.disabled&&s){var u=i.getBound(a),c=u.left+ek+"px",d=u.top+ek+"px";bn(i.props.tooltipRef.current,{display:"block",left:c,top:d}),i.props.tooltipRef.current.querySelector(".text").textContent=s}},i.hideTooltip=function(){bn(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return r.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,s=i.eventEmitter;a.state&&s.listen("changeToolbarState",function(u){var c,d=u.toolbarState,p=(c=d[a.state])!==null&&c!==void 0?c:{},v=p.active,g=p.disabled;n.setState({active:!!v,disabled:g??n.props.disabled})})},r.prototype.getBound=function(n){var i=Yx(n,mn(n,"."+oe("toolbar"))),a=i.offsetLeft,s=i.offsetTop;return{left:a,top:n.offsetHeight+s}},r.prototype.render=function(){return Pe(tk||(tk=Re([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},r}(jt)}var tk,aCe=80,oCe=function(t){re(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.execCommand=function(){var n=r.props,i=n.item,a=n.execCommand,s=n.setPopupInfo,u=n.getBound,c=n.eventEmitter,d=i.command,p=i.name,v=i.popup;if(d)a(d);else{var g=v?"customPopupBody":p,w=c.emit("query","getPopupInitialValues",{popupName:g})[0],b=Pm(g,{el:r.refs.el,pos:u(r.refs.el),popup:v,initialValues:w});b&&s(b)}},r}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(r){r.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var r=this.props,n=r.setItemWidth,i=r.item;n&&n(i.name,gm(this.refs.el)+(i.hidden?aCe:0))},e.prototype.render=function(){var r=this,n=this.props,i=n.hideTooltip,a=n.disabled,s=n.item,u=n.active,c=F({display:s.hidden?"none":null},s.style),d=""+(s.className||"")+(u?" active":"");return Pe(rk||(rk=Re([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(p){return r.refs.el=p},c,d,this.execCommand,this.showTooltip,i,!!a,s.text||s.tooltip||"",s.text||"")},e}(jt),sCe=_m(oCe),rk,lCe=function(t){re(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.showPopup=function(){var n=Pm("customPopupBody",{el:r.refs.el,pos:r.props.getBound(r.refs.el),popup:r.props.item.popup});n&&r.props.setPopupInfo(n)},r}return e.prototype.mounted=function(){var r=this.props,n=r.setItemWidth,i=r.item;this.refs.el.appendChild(i.el),n&&n(i.name,gm(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(r){var n,i=this.props,a=i.item,s=i.active,u=i.disabled;(r.active!==s||r.disabled!==u)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:s,disabled:u}))},e.prototype.render=function(){var r=this,n=this.props,i=n.disabled,a=n.item,s={display:a.hidden?"none":"inline-block"},u=function(c){return i?null:c};return Pe(nk||(nk=Re([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(c){return r.refs.el=c},s,oe("toolbar-item-wrapper"),u(this.showPopup),u(this.showTooltip),u(this.props.hideTooltip))},e}(jt),uCe=_m(lCe),nk,IS=function(t){re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this,n=this.props,i=n.group,a=n.hiddenDivider,s=i.hidden?{display:"none"}:null,u=a?{display:"none"}:null;return Pe(ak||(ak=Re([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),oe("toolbar-group"),s,i.map(function(c){var d=c.el?uCe:sCe;return Pe(ik||(ik=Re(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),d,c.name,r.props,c)}),oe("toolbar-divider"),u)},e}(jt),ik,ak,cCe=4,fCe=function(t){re(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(i){var a=i.target;!mn(a,"."+oe("dropdown-toolbar"))&&!mn(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var r=this.props.getBound(this.refs.el);return r.top+=cCe,F(F({},r),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var r=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,s=this.props,u=s.disabled,c=s.item,d=s.items,p=s.hideTooltip,v=d.filter(function(b){return!b.hidden}),g=v.length?null:{display:"none"},w=i?null:{display:"none"};return Pe(sk||(sk=Re([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),oe("toolbar-group"),g,function(b){return r.refs.el=b},c.className,function(){return r.setState({showDropdown:!0})},this.showTooltip,p,u,oe("dropdown-toolbar"),F(F({},w),a),function(b){return r.refs.dropdownEl=b},v.length?v.map(function(b,C){var k;return Pe(ok||(ok=Re([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),IS,b,C===v.length-1||((k=v[C+1])===null||k===void 0?void 0:k.hidden),r.props)}):null)},e}(jt),dCe=_m(fCe),ok,sk,hCe=50,pCe=function(t){re(e,t);function e(r){var n=t.call(this,r)||this;return n.toggleTab=function(i,a){var s=n.props.eventEmitter;if(n.state.activeTab!==a){var u=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";s.emit(u),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var s=n.refs.el.querySelector("."+oe("toolbar-group")+" ."+i);if(s){var u=Yx(s,mn(s,"."+oe("toolbar"))),c=u.offsetLeft,d=u.offsetTop,p=Pm(i,{el:s,pos:{left:c,top:s.offsetHeight+d},initialValues:a});p&&n.setPopupInfo(p)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var s=n.props.eventEmitter;s.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=tCe(r.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new qke(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(r,n){var i=r.groupIndex,a=r.itemIndex,s=this.initialItems[i];n=Sv(n),s?s.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(r){var n=this;Vo(this.initialItems,function(i){var a=!1;return Vo(i,function(s,u){return s.name===r?(a=!0,i.splice(u,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var r=this,n=this.props.eventEmitter;this.handleResize=Eke(function(){r.setState({items:r.initialItems,dropdownItems:[]}),r.setState(r.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var r='<div class="'+oe("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=Xx(r,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(r,n,i,a){var s=function(c){var d=c.pop();d&&a.push(d)};if(r>1)s(i);else{var u=$t(n);u&&s(u)}},e.prototype.classifyToolbarItems=function(){var r=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+oe("toolbar-divider")),s=a?gm(a):0,u=[],c=[],d=!1;return this.initialItems.forEach(function(p,v){var g=[],w=[];p.forEach(function(b,C){b.hidden||(n+=r.itemWidthMap[b.name],n>i-hCe?(d||(r.movePrevItemToDropdownToolbar(C,u,g,w),d=!0),w.push(b)):g.push(b))}),g.length&&(vf(g),u.push(g)),w.length&&(vf(w),c.push(w)),v<r.state.items.length-1&&(n+=s)}),{items:u,dropdownItems:c}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(r){var n=this.props,i=n.editorType,a=n.previewStyle,s=n.eventEmitter,u=a!==r.previewStyle,c=i!==r.editorType;if(u||c){rCe(this.initialItems,this.hiddenScrollSync());var d=this.classifyToolbarItems();(u||a==="tab"&&i==="markdown")&&(s.emit("changePreviewTabWrite"),d.activeTab="write"),this.setState(d)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Fa(this.tooltipRef.current)},e.prototype.render=function(){var r=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,s=n.editorType,u=this.state,c=u.popupInfo,d=u.showPopup,p=u.activeTab,v=u.items,g=u.dropdownItems,w={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:s==="markdown"&&i==="tab"&&p==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},b=i==="tab"?{borderTopLeftRadius:0}:null;return Pe(uk||(uk=Re([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),oe("toolbar"),oe("md-tab-container"),s==="wysiwyg"||i==="vertical"?"none":"block",DS,this.tabs,p,this.toggleTab,oe("defaultUI-toolbar"),function(C){return r.refs.el=C},b,v.map(function(C,k){var T;return Pe(lk||(lk=Re([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),IS,C,k===v.length-1||((T=v[k+1])===null||T===void 0?void 0:T.hidden),r.setItemWidth,w)}),dCe,Sv("more"),g,w,iCe,c,d,a,this.hidePopup,this.execCommand)},e}(jt),lk,uk,vCe=function(t){re(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(i){mn(i.target,"."+oe("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var r=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;r.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var r=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(s,u){var c=[];return u.forEach(function(d){var p=d.label,v=d.className,g=v===void 0?!1:v,w=d.disabled,b=d.onClick,C=function(){w||(b(),r.setState({pos:null}))};c.push(Pe(ck||(ck=Re([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),C,w?" disabled":"",g,p))}),s.push(Pe(fk||(fk=Re([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),c)),s},[]):[]},e.prototype.render=function(){var r=F({display:this.state.pos?"block":"none"},this.state.pos);return Pe(dk||(dk=Re(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),oe("context-menu"),r,this.getMenuGroupElements())},e}(jt),ck,fk,dk,mCe=function(t){re(e,t);function e(r){var n=t.call(this,r)||this;n.changeMode=function(s){s!==n.state.editorType&&n.setState({editorType:s})},n.changePreviewStyle=function(s){s!==n.state.previewStyle&&n.setState({previewStyle:s})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=r.editorType,a=r.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var r=this.props.slots,n=r.wwEditor,i=r.mdEditor,a=r.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(r,n){this.toolbar.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.toolbar.removeToolbarItem(r)},e.prototype.render=function(){var r=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,s=n.toolbarItems,u=n.theme,c=this.state,d=c.hide,p=c.previewStyle,v=c.editorType,g=d?" hidden":"",w=oe(v==="markdown"?"md-mode":"ww-mode"),b=oe("md")+"-"+p+"-style",C=oe([u!=="light",u+" "]);return Pe(pk||(pk=Re([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),C,oe("defaultUI"),g,function(k){return r.refs.el=k},pCe,function(k){return r.toolbar=k},i,p,s,v,oe("main"),w,function(k){return r.refs.editorSection=k},oe("main-container"),oe("md-container"),b,function(k){return r.refs.mdContainer=k},oe("md-splitter"),oe("ww-container"),function(k){return r.refs.wwContainer=k},!a&&Pe(hk||(hk=Re(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),kke,i,v),vCe,i)},e.prototype.addEvent=function(){var r=this.props.eventEmitter;r.listen("hide",this.hide),r.listen("show",this.show),r.listen("changeMode",this.changeMode),r.listen("changePreviewStyle",this.changePreviewStyle)},e}(jt),hk,pk,gCe=function(t){re(e,t);function e(r){var n,i=t.call(this,r)||this,a,s=bke(i.options.el,Pe(vk||(vk=Re([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),mCe,function(u){return a=u},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:s},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(u){var c=u.groupIndex,d=u.itemIndex,p=u.item;i.defaultUI.insertToolbarItem({groupIndex:c,itemIndex:d},p)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(r){return r.viewer?new kS(r):new e(r)},e.prototype.insertToolbarItem=function(r,n){this.defaultUI.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.defaultUI.removeToolbarItem(r)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e}(xS),vk;xS.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});function yCe(t){const e=I.useRef(null),r=I.useRef(null);return I.useEffect(()=>{e.current&&(r.current=new gCe({el:e.current,...t,usageStatistics:!1,initialEditType:"preview",previewStyle:"vertical",toolbarItems:[],hideModeSwitch:!0,useCommandShortcut:!1}))},[t]),$.jsx("div",{ref:e,className:"project-detail"})}const wCe=()=>{const{projectId:t}=hO(),[e,r]=I.useState(""),[n,i]=I.useState(!0),[a,s]=I.useState("");return I.useEffect(()=>{i(!0),fetch(`/projects/${t}.md`).then(u=>{if(!u.ok)throw new Error("Failed to load markdown file");return u.text()}).then(u=>{r(u),i(!1)}).catch(u=>{console.error(u),s("Failed to load markdown content"),i(!1)})},[t]),n?$.jsx("p",{children:"Loading..."}):a?$.jsx("p",{children:a}):$.jsx("div",{className:"flex items-center justify-center ",children:$.jsx("div",{className:"w-full max-w-xl p-4",children:$.jsx(yCe,{initialValue:e})})})};function bCe(){return $.jsx("div",{children:"NotFound"})}const kCe=()=>$.jsx(IO,{children:$.jsxs(LO,{children:[$.jsx(Zs,{path:"/",element:$.jsx(rL,{}),children:$.jsx(Zs,{index:!0,element:$.jsx(OL,{})})}),$.jsx(Zs,{path:"project/:projectId",element:$.jsx(wCe,{})}),$.jsx(Zs,{path:"*",element:$.jsx(bCe,{})})]})});DM.createRoot(document.getElementById("root")).render($.jsx(I.StrictMode,{children:$.jsx(kCe,{})}));
